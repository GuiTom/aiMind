var EF=Object.defineProperty;var TF=(e,t,n)=>t in e?EF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kF=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var se=(e,t,n)=>TF(e,typeof t!="symbol"?t+"":t,n);var P$e=kF((va,ya)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function y3(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const qn={},bd=[],tn=()=>{},pI=()=>!1,iy=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),b3=e=>e.startsWith("onUpdate:"),Ir=Object.assign,w3=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},NF=Object.prototype.hasOwnProperty,Zt=(e,t)=>NF.call(e,t),ke=Array.isArray,wd=e=>Fp(e)==="[object Map]",oy=e=>Fp(e)==="[object Set]",ql=e=>Fp(e)==="[object Date]",Ye=e=>typeof e=="function",Ke=e=>typeof e=="string",gi=e=>typeof e=="symbol",ht=e=>e!==null&&typeof e=="object",ac=e=>(ht(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),mI=Object.prototype.toString,Fp=e=>mI.call(e),IF=e=>Fp(e).slice(8,-1),Vh=e=>Fp(e)==="[object Object]",ly=e=>Ke(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gh=y3(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uy=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},OF=/-\w/g,Fs=uy(e=>e.replace(OF,t=>t.slice(1).toUpperCase())),$F=/\B([A-Z])/g,ul=uy(e=>e.replace($F,"-$1").toLowerCase()),Bp=uy(e=>e.charAt(0).toUpperCase()+e.slice(1)),vh=uy(e=>e?`on${Bp(e)}`:""),Kl=(e,t)=>!Object.is(e,t),Yg=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},gI=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},_3=e=>{const t=parseFloat(e);return isNaN(t)?e:t},AF=e=>{const t=Ke(e)?Number(e):NaN;return isNaN(t)?e:t};let xC;const cy=()=>xC||(xC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qe(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ke(r)?LF(r):qe(r);if(s)for(const a in s)t[a]=s[a]}return t}else if(Ke(e)||ht(e))return e}const RF=/;(?![^(]*\))/g,MF=/:([^]+)/,PF=/\/\*[^]*?\*\//g;function LF(e){const t={};return e.replace(PF,"").split(RF).forEach(n=>{if(n){const r=n.split(MF);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function M(e){let t="";if(Ke(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const r=M(e[n]);r&&(t+=r+" ")}else if(ht(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ho(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Ke(t)&&(e.class=M(t)),n&&(e.style=qe(n)),e}const DF="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zF=y3(DF);function vI(e){return!!e||e===""}function FF(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Pd(e[r],t[r]);return n}function Pd(e,t){if(e===t)return!0;let n=ql(e),r=ql(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=gi(e),r=gi(t),n||r)return e===t;if(n=ke(e),r=ke(t),n||r)return n&&r?FF(e,t):!1;if(n=ht(e),r=ht(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,a=Object.keys(t).length;if(s!==a)return!1;for(const i in e){const o=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(o&&!l||!o&&l||!Pd(e[i],t[i]))return!1}}return String(e)===String(t)}function yI(e,t){return e.findIndex(n=>Pd(n,t))}const bI=e=>!!(e&&e.__v_isRef===!0),Ie=e=>Ke(e)?e:e==null?"":ke(e)||ht(e)&&(e.toString===mI||!Ye(e.toString))?bI(e)?Ie(e.value):JSON.stringify(e,wI,2):String(e),wI=(e,t)=>bI(t)?wI(e,t.value):wd(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],a)=>(n[W1(r,a)+" =>"]=s,n),{})}:oy(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>W1(n))}:gi(t)?W1(t):ht(t)&&!ke(t)&&!Vh(t)?String(t):t,W1=(e,t="")=>{var n;return gi(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hs;class _I{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=hs,!t&&hs&&(this.index=(hs.scopes||(hs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=hs;try{return hs=this,t()}finally{hs=n}}}on(){++this._on===1&&(this.prevScope=hs,hs=this)}off(){this._on>0&&--this._on===0&&(hs=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function BF(e){return new _I(e)}function SI(){return hs}function CI(e,t=!1){hs&&hs.cleanups.push(e)}let Qn;const K1=new WeakSet;class xI{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,hs&&hs.active&&hs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,K1.has(this)&&(K1.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||TI(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,EC(this),kI(this);const t=Qn,n=di;Qn=this,di=!0;try{return this.fn()}finally{NI(this),Qn=t,di=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)x3(t);this.deps=this.depsTail=void 0,EC(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?K1.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){M2(this)&&this.run()}get dirty(){return M2(this)}}let EI=0,yh,bh;function TI(e,t=!1){if(e.flags|=8,t){e.next=bh,bh=e;return}e.next=yh,yh=e}function S3(){EI++}function C3(){if(--EI>0)return;if(bh){let t=bh;for(bh=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;yh;){let t=yh;for(yh=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function kI(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function NI(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),x3(r),jF(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function M2(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(II(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function II(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hh)||(e.globalVersion=Hh,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!M2(e))))return;e.flags|=2;const t=e.dep,n=Qn,r=di;Qn=e,di=!0;try{kI(e);const s=e.fn(e._value);(t.version===0||Kl(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Qn=n,di=r,NI(e),e.flags&=-3}}function x3(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)x3(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function jF(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let di=!0;const OI=[];function Yo(){OI.push(di),di=!1}function qo(){const e=OI.pop();di=e===void 0?!0:e}function EC(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Qn;Qn=void 0;try{t()}finally{Qn=n}}}let Hh=0;class VF{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class E3{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Qn||!di||Qn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Qn)n=this.activeLink=new VF(Qn,this),Qn.deps?(n.prevDep=Qn.depsTail,Qn.depsTail.nextDep=n,Qn.depsTail=n):Qn.deps=Qn.depsTail=n,$I(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Qn.depsTail,n.nextDep=void 0,Qn.depsTail.nextDep=n,Qn.depsTail=n,Qn.deps===n&&(Qn.deps=r)}return n}trigger(t){this.version++,Hh++,this.notify(t)}notify(t){S3();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{C3()}}}function $I(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)$I(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const $v=new WeakMap,Zu=Symbol(""),P2=Symbol(""),Uh=Symbol("");function ms(e,t,n){if(di&&Qn){let r=$v.get(e);r||$v.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new E3),s.map=r,s.key=n),s.track()}}function zo(e,t,n,r,s,a){const i=$v.get(e);if(!i){Hh++;return}const o=l=>{l&&l.trigger()};if(S3(),t==="clear")i.forEach(o);else{const l=ke(e),u=l&&ly(n);if(l&&n==="length"){const c=Number(r);i.forEach((d,h)=>{(h==="length"||h===Uh||!gi(h)&&h>=c)&&o(d)})}else switch((n!==void 0||i.has(void 0))&&o(i.get(n)),u&&o(i.get(Uh)),t){case"add":l?u&&o(i.get("length")):(o(i.get(Zu)),wd(e)&&o(i.get(P2)));break;case"delete":l||(o(i.get(Zu)),wd(e)&&o(i.get(P2)));break;case"set":wd(e)&&o(i.get(Zu));break}}C3()}function HF(e,t){const n=$v.get(e);return n&&n.get(t)}function Lc(e){const t=yn(e);return t===e?t:(ms(t,"iterate",Uh),ba(e)?t:t.map(vi))}function dy(e){return ms(e=yn(e),"iterate",Uh),e}function $l(e,t){return Xo(e)?Ld(Yu(e)?vi(t):t):vi(t)}const UF={__proto__:null,[Symbol.iterator](){return G1(this,Symbol.iterator,e=>$l(this,e))},concat(...e){return Lc(this).concat(...e.map(t=>ke(t)?Lc(t):t))},entries(){return G1(this,"entries",e=>(e[1]=$l(this,e[1]),e))},every(e,t){return No(this,"every",e,t,void 0,arguments)},filter(e,t){return No(this,"filter",e,t,n=>n.map(r=>$l(this,r)),arguments)},find(e,t){return No(this,"find",e,t,n=>$l(this,n),arguments)},findIndex(e,t){return No(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return No(this,"findLast",e,t,n=>$l(this,n),arguments)},findLastIndex(e,t){return No(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return No(this,"forEach",e,t,void 0,arguments)},includes(...e){return Z1(this,"includes",e)},indexOf(...e){return Z1(this,"indexOf",e)},join(e){return Lc(this).join(e)},lastIndexOf(...e){return Z1(this,"lastIndexOf",e)},map(e,t){return No(this,"map",e,t,void 0,arguments)},pop(){return Pf(this,"pop")},push(...e){return Pf(this,"push",e)},reduce(e,...t){return TC(this,"reduce",e,t)},reduceRight(e,...t){return TC(this,"reduceRight",e,t)},shift(){return Pf(this,"shift")},some(e,t){return No(this,"some",e,t,void 0,arguments)},splice(...e){return Pf(this,"splice",e)},toReversed(){return Lc(this).toReversed()},toSorted(e){return Lc(this).toSorted(e)},toSpliced(...e){return Lc(this).toSpliced(...e)},unshift(...e){return Pf(this,"unshift",e)},values(){return G1(this,"values",e=>$l(this,e))}};function G1(e,t,n){const r=dy(e),s=r[t]();return r!==e&&!ba(e)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.done||(a.value=n(a.value)),a}),s}const WF=Array.prototype;function No(e,t,n,r,s,a){const i=dy(e),o=i!==e&&!ba(e),l=i[t];if(l!==WF[t]){const d=l.apply(e,a);return o?vi(d):d}let u=n;i!==e&&(o?u=function(d,h){return n.call(this,$l(e,d),h,e)}:n.length>2&&(u=function(d,h){return n.call(this,d,h,e)}));const c=l.call(i,u,r);return o&&s?s(c):c}function TC(e,t,n,r){const s=dy(e);let a=n;return s!==e&&(ba(e)?n.length>3&&(a=function(i,o,l){return n.call(this,i,o,l,e)}):a=function(i,o,l){return n.call(this,i,$l(e,o),l,e)}),s[t](a,...r)}function Z1(e,t,n){const r=yn(e);ms(r,"iterate",Uh);const s=r[t](...n);return(s===-1||s===!1)&&fy(n[0])?(n[0]=yn(n[0]),r[t](...n)):s}function Pf(e,t,n=[]){Yo(),S3();const r=yn(e)[t].apply(e,n);return C3(),qo(),r}const KF=y3("__proto__,__v_isRef,__isVue"),AI=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gi));function GF(e){gi(e)||(e=String(e));const t=yn(this);return ms(t,"has",e),t.hasOwnProperty(e)}class RI{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(s?a?rB:DI:a?LI:PI).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=ke(t);if(!s){let l;if(i&&(l=UF[n]))return l;if(n==="hasOwnProperty")return GF}const o=Reflect.get(t,n,Cn(t)?t:r);if((gi(n)?AI.has(n):KF(n))||(s||ms(t,"get",n),a))return o;if(Cn(o)){const l=i&&ly(n)?o:o.value;return s&&ht(l)?ic(l):l}return ht(o)?s?ic(o):Xt(o):o}}class MI extends RI{constructor(t=!1){super(!1,t)}set(t,n,r,s){let a=t[n];const i=ke(t)&&ly(n);if(!this._isShallow){const u=Xo(a);if(!ba(r)&&!Xo(r)&&(a=yn(a),r=yn(r)),!i&&Cn(a)&&!Cn(r))return u||(a.value=r),!0}const o=i?Number(n)<t.length:Zt(t,n),l=Reflect.set(t,n,r,Cn(t)?t:s);return t===yn(s)&&(o?Kl(r,a)&&zo(t,"set",n,r):zo(t,"add",n,r)),l}deleteProperty(t,n){const r=Zt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&zo(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!gi(n)||!AI.has(n))&&ms(t,"has",n),r}ownKeys(t){return ms(t,"iterate",ke(t)?"length":Zu),Reflect.ownKeys(t)}}class ZF extends RI{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const YF=new MI,qF=new ZF,XF=new MI(!0),L2=e=>e,Wm=e=>Reflect.getPrototypeOf(e);function JF(e,t,n){return function(...r){const s=this.__v_raw,a=yn(s),i=wd(a),o=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=s[e](...r),c=n?L2:t?Ld:vi;return!t&&ms(a,"iterate",l?P2:Zu),Ir(Object.create(u),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:o?[c(d[0]),c(d[1])]:c(d),done:h}}})}}function Km(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function QF(e,t){const n={get(s){const a=this.__v_raw,i=yn(a),o=yn(s);e||(Kl(s,o)&&ms(i,"get",s),ms(i,"get",o));const{has:l}=Wm(i),u=t?L2:e?Ld:vi;if(l.call(i,s))return u(a.get(s));if(l.call(i,o))return u(a.get(o));a!==i&&a.get(s)},get size(){const s=this.__v_raw;return!e&&ms(yn(s),"iterate",Zu),s.size},has(s){const a=this.__v_raw,i=yn(a),o=yn(s);return e||(Kl(s,o)&&ms(i,"has",s),ms(i,"has",o)),s===o?a.has(s):a.has(s)||a.has(o)},forEach(s,a){const i=this,o=i.__v_raw,l=yn(o),u=t?L2:e?Ld:vi;return!e&&ms(l,"iterate",Zu),o.forEach((c,d)=>s.call(a,u(c),u(d),i))}};return Ir(n,e?{add:Km("add"),set:Km("set"),delete:Km("delete"),clear:Km("clear")}:{add(s){!t&&!ba(s)&&!Xo(s)&&(s=yn(s));const a=yn(this);return Wm(a).has.call(a,s)||(a.add(s),zo(a,"add",s,s)),this},set(s,a){!t&&!ba(a)&&!Xo(a)&&(a=yn(a));const i=yn(this),{has:o,get:l}=Wm(i);let u=o.call(i,s);u||(s=yn(s),u=o.call(i,s));const c=l.call(i,s);return i.set(s,a),u?Kl(a,c)&&zo(i,"set",s,a):zo(i,"add",s,a),this},delete(s){const a=yn(this),{has:i,get:o}=Wm(a);let l=i.call(a,s);l||(s=yn(s),l=i.call(a,s)),o&&o.call(a,s);const u=a.delete(s);return l&&zo(a,"delete",s,void 0),u},clear(){const s=yn(this),a=s.size!==0,i=s.clear();return a&&zo(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=JF(s,e,t)}),n}function T3(e,t){const n=QF(e,t);return(r,s,a)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Zt(n,s)&&s in r?n:r,s,a)}const eB={get:T3(!1,!1)},tB={get:T3(!1,!0)},nB={get:T3(!0,!1)},PI=new WeakMap,LI=new WeakMap,DI=new WeakMap,rB=new WeakMap;function sB(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aB(e){return e.__v_skip||!Object.isExtensible(e)?0:sB(IF(e))}function Xt(e){return Xo(e)?e:N3(e,!1,YF,eB,PI)}function k3(e){return N3(e,!1,XF,tB,LI)}function ic(e){return N3(e,!0,qF,nB,DI)}function N3(e,t,n,r,s){if(!ht(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=aB(e);if(a===0)return e;const i=s.get(e);if(i)return i;const o=new Proxy(e,a===2?r:n);return s.set(e,o),o}function Yu(e){return Xo(e)?Yu(e.__v_raw):!!(e&&e.__v_isReactive)}function Xo(e){return!!(e&&e.__v_isReadonly)}function ba(e){return!!(e&&e.__v_isShallow)}function fy(e){return e?!!e.__v_raw:!1}function yn(e){const t=e&&e.__v_raw;return t?yn(t):e}function to(e){return!Zt(e,"__v_skip")&&Object.isExtensible(e)&&gI(e,"__v_skip",!0),e}const vi=e=>ht(e)?Xt(e):e,Ld=e=>ht(e)?ic(e):e;function Cn(e){return e?e.__v_isRef===!0:!1}function L(e){return zI(e,!1)}function wn(e){return zI(e,!0)}function zI(e,t){return Cn(e)?e:new iB(e,t)}class iB{constructor(t,n){this.dep=new E3,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:yn(t),this._value=n?t:vi(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ba(t)||Xo(t);t=r?t:yn(t),Kl(t,n)&&(this._rawValue=t,this._value=r?t:vi(t),this.dep.trigger())}}function qg(e){e.dep&&e.dep.trigger()}function f(e){return Cn(e)?e.value:e}const oB={get:(e,t,n)=>t==="__v_raw"?e:f(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Cn(s)&&!Cn(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function FI(e){return Yu(e)?e:new Proxy(e,oB)}function Or(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=BI(e,n);return t}class lB{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=yn(t);let s=!0,a=t;if(!ke(t)||!ly(String(n)))do s=!fy(a)||ba(a);while(s&&(a=a.__v_raw));this._shallow=s}get value(){let t=this._object[this._key];return this._shallow&&(t=f(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Cn(this._raw[this._key])){const n=this._object[this._key];if(Cn(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return HF(this._raw,this._key)}}class uB{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function rn(e,t,n){return Cn(e)?e:Ye(e)?new uB(e):ht(e)&&arguments.length>1?BI(e,t,n):L(e)}function BI(e,t,n){return new lB(e,t,n)}class cB{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new E3(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hh-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Qn!==this)return TI(this,!0),!0}get value(){const t=this.dep.track();return II(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function dB(e,t,n=!1){let r,s;return Ye(e)?r=e:(r=e.get,s=e.set),new cB(r,s,n)}const Gm={},Av=new WeakMap;let Cu;function fB(e,t=!1,n=Cu){if(n){let r=Av.get(n);r||Av.set(n,r=[]),r.push(e)}}function hB(e,t,n=qn){const{immediate:r,deep:s,once:a,scheduler:i,augmentJob:o,call:l}=n,u=_=>s?_:ba(_)||s===!1||s===0?Fo(_,1):Fo(_);let c,d,h,p,m=!1,g=!1;if(Cn(e)?(d=()=>e.value,m=ba(e)):Yu(e)?(d=()=>u(e),m=!0):ke(e)?(g=!0,m=e.some(_=>Yu(_)||ba(_)),d=()=>e.map(_=>{if(Cn(_))return _.value;if(Yu(_))return u(_);if(Ye(_))return l?l(_,2):_()})):Ye(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){Yo();try{h()}finally{qo()}}const _=Cu;Cu=c;try{return l?l(e,3,[p]):e(p)}finally{Cu=_}}:d=tn,t&&s){const _=d,S=s===!0?1/0:s;d=()=>Fo(_(),S)}const v=SI(),y=()=>{c.stop(),v&&v.active&&w3(v.effects,c)};if(a&&t){const _=t;t=(...S)=>{_(...S),y()}}let b=g?new Array(e.length).fill(Gm):Gm;const w=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const S=c.run();if(s||m||(g?S.some((C,T)=>Kl(C,b[T])):Kl(S,b))){h&&h();const C=Cu;Cu=c;try{const T=[S,b===Gm?void 0:g&&b[0]===Gm?[]:b,p];b=S,l?l(t,3,T):t(...T)}finally{Cu=C}}}else c.run()};return o&&o(w),c=new xI(d),c.scheduler=i?()=>i(w,!1):w,p=_=>fB(_,!1,c),h=c.onStop=()=>{const _=Av.get(c);if(_){if(l)l(_,4);else for(const S of _)S();Av.delete(c)}},t?r?w(!0):b=c.run():i?i(w.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function Fo(e,t=1/0,n){if(t<=0||!ht(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Cn(e))Fo(e.value,t,n);else if(ke(e))for(let r=0;r<e.length;r++)Fo(e[r],t,n);else if(oy(e)||wd(e))e.forEach(r=>{Fo(r,t,n)});else if(Vh(e)){for(const r in e)Fo(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Fo(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function jp(e,t,n,r){try{return r?e(...r):e()}catch(s){hy(s,t,n)}}function yi(e,t,n,r){if(Ye(e)){const s=jp(e,t,n,r);return s&&ac(s)&&s.catch(a=>{hy(a,t,n)}),s}if(ke(e)){const s=[];for(let a=0;a<e.length;a++)s.push(yi(e[a],t,n,r));return s}}function hy(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||qn;if(t){let o=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}o=o.parent}if(a){Yo(),jp(a,null,10,[e,l,u]),qo();return}}pB(e,n,s,r,i)}function pB(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Ls=[];let Ki=-1;const _d=[];let Al=null,Xc=0;const jI=Promise.resolve();let Rv=null;function Fe(e){const t=Rv||jI;return e?t.then(this?e.bind(this):e):t}function mB(e){let t=Ki+1,n=Ls.length;for(;t<n;){const r=t+n>>>1,s=Ls[r],a=Wh(s);a<e||a===e&&s.flags&2?t=r+1:n=r}return t}function I3(e){if(!(e.flags&1)){const t=Wh(e),n=Ls[Ls.length-1];!n||!(e.flags&2)&&t>=Wh(n)?Ls.push(e):Ls.splice(mB(t),0,e),e.flags|=1,VI()}}function VI(){Rv||(Rv=jI.then(UI))}function gB(e){ke(e)?_d.push(...e):Al&&e.id===-1?Al.splice(Xc+1,0,e):e.flags&1||(_d.push(e),e.flags|=1),VI()}function kC(e,t,n=Ki+1){for(;n<Ls.length;n++){const r=Ls[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ls.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function HI(e){if(_d.length){const t=[...new Set(_d)].sort((n,r)=>Wh(n)-Wh(r));if(_d.length=0,Al){Al.push(...t);return}for(Al=t,Xc=0;Xc<Al.length;Xc++){const n=Al[Xc];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Al=null,Xc=0}}const Wh=e=>e.id==null?e.flags&2?-1:1/0:e.id;function UI(e){try{for(Ki=0;Ki<Ls.length;Ki++){const t=Ls[Ki];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),jp(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ki<Ls.length;Ki++){const t=Ls[Ki];t&&(t.flags&=-2)}Ki=-1,Ls.length=0,HI(),Rv=null,(Ls.length||_d.length)&&UI()}}let rs=null,WI=null;function Mv(e){const t=rs;return rs=e,WI=e&&e.type.__scopeId||null,t}function re(e,t=rs,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Dv(-1);const a=Mv(t);let i;try{i=e(...s)}finally{Mv(a),r._d&&Dv(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function vt(e,t){if(rs===null)return e;const n=yy(rs),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,i,o,l=qn]=t[s];a&&(Ye(a)&&(a={mounted:a,updated:a}),a.deep&&Fo(i),r.push({dir:a,instance:n,value:i,oldValue:void 0,arg:o,modifiers:l}))}return e}function yu(e,t,n,r){const s=e.dirs,a=t&&t.dirs;for(let i=0;i<s.length;i++){const o=s[i];a&&(o.oldValue=a[i].value);let l=o.dir[r];l&&(Yo(),yi(l,n,8,[e.el,o,e,t]),qo())}}function At(e,t){if(gs){let n=gs.provides;const r=gs.parent&&gs.parent.provides;r===n&&(n=gs.provides=Object.create(r)),n[e]=t}}function Ve(e,t,n=!1){const r=wt();if(r||Cd){let s=Cd?Cd._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Ye(t)?t.call(r&&r.proxy):t}}const vB=Symbol.for("v-scx"),yB=()=>Ve(vB);function ea(e,t){return O3(e,null,t)}function fe(e,t,n){return O3(e,t,n)}function O3(e,t,n=qn){const{immediate:r,deep:s,flush:a,once:i}=n,o=Ir({},n),l=t&&r||!t&&a!=="post";let u;if(Zh){if(a==="sync"){const p=yB();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=tn,p.resume=tn,p.pause=tn,p}}const c=gs;o.call=(p,m,g)=>yi(p,c,m,g);let d=!1;a==="post"?o.scheduler=p=>{Ms(p,c&&c.suspense)}:a!=="sync"&&(d=!0,o.scheduler=(p,m)=>{m?p():I3(p)}),o.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const h=hB(e,t,o);return Zh&&(u?u.push(h):l&&h()),h}function bB(e,t,n){const r=this.proxy,s=Ke(e)?e.includes(".")?KI(r,e):()=>r[e]:e.bind(r,r);let a;Ye(t)?a=t:(a=t.handler,n=t);const i=Hp(this),o=O3(s,a.bind(r),n);return i(),o}function KI(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const GI=Symbol("_vte"),ZI=e=>e.__isTeleport,wh=e=>e&&(e.disabled||e.disabled===""),NC=e=>e&&(e.defer||e.defer===""),IC=e=>typeof SVGElement<"u"&&e instanceof SVGElement,OC=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,D2=(e,t)=>{const n=e&&e.to;return Ke(n)?t?t(n):null:n},YI={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,a,i,o,l,u){const{mc:c,pc:d,pbc:h,o:{insert:p,querySelector:m,createText:g,createComment:v}}=u,y=wh(t.props);let{shapeFlag:b,children:w,dynamicChildren:_}=t;if(e==null){const S=t.el=g(""),C=t.anchor=g("");p(S,n,r),p(C,n,r);const T=(N,k)=>{b&16&&c(w,N,k,s,a,i,o,l)},x=()=>{const N=t.target=D2(t.props,m),k=qI(N,t,g,p);N&&(i!=="svg"&&IC(N)?i="svg":i!=="mathml"&&OC(N)&&(i="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(N),y||(T(N,k),Xg(t,!1)))};y&&(T(n,C),Xg(t,!0)),NC(t.props)?(t.el.__isMounted=!1,Ms(()=>{x(),delete t.el.__isMounted},a)):x()}else{if(NC(t.props)&&e.el.__isMounted===!1){Ms(()=>{YI.process(e,t,n,r,s,a,i,o,l,u)},a);return}t.el=e.el,t.targetStart=e.targetStart;const S=t.anchor=e.anchor,C=t.target=e.target,T=t.targetAnchor=e.targetAnchor,x=wh(e.props),N=x?n:C,k=x?S:T;if(i==="svg"||IC(C)?i="svg":(i==="mathml"||OC(C))&&(i="mathml"),_?(h(e.dynamicChildren,_,N,s,a,i,o),F3(e,t,!0)):l||d(e,t,N,k,s,a,i,o,!1),y)x?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Zm(t,n,S,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const A=t.target=D2(t.props,m);A&&Zm(t,A,null,u,0)}else x&&Zm(t,C,T,u,1);Xg(t,y)}},remove(e,t,n,{um:r,o:{remove:s}},a){const{shapeFlag:i,children:o,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=e;if(d&&(s(u),s(c)),a&&s(l),i&16){const p=a||!wh(h);for(let m=0;m<o.length;m++){const g=o[m];r(g,t,n,p,!!g.dynamicChildren)}}},move:Zm,hydrate:wB};function Zm(e,t,n,{o:{insert:r},m:s},a=2){a===0&&r(e.targetAnchor,t,n);const{el:i,anchor:o,shapeFlag:l,children:u,props:c}=e,d=a===2;if(d&&r(i,t,n),(!d||wh(c))&&l&16)for(let h=0;h<u.length;h++)s(u[h],t,n,2);d&&r(o,t,n)}function wB(e,t,n,r,s,a,{o:{nextSibling:i,parentNode:o,querySelector:l,insert:u,createText:c}},d){function h(g,v,y,b){v.anchor=d(i(g),v,o(g),n,r,s,a),v.targetStart=y,v.targetAnchor=b}const p=t.target=D2(t.props,l),m=wh(t.props);if(p){const g=p._lpa||p.firstChild;if(t.shapeFlag&16)if(m)h(e,t,g,g&&i(g));else{t.anchor=i(e);let v=g;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,p._lpa=t.targetAnchor&&i(t.targetAnchor);break}}v=i(v)}t.targetAnchor||qI(p,t,c,u),d(g&&i(g),t,p,n,r,s,a)}Xg(t,m)}else m&&t.shapeFlag&16&&h(e,t,e,i(e));return t.anchor&&i(t.anchor)}const _B=YI;function Xg(e,t){const n=e.ctx;if(n&&n.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function qI(e,t,n,r){const s=t.targetStart=n(""),a=t.targetAnchor=n("");return s[GI]=a,e&&(r(s,e),r(a,e)),a}const Mo=Symbol("_leaveCb"),Ym=Symbol("_enterCb");function XI(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _t(()=>{e.isMounted=!0}),en(()=>{e.isUnmounting=!0}),e}const Oa=[Function,Array],JI={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Oa,onEnter:Oa,onAfterEnter:Oa,onEnterCancelled:Oa,onBeforeLeave:Oa,onLeave:Oa,onAfterLeave:Oa,onLeaveCancelled:Oa,onBeforeAppear:Oa,onAppear:Oa,onAfterAppear:Oa,onAppearCancelled:Oa},QI=e=>{const t=e.subTree;return t.component?QI(t.component):t},SB={name:"BaseTransition",props:JI,setup(e,{slots:t}){const n=wt(),r=XI();return()=>{const s=t.default&&$3(t.default(),!0);if(!s||!s.length)return;const a=e8(s),i=yn(e),{mode:o}=i;if(r.isLeaving)return Y1(a);const l=$C(a);if(!l)return Y1(a);let u=Kh(l,i,r,n,d=>u=d);l.type!==ir&&oc(l,u);let c=n.subTree&&$C(n.subTree);if(c&&c.type!==ir&&!Au(c,l)&&QI(n).type!==ir){let d=Kh(c,i,r,n);if(oc(c,d),o==="out-in"&&l.type!==ir)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},Y1(a);o==="in-out"&&l.type!==ir?d.delayLeave=(h,p,m)=>{const g=t8(r,c);g[String(c.key)]=c,h[Mo]=()=>{p(),h[Mo]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function e8(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ir){t=n;break}}return t}const CB=SB;function t8(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Kh(e,t,n,r,s){const{appear:a,mode:i,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=t,_=String(e.key),S=t8(n,e),C=(N,k)=>{N&&yi(N,r,9,k)},T=(N,k)=>{const A=k[1];C(N,k),ke(N)?N.every(O=>O.length<=1)&&A():N.length<=1&&A()},x={mode:i,persisted:o,beforeEnter(N){let k=l;if(!n.isMounted)if(a)k=v||l;else return;N[Mo]&&N[Mo](!0);const A=S[_];A&&Au(e,A)&&A.el[Mo]&&A.el[Mo](),C(k,[N])},enter(N){let k=u,A=c,O=d;if(!n.isMounted)if(a)k=y||u,A=b||c,O=w||d;else return;let F=!1;const j=N[Ym]=V=>{F||(F=!0,V?C(O,[N]):C(A,[N]),x.delayedLeave&&x.delayedLeave(),N[Ym]=void 0)};k?T(k,[N,j]):j()},leave(N,k){const A=String(e.key);if(N[Ym]&&N[Ym](!0),n.isUnmounting)return k();C(h,[N]);let O=!1;const F=N[Mo]=j=>{O||(O=!0,k(),j?C(g,[N]):C(m,[N]),N[Mo]=void 0,S[A]===e&&delete S[A])};S[A]=e,p?T(p,[N,F]):F()},clone(N){const k=Kh(N,t,n,r,s);return s&&s(k),k}};return x}function Y1(e){if(py(e))return e=uo(e),e.children=null,e}function $C(e){if(!py(e))return ZI(e.type)&&e.children?e8(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ye(n.default))return n.default()}}function oc(e,t){e.shapeFlag&6&&e.component?(e.transition=t,oc(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $3(e,t=!1,n){let r=[],s=0;for(let a=0;a<e.length;a++){let i=e[a];const o=n==null?i.key:String(n)+String(i.key!=null?i.key:a);i.type===Ge?(i.patchFlag&128&&s++,r=r.concat($3(i.children,t,o))):(t||i.type!==ir)&&r.push(o!=null?uo(i,{key:o}):i)}if(s>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function de(e,t){return Ye(e)?Ir({name:e.name},t,{setup:e}):e}function n8(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Pv=new WeakMap;function _h(e,t,n,r,s=!1){if(ke(e)){e.forEach((m,g)=>_h(m,t&&(ke(t)?t[g]:t),n,r,s));return}if(Sd(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&_h(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?yy(r.component):r.el,i=s?null:a,{i:o,r:l}=e,u=t&&t.r,c=o.refs===qn?o.refs={}:o.refs,d=o.setupState,h=yn(d),p=d===qn?pI:m=>Zt(h,m);if(u!=null&&u!==l){if(AC(t),Ke(u))c[u]=null,p(u)&&(d[u]=null);else if(Cn(u)){u.value=null;const m=t;m.k&&(c[m.k]=null)}}if(Ye(l))jp(l,o,12,[i,c]);else{const m=Ke(l),g=Cn(l);if(m||g){const v=()=>{if(e.f){const y=m?p(l)?d[l]:c[l]:l.value;if(s)ke(y)&&w3(y,a);else if(ke(y))y.includes(a)||y.push(a);else if(m)c[l]=[a],p(l)&&(d[l]=c[l]);else{const b=[a];l.value=b,e.k&&(c[e.k]=b)}}else m?(c[l]=i,p(l)&&(d[l]=i)):g&&(l.value=i,e.k&&(c[e.k]=i))};if(i){const y=()=>{v(),Pv.delete(e)};y.id=-1,Pv.set(e,y),Ms(y,n)}else AC(e),v()}}}function AC(e){const t=Pv.get(e);t&&(t.flags|=8,Pv.delete(e))}cy().requestIdleCallback;cy().cancelIdleCallback;const Sd=e=>!!e.type.__asyncLoader,py=e=>e.type.__isKeepAlive;function Vp(e,t){r8(e,"a",t)}function A3(e,t){r8(e,"da",t)}function r8(e,t,n=gs){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(my(t,r,n),n){let s=n.parent;for(;s&&s.parent;)py(s.parent.vnode)&&xB(r,t,n,s),s=s.parent}}function xB(e,t,n,r){const s=my(t,e,r,!0);wc(()=>{w3(r[t],s)},n)}function my(e,t,n=gs,r=!1){if(n){const s=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...i)=>{Yo();const o=Hp(n),l=yi(t,n,e,i);return o(),qo(),l});return r?s.unshift(a):s.push(a),a}}const cl=e=>(t,n=gs)=>{(!Zh||e==="sp")&&my(e,(...r)=>t(...r),n)},gy=cl("bm"),_t=cl("m"),R3=cl("bu"),Ni=cl("u"),en=cl("bum"),wc=cl("um"),EB=cl("sp"),TB=cl("rtg"),kB=cl("rtc");function NB(e,t=gs){my("ec",e,t)}const M3="components",IB="directives";function Rt(e,t){return L3(M3,e,!0,t)||e}const s8=Symbol.for("v-ndc");function yt(e){return Ke(e)?L3(M3,e,!1)||e:e||s8}function P3(e){return L3(IB,e)}function L3(e,t,n=!0,r=!1){const s=rs||gs;if(s){const a=s.type;if(e===M3){const o=dj(a,!1);if(o&&(o===t||o===Fs(t)||o===Bp(Fs(t))))return a}const i=RC(s[e]||a[e],t)||RC(s.appContext[e],t);return!i&&r?a:i}}function RC(e,t){return e&&(e[t]||e[Fs(t)]||e[Bp(Fs(t))])}function Ot(e,t,n,r){let s;const a=n,i=ke(e);if(i||Ke(e)){const o=i&&Yu(e);let l=!1,u=!1;o&&(l=!ba(e),u=Xo(e),e=dy(e)),s=new Array(e.length);for(let c=0,d=e.length;c<d;c++)s[c]=t(l?u?Ld(vi(e[c])):vi(e[c]):e[c],c,void 0,a)}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,a)}else if(ht(e))if(e[Symbol.iterator])s=Array.from(e,(o,l)=>t(o,l,void 0,a));else{const o=Object.keys(e);s=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];s[l]=t(e[c],c,l,a)}}else s=[];return s}function Bs(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(ke(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const a=r.fn(...s);return a&&(a.key=r.key),a}:r.fn)}return e}function ie(e,t,n={},r,s){if(rs.ce||rs.parent&&Sd(rs.parent)&&rs.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),I(),ce(Ge,null,[q("slot",n,r&&r())],u?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),I();const i=a&&a8(a(n)),o=n.key||i&&i.key,l=ce(Ge,{key:(o&&!gi(o)?o:`_${t}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function a8(e){return e.some(t=>vn(t)?!(t.type===ir||t.type===Ge&&!a8(t.children)):!0)?e:null}function OB(e,t){const n={};for(const r in e)n[vh(r)]=e[r];return n}const z2=e=>e?E8(e)?yy(e):z2(e.parent):null,Sh=Ir(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>z2(e.parent),$root:e=>z2(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>l8(e),$forceUpdate:e=>e.f||(e.f=()=>{I3(e.update)}),$nextTick:e=>e.n||(e.n=Fe.bind(e.proxy)),$watch:e=>bB.bind(e)}),q1=(e,t)=>e!==qn&&!e.__isScriptSetup&&Zt(e,t),$B={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:a,accessCache:i,type:o,appContext:l}=e;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(q1(r,t))return i[t]=1,r[t];if(s!==qn&&Zt(s,t))return i[t]=2,s[t];if(Zt(a,t))return i[t]=3,a[t];if(n!==qn&&Zt(n,t))return i[t]=4,n[t];F2&&(i[t]=0)}}const u=Sh[t];let c,d;if(u)return t==="$attrs"&&ms(e.attrs,"get",""),u(e);if((c=o.__cssModules)&&(c=c[t]))return c;if(n!==qn&&Zt(n,t))return i[t]=4,n[t];if(d=l.config.globalProperties,Zt(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:a}=e;return q1(s,t)?(s[t]=n,!0):r!==qn&&Zt(r,t)?(r[t]=n,!0):Zt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,props:a,type:i}},o){let l;return!!(n[o]||e!==qn&&o[0]!=="$"&&Zt(e,o)||q1(t,o)||Zt(a,o)||Zt(r,o)||Zt(Sh,o)||Zt(s.config.globalProperties,o)||(l=i.__cssModules)&&l[o])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Zt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function nr(){return i8().slots}function dl(){return i8().attrs}function i8(e){const t=wt();return t.setupContext||(t.setupContext=k8(t))}function MC(e){return ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let F2=!0;function AB(e){const t=l8(e),n=e.proxy,r=e.ctx;F2=!1,t.beforeCreate&&PC(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:i,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:m,activated:g,deactivated:v,beforeDestroy:y,beforeUnmount:b,destroyed:w,unmounted:_,render:S,renderTracked:C,renderTriggered:T,errorCaptured:x,serverPrefetch:N,expose:k,inheritAttrs:A,components:O,directives:F,filters:j}=t;if(u&&RB(u,r,null),i)for(const R in i){const $=i[R];Ye($)&&(r[R]=$.bind(n))}if(s){const R=s.call(n,n);ht(R)&&(e.data=Xt(R))}if(F2=!0,a)for(const R in a){const $=a[R],D=Ye($)?$.bind(n,n):Ye($.get)?$.get.bind(n,n):tn,z=!Ye($)&&Ye($.set)?$.set.bind(n):tn,W=E({get:D,set:z});Object.defineProperty(r,R,{enumerable:!0,configurable:!0,get:()=>W.value,set:Y=>W.value=Y})}if(o)for(const R in o)o8(o[R],r,n,R);if(l){const R=Ye(l)?l.call(n):l;Reflect.ownKeys(R).forEach($=>{At($,R[$])})}c&&PC(c,e,"c");function G(R,$){ke($)?$.forEach(D=>R(D.bind(n))):$&&R($.bind(n))}if(G(gy,d),G(_t,h),G(R3,p),G(Ni,m),G(Vp,g),G(A3,v),G(NB,x),G(kB,C),G(TB,T),G(en,b),G(wc,_),G(EB,N),ke(k))if(k.length){const R=e.exposed||(e.exposed={});k.forEach($=>{Object.defineProperty(R,$,{get:()=>n[$],set:D=>n[$]=D,enumerable:!0})})}else e.exposed||(e.exposed={});S&&e.render===tn&&(e.render=S),A!=null&&(e.inheritAttrs=A),O&&(e.components=O),F&&(e.directives=F),N&&n8(e)}function RB(e,t,n=tn){ke(e)&&(e=B2(e));for(const r in e){const s=e[r];let a;ht(s)?"default"in s?a=Ve(s.from||r,s.default,!0):a=Ve(s.from||r):a=Ve(s),Cn(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):t[r]=a}}function PC(e,t,n){yi(ke(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function o8(e,t,n,r){let s=r.includes(".")?KI(n,r):()=>n[r];if(Ke(e)){const a=t[e];Ye(a)&&fe(s,a)}else if(Ye(e))fe(s,e.bind(n));else if(ht(e))if(ke(e))e.forEach(a=>o8(a,t,n,r));else{const a=Ye(e.handler)?e.handler.bind(n):t[e.handler];Ye(a)&&fe(s,a,e)}}function l8(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:a,config:{optionMergeStrategies:i}}=e.appContext,o=a.get(t);let l;return o?l=o:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(u=>Lv(l,u,i,!0)),Lv(l,t,i)),ht(t)&&a.set(t,l),l}function Lv(e,t,n,r=!1){const{mixins:s,extends:a}=t;a&&Lv(e,a,n,!0),s&&s.forEach(i=>Lv(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const o=MB[i]||n&&n[i];e[i]=o?o(e[i],t[i]):t[i]}return e}const MB={data:LC,props:DC,emits:DC,methods:Yf,computed:Yf,beforeCreate:$s,created:$s,beforeMount:$s,mounted:$s,beforeUpdate:$s,updated:$s,beforeDestroy:$s,beforeUnmount:$s,destroyed:$s,unmounted:$s,activated:$s,deactivated:$s,errorCaptured:$s,serverPrefetch:$s,components:Yf,directives:Yf,watch:LB,provide:LC,inject:PB};function LC(e,t){return t?e?function(){return Ir(Ye(e)?e.call(this,this):e,Ye(t)?t.call(this,this):t)}:t:e}function PB(e,t){return Yf(B2(e),B2(t))}function B2(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $s(e,t){return e?[...new Set([].concat(e,t))]:t}function Yf(e,t){return e?Ir(Object.create(null),e,t):t}function DC(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:Ir(Object.create(null),MC(e),MC(t??{})):t}function LB(e,t){if(!e)return t;if(!t)return e;const n=Ir(Object.create(null),e);for(const r in t)n[r]=$s(e[r],t[r]);return n}function u8(){return{app:null,config:{isNativeTag:pI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DB=0;function zB(e,t){return function(r,s=null){Ye(r)||(r=Ir({},r)),s!=null&&!ht(s)&&(s=null);const a=u8(),i=new WeakSet,o=[];let l=!1;const u=a.app={_uid:DB++,_component:r,_props:s,_container:null,_context:a,_instance:null,version:hj,get config(){return a.config},set config(c){},use(c,...d){return i.has(c)||(c&&Ye(c.install)?(i.add(c),c.install(u,...d)):Ye(c)&&(i.add(c),c(u,...d))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,d){return d?(a.components[c]=d,u):a.components[c]},directive(c,d){return d?(a.directives[c]=d,u):a.directives[c]},mount(c,d,h){if(!l){const p=u._ceVNode||q(r,s);return p.appContext=a,h===!0?h="svg":h===!1&&(h=void 0),e(p,c,h),l=!0,u._container=c,c.__vue_app__=u,yy(p.component)}},onUnmount(c){o.push(c)},unmount(){l&&(yi(o,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return a.provides[c]=d,u},runWithContext(c){const d=Cd;Cd=u;try{return c()}finally{Cd=d}}};return u}}let Cd=null;const FB=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Fs(t)}Modifiers`]||e[`${ul(t)}Modifiers`];function BB(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||qn;let s=n;const a=t.startsWith("update:"),i=a&&FB(r,t.slice(7));i&&(i.trim&&(s=n.map(c=>Ke(c)?c.trim():c)),i.number&&(s=n.map(_3)));let o,l=r[o=vh(t)]||r[o=vh(Fs(t))];!l&&a&&(l=r[o=vh(ul(t))]),l&&yi(l,e,6,s);const u=r[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,yi(u,e,6,s)}}const jB=new WeakMap;function c8(e,t,n=!1){const r=n?jB:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const a=e.emits;let i={},o=!1;if(!Ye(e)){const l=u=>{const c=c8(u,t,!0);c&&(o=!0,Ir(i,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!o?(ht(e)&&r.set(e,null),null):(ke(a)?a.forEach(l=>i[l]=null):Ir(i,a),ht(e)&&r.set(e,i),i)}function vy(e,t){return!e||!iy(t)?!1:(t=t.slice(2).replace(/Once$/,""),Zt(e,t[0].toLowerCase()+t.slice(1))||Zt(e,ul(t))||Zt(e,t))}function zC(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[a],slots:i,attrs:o,emit:l,render:u,renderCache:c,props:d,data:h,setupState:p,ctx:m,inheritAttrs:g}=e,v=Mv(e);let y,b;try{if(n.shapeFlag&4){const _=s||r,S=_;y=Yi(u.call(S,_,c,d,p,h,m)),b=o}else{const _=t;y=Yi(_.length>1?_(d,{attrs:o,slots:i,emit:l}):_(d,null)),b=t.props?o:VB(o)}}catch(_){Ch.length=0,hy(_,e,1),y=q(ir)}let w=y;if(b&&g!==!1){const _=Object.keys(b),{shapeFlag:S}=w;_.length&&S&7&&(a&&_.some(b3)&&(b=HB(b,a)),w=uo(w,b,!1,!0))}return n.dirs&&(w=uo(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&oc(w,n.transition),y=w,Mv(v),y}const VB=e=>{let t;for(const n in e)(n==="class"||n==="style"||iy(n))&&((t||(t={}))[n]=e[n]);return t},HB=(e,t)=>{const n={};for(const r in e)(!b3(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function UB(e,t,n){const{props:r,children:s,component:a}=e,{props:i,children:o,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?FC(r,i,u):!!i;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(i[h]!==r[h]&&!vy(u,h))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:r===i?!1:r?i?FC(r,i,u):!0:!!i;return!1}function FC(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const a=r[s];if(t[a]!==e[a]&&!vy(n,a))return!0}return!1}function WB({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const d8={},f8=()=>Object.create(d8),h8=e=>Object.getPrototypeOf(e)===d8;function KB(e,t,n,r=!1){const s={},a=f8();e.propsDefaults=Object.create(null),p8(e,t,s,a);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=r?s:k3(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function GB(e,t,n,r){const{props:s,attrs:a,vnode:{patchFlag:i}}=e,o=yn(s),[l]=e.propsOptions;let u=!1;if((r||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(vy(e.emitsOptions,h))continue;const p=t[h];if(l)if(Zt(a,h))p!==a[h]&&(a[h]=p,u=!0);else{const m=Fs(h);s[m]=j2(l,o,m,p,e,!1)}else p!==a[h]&&(a[h]=p,u=!0)}}}else{p8(e,t,s,a)&&(u=!0);let c;for(const d in o)(!t||!Zt(t,d)&&((c=ul(d))===d||!Zt(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(s[d]=j2(l,o,d,void 0,e,!0)):delete s[d]);if(a!==o)for(const d in a)(!t||!Zt(t,d))&&(delete a[d],u=!0)}u&&zo(e.attrs,"set","")}function p8(e,t,n,r){const[s,a]=e.propsOptions;let i=!1,o;if(t)for(let l in t){if(gh(l))continue;const u=t[l];let c;s&&Zt(s,c=Fs(l))?!a||!a.includes(c)?n[c]=u:(o||(o={}))[c]=u:vy(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,i=!0)}if(a){const l=yn(n),u=o||qn;for(let c=0;c<a.length;c++){const d=a[c];n[d]=j2(s,l,d,u[d],e,!Zt(u,d))}}return i}function j2(e,t,n,r,s,a){const i=e[n];if(i!=null){const o=Zt(i,"default");if(o&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Ye(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const c=Hp(s);r=u[n]=l.call(null,t),c()}}else r=l;s.ce&&s.ce._setProp(n,r)}i[0]&&(a&&!o?r=!1:i[1]&&(r===""||r===ul(n))&&(r=!0))}return r}const ZB=new WeakMap;function m8(e,t,n=!1){const r=n?ZB:t.propsCache,s=r.get(e);if(s)return s;const a=e.props,i={},o=[];let l=!1;if(!Ye(e)){const c=d=>{l=!0;const[h,p]=m8(d,t,!0);Ir(i,h),p&&o.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return ht(e)&&r.set(e,bd),bd;if(ke(a))for(let c=0;c<a.length;c++){const d=Fs(a[c]);BC(d)&&(i[d]=qn)}else if(a)for(const c in a){const d=Fs(c);if(BC(d)){const h=a[c],p=i[d]=ke(h)||Ye(h)?{type:h}:Ir({},h),m=p.type;let g=!1,v=!0;if(ke(m))for(let y=0;y<m.length;++y){const b=m[y],w=Ye(b)&&b.name;if(w==="Boolean"){g=!0;break}else w==="String"&&(v=!1)}else g=Ye(m)&&m.name==="Boolean";p[0]=g,p[1]=v,(g||Zt(p,"default"))&&o.push(d)}}const u=[i,o];return ht(e)&&r.set(e,u),u}function BC(e){return e[0]!=="$"&&!gh(e)}const D3=e=>e==="_"||e==="_ctx"||e==="$stable",z3=e=>ke(e)?e.map(Yi):[Yi(e)],YB=(e,t,n)=>{if(t._n)return t;const r=re((...s)=>z3(t(...s)),n);return r._c=!1,r},g8=(e,t,n)=>{const r=e._ctx;for(const s in e){if(D3(s))continue;const a=e[s];if(Ye(a))t[s]=YB(s,a,r);else if(a!=null){const i=z3(a);t[s]=()=>i}}},v8=(e,t)=>{const n=z3(t);e.slots.default=()=>n},y8=(e,t,n)=>{for(const r in t)(n||!D3(r))&&(e[r]=t[r])},qB=(e,t,n)=>{const r=e.slots=f8();if(e.vnode.shapeFlag&32){const s=t._;s?(y8(r,t,n),n&&gI(r,"_",s,!0)):g8(t,r)}else t&&v8(e,t)},XB=(e,t,n)=>{const{vnode:r,slots:s}=e;let a=!0,i=qn;if(r.shapeFlag&32){const o=t._;o?n&&o===1?a=!1:y8(s,t,n):(a=!t.$stable,g8(t,s)),i=t}else t&&(v8(e,t),i={default:1});if(a)for(const o in s)!D3(o)&&i[o]==null&&delete s[o]},Ms=nj;function JB(e){return QB(e)}function QB(e,t){const n=cy();n.__VUE__=!0;const{insert:r,remove:s,patchProp:a,createElement:i,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:p=tn,insertStaticContent:m}=e,g=(H,te,ue,ye=null,he=null,_e=null,Re=void 0,De=null,pe=!!te.dynamicChildren)=>{if(H===te)return;H&&!Au(H,te)&&(ye=P(H),Y(H,he,_e,!0),H=null),te.patchFlag===-2&&(pe=!1,te.dynamicChildren=null);const{type:ve,ref:be,shapeFlag:me}=te;switch(ve){case mf:v(H,te,ue,ye);break;case ir:y(H,te,ue,ye);break;case Jg:H==null&&b(te,ue,ye,Re);break;case Ge:O(H,te,ue,ye,he,_e,Re,De,pe);break;default:me&1?S(H,te,ue,ye,he,_e,Re,De,pe):me&6?F(H,te,ue,ye,he,_e,Re,De,pe):(me&64||me&128)&&ve.process(H,te,ue,ye,he,_e,Re,De,pe,oe)}be!=null&&he?_h(be,H&&H.ref,_e,te||H,!te):be==null&&H&&H.ref!=null&&_h(H.ref,null,_e,H,!0)},v=(H,te,ue,ye)=>{if(H==null)r(te.el=o(te.children),ue,ye);else{const he=te.el=H.el;te.children!==H.children&&u(he,te.children)}},y=(H,te,ue,ye)=>{H==null?r(te.el=l(te.children||""),ue,ye):te.el=H.el},b=(H,te,ue,ye)=>{[H.el,H.anchor]=m(H.children,te,ue,ye,H.el,H.anchor)},w=({el:H,anchor:te},ue,ye)=>{let he;for(;H&&H!==te;)he=h(H),r(H,ue,ye),H=he;r(te,ue,ye)},_=({el:H,anchor:te})=>{let ue;for(;H&&H!==te;)ue=h(H),s(H),H=ue;s(te)},S=(H,te,ue,ye,he,_e,Re,De,pe)=>{if(te.type==="svg"?Re="svg":te.type==="math"&&(Re="mathml"),H==null)C(te,ue,ye,he,_e,Re,De,pe);else{const ve=H.el&&H.el._isVueCE?H.el:null;try{ve&&ve._beginPatch(),N(H,te,he,_e,Re,De,pe)}finally{ve&&ve._endPatch()}}},C=(H,te,ue,ye,he,_e,Re,De)=>{let pe,ve;const{props:be,shapeFlag:me,transition:Te,dirs:xe}=H;if(pe=H.el=i(H.type,_e,be&&be.is,be),me&8?c(pe,H.children):me&16&&x(H.children,pe,null,ye,he,X1(H,_e),Re,De),xe&&yu(H,null,ye,"created"),T(pe,H,H.scopeId,Re,ye),be){for(const Ce in be)Ce!=="value"&&!gh(Ce)&&a(pe,Ce,null,be[Ce],_e,ye);"value"in be&&a(pe,"value",null,be.value,_e),(ve=be.onVnodeBeforeMount)&&Di(ve,ye,H)}xe&&yu(H,null,ye,"beforeMount");const Oe=ej(he,Te);Oe&&Te.beforeEnter(pe),r(pe,te,ue),((ve=be&&be.onVnodeMounted)||Oe||xe)&&Ms(()=>{ve&&Di(ve,ye,H),Oe&&Te.enter(pe),xe&&yu(H,null,ye,"mounted")},he)},T=(H,te,ue,ye,he)=>{if(ue&&p(H,ue),ye)for(let _e=0;_e<ye.length;_e++)p(H,ye[_e]);if(he){let _e=he.subTree;if(te===_e||_8(_e.type)&&(_e.ssContent===te||_e.ssFallback===te)){const Re=he.vnode;T(H,Re,Re.scopeId,Re.slotScopeIds,he.parent)}}},x=(H,te,ue,ye,he,_e,Re,De,pe=0)=>{for(let ve=pe;ve<H.length;ve++){const be=H[ve]=De?Rl(H[ve]):Yi(H[ve]);g(null,be,te,ue,ye,he,_e,Re,De)}},N=(H,te,ue,ye,he,_e,Re)=>{const De=te.el=H.el;let{patchFlag:pe,dynamicChildren:ve,dirs:be}=te;pe|=H.patchFlag&16;const me=H.props||qn,Te=te.props||qn;let xe;if(ue&&bu(ue,!1),(xe=Te.onVnodeBeforeUpdate)&&Di(xe,ue,te,H),be&&yu(te,H,ue,"beforeUpdate"),ue&&bu(ue,!0),(me.innerHTML&&Te.innerHTML==null||me.textContent&&Te.textContent==null)&&c(De,""),ve?k(H.dynamicChildren,ve,De,ue,ye,X1(te,he),_e):Re||$(H,te,De,null,ue,ye,X1(te,he),_e,!1),pe>0){if(pe&16)A(De,me,Te,ue,he);else if(pe&2&&me.class!==Te.class&&a(De,"class",null,Te.class,he),pe&4&&a(De,"style",me.style,Te.style,he),pe&8){const Oe=te.dynamicProps;for(let Ce=0;Ce<Oe.length;Ce++){const Ee=Oe[Ce],Be=me[Ee],Bt=Te[Ee];(Bt!==Be||Ee==="value")&&a(De,Ee,Be,Bt,he,ue)}}pe&1&&H.children!==te.children&&c(De,te.children)}else!Re&&ve==null&&A(De,me,Te,ue,he);((xe=Te.onVnodeUpdated)||be)&&Ms(()=>{xe&&Di(xe,ue,te,H),be&&yu(te,H,ue,"updated")},ye)},k=(H,te,ue,ye,he,_e,Re)=>{for(let De=0;De<te.length;De++){const pe=H[De],ve=te[De],be=pe.el&&(pe.type===Ge||!Au(pe,ve)||pe.shapeFlag&198)?d(pe.el):ue;g(pe,ve,be,null,ye,he,_e,Re,!0)}},A=(H,te,ue,ye,he)=>{if(te!==ue){if(te!==qn)for(const _e in te)!gh(_e)&&!(_e in ue)&&a(H,_e,te[_e],null,he,ye);for(const _e in ue){if(gh(_e))continue;const Re=ue[_e],De=te[_e];Re!==De&&_e!=="value"&&a(H,_e,De,Re,he,ye)}"value"in ue&&a(H,"value",te.value,ue.value,he)}},O=(H,te,ue,ye,he,_e,Re,De,pe)=>{const ve=te.el=H?H.el:o(""),be=te.anchor=H?H.anchor:o("");let{patchFlag:me,dynamicChildren:Te,slotScopeIds:xe}=te;xe&&(De=De?De.concat(xe):xe),H==null?(r(ve,ue,ye),r(be,ue,ye),x(te.children||[],ue,be,he,_e,Re,De,pe)):me>0&&me&64&&Te&&H.dynamicChildren&&H.dynamicChildren.length===Te.length?(k(H.dynamicChildren,Te,ue,he,_e,Re,De),(te.key!=null||he&&te===he.subTree)&&F3(H,te,!0)):$(H,te,ue,be,he,_e,Re,De,pe)},F=(H,te,ue,ye,he,_e,Re,De,pe)=>{te.slotScopeIds=De,H==null?te.shapeFlag&512?he.ctx.activate(te,ue,ye,Re,pe):j(te,ue,ye,he,_e,Re,pe):V(H,te,pe)},j=(H,te,ue,ye,he,_e,Re)=>{const De=H.component=oj(H,ye,he);if(py(H)&&(De.ctx.renderer=oe),lj(De,!1,Re),De.asyncDep){if(he&&he.registerDep(De,G,Re),!H.el){const pe=De.subTree=q(ir);y(null,pe,te,ue),H.placeholder=pe.el}}else G(De,H,te,ue,he,_e,Re)},V=(H,te,ue)=>{const ye=te.component=H.component;if(UB(H,te,ue))if(ye.asyncDep&&!ye.asyncResolved){R(ye,te,ue);return}else ye.next=te,ye.update();else te.el=H.el,ye.vnode=te},G=(H,te,ue,ye,he,_e,Re)=>{const De=()=>{if(H.isMounted){let{next:me,bu:Te,u:xe,parent:Oe,vnode:Ce}=H;{const tt=b8(H);if(tt){me&&(me.el=Ce.el,R(H,me,Re)),tt.asyncDep.then(()=>{H.isUnmounted||De()});return}}let Ee=me,Be;bu(H,!1),me?(me.el=Ce.el,R(H,me,Re)):me=Ce,Te&&Yg(Te),(Be=me.props&&me.props.onVnodeBeforeUpdate)&&Di(Be,Oe,me,Ce),bu(H,!0);const Bt=zC(H),Gt=H.subTree;H.subTree=Bt,g(Gt,Bt,d(Gt.el),P(Gt),H,he,_e),me.el=Bt.el,Ee===null&&WB(H,Bt.el),xe&&Ms(xe,he),(Be=me.props&&me.props.onVnodeUpdated)&&Ms(()=>Di(Be,Oe,me,Ce),he)}else{let me;const{el:Te,props:xe}=te,{bm:Oe,m:Ce,parent:Ee,root:Be,type:Bt}=H,Gt=Sd(te);bu(H,!1),Oe&&Yg(Oe),!Gt&&(me=xe&&xe.onVnodeBeforeMount)&&Di(me,Ee,te),bu(H,!0);{Be.ce&&Be.ce._def.shadowRoot!==!1&&Be.ce._injectChildStyle(Bt);const tt=H.subTree=zC(H);g(null,tt,ue,ye,H,he,_e),te.el=tt.el}if(Ce&&Ms(Ce,he),!Gt&&(me=xe&&xe.onVnodeMounted)){const tt=te;Ms(()=>Di(me,Ee,tt),he)}(te.shapeFlag&256||Ee&&Sd(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&H.a&&Ms(H.a,he),H.isMounted=!0,te=ue=ye=null}};H.scope.on();const pe=H.effect=new xI(De);H.scope.off();const ve=H.update=pe.run.bind(pe),be=H.job=pe.runIfDirty.bind(pe);be.i=H,be.id=H.uid,pe.scheduler=()=>I3(be),bu(H,!0),ve()},R=(H,te,ue)=>{te.component=H;const ye=H.vnode.props;H.vnode=te,H.next=null,GB(H,te.props,ye,ue),XB(H,te.children,ue),Yo(),kC(H),qo()},$=(H,te,ue,ye,he,_e,Re,De,pe=!1)=>{const ve=H&&H.children,be=H?H.shapeFlag:0,me=te.children,{patchFlag:Te,shapeFlag:xe}=te;if(Te>0){if(Te&128){z(ve,me,ue,ye,he,_e,Re,De,pe);return}else if(Te&256){D(ve,me,ue,ye,he,_e,Re,De,pe);return}}xe&8?(be&16&&B(ve,he,_e),me!==ve&&c(ue,me)):be&16?xe&16?z(ve,me,ue,ye,he,_e,Re,De,pe):B(ve,he,_e,!0):(be&8&&c(ue,""),xe&16&&x(me,ue,ye,he,_e,Re,De,pe))},D=(H,te,ue,ye,he,_e,Re,De,pe)=>{H=H||bd,te=te||bd;const ve=H.length,be=te.length,me=Math.min(ve,be);let Te;for(Te=0;Te<me;Te++){const xe=te[Te]=pe?Rl(te[Te]):Yi(te[Te]);g(H[Te],xe,ue,null,he,_e,Re,De,pe)}ve>be?B(H,he,_e,!0,!1,me):x(te,ue,ye,he,_e,Re,De,pe,me)},z=(H,te,ue,ye,he,_e,Re,De,pe)=>{let ve=0;const be=te.length;let me=H.length-1,Te=be-1;for(;ve<=me&&ve<=Te;){const xe=H[ve],Oe=te[ve]=pe?Rl(te[ve]):Yi(te[ve]);if(Au(xe,Oe))g(xe,Oe,ue,null,he,_e,Re,De,pe);else break;ve++}for(;ve<=me&&ve<=Te;){const xe=H[me],Oe=te[Te]=pe?Rl(te[Te]):Yi(te[Te]);if(Au(xe,Oe))g(xe,Oe,ue,null,he,_e,Re,De,pe);else break;me--,Te--}if(ve>me){if(ve<=Te){const xe=Te+1,Oe=xe<be?te[xe].el:ye;for(;ve<=Te;)g(null,te[ve]=pe?Rl(te[ve]):Yi(te[ve]),ue,Oe,he,_e,Re,De,pe),ve++}}else if(ve>Te)for(;ve<=me;)Y(H[ve],he,_e,!0),ve++;else{const xe=ve,Oe=ve,Ce=new Map;for(ve=Oe;ve<=Te;ve++){const we=te[ve]=pe?Rl(te[ve]):Yi(te[ve]);we.key!=null&&Ce.set(we.key,ve)}let Ee,Be=0;const Bt=Te-Oe+1;let Gt=!1,tt=0;const mt=new Array(Bt);for(ve=0;ve<Bt;ve++)mt[ve]=0;for(ve=xe;ve<=me;ve++){const we=H[ve];if(Be>=Bt){Y(we,he,_e,!0);continue}let He;if(we.key!=null)He=Ce.get(we.key);else for(Ee=Oe;Ee<=Te;Ee++)if(mt[Ee-Oe]===0&&Au(we,te[Ee])){He=Ee;break}He===void 0?Y(we,he,_e,!0):(mt[He-Oe]=ve+1,He>=tt?tt=He:Gt=!0,g(we,te[He],ue,null,he,_e,Re,De,pe),Be++)}const kt=Gt?tj(mt):bd;for(Ee=kt.length-1,ve=Bt-1;ve>=0;ve--){const we=Oe+ve,He=te[we],ge=te[we+1],Ue=we+1<be?ge.el||w8(ge):ye;mt[ve]===0?g(null,He,ue,Ue,he,_e,Re,De,pe):Gt&&(Ee<0||ve!==kt[Ee]?W(He,ue,Ue,2):Ee--)}}},W=(H,te,ue,ye,he=null)=>{const{el:_e,type:Re,transition:De,children:pe,shapeFlag:ve}=H;if(ve&6){W(H.component.subTree,te,ue,ye);return}if(ve&128){H.suspense.move(te,ue,ye);return}if(ve&64){Re.move(H,te,ue,oe);return}if(Re===Ge){r(_e,te,ue);for(let me=0;me<pe.length;me++)W(pe[me],te,ue,ye);r(H.anchor,te,ue);return}if(Re===Jg){w(H,te,ue);return}if(ye!==2&&ve&1&&De)if(ye===0)De.beforeEnter(_e),r(_e,te,ue),Ms(()=>De.enter(_e),he);else{const{leave:me,delayLeave:Te,afterLeave:xe}=De,Oe=()=>{H.ctx.isUnmounted?s(_e):r(_e,te,ue)},Ce=()=>{_e._isLeaving&&_e[Mo](!0),me(_e,()=>{Oe(),xe&&xe()})};Te?Te(_e,Oe,Ce):Ce()}else r(_e,te,ue)},Y=(H,te,ue,ye=!1,he=!1)=>{const{type:_e,props:Re,ref:De,children:pe,dynamicChildren:ve,shapeFlag:be,patchFlag:me,dirs:Te,cacheIndex:xe}=H;if(me===-2&&(he=!1),De!=null&&(Yo(),_h(De,null,ue,H,!0),qo()),xe!=null&&(te.renderCache[xe]=void 0),be&256){te.ctx.deactivate(H);return}const Oe=be&1&&Te,Ce=!Sd(H);let Ee;if(Ce&&(Ee=Re&&Re.onVnodeBeforeUnmount)&&Di(Ee,te,H),be&6)J(H.component,ue,ye);else{if(be&128){H.suspense.unmount(ue,ye);return}Oe&&yu(H,null,te,"beforeUnmount"),be&64?H.type.remove(H,te,ue,oe,ye):ve&&!ve.hasOnce&&(_e!==Ge||me>0&&me&64)?B(ve,te,ue,!1,!0):(_e===Ge&&me&384||!he&&be&16)&&B(pe,te,ue),ye&&U(H)}(Ce&&(Ee=Re&&Re.onVnodeUnmounted)||Oe)&&Ms(()=>{Ee&&Di(Ee,te,H),Oe&&yu(H,null,te,"unmounted")},ue)},U=H=>{const{type:te,el:ue,anchor:ye,transition:he}=H;if(te===Ge){Q(ue,ye);return}if(te===Jg){_(H);return}const _e=()=>{s(ue),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(H.shapeFlag&1&&he&&!he.persisted){const{leave:Re,delayLeave:De}=he,pe=()=>Re(ue,_e);De?De(H.el,_e,pe):pe()}else _e()},Q=(H,te)=>{let ue;for(;H!==te;)ue=h(H),s(H),H=ue;s(te)},J=(H,te,ue)=>{const{bum:ye,scope:he,job:_e,subTree:Re,um:De,m:pe,a:ve}=H;jC(pe),jC(ve),ye&&Yg(ye),he.stop(),_e&&(_e.flags|=8,Y(Re,H,te,ue)),De&&Ms(De,te),Ms(()=>{H.isUnmounted=!0},te)},B=(H,te,ue,ye=!1,he=!1,_e=0)=>{for(let Re=_e;Re<H.length;Re++)Y(H[Re],te,ue,ye,he)},P=H=>{if(H.shapeFlag&6)return P(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const te=h(H.anchor||H.el),ue=te&&te[GI];return ue?h(ue):te};let ae=!1;const ee=(H,te,ue)=>{let ye;H==null?te._vnode&&(Y(te._vnode,null,null,!0),ye=te._vnode.component):g(te._vnode||null,H,te,null,null,null,ue),te._vnode=H,ae||(ae=!0,kC(ye),HI(),ae=!1)},oe={p:g,um:Y,m:W,r:U,mt:j,mc:x,pc:$,pbc:k,n:P,o:e};return{render:ee,hydrate:void 0,createApp:zB(ee)}}function X1({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function bu({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ej(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function F3(e,t,n=!1){const r=e.children,s=t.children;if(ke(r)&&ke(s))for(let a=0;a<r.length;a++){const i=r[a];let o=s[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[a]=Rl(s[a]),o.el=i.el),!n&&o.patchFlag!==-2&&F3(i,o)),o.type===mf&&(o.patchFlag!==-1?o.el=i.el:o.__elIndex=a+(e.type===Ge?1:0)),o.type===ir&&!o.el&&(o.el=i.el)}}function tj(e){const t=e.slice(),n=[0];let r,s,a,i,o;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(a=0,i=n.length-1;a<i;)o=a+i>>1,e[n[o]]<u?a=o+1:i=o;u<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,i=n[a-1];a-- >0;)n[a]=i,i=t[i];return n}function b8(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:b8(t)}function jC(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function w8(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?w8(t.subTree):null}const _8=e=>e.__isSuspense;function nj(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):gB(e)}const Ge=Symbol.for("v-fgt"),mf=Symbol.for("v-txt"),ir=Symbol.for("v-cmt"),Jg=Symbol.for("v-stc"),Ch=[];let da=null;function I(e=!1){Ch.push(da=e?null:[])}function rj(){Ch.pop(),da=Ch[Ch.length-1]||null}let Gh=1;function Dv(e,t=!1){Gh+=e,e<0&&da&&t&&(da.hasOnce=!0)}function S8(e){return e.dynamicChildren=Gh>0?da||bd:null,rj(),Gh>0&&da&&da.push(e),e}function K(e,t,n,r,s,a){return S8(Z(e,t,n,r,s,a,!0))}function ce(e,t,n,r,s){return S8(q(e,t,n,r,s,!0))}function vn(e){return e?e.__v_isVNode===!0:!1}function Au(e,t){return e.type===t.type&&e.key===t.key}const C8=({key:e})=>e??null,Qg=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ke(e)||Cn(e)||Ye(e)?{i:rs,r:e,k:t,f:!!n}:e:null);function Z(e,t=null,n=null,r=0,s=null,a=e===Ge?0:1,i=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&C8(t),ref:t&&Qg(t),scopeId:WI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:rs};return o?(B3(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=Ke(n)?8:16),Gh>0&&!i&&da&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&da.push(l),l}const q=sj;function sj(e,t=null,n=null,r=0,s=null,a=!1){if((!e||e===s8)&&(e=ir),vn(e)){const o=uo(e,t,!0);return n&&B3(o,n),Gh>0&&!a&&da&&(o.shapeFlag&6?da[da.indexOf(e)]=o:da.push(o)),o.patchFlag=-2,o}if(fj(e)&&(e=e.__vccOpts),t){t=Uo(t);let{class:o,style:l}=t;o&&!Ke(o)&&(t.class=M(o)),ht(l)&&(fy(l)&&!ke(l)&&(l=Ir({},l)),t.style=qe(l))}const i=Ke(e)?1:_8(e)?128:ZI(e)?64:ht(e)?4:Ye(e)?2:0;return Z(e,t,n,r,s,i,a,!0)}function Uo(e){return e?fy(e)||h8(e)?Ir({},e):e:null}function uo(e,t,n=!1,r=!1){const{props:s,ref:a,patchFlag:i,children:o,transition:l}=e,u=t?bt(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&C8(u),ref:t&&t.ref?n&&a?ke(a)?a.concat(Qg(t)):[a,Qg(t)]:Qg(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ge?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&uo(e.ssContent),ssFallback:e.ssFallback&&uo(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&oc(c,l.clone(c)),c}function gt(e=" ",t=0){return q(mf,null,e,t)}function x8(e,t){const n=q(Jg,null,e);return n.staticCount=t,n}function le(e="",t=!1){return t?(I(),ce(ir,null,e)):q(ir,null,e)}function Yi(e){return e==null||typeof e=="boolean"?q(ir):ke(e)?q(Ge,null,e.slice()):vn(e)?Rl(e):q(mf,null,String(e))}function Rl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:uo(e)}function B3(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),B3(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!h8(t)?t._ctx=rs:s===3&&rs&&(rs.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ye(t)?(t={default:t,_ctx:rs},n=32):(t=String(t),r&64?(n=16,t=[gt(t)]):n=8);e.children=t,e.shapeFlag|=n}function bt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=M([t.class,r.class]));else if(s==="style")t.style=qe([t.style,r.style]);else if(iy(s)){const a=t[s],i=r[s];i&&a!==i&&!(ke(a)&&a.includes(i))&&(t[s]=a?[].concat(a,i):i)}else s!==""&&(t[s]=r[s])}return t}function Di(e,t,n,r=null){yi(e,t,7,[n,r])}const aj=u8();let ij=0;function oj(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||aj,a={uid:ij++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _I(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:m8(r,s),emitsOptions:c8(r,s),emit:null,emitted:null,propsDefaults:qn,inheritAttrs:r.inheritAttrs,ctx:qn,data:qn,props:qn,attrs:qn,slots:qn,refs:qn,setupState:qn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=BB.bind(null,a),e.ce&&e.ce(a),a}let gs=null;const wt=()=>gs||rs;let zv,V2;{const e=cy(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),a=>{s.length>1?s.forEach(i=>i(a)):s[0](a)}};zv=t("__VUE_INSTANCE_SETTERS__",n=>gs=n),V2=t("__VUE_SSR_SETTERS__",n=>Zh=n)}const Hp=e=>{const t=gs;return zv(e),e.scope.on(),()=>{e.scope.off(),zv(t)}},VC=()=>{gs&&gs.scope.off(),zv(null)};function E8(e){return e.vnode.shapeFlag&4}let Zh=!1;function lj(e,t=!1,n=!1){t&&V2(t);const{props:r,children:s}=e.vnode,a=E8(e);KB(e,r,a,t),qB(e,s,n||t);const i=a?uj(e,t):void 0;return t&&V2(!1),i}function uj(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$B);const{setup:r}=n;if(r){Yo();const s=e.setupContext=r.length>1?k8(e):null,a=Hp(e),i=jp(r,e,0,[e.props,s]),o=ac(i);if(qo(),a(),(o||e.sp)&&!Sd(e)&&n8(e),o){if(i.then(VC,VC),t)return i.then(l=>{HC(e,l)}).catch(l=>{hy(l,e,0)});e.asyncDep=i}else HC(e,i)}else T8(e)}function HC(e,t,n){Ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ht(t)&&(e.setupState=FI(t)),T8(e)}function T8(e,t,n){const r=e.type;e.render||(e.render=r.render||tn);{const s=Hp(e);Yo();try{AB(e)}finally{qo(),s()}}}const cj={get(e,t){return ms(e,"get",""),e[t]}};function k8(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,cj),slots:e.slots,emit:e.emit,expose:t}}function yy(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(FI(to(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Sh)return Sh[n](e)},has(t,n){return n in t||n in Sh}})):e.proxy}function dj(e,t=!0){return Ye(e)?e.displayName||e.name:e.name||t&&e.__name}function fj(e){return Ye(e)&&"__vccOpts"in e}const E=(e,t)=>dB(e,t,Zh);function nt(e,t,n){try{Dv(-1);const r=arguments.length;return r===2?ht(t)&&!ke(t)?vn(t)?q(e,null,[t]):q(e,t):q(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&vn(n)&&(n=[n]),q(e,t,n))}finally{Dv(1)}}const hj="3.5.27",pj=tn;/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let H2;const UC=typeof window<"u"&&window.trustedTypes;if(UC)try{H2=UC.createPolicy("vue",{createHTML:e=>e})}catch{}const N8=H2?e=>H2.createHTML(e):e=>e,mj="http://www.w3.org/2000/svg",gj="http://www.w3.org/1998/Math/MathML",Ro=typeof document<"u"?document:null,WC=Ro&&Ro.createElement("template"),vj={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Ro.createElementNS(mj,e):t==="mathml"?Ro.createElementNS(gj,e):n?Ro.createElement(e,{is:n}):Ro.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Ro.createTextNode(e),createComment:e=>Ro.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ro.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,a){const i=n?n.previousSibling:t.lastChild;if(s&&(s===a||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{WC.innerHTML=N8(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const o=WC.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wl="transition",Lf="animation",Dd=Symbol("_vtc"),I8={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},O8=Ir({},JI,I8),yj=e=>(e.displayName="Transition",e.props=O8,e),Gr=yj((e,{slots:t})=>nt(CB,$8(e),t)),wu=(e,t=[])=>{ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},KC=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function $8(e){const t={};for(const O in e)O in I8||(t[O]=e[O]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:a=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:u=i,appearToClass:c=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=bj(s),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:S,onBeforeAppear:C=y,onAppear:T=b,onAppearCancelled:x=w}=t,N=(O,F,j,V)=>{O._enterCancelled=V,kl(O,F?c:o),kl(O,F?u:i),j&&j()},k=(O,F)=>{O._isLeaving=!1,kl(O,d),kl(O,p),kl(O,h),F&&F()},A=O=>(F,j)=>{const V=O?T:b,G=()=>N(F,O,j);wu(V,[F,G]),GC(()=>{kl(F,O?l:a),Ui(F,O?c:o),KC(V)||ZC(F,r,g,G)})};return Ir(t,{onBeforeEnter(O){wu(y,[O]),Ui(O,a),Ui(O,i)},onBeforeAppear(O){wu(C,[O]),Ui(O,l),Ui(O,u)},onEnter:A(!1),onAppear:A(!0),onLeave(O,F){O._isLeaving=!0;const j=()=>k(O,F);Ui(O,d),O._enterCancelled?(Ui(O,h),U2(O)):(U2(O),Ui(O,h)),GC(()=>{O._isLeaving&&(kl(O,d),Ui(O,p),KC(_)||ZC(O,r,v,j))}),wu(_,[O,j])},onEnterCancelled(O){N(O,!1,void 0,!0),wu(w,[O])},onAppearCancelled(O){N(O,!0,void 0,!0),wu(x,[O])},onLeaveCancelled(O){k(O),wu(S,[O])}})}function bj(e){if(e==null)return null;if(ht(e))return[J1(e.enter),J1(e.leave)];{const t=J1(e);return[t,t]}}function J1(e){return AF(e)}function Ui(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Dd]||(e[Dd]=new Set)).add(t)}function kl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Dd];n&&(n.delete(t),n.size||(e[Dd]=void 0))}function GC(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let wj=0;function ZC(e,t,n,r){const s=e._endId=++wj,a=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(a,n);const{type:i,timeout:o,propCount:l}=A8(e,t);if(!i)return r();const u=i+"end";let c=0;const d=()=>{e.removeEventListener(u,h),a()},h=p=>{p.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),e.addEventListener(u,h)}function A8(e,t){const n=window.getComputedStyle(e),r=m=>(n[m]||"").split(", "),s=r(`${wl}Delay`),a=r(`${wl}Duration`),i=YC(s,a),o=r(`${Lf}Delay`),l=r(`${Lf}Duration`),u=YC(o,l);let c=null,d=0,h=0;t===wl?i>0&&(c=wl,d=i,h=a.length):t===Lf?u>0&&(c=Lf,d=u,h=l.length):(d=Math.max(i,u),c=d>0?i>u?wl:Lf:null,h=c?c===wl?a.length:l.length:0);const p=c===wl&&/\b(?:transform|all)(?:,|$)/.test(r(`${wl}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:p}}function YC(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>qC(n)+qC(e[r])))}function qC(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function U2(e){return(e?e.ownerDocument:document).body.offsetHeight}function _j(e,t,n){const r=e[Dd];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Fv=Symbol("_vod"),R8=Symbol("_vsh"),Kt={name:"show",beforeMount(e,{value:t},{transition:n}){e[Fv]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Df(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Df(e,!0),r.enter(e)):r.leave(e,()=>{Df(e,!1)}):Df(e,t))},beforeUnmount(e,{value:t}){Df(e,t)}};function Df(e,t){e.style.display=t?e[Fv]:"none",e[R8]=!t}const Sj=Symbol(""),Cj=/(?:^|;)\s*display\s*:/;function xj(e,t,n){const r=e.style,s=Ke(n);let a=!1;if(n&&!s){if(t)if(Ke(t))for(const i of t.split(";")){const o=i.slice(0,i.indexOf(":")).trim();n[o]==null&&ev(r,o,"")}else for(const i in t)n[i]==null&&ev(r,i,"");for(const i in n)i==="display"&&(a=!0),ev(r,i,n[i])}else if(s){if(t!==n){const i=r[Sj];i&&(n+=";"+i),r.cssText=n,a=Cj.test(n)}}else t&&e.removeAttribute("style");Fv in e&&(e[Fv]=a?r.display:"",e[R8]&&(r.display="none"))}const XC=/\s*!important$/;function ev(e,t,n){if(ke(n))n.forEach(r=>ev(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Ej(e,t);XC.test(n)?e.setProperty(ul(r),n.replace(XC,""),"important"):e[r]=n}}const JC=["Webkit","Moz","ms"],Q1={};function Ej(e,t){const n=Q1[t];if(n)return n;let r=Fs(t);if(r!=="filter"&&r in e)return Q1[t]=r;r=Bp(r);for(let s=0;s<JC.length;s++){const a=JC[s]+r;if(a in e)return Q1[t]=a}return t}const QC="http://www.w3.org/1999/xlink";function ex(e,t,n,r,s,a=zF(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(QC,t.slice(6,t.length)):e.setAttributeNS(QC,t,n):n==null||a&&!vI(n)?e.removeAttribute(t):e.setAttribute(t,a?"":gi(n)?String(n):n)}function tx(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?N8(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const o=a==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=vI(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(s||t)}function Ll(e,t,n,r){e.addEventListener(t,n,r)}function Tj(e,t,n,r){e.removeEventListener(t,n,r)}const nx=Symbol("_vei");function kj(e,t,n,r,s=null){const a=e[nx]||(e[nx]={}),i=a[t];if(r&&i)i.value=r;else{const[o,l]=Nj(t);if(r){const u=a[t]=$j(r,s);Ll(e,o,u,l)}else i&&(Tj(e,o,i,l),a[t]=void 0)}}const rx=/(?:Once|Passive|Capture)$/;function Nj(e){let t;if(rx.test(e)){t={};let r;for(;r=e.match(rx);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ul(e.slice(2)),t]}let eb=0;const Ij=Promise.resolve(),Oj=()=>eb||(Ij.then(()=>eb=0),eb=Date.now());function $j(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;yi(Aj(r,n.value),t,5,[r])};return n.value=e,n.attached=Oj(),n}function Aj(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const sx=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Rj=(e,t,n,r,s,a)=>{const i=s==="svg";t==="class"?_j(e,r,i):t==="style"?xj(e,n,r):iy(t)?b3(t)||kj(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Mj(e,t,r,i))?(tx(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ex(e,t,r,i,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ke(r))?tx(e,Fs(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ex(e,t,r,i))};function Mj(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&sx(t)&&Ye(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return sx(t)&&Ke(n)?!1:t in e}const M8=new WeakMap,P8=new WeakMap,Bv=Symbol("_moveCb"),ax=Symbol("_enterCb"),Pj=e=>(delete e.props.mode,e),Lj=Pj({name:"TransitionGroup",props:Ir({},O8,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=wt(),r=XI();let s,a;return Ni(()=>{if(!s.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!Bj(s[0].el,n.vnode.el,i)){s=[];return}s.forEach(Dj),s.forEach(zj);const o=s.filter(Fj);U2(n.vnode.el),o.forEach(l=>{const u=l.el,c=u.style;Ui(u,i),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[Bv]=h=>{h&&h.target!==u||(!h||h.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",d),u[Bv]=null,kl(u,i))};u.addEventListener("transitionend",d)}),s=[]}),()=>{const i=yn(e),o=$8(i);let l=i.tag||Ge;if(s=[],a)for(let u=0;u<a.length;u++){const c=a[u];c.el&&c.el instanceof Element&&(s.push(c),oc(c,Kh(c,o,r,n)),M8.set(c,{left:c.el.offsetLeft,top:c.el.offsetTop}))}a=t.default?$3(t.default()):[];for(let u=0;u<a.length;u++){const c=a[u];c.key!=null&&oc(c,Kh(c,o,r,n))}return q(l,null,a)}}}),L8=Lj;function Dj(e){const t=e.el;t[Bv]&&t[Bv](),t[ax]&&t[ax]()}function zj(e){P8.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function Fj(e){const t=M8.get(e),n=P8.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${s}px)`,a.transitionDuration="0s",e}}function Bj(e,t,n){const r=e.cloneNode(),s=e[Dd];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:i}=A8(r);return a.removeChild(r),i}const zd=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>Yg(t,n):t};function jj(e){e.target.composing=!0}function ix(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Wo=Symbol("_assign");function ox(e,t,n){return t&&(e=e.trim()),n&&(e=_3(e)),e}const jv={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Wo]=zd(s);const a=r||s.props&&s.props.type==="number";Ll(e,t?"change":"input",i=>{i.target.composing||e[Wo](ox(e.value,n,a))}),(n||a)&&Ll(e,"change",()=>{e.value=ox(e.value,n,a)}),t||(Ll(e,"compositionstart",jj),Ll(e,"compositionend",ix),Ll(e,"change",ix))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:a}},i){if(e[Wo]=zd(i),e.composing)return;const o=(a||e.type==="number")&&!/^0\d/.test(e.value)?_3(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},D8={deep:!0,created(e,t,n){e[Wo]=zd(n),Ll(e,"change",()=>{const r=e._modelValue,s=F8(e),a=e.checked,i=e[Wo];if(ke(r)){const o=yI(r,s),l=o!==-1;if(a&&!l)i(r.concat(s));else if(!a&&l){const u=[...r];u.splice(o,1),i(u)}}else if(oy(r)){const o=new Set(r);a?o.add(s):o.delete(s),i(o)}else i(B8(e,a))})},mounted:lx,beforeUpdate(e,t,n){e[Wo]=zd(n),lx(e,t,n)}};function lx(e,{value:t,oldValue:n},r){e._modelValue=t;let s;if(ke(t))s=yI(t,r.props.value)>-1;else if(oy(t))s=t.has(r.props.value);else{if(t===n)return;s=Pd(t,B8(e,!0))}e.checked!==s&&(e.checked=s)}const z8={created(e,{value:t},n){e.checked=Pd(t,n.props.value),e[Wo]=zd(n),Ll(e,"change",()=>{e[Wo](F8(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Wo]=zd(r),t!==n&&(e.checked=Pd(t,r.props.value))}};function F8(e){return"_value"in e?e._value:e.value}function B8(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Vj=["ctrl","shift","alt","meta"],Hj={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Vj.some(n=>e[`${n}Key`]&&!t.includes(n))},at=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...a)=>{for(let i=0;i<t.length;i++){const o=Hj[t[i]];if(o&&o(s,t))return}return e(s,...a)})},Uj={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zn=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const a=ul(s.key);if(t.some(i=>i===a||Uj[i]===a))return e(s)})},Wj=Ir({patchProp:Rj},vj);let ux;function j8(){return ux||(ux=JB(Wj))}const Xl=(...e)=>{j8().render(...e)},V8=(...e)=>{const t=j8().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Gj(r);if(!s)return;const a=t._component;!Ye(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,Kj(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t};function Kj(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Gj(e){return Ke(e)?document.querySelector(e):e}const Zj="2.13.2",cx=Symbol("INSTALLED_KEY"),H8=Symbol();var U8=typeof global=="object"&&global&&global.Object===Object&&global,Yj=typeof self=="object"&&self&&self.Object===Object&&self,Ii=U8||Yj||Function("return this")(),Ba=Ii.Symbol,W8=Object.prototype,qj=W8.hasOwnProperty,Xj=W8.toString,zf=Ba?Ba.toStringTag:void 0;function Jj(e){var t=qj.call(e,zf),n=e[zf];try{e[zf]=void 0;var r=!0}catch{}var s=Xj.call(e);return r&&(t?e[zf]=n:delete e[zf]),s}var Qj=Object.prototype,eV=Qj.toString;function tV(e){return eV.call(e)}var nV="[object Null]",rV="[object Undefined]",dx=Ba?Ba.toStringTag:void 0;function _c(e){return e==null?e===void 0?rV:nV:dx&&dx in Object(e)?Jj(e):tV(e)}function co(e){return e!=null&&typeof e=="object"}var sV="[object Symbol]";function by(e){return typeof e=="symbol"||co(e)&&_c(e)==sV}function j3(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var js=Array.isArray,fx=Ba?Ba.prototype:void 0,hx=fx?fx.toString:void 0;function K8(e){if(typeof e=="string")return e;if(js(e))return j3(e,K8)+"";if(by(e))return hx?hx.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var aV=/\s/;function iV(e){for(var t=e.length;t--&&aV.test(e.charAt(t)););return t}var oV=/^\s+/;function lV(e){return e&&e.slice(0,iV(e)+1).replace(oV,"")}function Vs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var px=NaN,uV=/^[-+]0x[0-9a-f]+$/i,cV=/^0b[01]+$/i,dV=/^0o[0-7]+$/i,fV=parseInt;function xh(e){if(typeof e=="number")return e;if(by(e))return px;if(Vs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Vs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lV(e);var n=cV.test(e);return n||dV.test(e)?fV(e.slice(2),n?2:8):uV.test(e)?px:+e}function V3(e){return e}var hV="[object AsyncFunction]",pV="[object Function]",mV="[object GeneratorFunction]",gV="[object Proxy]";function H3(e){if(!Vs(e))return!1;var t=_c(e);return t==pV||t==mV||t==hV||t==gV}var tb=Ii["__core-js_shared__"],mx=function(){var e=/[^.]+$/.exec(tb&&tb.keys&&tb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vV(e){return!!mx&&mx in e}var yV=Function.prototype,bV=yV.toString;function Sc(e){if(e!=null){try{return bV.call(e)}catch{}try{return e+""}catch{}}return""}var wV=/[\\^$.*+?()[\]{}|]/g,_V=/^\[object .+?Constructor\]$/,SV=Function.prototype,CV=Object.prototype,xV=SV.toString,EV=CV.hasOwnProperty,TV=RegExp("^"+xV.call(EV).replace(wV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kV(e){if(!Vs(e)||vV(e))return!1;var t=H3(e)?TV:_V;return t.test(Sc(e))}function NV(e,t){return e==null?void 0:e[t]}function Cc(e,t){var n=NV(e,t);return kV(n)?n:void 0}var W2=Cc(Ii,"WeakMap"),gx=Object.create,IV=function(){function e(){}return function(t){if(!Vs(t))return{};if(gx)return gx(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function OV(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function $V(){}function G8(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var AV=800,RV=16,MV=Date.now;function PV(e){var t=0,n=0;return function(){var r=MV(),s=RV-(r-n);if(n=r,s>0){if(++t>=AV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function LV(e){return function(){return e}}var Vv=function(){try{var e=Cc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),DV=Vv?function(e,t){return Vv(e,"toString",{configurable:!0,enumerable:!1,value:LV(t),writable:!0})}:V3,Z8=PV(DV);function zV(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function Y8(e,t,n,r){for(var s=e.length,a=n+(r?1:-1);r?a--:++a<s;)if(t(e[a],a,e))return a;return-1}function FV(e){return e!==e}function BV(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function jV(e,t,n){return t===t?BV(e,t,n):Y8(e,FV,n)}function VV(e,t){var n=e==null?0:e.length;return!!n&&jV(e,t,0)>-1}var HV=9007199254740991,UV=/^(?:0|[1-9]\d*)$/;function wy(e,t){var n=typeof e;return t=t??HV,!!t&&(n=="number"||n!="symbol"&&UV.test(e))&&e>-1&&e%1==0&&e<t}function U3(e,t,n){t=="__proto__"&&Vv?Vv(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Up(e,t){return e===t||e!==e&&t!==t}var WV=Object.prototype,KV=WV.hasOwnProperty;function W3(e,t,n){var r=e[t];(!(KV.call(e,t)&&Up(r,n))||n===void 0&&!(t in e))&&U3(e,t,n)}function gf(e,t,n,r){var s=!n;n||(n={});for(var a=-1,i=t.length;++a<i;){var o=t[a],l=void 0;l===void 0&&(l=e[o]),s?U3(n,o,l):W3(n,o,l)}return n}var vx=Math.max;function q8(e,t,n){return t=vx(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=vx(r.length-t,0),i=Array(a);++s<a;)i[s]=r[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=r[s];return o[t]=n(i),OV(e,this,o)}}function X8(e,t){return Z8(q8(e,t,V3),e+"")}var GV=9007199254740991;function K3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=GV}function vf(e){return e!=null&&K3(e.length)&&!H3(e)}function ZV(e,t,n){if(!Vs(n))return!1;var r=typeof t;return(r=="number"?vf(n)&&wy(t,n.length):r=="string"&&t in n)?Up(n[t],e):!1}function YV(e){return X8(function(t,n){var r=-1,s=n.length,a=s>1?n[s-1]:void 0,i=s>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(s--,a):void 0,i&&ZV(n[0],n[1],i)&&(a=s<3?void 0:a,s=1),t=Object(t);++r<s;){var o=n[r];o&&e(t,o,r,a)}return t})}var qV=Object.prototype;function G3(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qV;return e===n}function XV(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var JV="[object Arguments]";function yx(e){return co(e)&&_c(e)==JV}var J8=Object.prototype,QV=J8.hasOwnProperty,eH=J8.propertyIsEnumerable,Yh=yx(function(){return arguments}())?yx:function(e){return co(e)&&QV.call(e,"callee")&&!eH.call(e,"callee")};function tH(){return!1}var Q8=typeof va=="object"&&va&&!va.nodeType&&va,bx=Q8&&typeof ya=="object"&&ya&&!ya.nodeType&&ya,nH=bx&&bx.exports===Q8,wx=nH?Ii.Buffer:void 0,rH=wx?wx.isBuffer:void 0,qh=rH||tH,sH="[object Arguments]",aH="[object Array]",iH="[object Boolean]",oH="[object Date]",lH="[object Error]",uH="[object Function]",cH="[object Map]",dH="[object Number]",fH="[object Object]",hH="[object RegExp]",pH="[object Set]",mH="[object String]",gH="[object WeakMap]",vH="[object ArrayBuffer]",yH="[object DataView]",bH="[object Float32Array]",wH="[object Float64Array]",_H="[object Int8Array]",SH="[object Int16Array]",CH="[object Int32Array]",xH="[object Uint8Array]",EH="[object Uint8ClampedArray]",TH="[object Uint16Array]",kH="[object Uint32Array]",rr={};rr[bH]=rr[wH]=rr[_H]=rr[SH]=rr[CH]=rr[xH]=rr[EH]=rr[TH]=rr[kH]=!0;rr[sH]=rr[aH]=rr[vH]=rr[iH]=rr[yH]=rr[oH]=rr[lH]=rr[uH]=rr[cH]=rr[dH]=rr[fH]=rr[hH]=rr[pH]=rr[mH]=rr[gH]=!1;function NH(e){return co(e)&&K3(e.length)&&!!rr[_c(e)]}function Z3(e){return function(t){return e(t)}}var eO=typeof va=="object"&&va&&!va.nodeType&&va,Eh=eO&&typeof ya=="object"&&ya&&!ya.nodeType&&ya,IH=Eh&&Eh.exports===eO,nb=IH&&U8.process,Fd=function(){try{var e=Eh&&Eh.require&&Eh.require("util").types;return e||nb&&nb.binding&&nb.binding("util")}catch{}}(),_x=Fd&&Fd.isTypedArray,Y3=_x?Z3(_x):NH,OH=Object.prototype,$H=OH.hasOwnProperty;function tO(e,t){var n=js(e),r=!n&&Yh(e),s=!n&&!r&&qh(e),a=!n&&!r&&!s&&Y3(e),i=n||r||s||a,o=i?XV(e.length,String):[],l=o.length;for(var u in e)(t||$H.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wy(u,l)))&&o.push(u);return o}function nO(e,t){return function(n){return e(t(n))}}var AH=nO(Object.keys,Object),RH=Object.prototype,MH=RH.hasOwnProperty;function PH(e){if(!G3(e))return AH(e);var t=[];for(var n in Object(e))MH.call(e,n)&&n!="constructor"&&t.push(n);return t}function Wp(e){return vf(e)?tO(e):PH(e)}function LH(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var DH=Object.prototype,zH=DH.hasOwnProperty;function FH(e){if(!Vs(e))return LH(e);var t=G3(e),n=[];for(var r in e)r=="constructor"&&(t||!zH.call(e,r))||n.push(r);return n}function Kp(e){return vf(e)?tO(e,!0):FH(e)}var BH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jH=/^\w*$/;function q3(e,t){if(js(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||by(e)?!0:jH.test(e)||!BH.test(e)||t!=null&&e in Object(t)}var Xh=Cc(Object,"create");function VH(){this.__data__=Xh?Xh(null):{},this.size=0}function HH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var UH="__lodash_hash_undefined__",WH=Object.prototype,KH=WH.hasOwnProperty;function GH(e){var t=this.__data__;if(Xh){var n=t[e];return n===UH?void 0:n}return KH.call(t,e)?t[e]:void 0}var ZH=Object.prototype,YH=ZH.hasOwnProperty;function qH(e){var t=this.__data__;return Xh?t[e]!==void 0:YH.call(t,e)}var XH="__lodash_hash_undefined__";function JH(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xh&&t===void 0?XH:t,this}function lc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}lc.prototype.clear=VH;lc.prototype.delete=HH;lc.prototype.get=GH;lc.prototype.has=qH;lc.prototype.set=JH;function QH(){this.__data__=[],this.size=0}function _y(e,t){for(var n=e.length;n--;)if(Up(e[n][0],t))return n;return-1}var eU=Array.prototype,tU=eU.splice;function nU(e){var t=this.__data__,n=_y(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():tU.call(t,n,1),--this.size,!0}function rU(e){var t=this.__data__,n=_y(t,e);return n<0?void 0:t[n][1]}function sU(e){return _y(this.__data__,e)>-1}function aU(e,t){var n=this.__data__,r=_y(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function fl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fl.prototype.clear=QH;fl.prototype.delete=nU;fl.prototype.get=rU;fl.prototype.has=sU;fl.prototype.set=aU;var Jh=Cc(Ii,"Map");function iU(){this.size=0,this.__data__={hash:new lc,map:new(Jh||fl),string:new lc}}function oU(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Sy(e,t){var n=e.__data__;return oU(t)?n[typeof t=="string"?"string":"hash"]:n.map}function lU(e){var t=Sy(this,e).delete(e);return this.size-=t?1:0,t}function uU(e){return Sy(this,e).get(e)}function cU(e){return Sy(this,e).has(e)}function dU(e,t){var n=Sy(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function hl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hl.prototype.clear=iU;hl.prototype.delete=lU;hl.prototype.get=uU;hl.prototype.has=cU;hl.prototype.set=dU;var fU="Expected a function";function Cy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fU);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var i=e.apply(this,r);return n.cache=a.set(s,i)||a,i};return n.cache=new(Cy.Cache||hl),n}Cy.Cache=hl;var hU=500;function pU(e){var t=Cy(e,function(r){return n.size===hU&&n.clear(),r}),n=t.cache;return t}var mU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gU=/\\(\\)?/g,vU=pU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(mU,function(n,r,s,a){t.push(s?a.replace(gU,"$1"):r||n)}),t});function yU(e){return e==null?"":K8(e)}function yf(e,t){return js(e)?e:q3(e,t)?[e]:vU(yU(e))}function bf(e){if(typeof e=="string"||by(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function xy(e,t){t=yf(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[bf(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=e==null?void 0:xy(e,t);return r===void 0?n:r}function X3(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var Sx=Ba?Ba.isConcatSpreadable:void 0;function bU(e){return js(e)||Yh(e)||!!(Sx&&e&&e[Sx])}function Gp(e,t,n,r,s){var a=-1,i=e.length;for(n||(n=bU),s||(s=[]);++a<i;){var o=e[a];t>0&&n(o)?t>1?Gp(o,t-1,n,r,s):X3(s,o):r||(s[s.length]=o)}return s}function Hv(e){var t=e==null?0:e.length;return t?Gp(e,1):[]}function rO(e){return Z8(q8(e,void 0,Hv),e+"")}var J3=nO(Object.getPrototypeOf,Object),wU="[object Object]",_U=Function.prototype,SU=Object.prototype,sO=_U.toString,CU=SU.hasOwnProperty,xU=sO.call(Object);function aO(e){if(!co(e)||_c(e)!=wU)return!1;var t=J3(e);if(t===null)return!0;var n=CU.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&sO.call(n)==xU}function EU(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}function Dr(){if(!arguments.length)return[];var e=arguments[0];return js(e)?e:[e]}function TU(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function zu(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=xh(n),n=n===n?n:0),t!==void 0&&(t=xh(t),t=t===t?t:0),TU(xh(e),t,n)}function kU(){this.__data__=new fl,this.size=0}function NU(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function IU(e){return this.__data__.get(e)}function OU(e){return this.__data__.has(e)}var $U=200;function AU(e,t){var n=this.__data__;if(n instanceof fl){var r=n.__data__;if(!Jh||r.length<$U-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new hl(r)}return n.set(e,t),this.size=n.size,this}function fi(e){var t=this.__data__=new fl(e);this.size=t.size}fi.prototype.clear=kU;fi.prototype.delete=NU;fi.prototype.get=IU;fi.prototype.has=OU;fi.prototype.set=AU;function RU(e,t){return e&&gf(t,Wp(t),e)}function MU(e,t){return e&&gf(t,Kp(t),e)}var iO=typeof va=="object"&&va&&!va.nodeType&&va,Cx=iO&&typeof ya=="object"&&ya&&!ya.nodeType&&ya,PU=Cx&&Cx.exports===iO,xx=PU?Ii.Buffer:void 0,Ex=xx?xx.allocUnsafe:void 0;function oO(e,t){if(t)return e.slice();var n=e.length,r=Ex?Ex(n):new e.constructor(n);return e.copy(r),r}function LU(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[s++]=i)}return a}function lO(){return[]}var DU=Object.prototype,zU=DU.propertyIsEnumerable,Tx=Object.getOwnPropertySymbols,Q3=Tx?function(e){return e==null?[]:(e=Object(e),LU(Tx(e),function(t){return zU.call(e,t)}))}:lO;function FU(e,t){return gf(e,Q3(e),t)}var BU=Object.getOwnPropertySymbols,uO=BU?function(e){for(var t=[];e;)X3(t,Q3(e)),e=J3(e);return t}:lO;function jU(e,t){return gf(e,uO(e),t)}function cO(e,t,n){var r=t(e);return js(e)?r:X3(r,n(e))}function K2(e){return cO(e,Wp,Q3)}function dO(e){return cO(e,Kp,uO)}var G2=Cc(Ii,"DataView"),Z2=Cc(Ii,"Promise"),xd=Cc(Ii,"Set"),kx="[object Map]",VU="[object Object]",Nx="[object Promise]",Ix="[object Set]",Ox="[object WeakMap]",$x="[object DataView]",HU=Sc(G2),UU=Sc(Jh),WU=Sc(Z2),KU=Sc(xd),GU=Sc(W2),ai=_c;(G2&&ai(new G2(new ArrayBuffer(1)))!=$x||Jh&&ai(new Jh)!=kx||Z2&&ai(Z2.resolve())!=Nx||xd&&ai(new xd)!=Ix||W2&&ai(new W2)!=Ox)&&(ai=function(e){var t=_c(e),n=t==VU?e.constructor:void 0,r=n?Sc(n):"";if(r)switch(r){case HU:return $x;case UU:return kx;case WU:return Nx;case KU:return Ix;case GU:return Ox}return t});var ZU=Object.prototype,YU=ZU.hasOwnProperty;function qU(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&YU.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Uv=Ii.Uint8Array;function e6(e){var t=new e.constructor(e.byteLength);return new Uv(t).set(new Uv(e)),t}function XU(e,t){var n=t?e6(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var JU=/\w*$/;function QU(e){var t=new e.constructor(e.source,JU.exec(e));return t.lastIndex=e.lastIndex,t}var Ax=Ba?Ba.prototype:void 0,Rx=Ax?Ax.valueOf:void 0;function eW(e){return Rx?Object(Rx.call(e)):{}}function fO(e,t){var n=t?e6(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var tW="[object Boolean]",nW="[object Date]",rW="[object Map]",sW="[object Number]",aW="[object RegExp]",iW="[object Set]",oW="[object String]",lW="[object Symbol]",uW="[object ArrayBuffer]",cW="[object DataView]",dW="[object Float32Array]",fW="[object Float64Array]",hW="[object Int8Array]",pW="[object Int16Array]",mW="[object Int32Array]",gW="[object Uint8Array]",vW="[object Uint8ClampedArray]",yW="[object Uint16Array]",bW="[object Uint32Array]";function wW(e,t,n){var r=e.constructor;switch(t){case uW:return e6(e);case tW:case nW:return new r(+e);case cW:return XU(e,n);case dW:case fW:case hW:case pW:case mW:case gW:case vW:case yW:case bW:return fO(e,n);case rW:return new r;case sW:case oW:return new r(e);case aW:return QU(e);case iW:return new r;case lW:return eW(e)}}function hO(e){return typeof e.constructor=="function"&&!G3(e)?IV(J3(e)):{}}var _W="[object Map]";function SW(e){return co(e)&&ai(e)==_W}var Mx=Fd&&Fd.isMap,CW=Mx?Z3(Mx):SW,xW="[object Set]";function EW(e){return co(e)&&ai(e)==xW}var Px=Fd&&Fd.isSet,TW=Px?Z3(Px):EW,kW=1,NW=2,IW=4,pO="[object Arguments]",OW="[object Array]",$W="[object Boolean]",AW="[object Date]",RW="[object Error]",mO="[object Function]",MW="[object GeneratorFunction]",PW="[object Map]",LW="[object Number]",gO="[object Object]",DW="[object RegExp]",zW="[object Set]",FW="[object String]",BW="[object Symbol]",jW="[object WeakMap]",VW="[object ArrayBuffer]",HW="[object DataView]",UW="[object Float32Array]",WW="[object Float64Array]",KW="[object Int8Array]",GW="[object Int16Array]",ZW="[object Int32Array]",YW="[object Uint8Array]",qW="[object Uint8ClampedArray]",XW="[object Uint16Array]",JW="[object Uint32Array]",Jn={};Jn[pO]=Jn[OW]=Jn[VW]=Jn[HW]=Jn[$W]=Jn[AW]=Jn[UW]=Jn[WW]=Jn[KW]=Jn[GW]=Jn[ZW]=Jn[PW]=Jn[LW]=Jn[gO]=Jn[DW]=Jn[zW]=Jn[FW]=Jn[BW]=Jn[YW]=Jn[qW]=Jn[XW]=Jn[JW]=!0;Jn[RW]=Jn[mO]=Jn[jW]=!1;function Ed(e,t,n,r,s,a){var i,o=t&kW,l=t&NW,u=t&IW;if(n&&(i=s?n(e,r,s,a):n(e)),i!==void 0)return i;if(!Vs(e))return e;var c=js(e);if(c){if(i=qU(e),!o)return G8(e,i)}else{var d=ai(e),h=d==mO||d==MW;if(qh(e))return oO(e,o);if(d==gO||d==pO||h&&!s){if(i=l||h?{}:hO(e),!o)return l?jU(e,MU(i,e)):FU(e,RU(i,e))}else{if(!Jn[d])return s?e:{};i=wW(e,d,o)}}a||(a=new fi);var p=a.get(e);if(p)return p;a.set(e,i),TW(e)?e.forEach(function(v){i.add(Ed(v,t,n,v,e,a))}):CW(e)&&e.forEach(function(v,y){i.set(y,Ed(v,t,n,y,e,a))});var m=u?l?dO:K2:l?Kp:Wp,g=c?void 0:m(e);return zV(g||e,function(v,y){g&&(y=v,v=e[y]),W3(i,y,Ed(v,t,n,y,e,a))}),i}var QW=4;function rb(e){return Ed(e,QW)}var eK=1,tK=4;function Wv(e){return Ed(e,eK|tK)}var nK="__lodash_hash_undefined__";function rK(e){return this.__data__.set(e,nK),this}function sK(e){return this.__data__.has(e)}function Qh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new hl;++t<n;)this.add(e[t])}Qh.prototype.add=Qh.prototype.push=rK;Qh.prototype.has=sK;function aK(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function vO(e,t){return e.has(t)}var iK=1,oK=2;function yO(e,t,n,r,s,a){var i=n&iK,o=e.length,l=t.length;if(o!=l&&!(i&&l>o))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,p=n&oK?new Qh:void 0;for(a.set(e,t),a.set(t,e);++d<o;){var m=e[d],g=t[d];if(r)var v=i?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!aK(t,function(y,b){if(!vO(p,b)&&(m===y||s(m,y,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(m===g||s(m,g,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}function lK(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}function t6(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var uK=1,cK=2,dK="[object Boolean]",fK="[object Date]",hK="[object Error]",pK="[object Map]",mK="[object Number]",gK="[object RegExp]",vK="[object Set]",yK="[object String]",bK="[object Symbol]",wK="[object ArrayBuffer]",_K="[object DataView]",Lx=Ba?Ba.prototype:void 0,sb=Lx?Lx.valueOf:void 0;function SK(e,t,n,r,s,a,i){switch(n){case _K:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wK:return!(e.byteLength!=t.byteLength||!a(new Uv(e),new Uv(t)));case dK:case fK:case mK:return Up(+e,+t);case hK:return e.name==t.name&&e.message==t.message;case gK:case yK:return e==t+"";case pK:var o=lK;case vK:var l=r&uK;if(o||(o=t6),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;r|=cK,i.set(e,t);var c=yO(o(e),o(t),r,s,a,i);return i.delete(e),c;case bK:if(sb)return sb.call(e)==sb.call(t)}return!1}var CK=1,xK=Object.prototype,EK=xK.hasOwnProperty;function TK(e,t,n,r,s,a){var i=n&CK,o=K2(e),l=o.length,u=K2(t),c=u.length;if(l!=c&&!i)return!1;for(var d=l;d--;){var h=o[d];if(!(i?h in t:EK.call(t,h)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=i;++d<l;){h=o[d];var y=e[h],b=t[h];if(r)var w=i?r(b,y,h,t,e,a):r(y,b,h,e,t,a);if(!(w===void 0?y===b||s(y,b,n,r,a):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(e),a.delete(t),g}var kK=1,Dx="[object Arguments]",zx="[object Array]",qm="[object Object]",NK=Object.prototype,Fx=NK.hasOwnProperty;function IK(e,t,n,r,s,a){var i=js(e),o=js(t),l=i?zx:ai(e),u=o?zx:ai(t);l=l==Dx?qm:l,u=u==Dx?qm:u;var c=l==qm,d=u==qm,h=l==u;if(h&&qh(e)){if(!qh(t))return!1;i=!0,c=!1}if(h&&!c)return a||(a=new fi),i||Y3(e)?yO(e,t,n,r,s,a):SK(e,t,l,n,r,s,a);if(!(n&kK)){var p=c&&Fx.call(e,"__wrapped__"),m=d&&Fx.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return a||(a=new fi),s(g,v,n,r,a)}}return h?(a||(a=new fi),TK(e,t,n,r,s,a)):!1}function Ey(e,t,n,r,s){return e===t?!0:e==null||t==null||!co(e)&&!co(t)?e!==e&&t!==t:IK(e,t,n,r,Ey,s)}var OK=1,$K=2;function AK(e,t,n,r){var s=n.length,a=s;if(e==null)return!a;for(e=Object(e);s--;){var i=n[s];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++s<a;){i=n[s];var o=i[0],l=e[o],u=i[1];if(i[2]){if(l===void 0&&!(o in e))return!1}else{var c=new fi,d;if(!(d===void 0?Ey(u,l,OK|$K,r,c):d))return!1}}return!0}function bO(e){return e===e&&!Vs(e)}function RK(e){for(var t=Wp(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,bO(s)]}return t}function wO(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function MK(e){var t=RK(e);return t.length==1&&t[0][2]?wO(t[0][0],t[0][1]):function(n){return n===e||AK(n,e,t)}}function PK(e,t){return e!=null&&t in Object(e)}function _O(e,t,n){t=yf(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var i=bf(t[r]);if(!(a=e!=null&&n(e,i)))break;e=e[i]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&K3(s)&&wy(i,s)&&(js(e)||Yh(e)))}function SO(e,t){return e!=null&&_O(e,t,PK)}var LK=1,DK=2;function zK(e,t){return q3(e)&&bO(t)?wO(bf(e),t):function(n){var r=dr(n,e);return r===void 0&&r===t?SO(n,e):Ey(t,r,LK|DK)}}function FK(e){return function(t){return t==null?void 0:t[e]}}function BK(e){return function(t){return xy(t,e)}}function jK(e){return q3(e)?FK(bf(e)):BK(e)}function CO(e){return typeof e=="function"?e:e==null?V3:typeof e=="object"?js(e)?zK(e[0],e[1]):MK(e):jK(e)}function VK(e){return function(t,n,r){for(var s=-1,a=Object(t),i=r(t),o=i.length;o--;){var l=i[++s];if(n(a[l],l,a)===!1)break}return t}}var xO=VK();function HK(e,t){return e&&xO(e,t,Wp)}function UK(e,t){return function(n,r){if(n==null)return n;if(!vf(n))return e(n,r);for(var s=n.length,a=-1,i=Object(n);++a<s&&r(i[a],a,i)!==!1;);return n}}var WK=UK(HK),ab=function(){return Ii.Date.now()},KK="Expected a function",GK=Math.max,ZK=Math.min;function fo(e,t,n){var r,s,a,i,o,l,u=0,c=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(KK);t=xh(t)||0,Vs(n)&&(c=!!n.leading,d="maxWait"in n,a=d?GK(xh(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function p(C){var T=r,x=s;return r=s=void 0,u=C,i=e.apply(x,T),i}function m(C){return u=C,o=setTimeout(y,t),c?p(C):i}function g(C){var T=C-l,x=C-u,N=t-T;return d?ZK(N,a-x):N}function v(C){var T=C-l,x=C-u;return l===void 0||T>=t||T<0||d&&x>=a}function y(){var C=ab();if(v(C))return b(C);o=setTimeout(y,g(C))}function b(C){return o=void 0,h&&r?p(C):(r=s=void 0,i)}function w(){o!==void 0&&clearTimeout(o),u=0,r=l=s=o=void 0}function _(){return o===void 0?i:b(ab())}function S(){var C=ab(),T=v(C);if(r=arguments,s=this,l=C,T){if(o===void 0)return m(l);if(d)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),i}return S.cancel=w,S.flush=_,S}function Y2(e,t,n){(n!==void 0&&!Up(e[t],n)||n===void 0&&!(t in e))&&U3(e,t,n)}function EO(e){return co(e)&&vf(e)}function q2(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function YK(e){return gf(e,Kp(e))}function qK(e,t,n,r,s,a,i){var o=q2(e,n),l=q2(t,n),u=i.get(l);if(u){Y2(e,n,u);return}var c=a?a(o,l,n+"",e,t,i):void 0,d=c===void 0;if(d){var h=js(l),p=!h&&qh(l),m=!h&&!p&&Y3(l);c=l,h||p||m?js(o)?c=o:EO(o)?c=G8(o):p?(d=!1,c=oO(l,!0)):m?(d=!1,c=fO(l,!0)):c=[]:aO(l)||Yh(l)?(c=o,Yh(o)?c=YK(o):(!Vs(o)||H3(o))&&(c=hO(l))):d=!1}d&&(i.set(l,c),s(c,l,r,a,i),i.delete(l)),Y2(e,n,c)}function TO(e,t,n,r,s){e!==t&&xO(t,function(a,i){if(s||(s=new fi),Vs(a))qK(e,t,i,n,TO,r,s);else{var o=r?r(q2(e,i),a,i+"",e,t,s):void 0;o===void 0&&(o=a),Y2(e,i,o)}},Kp)}function XK(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function kO(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r-1;return Y8(e,CO(t),s,!0)}function JK(e,t){var n=-1,r=vf(e)?Array(e.length):[];return WK(e,function(s,a,i){r[++n]=t(s,a,i)}),r}function QK(e,t){var n=js(e)?j3:JK;return n(e,CO(t))}function NO(e,t){return Gp(QK(e,t),1)}var eG=1/0;function tG(e){var t=e==null?0:e.length;return t?Gp(e,eG):[]}function ep(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}var nG=Object.prototype,rG=nG.hasOwnProperty;function sG(e,t){return e!=null&&rG.call(e,t)}function aG(e,t){return e!=null&&_O(e,t,sG)}function iG(e,t){return t.length<2?e:xy(e,EU(t,0,-1))}function Yn(e,t){return Ey(e,t)}function or(e){return e==null}function Ty(e){return e===null}function oG(e){return e===void 0}var IO=YV(function(e,t,n){TO(e,t,n)}),lG=Object.prototype,uG=lG.hasOwnProperty;function cG(e,t){t=yf(t,e);var n=-1,r=t.length;if(!r)return!0;for(var s=e==null||typeof e!="object"&&typeof e!="function";++n<r;){var a=t[n];if(typeof a=="string"){if(a==="__proto__"&&!uG.call(e,"__proto__"))return!1;if(a==="constructor"&&n+1<r&&typeof t[n+1]=="string"&&t[n+1]==="prototype"){if(s&&n===0)continue;return!1}}}var i=iG(e,t);return i==null||delete i[bf(XK(t))]}function dG(e){return aO(e)?void 0:e}var fG=1,hG=2,pG=4,Zp=rO(function(e,t){var n={};if(e==null)return n;var r=!1;t=j3(t,function(a){return a=yf(a,e),r||(r=a.length>1),a}),gf(e,dO(e),n),r&&(n=Ed(n,fG|hG|pG,dG));for(var s=t.length;s--;)cG(n,t[s]);return n});function OO(e,t,n,r){if(!Vs(e))return e;t=yf(t,e);for(var s=-1,a=t.length,i=a-1,o=e;o!=null&&++s<a;){var l=bf(t[s]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(s!=i){var c=o[l];u=void 0,u===void 0&&(u=Vs(c)?c:wy(t[s+1])?[]:{})}W3(o,l,u),o=o[l]}return e}function mG(e,t,n){for(var r=-1,s=t.length,a={};++r<s;){var i=t[r],o=xy(e,i);n(o,i)&&OO(a,yf(i,e),o)}return a}function gG(e,t){return mG(e,t,function(n,r){return SO(e,r)})}var Jo=rO(function(e,t){return e==null?{}:gG(e,t)});function vG(e,t,n){return e==null?e:OO(e,t,n)}var yG="Expected a function";function Bl(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(yG);return Vs(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),fo(e,t,{leading:r,maxWait:t,trailing:s})}var bG=1/0,wG=xd&&1/t6(new xd([,-0]))[1]==bG?function(e){return new xd(e)}:$V,_G=200;function SG(e,t,n){var r=-1,s=VV,a=e.length,i=!0,o=[],l=o;if(a>=_G){var u=wG(e);if(u)return t6(u);i=!1,s=vO,l=new Qh}else l=o;e:for(;++r<a;){var c=e[r],d=c;if(c=c!==0?c:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;o.push(c)}else s(l,d,n)||(l!==o&&l.push(d),o.push(c))}return o}var ib=X8(function(e){return SG(Gp(e,1,EO,!0))}),CG={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value",alphaDescription:"alpha {alpha}, current color is {color}",hueLabel:"pick hue value",hueDescription:"hue {hue}, current color is {color}",svLabel:"pick saturation and brightness value",svDescription:"saturation {saturation}, brightness {brightness}, current color is {color}",predefineDescription:"select {value} as the color"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum",selectAllLabel:"Select all rows",selectRowLabel:"Select this row",expandRowLabel:"Expand this row",collapseRowLabel:"Collapse this row",sortLabel:"Sort by {column}",filterLabel:"Filter by {column}"},tag:{close:"Close this tag"},tour:{next:"Next",previous:"Previous",finish:"Finish",close:"Close this dialog"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const xG=e=>(t,n)=>EG(t,n,f(e)),EG=(e,t,n)=>dr(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var a;return`${(a=t==null?void 0:t[s])!=null?a:`{${s}}`}`}),TG=e=>({lang:E(()=>f(e).name),locale:Cn(e)?e:L(e),t:xG(e)}),$O=Symbol("localeContextKey"),Mt=e=>{const t=e||Ve($O,L());return TG(E(()=>t.value||CG))},Th="el",kG="is-",_u=(e,t,n,r,s)=>{let a=`${e}-${t}`;return n&&(a+=`-${n}`),r&&(a+=`__${r}`),s&&(a+=`--${s}`),a},AO=Symbol("namespaceContextKey"),n6=e=>{const t=e||(wt()?Ve(AO,L(Th)):L(Th));return E(()=>f(t)||Th)},Se=(e,t)=>{const n=n6(t);return{namespace:n,b:(g="")=>_u(n.value,e,g,"",""),e:g=>g?_u(n.value,e,"",g,""):"",m:g=>g?_u(n.value,e,"","",g):"",be:(g,v)=>g&&v?_u(n.value,e,g,v,""):"",em:(g,v)=>g&&v?_u(n.value,e,"",g,v):"",bm:(g,v)=>g&&v?_u(n.value,e,g,"",v):"",bem:(g,v,y)=>g&&v&&y?_u(n.value,e,g,v,y):"",is:(g,...v)=>{const y=v.length>=1?v[0]:!0;return g&&y?`${kG}${g}`:""},cssVar:g=>{const v={};for(const y in g)g[y]&&(v[`--${n.value}-${y}`]=g[y]);return v},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const v={};for(const y in g)g[y]&&(v[`--${n.value}-${e}-${y}`]=g[y]);return v},cssVarBlockName:g=>`--${n.value}-${e}-${g}`}},Vt=e=>e===void 0,cn=e=>typeof e=="boolean",Xe=e=>typeof e=="number",Ds=e=>!e&&e!==0||ke(e)&&e.length===0||ht(e)&&!Object.keys(e).length,Ys=e=>typeof Element>"u"?!1:e instanceof Element,qs=e=>or(e),NG=e=>Ke(e)?!Number.isNaN(Number(e)):!1,Yp=e=>e===window;function RO(e,t){var n;const r=wn();return ea(()=>{r.value=e()},{...t,flush:(n=void 0)!=null?n:"sync"}),ic(r)}function xc(e){return SI()?(CI(e),!0):!1}function fa(e){return typeof e=="function"?e():f(e)}function IG(e){if(!Cn(e))return Xt(e);const t=new Proxy({},{get(n,r,s){return f(Reflect.get(e.value,r,s))},set(n,r,s){return Cn(e.value[r])&&!Cn(s)?e.value[r].value=s:e.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(e.value,r)},has(n,r){return Reflect.has(e.value,r)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Xt(t)}function OG(e){return IG(E(e))}const Yt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $G=e=>typeof e<"u",MO=e=>e!=null,AG=Object.prototype.toString,RG=e=>AG.call(e)==="[object Object]",PO=(e,t,n)=>Math.min(n,Math.max(t,e)),hi=()=>{},Kv=MG();function MG(){var e,t;return Yt&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function LO(e,t){function n(...r){return new Promise((s,a)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(a)})}return n}function PG(e,t={}){let n,r,s=hi;const a=o=>{clearTimeout(o),s(),s=hi};return o=>{const l=fa(e),u=fa(t.maxWait);return n&&a(n),l<=0||u!==void 0&&u<=0?(r&&(a(r),r=null),Promise.resolve(o())):new Promise((c,d)=>{s=t.rejectOnCancel?d:c,u&&!r&&(r=setTimeout(()=>{n&&a(n),r=null,c(o())},u)),n=setTimeout(()=>{r&&a(r),r=null,c(o())},l)})}}function LG(...e){let t=0,n,r=!0,s=hi,a,i,o,l,u;!Cn(e[0])&&typeof e[0]=="object"?{delay:i,trailing:o=!0,leading:l=!0,rejectOnCancel:u=!1}=e[0]:[i,o=!0,l=!0,u=!1]=e;const c=()=>{n&&(clearTimeout(n),n=void 0,s(),s=hi)};return h=>{const p=fa(i),m=Date.now()-t,g=()=>a=h();return c(),p<=0?(t=Date.now(),g()):(m>p&&(l||!r)?(t=Date.now(),g()):o&&(a=new Promise((v,y)=>{s=u?y:v,n=setTimeout(()=>{t=Date.now(),r=!0,v(g()),c()},Math.max(0,p-m))})),!l&&!n&&(n=setTimeout(()=>r=!0,p)),r=!1,a)}}function DG(e){return wt()}function qp(e,t=200,n={}){return LO(PG(t,n),e)}function zG(e,t=200,n={}){const r=L(e.value),s=qp(()=>{r.value=e.value},t,n);return fe(e,()=>s()),r}function DO(e,t=200,n=!1,r=!0,s=!1){return LO(LG(t,n,r,s),e)}function r6(e,t=!0,n){DG()?_t(e,n):t?e():Fe(e)}function Bd(e,t,n={}){const{immediate:r=!0}=n,s=L(!1);let a=null;function i(){a&&(clearTimeout(a),a=null)}function o(){s.value=!1,i()}function l(...u){i(),s.value=!0,a=setTimeout(()=>{s.value=!1,a=null,e(...u)},fa(t))}return r&&(s.value=!0,Yt&&l()),xc(o),{isPending:ic(s),start:l,stop:o}}function br(e){var t;const n=fa(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Oi=Yt?window:void 0,FG=Yt?window.document:void 0;function nn(...e){let t,n,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,s]=e,t=Oi):[t,n,r,s]=e,!t)return hi;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const a=[],i=()=>{a.forEach(c=>c()),a.length=0},o=(c,d,h,p)=>(c.addEventListener(d,h,p),()=>c.removeEventListener(d,h,p)),l=fe(()=>[br(t),fa(s)],([c,d])=>{if(i(),!c)return;const h=RG(d)?{...d}:d;a.push(...n.flatMap(p=>r.map(m=>o(c,p,m,h))))},{immediate:!0,flush:"post"}),u=()=>{l(),i()};return xc(u),u}let Bx=!1;function s6(e,t,n={}){const{window:r=Oi,ignore:s=[],capture:a=!0,detectIframe:i=!1}=n;if(!r)return hi;Kv&&!Bx&&(Bx=!0,Array.from(r.document.body.children).forEach(h=>h.addEventListener("click",hi)),r.document.documentElement.addEventListener("click",hi));let o=!0;const l=h=>s.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(m=>m===h.target||h.composedPath().includes(m));{const m=br(p);return m&&(h.target===m||h.composedPath().includes(m))}}),c=[nn(r,"click",h=>{const p=br(e);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(o=!l(h)),!o){o=!0;return}t(h)}},{passive:!0,capture:a}),nn(r,"pointerdown",h=>{const p=br(e);o=!l(h)&&!!(p&&!h.composedPath().includes(p))},{passive:!0}),i&&nn(r,"blur",h=>{setTimeout(()=>{var p;const m=br(e);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(m!=null&&m.contains(r.document.activeElement))&&t(h)},0)})].filter(Boolean);return()=>c.forEach(h=>h())}function BG(){const e=L(!1),t=wt();return t&&_t(()=>{e.value=!0},t),e}function ky(e){const t=BG();return E(()=>(t.value,!!e()))}function Xp(e,t,n={}){const{window:r=Oi,...s}=n;let a;const i=ky(()=>r&&"MutationObserver"in r),o=()=>{a&&(a.disconnect(),a=void 0)},l=E(()=>{const h=fa(e),p=(Array.isArray(h)?h:[h]).map(br).filter(MO);return new Set(p)}),u=fe(()=>l.value,h=>{o(),i.value&&h.size&&(a=new MutationObserver(t),h.forEach(p=>a.observe(p,s)))},{immediate:!0,flush:"post"}),c=()=>a==null?void 0:a.takeRecords(),d=()=>{o(),u()};return xc(d),{isSupported:i,stop:d,takeRecords:c}}function jG(e={}){var t;const{window:n=Oi,deep:r=!0,triggerOnRemoval:s=!1}=e,a=(t=e.document)!=null?t:n==null?void 0:n.document,i=()=>{var u;let c=a==null?void 0:a.activeElement;if(r)for(;c!=null&&c.shadowRoot;)c=(u=c==null?void 0:c.shadowRoot)==null?void 0:u.activeElement;return c},o=L(),l=()=>{o.value=i()};return n&&(nn(n,"blur",u=>{u.relatedTarget===null&&l()},!0),nn(n,"focus",l,!0)),s&&Xp(a,u=>{u.filter(c=>c.removedNodes.length).map(c=>Array.from(c.removedNodes)).flat().forEach(c=>{c===o.value&&l()})},{childList:!0,subtree:!0}),l(),o}function VG(e,t={}){const{window:n=Oi}=t,r=ky(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const a=L(!1),i=u=>{a.value=u.matches},o=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",i):s.removeListener(i))},l=ea(()=>{r.value&&(o(),s=n.matchMedia(fa(e)),"addEventListener"in s?s.addEventListener("change",i):s.addListener(i),a.value=s.matches)});return xc(()=>{l(),o(),s=void 0}),a}function HG(e){return JSON.parse(JSON.stringify(e))}function UG(e,t,n={}){const{window:r=Oi,initialValue:s="",observe:a=!1}=n,i=L(s),o=E(()=>{var u;return br(t)||((u=r==null?void 0:r.document)==null?void 0:u.documentElement)});function l(){var u;const c=fa(e),d=fa(o);if(d&&r){const h=(u=r.getComputedStyle(d).getPropertyValue(c))==null?void 0:u.trim();i.value=h||s}}return a&&Xp(o,l,{attributeFilter:["style","class"],window:r}),fe([o,()=>fa(e)],l,{immediate:!0}),fe(i,u=>{var c;(c=o.value)!=null&&c.style&&o.value.style.setProperty(fa(e),u)}),i}function WG(e={}){const{document:t=FG}=e;if(!t)return L("visible");const n=L(t.visibilityState);return nn(t,"visibilitychange",()=>{n.value=t.visibilityState}),n}function $n(e,t,n={}){const{window:r=Oi,...s}=n;let a;const i=ky(()=>r&&"ResizeObserver"in r),o=()=>{a&&(a.disconnect(),a=void 0)},l=E(()=>Array.isArray(e)?e.map(d=>br(d)):[br(e)]),u=fe(l,d=>{if(o(),i.value&&r){a=new ResizeObserver(t);for(const h of d)h&&a.observe(h,s)}},{immediate:!0,flush:"post"}),c=()=>{o(),u()};return xc(c),{isSupported:i,stop:c}}function jx(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:s=!0,immediate:a=!0}=t,i=L(0),o=L(0),l=L(0),u=L(0),c=L(0),d=L(0),h=L(0),p=L(0);function m(){const g=br(e);if(!g){n&&(i.value=0,o.value=0,l.value=0,u.value=0,c.value=0,d.value=0,h.value=0,p.value=0);return}const v=g.getBoundingClientRect();i.value=v.height,o.value=v.bottom,l.value=v.left,u.value=v.right,c.value=v.top,d.value=v.width,h.value=v.x,p.value=v.y}return $n(e,m),fe(()=>br(e),g=>!g&&m()),Xp(e,m,{attributeFilter:["style","class"]}),s&&nn("scroll",m,{capture:!0,passive:!0}),r&&nn("resize",m,{passive:!0}),r6(()=>{a&&m()}),{height:i,bottom:o,left:l,right:u,top:c,width:d,x:h,y:p,update:m}}function X2(e,t={width:0,height:0},n={}){const{window:r=Oi,box:s="content-box"}=n,a=E(()=>{var d,h;return(h=(d=br(e))==null?void 0:d.namespaceURI)==null?void 0:h.includes("svg")}),i=L(t.width),o=L(t.height),{stop:l}=$n(e,([d])=>{const h=s==="border-box"?d.borderBoxSize:s==="content-box"?d.contentBoxSize:d.devicePixelContentBoxSize;if(r&&a.value){const p=br(e);if(p){const m=p.getBoundingClientRect();i.value=m.width,o.value=m.height}}else if(h){const p=Array.isArray(h)?h:[h];i.value=p.reduce((m,{inlineSize:g})=>m+g,0),o.value=p.reduce((m,{blockSize:g})=>m+g,0)}else i.value=d.contentRect.width,o.value=d.contentRect.height},n);r6(()=>{const d=br(e);d&&(i.value="offsetWidth"in d?d.offsetWidth:t.width,o.value="offsetHeight"in d?d.offsetHeight:t.height)});const u=fe(()=>br(e),d=>{i.value=d?t.width:0,o.value=d?t.height:0});function c(){l(),u()}return{width:i,height:o,stop:c}}function KG(e,t,n={}){const{root:r,rootMargin:s="0px",threshold:a=.1,window:i=Oi,immediate:o=!0}=n,l=ky(()=>i&&"IntersectionObserver"in i),u=E(()=>{const m=fa(e);return(Array.isArray(m)?m:[m]).map(br).filter(MO)});let c=hi;const d=L(o),h=l.value?fe(()=>[u.value,br(r),d.value],([m,g])=>{if(c(),!d.value||!m.length)return;const v=new IntersectionObserver(t,{root:br(g),rootMargin:s,threshold:a});m.forEach(y=>y&&v.observe(y)),c=()=>{v.disconnect(),c=hi}},{immediate:o,flush:"post"}):hi,p=()=>{c(),h(),d.value=!1};return xc(p),{isSupported:l,isActive:d,pause(){c(),d.value=!1},resume(){d.value=!0},stop:p}}function zO(e,t,n,r={}){var s,a,i;const{clone:o=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:h}=r,p=wt(),m=n||(p==null?void 0:p.emit)||((s=p==null?void 0:p.$emit)==null?void 0:s.bind(p))||((i=(a=p==null?void 0:p.proxy)==null?void 0:a.$emit)==null?void 0:i.bind(p==null?void 0:p.proxy));let g=u;t||(t="modelValue"),g=g||`update:${t.toString()}`;const v=w=>o?typeof o=="function"?o(w):HG(w):w,y=()=>$G(e[t])?v(e[t]):d,b=w=>{h?h(w)&&m(g,w):m(g,w)};if(l){const w=y(),_=L(w);let S=!1;return fe(()=>e[t],C=>{S||(S=!0,_.value=v(C),Fe(()=>S=!1))}),fe(_,C=>{!S&&(C!==e[t]||c)&&b(C)},{deep:c}),_}else return E({get(){return y()},set(w){b(w)}})}function GG(e={}){const{window:t=Oi}=e;if(!t)return L(!1);const n=L(t.document.hasFocus());return nn(t,"blur",()=>{n.value=!1}),nn(t,"focus",()=>{n.value=!0}),n}function a6(e={}){const{window:t=Oi,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:a=!0}=e,i=L(n),o=L(r),l=()=>{t&&(a?(i.value=t.innerWidth,o.value=t.innerHeight):(i.value=t.document.documentElement.clientWidth,o.value=t.document.documentElement.clientHeight))};if(l(),r6(l),nn("resize",l,{passive:!0}),s){const u=VG("(orientation: portrait)");fe(u,()=>l())}return{width:i,height:o}}class ZG extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function fr(e,t){throw new ZG(`[${e}] ${t}`)}const Vx={current:0},Hx=L(0),FO=2e3,Ux=Symbol("elZIndexContextKey"),BO=Symbol("zIndexContextKey"),Jp=e=>{const t=wt()?Ve(Ux,Vx):Vx,n=e||(wt()?Ve(BO,void 0):void 0),r=E(()=>{const i=f(n);return Xe(i)?i:FO}),s=E(()=>r.value+Hx.value),a=()=>(t.current++,Hx.value=t.current,s.value);return!Yt&&Ve(Ux),{initialZIndex:r,currentZIndex:s,nextZIndex:a}},jO="__epPropKey",ne=e=>e,YG=e=>ht(e)&&!!e[jO],$i=(e,t)=>{if(!ht(e)||YG(e))return e;const{values:n,required:r,default:s,type:a,validator:i}=e,l={type:a,required:!!r,validator:n||i?u=>{let c=!1,d=[];if(n&&(d=Array.from(n),Zt(e,"default")&&d.push(s),c||(c=d.includes(u))),i&&(c||(c=i(u))),!c&&d.length>0){const h=[...new Set(d)].map(p=>JSON.stringify(p)).join(", ");pj(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${h}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[jO]:!0};return Zt(e,"default")&&(l.default=s),l},$e=e=>ep(Object.entries(e).map(([t,n])=>[t,$i(n,t)])),Ai=["","default","small","large"],wr=$i({type:String,values:Ai,required:!1}),VO=Symbol("size"),HO=()=>{const e=Ve(VO,{});return E(()=>f(e.size)||"")},UO=Symbol("emptyValuesContextKey"),qG=["",void 0,null],XG=void 0,Ec=$e({emptyValues:Array,valueOnClear:{type:ne([String,Number,Boolean,Function]),default:void 0,validator:e=>(e=Ye(e)?e():e,ke(e)?e.every(t=>!t):!e)}}),Qp=(e,t)=>{const n=wt()?Ve(UO,L({})):L({}),r=E(()=>e.emptyValues||n.value.emptyValues||qG),s=E(()=>Ye(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:Ye(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:t!==void 0?t:XG),a=i=>{let o=!0;return ke(i)?o=r.value.some(l=>Yn(i,l)):o=r.value.includes(i),o};return a(s.value),{emptyValues:r,valueOnClear:s,isEmptyValue:a}},tp=e=>Object.keys(e),WO=e=>Object.entries(e),Td=(e,t,n)=>({get value(){return dr(e,t,n)},set value(r){vG(e,t,r)}}),Gv=L();function wf(e,t=void 0){const n=wt()?Ve(H8,Gv):Gv;return e?E(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function Ny(e,t){const n=wf(),r=Se(e,E(()=>{var o;return((o=n.value)==null?void 0:o.namespace)||Th})),s=Mt(E(()=>{var o;return(o=n.value)==null?void 0:o.locale})),a=Jp(E(()=>{var o;return((o=n.value)==null?void 0:o.zIndex)||FO})),i=E(()=>{var o;return f(t)||((o=n.value)==null?void 0:o.size)||""});return i6(E(()=>f(n)||{})),{ns:r,locale:s,zIndex:a,size:i}}const i6=(e,t,n=!1)=>{var r;const s=!!wt(),a=s?wf():void 0,i=(r=t==null?void 0:t.provide)!=null?r:s?At:void 0;if(!i)return;const o=E(()=>{const l=f(e);return a!=null&&a.value?JG(a.value,l):l});return i(H8,o),i($O,E(()=>o.value.locale)),i(AO,E(()=>o.value.namespace)),i(BO,E(()=>o.value.zIndex)),i(VO,{size:E(()=>o.value.size||"")}),i(UO,E(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(n||!Gv.value)&&(Gv.value=o.value),o},JG=(e,t)=>{const n=[...new Set([...tp(e),...tp(t)])],r={};for(const s of n)r[s]=t[s]!==void 0?t[s]:e[s];return r},QG=(e=[])=>({version:Zj,install:(n,r)=>{n[cx]||(n[cx]=!0,e.forEach(s=>n.use(s)),r&&i6(r,n,!0))}}),em=$e({to:{type:ne([String,Object]),required:!0},disabled:Boolean}),it="update:modelValue",It="change",mr="input",eZ=$e({zIndex:{type:ne([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"},teleported:Boolean,appendTo:{type:em.to.type,default:"body"}}),tZ={scroll:({scrollTop:e,fixed:t})=>Xe(e)&&cn(t),[It]:e=>cn(e)};var nZ=de({__name:"teleport",props:em,setup(e){return(t,n)=>t.disabled?ie(t.$slots,"default",{key:0}):(I(),ce(_B,{key:1,to:t.to},[ie(t.$slots,"default")],8,["to"]))}});const dt=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},KO=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),rZ=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Bn=e=>(e.install=tn,e),_f=dt(nZ);function sZ(e,t,n,r){const s=n-t;return e/=r/2,e<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t}const ho=e=>Yt?window.requestAnimationFrame(e):setTimeout(e,16),Qo=e=>Yt?window.cancelAnimationFrame(e):clearTimeout(e),GO=(e="")=>e.split(" ").filter(t=>!!t.trim()),no=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Da=(e,t)=>{!e||!t.trim()||e.classList.add(...GO(t))},ws=(e,t)=>{!e||!t.trim()||e.classList.remove(...GO(t))},Bo=(e,t)=>{var n;if(!Yt||!e||!t)return"";let r=Fs(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const a=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return a?a[r]:""}catch{return e.style[r]}},ZO=(e,t,n)=>{if(!(!e||!t))if(ht(t))WO(t).forEach(([r,s])=>ZO(e,r,s));else{const r=Fs(t);e.style[r]=n}};function Gn(e,t="px"){if(!e&&e!==0)return"";if(Xe(e)||NG(e))return`${e}${t}`;if(Ke(e))return e}const aZ=(e,t)=>{if(!Yt)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=Bo(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},o6=(e,t)=>{if(!Yt)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(aZ(n,t))return n;n=n.parentNode}return n};let Xm;const YO=e=>{var t;if(!Yt)return 0;if(Xm!==void 0)return Xm;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const a=s.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),Xm=r-a,Xm};function l6(e,t){if(!Yt)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const s=t.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),a=s+t.offsetHeight,i=e.scrollTop,o=i+e.clientHeight;s<i?e.scrollTop=s:a>o&&(e.scrollTop=a-e.clientHeight)}function iZ(e,t,n,r,s){const a=Date.now();let i;const o=()=>{const u=Date.now()-a,c=sZ(u>r?r:u,t,n,r);Yp(e)?e.scrollTo(window.pageXOffset,c):e.scrollTop=c,u<r?i=ho(o):Ye(s)&&s()};return o(),()=>{i&&Qo(i)}}const Wx=(e,t)=>Yp(t)?e.ownerDocument.documentElement:t,Kx=e=>Yp(e)?window.scrollY:e.scrollTop,Gx="ElAffix";var oZ=de({name:Gx,__name:"affix",props:eZ,emits:tZ,setup(e,{expose:t,emit:n}){const r=e,s=n,a=Se("affix"),i=wn(),o=wn(),l=wn(),{height:u}=a6(),{height:c,width:d,top:h,bottom:p,left:m,update:g}=jx(o,{windowScroll:!1}),v=jx(i),y=L(!1),b=L(0),w=L(0),_=E(()=>!r.teleported||!y.value),S=E(()=>({height:y.value?`${c.value}px`:"",width:y.value?`${d.value}px`:""})),C=E(()=>{if(!y.value)return{};const k=Gn(r.offset);return{height:`${c.value}px`,width:`${d.value}px`,top:r.position==="top"?k:"",bottom:r.position==="bottom"?k:"",left:r.teleported?`${m.value}px`:"",transform:w.value?`translateY(${w.value}px)`:"",zIndex:r.zIndex}}),T=()=>{if(!l.value)return;b.value=l.value instanceof Window?document.documentElement.scrollTop:l.value.scrollTop||0;const{position:k,target:A,offset:O}=r,F=O+c.value;if(k==="top")if(A){const j=v.bottom.value-F;y.value=O>h.value&&v.bottom.value>0,w.value=j<0?j:0}else y.value=O>h.value;else if(A){const j=u.value-v.top.value-F;y.value=u.value-O<p.value&&u.value>v.top.value,w.value=j<0?-j:0}else y.value=u.value-O<p.value},x=async()=>{if(!y.value){g();return}y.value=!1,await Fe(),g(),y.value=!0},N=async()=>{g(),await Fe(),s("scroll",{scrollTop:b.value,fixed:y.value})};return fe(y,k=>s(It,k)),_t(()=>{var k;r.target?(i.value=(k=document.querySelector(r.target))!=null?k:void 0,i.value||fr(Gx,`Target does not exist: ${r.target}`)):i.value=document.documentElement,l.value=o6(o.value,!0),g()}),Vp(()=>{Fe(x)}),A3(()=>{y.value=!1}),nn(l,"scroll",N),ea(T),t({update:T,updateRoot:x}),(k,A)=>(I(),K("div",{ref_key:"root",ref:o,class:M(f(a).b()),style:qe(S.value)},[q(f(_f),{disabled:_.value,to:e.appendTo},{default:re(()=>[Z("div",{class:M({[f(a).m("fixed")]:y.value}),style:qe(C.value)},[ie(k.$slots,"default")],6)]),_:3},8,["disabled","to"])],6))}});const lZ=dt(oZ);/*! Element Plus Icons Vue v2.3.2 */var uZ=de({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.59 30.59 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.59 30.59 0 0 0-42.752 0z"})]))}}),Ri=uZ,cZ=de({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0"})]))}}),el=cZ,dZ=de({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M340.864 149.312a30.59 30.59 0 0 0 0 42.752L652.736 512 340.864 831.872a30.59 30.59 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),_s=dZ,fZ=de({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Iy=fZ,hZ=de({name:"Back",__name:"back",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Z("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),pZ=hZ,mZ=de({name:"Calendar",__name:"calendar",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),gZ=mZ,vZ=de({name:"CaretRight",__name:"caret-right",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),qO=vZ,yZ=de({name:"CaretTop",__name:"caret-top",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),bZ=yZ,wZ=de({name:"ChatLineSquare",__name:"chat-line-square",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 826.88 273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"}),Z("path",{fill:"currentColor",d:"M352 512h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m0-192h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32"})]))}}),_Z=wZ,SZ=de({name:"Check",__name:"check",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),tm=SZ,CZ=de({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),xZ=CZ,EZ=de({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z"})]))}}),u6=EZ,TZ=de({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),c6=TZ,kZ=de({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),_o=kZ,NZ=de({name:"CirclePlus",__name:"circle-plus",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),Z("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0"}),Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),IZ=NZ,OZ=de({name:"Clock",__name:"clock",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Z("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),d6=OZ,$Z=de({name:"Close",__name:"close",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),ja=$Z,AZ=de({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672zm256 0a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672z"})]))}}),Jl=AZ,RZ=de({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L764.736 512 452.864 192a30.59 30.59 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L508.736 512 196.864 192a30.59 30.59 0 0 1 0-42.688"})]))}}),Ql=RZ,MZ=de({name:"Delete",__name:"delete",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),f6=MZ,PZ=de({name:"Document",__name:"document",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),XO=PZ,LZ=de({name:"Download",__name:"download",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),DZ=LZ,zZ=de({name:"Files",__name:"files",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 384v448h768V384zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32m64-128h704v64H160zm96-128h512v64H256z"})]))}}),Zx=zZ,FZ=de({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),JO=FZ,BZ=de({name:"Hide",__name:"hide",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176"}),Z("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48"})]))}}),jZ=BZ,VZ=de({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),np=VZ,HZ=de({name:"Loading",__name:"loading",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"})]))}}),po=HZ,UZ=de({name:"Minus",__name:"minus",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),WZ=UZ,KZ=de({name:"MoreFilled",__name:"more-filled",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),Yx=KZ,GZ=de({name:"More",__name:"more",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),ZZ=GZ,YZ=de({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),qZ=YZ,XZ=de({name:"Picture",__name:"picture",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),Z("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64-64-64 64-64M185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952z"})]))}}),JZ=XZ,QZ=de({name:"Plus",__name:"plus",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),Oy=QZ,eY=de({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592q0-64.416-42.24-101.376c-28.16-25.344-65.472-37.312-111.232-37.312m-12.672 406.208a54.27 54.27 0 0 0-38.72 14.784 49.4 49.4 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.85 54.85 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.97 51.97 0 0 0-15.488-38.016 55.94 55.94 0 0 0-39.424-14.784"})]))}}),tY=eY,nY=de({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),rY=nY,sY=de({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88"})]))}}),aY=sY,iY=de({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118m-361.412 0a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118M512 361.412a30.12 30.12 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.12 30.12 0 0 0 512 361.412M512 512a30.12 30.12 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.12 30.12 0 0 0 512 512"})]))}}),oY=iY,lY=de({name:"Search",__name:"search",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),uY=lY,cY=de({name:"SortDown",__name:"sort-down",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),dY=cY,fY=de({name:"SortUp",__name:"sort-up",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),hY=fY,pY=de({name:"StarFilled",__name:"star-filled",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M313.6 924.48a70.4 70.4 0 0 1-74.152-5.365 70.4 70.4 0 0 1-27.992-68.875l37.888-220.928L88.96 472.96a70.4 70.4 0 0 1 3.788-104.225A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 100.246-28.595 70.4 70.4 0 0 1 25.962 28.595l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),Jm=pY,mY=de({name:"Star",__name:"star",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),gY=mY,vY=de({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),QO=vY,yY=de({name:"Upload",__name:"upload",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248z"})]))}}),bY=yY,wY=de({name:"View",__name:"view",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),_Y=wY,SY=de({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),$y=SY,CY=de({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),h6=CY,xY=de({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(I(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),e$=xY;const dn=ne([String,Object,Function]),t$={Close:ja},p6={Close:ja,SuccessFilled:QO,InfoFilled:np,WarningFilled:$y,CircleCloseFilled:c6},eu={primary:np,success:QO,warning:$y,error:c6,info:np},Ay={validating:po,success:u6,error:_o},EY=["light","dark"],TY=$e({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:tp(eu),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:EY,default:"light"}}),kY={close:e=>e instanceof MouseEvent},NY=$e({size:{type:ne([Number,String])},color:{type:String}});var IY=de({name:"ElIcon",inheritAttrs:!1,__name:"icon",props:NY,setup(e){const t=e,n=Se("icon"),r=E(()=>{const{size:s,color:a}=t,i=Gn(s);return!i&&!a?{}:{fontSize:i,"--color":a}});return(s,a)=>(I(),K("i",bt({class:f(n).b(),style:r.value},s.$attrs),[ie(s.$slots,"default")],16))}});const We=dt(IY);var Ma=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Ma||{});function J2(e){return vn(e)&&e.type===Ge}function n$(e){return vn(e)&&e.type===ir}function OY(e){return vn(e)&&!J2(e)&&!n$(e)}const $Y=e=>{if(!vn(e))return{};const t=e.props||{},n=(vn(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(s=>{Zt(n[s],"default")&&(r[s]=n[s].default)}),Object.keys(t).forEach(s=>{r[Fs(s)]=t[s]}),r},ha=e=>{const t=ke(e)?e:[e],n=[];return t.forEach(r=>{var s;ke(r)?n.push(...ha(r)):vn(r)&&((s=r.component)!=null&&s.subTree)?n.push(r,...ha(r.component.subTree)):vn(r)&&ke(r.children)?n.push(...ha(r.children)):vn(r)&&r.shapeFlag===2?n.push(...ha(r.type())):n.push(r)}),n};var AY=de({name:"ElAlert",__name:"alert",props:TY,emits:kY,setup(e,{emit:t}){const{Close:n}=p6,r=e,s=t,a=nr(),i=Se("alert"),o=L(!0),l=E(()=>eu[r.type]),u=E(()=>{var d;if(r.description)return!0;const h=(d=a.default)==null?void 0:d.call(a);return h?ha(h).some(m=>!n$(m)):!1}),c=d=>{o.value=!1,s("close",d)};return(d,h)=>(I(),ce(Gr,{name:f(i).b("fade"),persisted:""},{default:re(()=>[vt(Z("div",{class:M([f(i).b(),f(i).m(e.type),f(i).is("center",e.center),f(i).is(e.effect)]),role:"alert"},[e.showIcon&&(d.$slots.icon||l.value)?(I(),ce(f(We),{key:0,class:M([f(i).e("icon"),f(i).is("big",u.value)])},{default:re(()=>[ie(d.$slots,"icon",{},()=>[(I(),ce(yt(l.value)))])]),_:3},8,["class"])):le("v-if",!0),Z("div",{class:M(f(i).e("content"))},[e.title||d.$slots.title?(I(),K("span",{key:0,class:M([f(i).e("title"),{"with-description":u.value}])},[ie(d.$slots,"title",{},()=>[gt(Ie(e.title),1)])],2)):le("v-if",!0),u.value?(I(),K("p",{key:1,class:M(f(i).e("description"))},[ie(d.$slots,"default",{},()=>[gt(Ie(e.description),1)])],2)):le("v-if",!0),e.closable?(I(),K(Ge,{key:2},[e.closeText?(I(),K("div",{key:0,class:M([f(i).e("close-btn"),f(i).is("customed")]),onClick:c},Ie(e.closeText),3)):(I(),ce(f(We),{key:1,class:M(f(i).e("close-btn")),onClick:c},{default:re(()=>[q(f(n))]),_:1},8,["class"]))],64)):le("v-if",!0)],2)],2),[[Kt,o.value]])]),_:3},8,["name"]))}});const RY=dt(AY);var Xs="top",Va="bottom",Ha="right",Js="left",m6="auto",nm=[Xs,Va,Ha,Js],jd="start",rp="end",MY="clippingParents",r$="viewport",Ff="popper",PY="reference",qx=nm.reduce(function(e,t){return e.concat([t+"-"+jd,t+"-"+rp])},[]),So=[].concat(nm,[m6]).reduce(function(e,t){return e.concat([t,t+"-"+jd,t+"-"+rp])},[]),LY="beforeRead",DY="read",zY="afterRead",FY="beforeMain",BY="main",jY="afterMain",VY="beforeWrite",HY="write",UY="afterWrite",WY=[LY,DY,zY,FY,BY,jY,VY,HY,UY];function mo(e){return e?(e.nodeName||"").toLowerCase():null}function Ca(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function uc(e){var t=Ca(e).Element;return e instanceof t||e instanceof Element}function Fa(e){var t=Ca(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function g6(e){if(typeof ShadowRoot>"u")return!1;var t=Ca(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function KY(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},a=t.elements[n];!Fa(a)||!mo(a)||(Object.assign(a.style,r),Object.keys(s).forEach(function(i){var o=s[i];o===!1?a.removeAttribute(i):a.setAttribute(i,o===!0?"":o)}))})}function GY(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],a=t.attributes[r]||{},i=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),o=i.reduce(function(l,u){return l[u]="",l},{});!Fa(s)||!mo(s)||(Object.assign(s.style,o),Object.keys(a).forEach(function(l){s.removeAttribute(l)}))})}}var s$={name:"applyStyles",enabled:!0,phase:"write",fn:KY,effect:GY,requires:["computeStyles"]};function ro(e){return e.split("-")[0]}var qu=Math.max,Zv=Math.min,Vd=Math.round;function Q2(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function a$(){return!/^((?!chrome|android).)*safari/i.test(Q2())}function Hd(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),s=1,a=1;t&&Fa(e)&&(s=e.offsetWidth>0&&Vd(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Vd(r.height)/e.offsetHeight||1);var i=uc(e)?Ca(e):window,o=i.visualViewport,l=!a$()&&n,u=(r.left+(l&&o?o.offsetLeft:0))/s,c=(r.top+(l&&o?o.offsetTop:0))/a,d=r.width/s,h=r.height/a;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function v6(e){var t=Hd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function i$(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&g6(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tl(e){return Ca(e).getComputedStyle(e)}function ZY(e){return["table","td","th"].indexOf(mo(e))>=0}function hu(e){return((uc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ry(e){return mo(e)==="html"?e:e.assignedSlot||e.parentNode||(g6(e)?e.host:null)||hu(e)}function Xx(e){return!Fa(e)||tl(e).position==="fixed"?null:e.offsetParent}function YY(e){var t=/firefox/i.test(Q2()),n=/Trident/i.test(Q2());if(n&&Fa(e)){var r=tl(e);if(r.position==="fixed")return null}var s=Ry(e);for(g6(s)&&(s=s.host);Fa(s)&&["html","body"].indexOf(mo(s))<0;){var a=tl(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function rm(e){for(var t=Ca(e),n=Xx(e);n&&ZY(n)&&tl(n).position==="static";)n=Xx(n);return n&&(mo(n)==="html"||mo(n)==="body"&&tl(n).position==="static")?t:n||YY(e)||t}function y6(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function kh(e,t,n){return qu(e,Zv(t,n))}function qY(e,t,n){var r=kh(e,t,n);return r>n?n:r}function o$(){return{top:0,right:0,bottom:0,left:0}}function l$(e){return Object.assign({},o$(),e)}function u$(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var XY=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,l$(typeof e!="number"?e:u$(e,nm))};function JY(e){var t,n=e.state,r=e.name,s=e.options,a=n.elements.arrow,i=n.modifiersData.popperOffsets,o=ro(n.placement),l=y6(o),u=[Js,Ha].indexOf(o)>=0,c=u?"height":"width";if(!(!a||!i)){var d=XY(s.padding,n),h=v6(a),p=l==="y"?Xs:Js,m=l==="y"?Va:Ha,g=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],v=i[l]-n.rects.reference[l],y=rm(a),b=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,w=g/2-v/2,_=d[p],S=b-h[c]-d[m],C=b/2-h[c]/2+w,T=kh(_,C,S),x=l;n.modifiersData[r]=(t={},t[x]=T,t.centerOffset=T-C,t)}}function QY(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||i$(t.elements.popper,s)&&(t.elements.arrow=s))}var eq={name:"arrow",enabled:!0,phase:"main",fn:JY,effect:QY,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ud(e){return e.split("-")[1]}var tq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nq(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Vd(n*s)/s||0,y:Vd(r*s)/s||0}}function Jx(e){var t,n=e.popper,r=e.popperRect,s=e.placement,a=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=i.x,p=h===void 0?0:h,m=i.y,g=m===void 0?0:m,v=typeof c=="function"?c({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var y=i.hasOwnProperty("x"),b=i.hasOwnProperty("y"),w=Js,_=Xs,S=window;if(u){var C=rm(n),T="clientHeight",x="clientWidth";if(C===Ca(n)&&(C=hu(n),tl(C).position!=="static"&&o==="absolute"&&(T="scrollHeight",x="scrollWidth")),C=C,s===Xs||(s===Js||s===Ha)&&a===rp){_=Va;var N=d&&C===S&&S.visualViewport?S.visualViewport.height:C[T];g-=N-r.height,g*=l?1:-1}if(s===Js||(s===Xs||s===Va)&&a===rp){w=Ha;var k=d&&C===S&&S.visualViewport?S.visualViewport.width:C[x];p-=k-r.width,p*=l?1:-1}}var A=Object.assign({position:o},u&&tq),O=c===!0?nq({x:p,y:g},Ca(n)):{x:p,y:g};if(p=O.x,g=O.y,l){var F;return Object.assign({},A,(F={},F[_]=b?"0":"",F[w]=y?"0":"",F.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",F))}return Object.assign({},A,(t={},t[_]=b?g+"px":"",t[w]=y?p+"px":"",t.transform="",t))}function rq(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,a=n.adaptive,i=a===void 0?!0:a,o=n.roundOffsets,l=o===void 0?!0:o,u={placement:ro(t.placement),variation:Ud(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Jx(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Jx(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var c$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rq,data:{}},Qm={passive:!0};function sq(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,a=s===void 0?!0:s,i=r.resize,o=i===void 0?!0:i,l=Ca(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",n.update,Qm)}),o&&l.addEventListener("resize",n.update,Qm),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Qm)}),o&&l.removeEventListener("resize",n.update,Qm)}}var d$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:sq,data:{}},aq={left:"right",right:"left",bottom:"top",top:"bottom"};function tv(e){return e.replace(/left|right|bottom|top/g,function(t){return aq[t]})}var iq={start:"end",end:"start"};function Qx(e){return e.replace(/start|end/g,function(t){return iq[t]})}function b6(e){var t=Ca(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function w6(e){return Hd(hu(e)).left+b6(e).scrollLeft}function oq(e,t){var n=Ca(e),r=hu(e),s=n.visualViewport,a=r.clientWidth,i=r.clientHeight,o=0,l=0;if(s){a=s.width,i=s.height;var u=a$();(u||!u&&t==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:a,height:i,x:o+w6(e),y:l}}function lq(e){var t,n=hu(e),r=b6(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=qu(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=qu(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-r.scrollLeft+w6(e),l=-r.scrollTop;return tl(s||n).direction==="rtl"&&(o+=qu(n.clientWidth,s?s.clientWidth:0)-a),{width:a,height:i,x:o,y:l}}function _6(e){var t=tl(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function f$(e){return["html","body","#document"].indexOf(mo(e))>=0?e.ownerDocument.body:Fa(e)&&_6(e)?e:f$(Ry(e))}function Nh(e,t){var n;t===void 0&&(t=[]);var r=f$(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),a=Ca(r),i=s?[a].concat(a.visualViewport||[],_6(r)?r:[]):r,o=t.concat(i);return s?o:o.concat(Nh(Ry(i)))}function ew(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function uq(e,t){var n=Hd(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function eE(e,t,n){return t===r$?ew(oq(e,n)):uc(t)?uq(t,n):ew(lq(hu(e)))}function cq(e){var t=Nh(Ry(e)),n=["absolute","fixed"].indexOf(tl(e).position)>=0,r=n&&Fa(e)?rm(e):e;return uc(r)?t.filter(function(s){return uc(s)&&i$(s,r)&&mo(s)!=="body"}):[]}function dq(e,t,n,r){var s=t==="clippingParents"?cq(e):[].concat(t),a=[].concat(s,[n]),i=a[0],o=a.reduce(function(l,u){var c=eE(e,u,r);return l.top=qu(c.top,l.top),l.right=Zv(c.right,l.right),l.bottom=Zv(c.bottom,l.bottom),l.left=qu(c.left,l.left),l},eE(e,i,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function h$(e){var t=e.reference,n=e.element,r=e.placement,s=r?ro(r):null,a=r?Ud(r):null,i=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,l;switch(s){case Xs:l={x:i,y:t.y-n.height};break;case Va:l={x:i,y:t.y+t.height};break;case Ha:l={x:t.x+t.width,y:o};break;case Js:l={x:t.x-n.width,y:o};break;default:l={x:t.x,y:t.y}}var u=s?y6(s):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case jd:l[u]=l[u]-(t[c]/2-n[c]/2);break;case rp:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function sp(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,a=n.strategy,i=a===void 0?e.strategy:a,o=n.boundary,l=o===void 0?MY:o,u=n.rootBoundary,c=u===void 0?r$:u,d=n.elementContext,h=d===void 0?Ff:d,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,v=g===void 0?0:g,y=l$(typeof v!="number"?v:u$(v,nm)),b=h===Ff?PY:Ff,w=e.rects.popper,_=e.elements[m?b:h],S=dq(uc(_)?_:_.contextElement||hu(e.elements.popper),l,c,i),C=Hd(e.elements.reference),T=h$({reference:C,element:w,placement:s}),x=ew(Object.assign({},w,T)),N=h===Ff?x:C,k={top:S.top-N.top+y.top,bottom:N.bottom-S.bottom+y.bottom,left:S.left-N.left+y.left,right:N.right-S.right+y.right},A=e.modifiersData.offset;if(h===Ff&&A){var O=A[s];Object.keys(k).forEach(function(F){var j=[Ha,Va].indexOf(F)>=0?1:-1,V=[Xs,Va].indexOf(F)>=0?"y":"x";k[F]+=O[V]*j})}return k}function fq(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,a=n.rootBoundary,i=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?So:l,c=Ud(r),d=c?o?qx:qx.filter(function(m){return Ud(m)===c}):nm,h=d.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=d);var p=h.reduce(function(m,g){return m[g]=sp(e,{placement:g,boundary:s,rootBoundary:a,padding:i})[ro(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function hq(e){if(ro(e)===m6)return[];var t=tv(e);return[Qx(e),t,Qx(t)]}function pq(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,a=s===void 0?!0:s,i=n.altAxis,o=i===void 0?!0:i,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,v=t.options.placement,y=ro(v),b=y===v,w=l||(b||!m?[tv(v)]:hq(v)),_=[v].concat(w).reduce(function(Q,J){return Q.concat(ro(J)===m6?fq(t,{placement:J,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:g}):J)},[]),S=t.rects.reference,C=t.rects.popper,T=new Map,x=!0,N=_[0],k=0;k<_.length;k++){var A=_[k],O=ro(A),F=Ud(A)===jd,j=[Xs,Va].indexOf(O)>=0,V=j?"width":"height",G=sp(t,{placement:A,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),R=j?F?Ha:Js:F?Va:Xs;S[V]>C[V]&&(R=tv(R));var $=tv(R),D=[];if(a&&D.push(G[O]<=0),o&&D.push(G[R]<=0,G[$]<=0),D.every(function(Q){return Q})){N=A,x=!1;break}T.set(A,D)}if(x)for(var z=m?3:1,W=function(Q){var J=_.find(function(B){var P=T.get(B);if(P)return P.slice(0,Q).every(function(ae){return ae})});if(J)return N=J,"break"},Y=z;Y>0;Y--){var U=W(Y);if(U==="break")break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}var mq={name:"flip",enabled:!0,phase:"main",fn:pq,requiresIfExists:["offset"],data:{_skip:!1}};function tE(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function nE(e){return[Xs,Ha,Va,Js].some(function(t){return e[t]>=0})}function gq(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,i=sp(t,{elementContext:"reference"}),o=sp(t,{altBoundary:!0}),l=tE(i,r),u=tE(o,s,a),c=nE(l),d=nE(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var vq={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gq};function yq(e,t,n){var r=ro(e),s=[Js,Xs].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=a[0],o=a[1];return i=i||0,o=(o||0)*s,[Js,Ha].indexOf(r)>=0?{x:o,y:i}:{x:i,y:o}}function bq(e){var t=e.state,n=e.options,r=e.name,s=n.offset,a=s===void 0?[0,0]:s,i=So.reduce(function(c,d){return c[d]=yq(d,t.rects,a),c},{}),o=i[t.placement],l=o.x,u=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}var wq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bq};function _q(e){var t=e.state,n=e.name;t.modifiersData[n]=h$({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var p$={name:"popperOffsets",enabled:!0,phase:"read",fn:_q,data:{}};function Sq(e){return e==="x"?"y":"x"}function Cq(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,a=s===void 0?!0:s,i=n.altAxis,o=i===void 0?!1:i,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,g=m===void 0?0:m,v=sp(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=ro(t.placement),b=Ud(t.placement),w=!b,_=y6(y),S=Sq(_),C=t.modifiersData.popperOffsets,T=t.rects.reference,x=t.rects.popper,N=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,k=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(C){if(a){var F,j=_==="y"?Xs:Js,V=_==="y"?Va:Ha,G=_==="y"?"height":"width",R=C[_],$=R+v[j],D=R-v[V],z=p?-x[G]/2:0,W=b===jd?T[G]:x[G],Y=b===jd?-x[G]:-T[G],U=t.elements.arrow,Q=p&&U?v6(U):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:o$(),B=J[j],P=J[V],ae=kh(0,T[G],Q[G]),ee=w?T[G]/2-z-ae-B-k.mainAxis:W-ae-B-k.mainAxis,oe=w?-T[G]/2+z+ae+P+k.mainAxis:Y+ae+P+k.mainAxis,X=t.elements.arrow&&rm(t.elements.arrow),H=X?_==="y"?X.clientTop||0:X.clientLeft||0:0,te=(F=A==null?void 0:A[_])!=null?F:0,ue=R+ee-te-H,ye=R+oe-te,he=kh(p?Zv($,ue):$,R,p?qu(D,ye):D);C[_]=he,O[_]=he-R}if(o){var _e,Re=_==="x"?Xs:Js,De=_==="x"?Va:Ha,pe=C[S],ve=S==="y"?"height":"width",be=pe+v[Re],me=pe-v[De],Te=[Xs,Js].indexOf(y)!==-1,xe=(_e=A==null?void 0:A[S])!=null?_e:0,Oe=Te?be:pe-T[ve]-x[ve]-xe+k.altAxis,Ce=Te?pe+T[ve]+x[ve]-xe-k.altAxis:me,Ee=p&&Te?qY(Oe,pe,Ce):kh(p?Oe:be,pe,p?Ce:me);C[S]=Ee,O[S]=Ee-pe}t.modifiersData[r]=O}}var xq={name:"preventOverflow",enabled:!0,phase:"main",fn:Cq,requiresIfExists:["offset"]};function Eq(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Tq(e){return e===Ca(e)||!Fa(e)?b6(e):Eq(e)}function kq(e){var t=e.getBoundingClientRect(),n=Vd(t.width)/e.offsetWidth||1,r=Vd(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Nq(e,t,n){n===void 0&&(n=!1);var r=Fa(t),s=Fa(t)&&kq(t),a=hu(t),i=Hd(e,s,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((mo(t)!=="body"||_6(a))&&(o=Tq(t)),Fa(t)?(l=Hd(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=w6(a))),{x:i.left+o.scrollLeft-l.x,y:i.top+o.scrollTop-l.y,width:i.width,height:i.height}}function Iq(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function s(a){n.add(a.name);var i=[].concat(a.requires||[],a.requiresIfExists||[]);i.forEach(function(o){if(!n.has(o)){var l=t.get(o);l&&s(l)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||s(a)}),r}function Oq(e){var t=Iq(e);return WY.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function $q(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Aq(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var rE={placement:"bottom",modifiers:[],strategy:"absolute"};function sE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function S6(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,a=s===void 0?rE:s;return function(i,o,l){l===void 0&&(l=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},rE,a),modifiersData:{},elements:{reference:i,popper:o},attributes:{},styles:{}},c=[],d=!1,h={state:u,setOptions:function(g){var v=typeof g=="function"?g(u.options):g;m(),u.options=Object.assign({},a,u.options,v),u.scrollParents={reference:uc(i)?Nh(i):i.contextElement?Nh(i.contextElement):[],popper:Nh(o)};var y=Oq(Aq([].concat(r,u.options.modifiers)));return u.orderedModifiers=y.filter(function(b){return b.enabled}),p(),h.update()},forceUpdate:function(){if(!d){var g=u.elements,v=g.reference,y=g.popper;if(sE(v,y)){u.rects={reference:Nq(v,rm(y),u.options.strategy==="fixed"),popper:v6(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(x){return u.modifiersData[x.name]=Object.assign({},x.data)});for(var b=0;b<u.orderedModifiers.length;b++){if(u.reset===!0){u.reset=!1,b=-1;continue}var w=u.orderedModifiers[b],_=w.fn,S=w.options,C=S===void 0?{}:S,T=w.name;typeof _=="function"&&(u=_({state:u,options:C,name:T,instance:h})||u)}}}},update:$q(function(){return new Promise(function(g){h.forceUpdate(),g(u)})}),destroy:function(){m(),d=!0}};if(!sE(i,o))return h;h.setOptions(l).then(function(g){!d&&l.onFirstUpdate&&l.onFirstUpdate(g)});function p(){u.orderedModifiers.forEach(function(g){var v=g.name,y=g.options,b=y===void 0?{}:y,w=g.effect;if(typeof w=="function"){var _=w({state:u,name:v,instance:h,options:b}),S=function(){};c.push(_||S)}})}function m(){c.forEach(function(g){return g()}),c=[]}return h}}S6();var Rq=[d$,p$,c$,s$];S6({defaultModifiers:Rq});var Mq=[d$,p$,c$,s$,wq,mq,xq,eq,vq],Pq=S6({defaultModifiers:Mq});const m$=$e({arrowOffset:{type:Number,default:5}}),Lq=$e({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Ts=e=>Jo(Lq,e),Dq=["fixed","absolute"],zq=$e({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ne(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:So,default:"bottom"},popperOptions:{type:ne(Object),default:()=>({})},strategy:{type:String,values:Dq,default:"absolute"}}),g$=$e({...zq,...m$,id:String,style:{type:ne([String,Array,Object])},className:{type:ne([String,Array,Object])},effect:{type:ne(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:Boolean,trapping:Boolean,popperClass:{type:ne([String,Array,Object])},popperStyle:{type:ne([String,Array,Object])},referenceEl:{type:ne(Object)},triggerTargetEl:{type:ne(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Ts(["ariaLabel"]),loop:Boolean}),Fq={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0};function aE(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return xc(()=>n()),{registerTimeout:t,cancelTimeout:n}}const Bq=$e({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),jq=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:a}=aE(),{registerTimeout:i,cancelTimeout:o}=aE();return{onOpen:(c,d=f(e))=>{a(()=>{r(c);const h=f(n);Xe(h)&&h>0&&i(()=>{s(c)},h)},d)},onClose:(c,d=f(t))=>{o(),a(()=>{s(c)},d)}}},un=$e({...Bq,...g$,appendTo:{type:em.to.type},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:ne(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Ts(["ariaLabel"])}),Wn=e=>e,sm=$e({id:{type:String,default:void 0},size:wr,disabled:{type:Boolean,default:void 0},modelValue:{type:ne([String,Number,Object]),default:""},modelModifiers:{type:ne(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:ne(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ne([Boolean,Object]),default:!1},autocomplete:{type:ne(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:dn,default:_o},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:dn},prefixIcon:{type:dn},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ne([Object,Array,String]),default:()=>Wn({})},autofocus:Boolean,rows:{type:Number,default:2},...Ts(["ariaLabel"]),inputmode:{type:ne(String),default:void 0},name:String}),Vq={[it]:e=>Ke(e),input:e=>Ke(e),change:(e,t)=>Ke(e)&&(t instanceof Event||t===void 0),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent};to(_o);const Hq=$e({...sm,valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:ne(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:ne([Function,Array]),default:tn},popperClass:un.popperClass,popperStyle:un.popperStyle,triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:Boolean,hideLoading:Boolean,teleported:un.teleported,appendTo:un.appendTo,highlightFirstItem:Boolean,fitInputWidth:Boolean,loopNavigation:{type:Boolean,default:!0}}),Uq={[it]:e=>Ke(e)||Xe(e),[mr]:e=>Ke(e)||Xe(e),[It]:e=>Ke(e)||Xe(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>ht(e)},C6=()=>Yt&&/firefox/i.test(window.navigator.userAgent),v$=()=>Yt&&/android/i.test(window.navigator.userAgent);let Hs;const Wq={height:"0",visibility:"hidden",overflow:C6()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Kq=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],iE=e=>{const t=Number.parseFloat(e);return Number.isNaN(t)?e:t};function Gq(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Kq.map(i=>[i,t.getPropertyValue(i)]),paddingSize:r,borderSize:s,boxSizing:n}}function oE(e,t=1,n){var r,s;Hs||(Hs=document.createElement("textarea"),((r=e.parentNode)!=null?r:document.body).appendChild(Hs));const{paddingSize:a,borderSize:i,boxSizing:o,contextStyle:l}=Gq(e);l.forEach(([h,p])=>Hs==null?void 0:Hs.style.setProperty(h,p)),Object.entries(Wq).forEach(([h,p])=>Hs==null?void 0:Hs.style.setProperty(h,p,"important")),Hs.value=e.value||e.placeholder||"";let u=Hs.scrollHeight;const c={};o==="border-box"?u=u+i:o==="content-box"&&(u=u-a),Hs.value="";const d=Hs.scrollHeight-a;if(Xe(t)){let h=d*t;o==="border-box"&&(h=h+a+i),u=Math.max(h,u),c.minHeight=`${h}px`}if(Xe(n)){let h=d*n;o==="border-box"&&(h=h+a+i),u=Math.min(h,u)}return c.height=`${u}px`,(s=Hs.parentNode)==null||s.removeChild(Hs),Hs=void 0,c}const Zq=["class","style"],Yq=/^on[A-Z]/,My=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=E(()=>((n==null?void 0:n.value)||[]).concat(Zq)),s=wt();return E(s?()=>{var a;return ep(Object.entries((a=s.proxy)==null?void 0:a.$attrs).filter(([i])=>!r.value.includes(i)&&!(t&&Yq.test(i))))}:()=>({}))},y$=e=>{const t=wt();return E(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},Tc=Symbol("formContextKey"),go=Symbol("formItemContextKey"),gr=(e,t={})=>{const n=L(void 0),r=t.prop?n:y$("size"),s=t.global?n:HO(),a=t.form?{size:void 0}:Ve(Tc,void 0),i=t.formItem?{size:void 0}:Ve(go,void 0);return E(()=>r.value||f(e)||(i==null?void 0:i.size)||(a==null?void 0:a.size)||s.value||"")},Zn=e=>{const t=y$("disabled"),n=Ve(Tc,void 0);return E(()=>{var r,s,a;return(a=(s=(r=t.value)!=null?r:f(e))!=null?s:n==null?void 0:n.disabled)!=null?a:!1})},qq='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',lE=e=>typeof Element>"u"?!1:e instanceof Element,Xq=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,uE=e=>Array.from(e.querySelectorAll(qq)).filter(t=>ap(t)&&Xq(t)),ap=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},nv=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const s=document.createEvent(r);return s.initEvent(t,...n),e.dispatchEvent(s),e},b$=e=>!e.getAttribute("aria-owns"),w$=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const s=r.querySelectorAll(n),a=Array.prototype.indexOf.call(s,e);return s[a+t]||null},am=(e,t)=>{if(!e||!e.focus)return;let n=!1;lE(e)&&!ap(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),n=!0),e.focus(t),lE(e)&&n&&e.removeAttribute("tabindex")},rv=e=>{e&&(am(e),!b$(e)&&e.click())};function pl(e,{disabled:t,beforeFocus:n,afterFocus:r,beforeBlur:s,afterBlur:a}={}){const i=wt(),{emit:o}=i,l=wn(),u=L(!1),c=p=>{const m=Ye(n)?n(p):!1;f(t)||u.value||m||(u.value=!0,o("focus",p),r==null||r())},d=p=>{var m;const g=Ye(s)?s(p):!1;f(t)||p.relatedTarget&&((m=l.value)!=null&&m.contains(p.relatedTarget))||g||(u.value=!1,o("blur",p),a==null||a())},h=p=>{var m,g;f(t)||ap(p.target)||(m=l.value)!=null&&m.contains(document.activeElement)&&l.value!==document.activeElement||(g=e.value)==null||g.focus()};return fe([l,()=>f(t)],([p,m])=>{p&&(m?p.removeAttribute("tabindex"):p.setAttribute("tabindex","-1"))}),nn(l,"focus",c,!0),nn(l,"blur",d,!0),nn(l,"click",h,!0),{isFocused:u,wrapperRef:l,handleFocus:c,handleBlur:d}}const cE={prefix:Math.floor(Math.random()*1e4),current:0},Jq=Symbol("elIdInjection"),x6=()=>wt()?Ve(Jq,cE):cE,Zr=e=>{const t=x6(),n=n6();return RO(()=>f(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},Br=()=>{const e=Ve(Tc,void 0),t=Ve(go,void 0);return{form:e,formItem:t}},Ta=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=L(!1)),r||(r=L(!1));const s=wt(),a=()=>{let u=s==null?void 0:s.parent;for(;u;){if(u.type.name==="ElFormItem")return!1;if(u.type.name==="ElLabelWrap")return!0;u=u.parent}return!1},i=L();let o;const l=E(()=>{var u;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((u=t.inputIds)==null?void 0:u.length)<=1)});return _t(()=>{o=fe([rn(e,"id"),n],([u,c])=>{const d=u??(c?void 0:Zr().value);d!==i.value&&(t!=null&&t.removeInputId&&!a()&&(i.value&&t.removeInputId(i.value),!(r!=null&&r.value)&&!c&&d&&t.addInputId(d)),i.value=d)},{immediate:!0})}),wc(()=>{o&&o(),t!=null&&t.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:l,inputId:i}},Qq=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function im({afterComposition:e,emit:t}){const n=L(!1),r=o=>{t==null||t("compositionstart",o),n.value=!0},s=o=>{var l;t==null||t("compositionupdate",o);const u=(l=o.target)==null?void 0:l.value,c=u[u.length-1]||"";n.value=!Qq(c)},a=o=>{t==null||t("compositionend",o),n.value&&(n.value=!1,Fe(()=>e(o)))};return{isComposing:n,handleComposition:o=>{o.type==="compositionend"?a(o):s(o)},handleCompositionStart:r,handleCompositionUpdate:s,handleCompositionEnd:a}}function eX(e){let t;function n(){if(e.value==null)return;const{selectionStart:s,selectionEnd:a,value:i}=e.value;if(s==null||a==null)return;const o=i.slice(0,Math.max(0,s)),l=i.slice(Math.max(0,a));t={selectionStart:s,selectionEnd:a,value:i,beforeTxt:o,afterTxt:l}}function r(){if(e.value==null||t==null)return;const{value:s}=e.value,{beforeTxt:a,afterTxt:i,selectionStart:o}=t;if(a==null||i==null||o==null)return;let l=s.length;if(s.endsWith(i))l=s.length-i.length;else if(s.startsWith(a))l=a.length;else{const u=a[o-1],c=s.indexOf(u,o-1);c!==-1&&(l=c+1)}e.value.setSelectionRange(l,l)}return[n,r]}const tX=["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode"],nX=["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role"],rX="ElInput";var sX=de({name:rX,inheritAttrs:!1,__name:"input",props:sm,emits:Vq,setup(e,{expose:t,emit:n}){const r=e,s=n,a=dl(),i=My(),o=nr(),l=E(()=>[r.type==="textarea"?v.b():g.b(),g.m(p.value),g.is("disabled",m.value),g.is("exceed",U.value),{[g.b("group")]:o.prepend||o.append,[g.m("prefix")]:o.prefix||r.prefixIcon,[g.m("suffix")]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[g.bm("suffix","password-clear")]:D.value&&z.value,[g.b("hidden")]:r.type==="hidden"},a.class]),u=E(()=>[g.e("wrapper"),g.is("focus",N.value)]),{form:c,formItem:d}=Br(),{inputId:h}=Ta(r,{formItemContext:d}),p=gr(),m=Zn(),g=Se("input"),v=Se("textarea"),y=wn(),b=wn(),w=L(!1),_=L(!1),S=L(),C=wn(r.inputStyle),T=E(()=>y.value||b.value),{wrapperRef:x,isFocused:N,handleFocus:k,handleBlur:A}=pl(T,{disabled:m,afterBlur(){var Ce;r.validateEvent&&((Ce=d==null?void 0:d.validate)==null||Ce.call(d,"blur").catch(Ee=>void 0))}}),O=E(()=>{var Ce;return(Ce=c==null?void 0:c.statusIcon)!=null?Ce:!1}),F=E(()=>(d==null?void 0:d.validateState)||""),j=E(()=>F.value&&Ay[F.value]),V=E(()=>_.value?_Y:jZ),G=E(()=>[a.style]),R=E(()=>[r.inputStyle,C.value,{resize:r.resize}]),$=E(()=>or(r.modelValue)?"":String(r.modelValue)),D=E(()=>r.clearable&&!m.value&&!r.readonly&&!!$.value&&(N.value||w.value)),z=E(()=>r.showPassword&&!m.value&&!!$.value),W=E(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!m.value&&!r.readonly&&!r.showPassword),Y=E(()=>$.value.length),U=E(()=>!!W.value&&Y.value>Number(r.maxlength)),Q=E(()=>!!o.suffix||!!r.suffixIcon||D.value||r.showPassword||W.value||!!F.value&&O.value),J=E(()=>!!Object.keys(r.modelModifiers).length),[B,P]=eX(y);$n(b,Ce=>{if(oe(),!W.value||r.resize!=="both"&&r.resize!=="horizontal")return;const Ee=Ce[0],{width:Be}=Ee.contentRect;S.value={right:`calc(100% - ${Be+22-10}px)`}});const ae=()=>{const{type:Ce,autosize:Ee}=r;if(!(!Yt||Ce!=="textarea"||!b.value))if(Ee){const Be=ht(Ee)?Ee.minRows:void 0,Bt=ht(Ee)?Ee.maxRows:void 0,Gt=oE(b.value,Be,Bt);C.value={overflowY:"hidden",...Gt},Fe(()=>{b.value.offsetHeight,C.value=Gt})}else C.value={minHeight:oE(b.value).minHeight}},oe=(Ce=>{let Ee=!1;return()=>{var Be;if(Ee||!r.autosize)return;((Be=b.value)==null?void 0:Be.offsetParent)===null||(setTimeout(Ce),Ee=!0)}})(ae),X=()=>{const Ce=T.value,Ee=r.formatter?r.formatter($.value):$.value;!Ce||Ce.value===Ee||r.type==="file"||(Ce.value=Ee)},H=Ce=>{const{trim:Ee,number:Be}=r.modelModifiers;return Ee&&(Ce=Ce.trim()),Be&&(Ce=`${iE(Ce)}`),r.formatter&&r.parser&&(Ce=r.parser(Ce)),Ce},te=async Ce=>{if(ye.value)return;const{lazy:Ee}=r.modelModifiers;let{value:Be}=Ce.target;if(Ee){s(mr,Be);return}if(Be=H(Be),String(Be)===$.value){r.formatter&&X();return}B(),s(it,Be),s(mr,Be),await Fe(),(r.formatter&&r.parser||!J.value)&&X(),P()},ue=async Ce=>{let{value:Ee}=Ce.target;Ee=H(Ee),r.modelModifiers.lazy&&s(it,Ee),s(It,Ee,Ce),await Fe(),X()},{isComposing:ye,handleCompositionStart:he,handleCompositionUpdate:_e,handleCompositionEnd:Re}=im({emit:s,afterComposition:te}),De=()=>{_.value=!_.value},pe=()=>{var Ce;return(Ce=T.value)==null?void 0:Ce.focus()},ve=()=>{var Ce;return(Ce=T.value)==null?void 0:Ce.blur()},be=Ce=>{w.value=!1,s("mouseleave",Ce)},me=Ce=>{w.value=!0,s("mouseenter",Ce)},Te=Ce=>{s("keydown",Ce)},xe=()=>{var Ce;(Ce=T.value)==null||Ce.select()},Oe=()=>{s(it,""),s(It,""),s("clear"),s(mr,"")};return fe(()=>r.modelValue,()=>{var Ce;Fe(()=>ae()),r.validateEvent&&((Ce=d==null?void 0:d.validate)==null||Ce.call(d,"change").catch(Ee=>void 0))}),fe($,Ce=>{if(!T.value)return;const{trim:Ee,number:Be}=r.modelModifiers,Bt=T.value.value,Gt=(Be||r.type==="number")&&!/^0\d/.test(Bt)?`${iE(Bt)}`:Bt;Gt!==Ce&&(document.activeElement===T.value&&T.value.type!=="range"&&Ee&&Gt.trim()===Ce||X())}),fe(()=>r.type,async()=>{await Fe(),X(),ae()}),_t(()=>{!r.formatter&&r.parser,X(),Fe(ae)}),t({input:y,textarea:b,ref:T,textareaStyle:R,autosize:rn(r,"autosize"),isComposing:ye,focus:pe,blur:ve,select:xe,clear:Oe,resizeTextarea:ae}),(Ce,Ee)=>(I(),K("div",{class:M([l.value,{[f(g).bm("group","append")]:Ce.$slots.append,[f(g).bm("group","prepend")]:Ce.$slots.prepend}]),style:qe(G.value),onMouseenter:me,onMouseleave:be},[le(" input "),e.type!=="textarea"?(I(),K(Ge,{key:0},[le(" prepend slot "),Ce.$slots.prepend?(I(),K("div",{key:0,class:M(f(g).be("group","prepend"))},[ie(Ce.$slots,"prepend")],2)):le("v-if",!0),Z("div",{ref_key:"wrapperRef",ref:x,class:M(u.value)},[le(" prefix slot "),Ce.$slots.prefix||e.prefixIcon?(I(),K("span",{key:0,class:M(f(g).e("prefix"))},[Z("span",{class:M(f(g).e("prefix-inner"))},[ie(Ce.$slots,"prefix"),e.prefixIcon?(I(),ce(f(We),{key:0,class:M(f(g).e("icon"))},{default:re(()=>[(I(),ce(yt(e.prefixIcon)))]),_:1},8,["class"])):le("v-if",!0)],2)],2)):le("v-if",!0),Z("input",bt({id:f(h),ref_key:"input",ref:y,class:f(g).e("inner")},f(i),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?_.value?"text":"password":e.type,disabled:f(m),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:Ee[0]||(Ee[0]=(...Be)=>f(he)&&f(he)(...Be)),onCompositionupdate:Ee[1]||(Ee[1]=(...Be)=>f(_e)&&f(_e)(...Be)),onCompositionend:Ee[2]||(Ee[2]=(...Be)=>f(Re)&&f(Re)(...Be)),onInput:te,onChange:ue,onKeydown:Te}),null,16,tX),le(" suffix slot "),Q.value?(I(),K("span",{key:1,class:M(f(g).e("suffix"))},[Z("span",{class:M(f(g).e("suffix-inner"))},[!D.value||!z.value||!W.value?(I(),K(Ge,{key:0},[ie(Ce.$slots,"suffix"),e.suffixIcon?(I(),ce(f(We),{key:0,class:M(f(g).e("icon"))},{default:re(()=>[(I(),ce(yt(e.suffixIcon)))]),_:1},8,["class"])):le("v-if",!0)],64)):le("v-if",!0),D.value?(I(),ce(f(We),{key:1,class:M([f(g).e("icon"),f(g).e("clear")]),onMousedown:at(f(tn),["prevent"]),onClick:Oe},{default:re(()=>[(I(),ce(yt(e.clearIcon)))]),_:1},8,["class","onMousedown"])):le("v-if",!0),z.value?(I(),ce(f(We),{key:2,class:M([f(g).e("icon"),f(g).e("password")]),onClick:De,onMousedown:at(f(tn),["prevent"]),onMouseup:at(f(tn),["prevent"])},{default:re(()=>[(I(),ce(yt(V.value)))]),_:1},8,["class","onMousedown","onMouseup"])):le("v-if",!0),W.value?(I(),K("span",{key:3,class:M([f(g).e("count"),f(g).is("outside",e.wordLimitPosition==="outside")])},[Z("span",{class:M(f(g).e("count-inner"))},Ie(Y.value)+" / "+Ie(e.maxlength),3)],2)):le("v-if",!0),F.value&&j.value&&O.value?(I(),ce(f(We),{key:4,class:M([f(g).e("icon"),f(g).e("validateIcon"),f(g).is("loading",F.value==="validating")])},{default:re(()=>[(I(),ce(yt(j.value)))]),_:1},8,["class"])):le("v-if",!0)],2)],2)):le("v-if",!0)],2),le(" append slot "),Ce.$slots.append?(I(),K("div",{key:1,class:M(f(g).be("group","append"))},[ie(Ce.$slots,"append")],2)):le("v-if",!0)],64)):(I(),K(Ge,{key:1},[le(" textarea "),Z("textarea",bt({id:f(h),ref_key:"textarea",ref:b,class:[f(v).e("inner"),f(g).is("focus",f(N))]},f(i),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:f(m),readonly:e.readonly,autocomplete:e.autocomplete,style:R.value,"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:Ee[3]||(Ee[3]=(...Be)=>f(he)&&f(he)(...Be)),onCompositionupdate:Ee[4]||(Ee[4]=(...Be)=>f(_e)&&f(_e)(...Be)),onCompositionend:Ee[5]||(Ee[5]=(...Be)=>f(Re)&&f(Re)(...Be)),onInput:te,onFocus:Ee[6]||(Ee[6]=(...Be)=>f(k)&&f(k)(...Be)),onBlur:Ee[7]||(Ee[7]=(...Be)=>f(A)&&f(A)(...Be)),onChange:ue,onKeydown:Te}),null,16,nX),W.value?(I(),K("span",{key:0,style:qe(S.value),class:M([f(g).e("count"),f(g).is("outside",e.wordLimitPosition==="outside")])},Ie(Y.value)+" / "+Ie(e.maxlength),7)):le("v-if",!0)],64))],38))}});const ys=dt(sX),aX=$e({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:ne([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ts(["ariaLabel","ariaOrientation"])}),_$={"end-reached":e=>["left","right","top","bottom"].includes(e),scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Xe)},iX=$e({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Dc=4,S$={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},oX=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),lX=$e({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),E6=Symbol("scrollbarContextKey"),uX="Thumb";var dE=de({__name:"thumb",props:lX,setup(e){const t=e,n=Ve(E6),r=Se("scrollbar");n||fr(uX,"can not inject scrollbar context");const s=L(),a=L(),i=L({}),o=L(!1);let l=!1,u=!1,c=0,d=0,h=Yt?document.onselectstart:null;const p=E(()=>S$[t.vertical?"vertical":"horizontal"]),m=E(()=>oX({size:t.size,move:t.move,bar:p.value})),g=E(()=>s.value[p.value.offset]**2/n.wrapElement[p.value.scrollSize]/t.ratio/a.value[p.value.offset]),v=x=>{var N;if(x.stopPropagation(),x.ctrlKey||[1,2].includes(x.button))return;(N=window.getSelection())==null||N.removeAllRanges(),b(x);const k=x.currentTarget;k&&(i.value[p.value.axis]=k[p.value.offset]-(x[p.value.client]-k.getBoundingClientRect()[p.value.direction]))},y=x=>{if(!a.value||!s.value||!n.wrapElement)return;const N=Math.abs(x.target.getBoundingClientRect()[p.value.direction]-x[p.value.client]),k=a.value[p.value.offset]/2,A=(N-k)*100*g.value/s.value[p.value.offset];n.wrapElement[p.value.scroll]=A*n.wrapElement[p.value.scrollSize]/100},b=x=>{x.stopImmediatePropagation(),l=!0,c=n.wrapElement.scrollHeight,d=n.wrapElement.scrollWidth,document.addEventListener("mousemove",w),document.addEventListener("mouseup",_),h=document.onselectstart,document.onselectstart=()=>!1},w=x=>{if(!s.value||!a.value||l===!1)return;const N=i.value[p.value.axis];if(!N)return;const k=(s.value.getBoundingClientRect()[p.value.direction]-x[p.value.client])*-1,A=a.value[p.value.offset]-N,O=(k-A)*100*g.value/s.value[p.value.offset];p.value.scroll==="scrollLeft"?n.wrapElement[p.value.scroll]=O*d/100:n.wrapElement[p.value.scroll]=O*c/100},_=()=>{l=!1,i.value[p.value.axis]=0,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_),T(),u&&(o.value=!1)},S=()=>{u=!1,o.value=!!t.size},C=()=>{u=!0,o.value=l};en(()=>{T(),document.removeEventListener("mouseup",_)});const T=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return nn(rn(n,"scrollbarElement"),"mousemove",S),nn(rn(n,"scrollbarElement"),"mouseleave",C),(x,N)=>(I(),ce(Gr,{name:f(r).b("fade"),persisted:""},{default:re(()=>[vt(Z("div",{ref_key:"instance",ref:s,class:M([f(r).e("bar"),f(r).is(p.value.key)]),onMousedown:y,onClick:N[0]||(N[0]=at(()=>{},["stop"]))},[Z("div",{ref_key:"thumb",ref:a,class:M(f(r).e("thumb")),style:qe(m.value),onMousedown:v},null,38)],34),[[Kt,e.always||o.value]])]),_:1},8,["name"]))}}),cX=de({__name:"bar",props:iX,setup(e,{expose:t}){const n=e,r=Ve(E6),s=L(0),a=L(0),i=L(""),o=L(""),l=L(1),u=L(1);return t({handleScroll:h=>{if(h){const p=h.offsetHeight-Dc,m=h.offsetWidth-Dc;a.value=h.scrollTop*100/p*l.value,s.value=h.scrollLeft*100/m*u.value}},update:()=>{const h=r==null?void 0:r.wrapElement;if(!h)return;const p=h.offsetHeight-Dc,m=h.offsetWidth-Dc,g=p**2/h.scrollHeight,v=m**2/h.scrollWidth,y=Math.max(g,n.minSize),b=Math.max(v,n.minSize);l.value=g/(p-g)/(y/(p-y)),u.value=v/(m-v)/(b/(m-b)),o.value=y+Dc<p?`${y}px`:"",i.value=b+Dc<m?`${b}px`:""}}),(h,p)=>(I(),K(Ge,null,[q(dE,{move:s.value,ratio:u.value,size:i.value,always:e.always},null,8,["move","ratio","size","always"]),q(dE,{move:a.value,ratio:l.value,size:o.value,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}});const dX=["tabindex"],fX="ElScrollbar";var hX=de({name:fX,__name:"scrollbar",props:aX,emits:_$,setup(e,{expose:t,emit:n}){const r=e,s=n,a=Se("scrollbar");let i,o,l,u=0,c=0,d="";const h={bottom:!1,top:!1,right:!1,left:!1},p=L(),m=L(),g=L(),v=L(),y=E(()=>{const O={},F=Gn(r.height),j=Gn(r.maxHeight);return F&&(O.height=F),j&&(O.maxHeight=j),[r.wrapStyle,O]}),b=E(()=>[r.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!r.native}]),w=E(()=>[a.e("view"),r.viewClass]),_=O=>{var F;return(F=h[O])!=null?F:!1},S={top:"bottom",bottom:"top",left:"right",right:"left"},C=O=>{const F=S[d];if(!F)return;const j=O[d],V=O[F];j&&!h[d]&&(h[d]=!0),!V&&h[F]&&(h[F]=!1)},T=()=>{var O;if(m.value){(O=v.value)==null||O.handleScroll(m.value);const F=u,j=c;u=m.value.scrollTop,c=m.value.scrollLeft;const V={bottom:u+m.value.clientHeight>=m.value.scrollHeight-r.distance,top:u<=r.distance&&F!==0,right:c+m.value.clientWidth>=m.value.scrollWidth-r.distance&&j!==c,left:c<=r.distance&&j!==0};if(s("scroll",{scrollTop:u,scrollLeft:c}),F!==u&&(d=u>F?"bottom":"top"),j!==c&&(d=c>j?"right":"left"),r.distance>0){if(_(d))return;C(V)}V[d]&&s("end-reached",d)}};function x(O,F){ht(O)?m.value.scrollTo(O):Xe(O)&&Xe(F)&&m.value.scrollTo(O,F)}const N=O=>{Xe(O)&&(m.value.scrollTop=O)},k=O=>{Xe(O)&&(m.value.scrollLeft=O)},A=()=>{var O;(O=v.value)==null||O.update(),h[d]=!1};return fe(()=>r.noresize,O=>{O?(i==null||i(),o==null||o(),l==null||l()):({stop:i}=$n(g,A),{stop:o}=$n(m,A),l=nn("resize",A))},{immediate:!0}),fe(()=>[r.maxHeight,r.height],()=>{r.native||Fe(()=>{var O;A(),m.value&&((O=v.value)==null||O.handleScroll(m.value))})}),At(E6,Xt({scrollbarElement:p,wrapElement:m})),Vp(()=>{m.value&&(m.value.scrollTop=u,m.value.scrollLeft=c)}),_t(()=>{r.native||Fe(()=>{A()})}),Ni(()=>A()),t({wrapRef:m,update:A,scrollTo:x,setScrollTop:N,setScrollLeft:k,handleScroll:T}),(O,F)=>(I(),K("div",{ref_key:"scrollbarRef",ref:p,class:M(f(a).b())},[Z("div",{ref_key:"wrapRef",ref:m,class:M(b.value),style:qe(y.value),tabindex:e.tabindex,onScroll:T},[(I(),ce(yt(e.tag),{id:e.id,ref_key:"resizeRef",ref:g,class:M(w.value),style:qe(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:re(()=>[ie(O.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,dX),e.native?le("v-if",!0):(I(),ce(cX,{key:0,ref_key:"barRef",ref:v,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});const bi=dt(hX),C$=$e({virtualRef:{type:ne(Object)},virtualTriggering:Boolean,onMouseenter:{type:ne(Function)},onMouseleave:{type:ne(Function)},onClick:{type:ne(Function)},onKeydown:{type:ne(Function)},onFocus:{type:ne(Function)},onBlur:{type:ne(Function)},onContextmenu:{type:ne(Function)},id:String,open:Boolean}),Ne={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},so=$e({...C$,disabled:Boolean,trigger:{type:ne([String,Array]),default:"hover"},triggerKeys:{type:ne(Array),default:()=>[Ne.enter,Ne.numpadEnter,Ne.space]},focusOnTarget:Boolean}),pX=$i({type:ne(Boolean),default:null}),mX=$i({type:ne(Function)}),gX=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:pX,[n]:mX};return{useModelToggle:({indicator:i,toggleReason:o,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:d})=>{const h=wt(),{emit:p}=h,m=h.props,g=E(()=>Ye(m[n])),v=E(()=>m[e]===null),y=T=>{i.value!==!0&&(i.value=!0,o&&(o.value=T),Ye(c)&&c(T))},b=T=>{i.value!==!1&&(i.value=!1,o&&(o.value=T),Ye(d)&&d(T))},w=T=>{if(m.disabled===!0||Ye(u)&&!u())return;const x=g.value&&Yt;x&&p(t,!0),(v.value||!x)&&y(T)},_=T=>{if(m.disabled===!0||!Yt)return;const x=g.value&&Yt;x&&p(t,!1),(v.value||!x)&&b(T)},S=T=>{cn(T)&&(m.disabled&&T?g.value&&p(t,!1):i.value!==T&&(T?y():b()))},C=()=>{i.value?_():w()};return fe(()=>m[e],S),l&&h.appContext.config.globalProperties.$route!==void 0&&fe(()=>({...h.proxy.$route}),()=>{l.value&&i.value&&_()}),_t(()=>{S(m[e])}),{hide:_,show:w,toggle:C,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:r}},x$=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],E$=$e({role:{type:String,values:x$,default:"tooltip"}}),{useModelToggleProps:vX,useModelToggleEmits:yX,useModelToggle:bX}=gX("visible"),wX=$e({...E$,...vX,...un,...so,...m$,showArrow:{type:Boolean,default:!0}}),_X=[...yX,"before-show","before-hide","show","hide","open","close"],T6=Symbol("popper"),T$=Symbol("popperContent");var SX=de({name:"ElPopper",inheritAttrs:!1,__name:"popper",props:E$,setup(e,{expose:t}){const n=e,r=L(),s=L(),a=L(),i=L(),o=E(()=>n.role),l={triggerRef:r,popperInstanceRef:s,contentRef:a,referenceRef:i,role:o};return t(l),At(T6,l),(u,c)=>ie(u.$slots,"default")}}),CX=de({name:"ElPopperArrow",inheritAttrs:!1,__name:"arrow",setup(e,{expose:t}){const n=Se("popper"),{arrowRef:r,arrowStyle:s}=Ve(T$,void 0);return en(()=>{r.value=void 0}),t({arrowRef:r}),(a,i)=>(I(),K("span",{ref_key:"arrowRef",ref:r,class:M(f(n).e("arrow")),style:qe(f(s)),"data-popper-arrow":""},null,6))}});const k$=Symbol("elForwardRef"),xX=e=>{At(k$,{setForwardRef:n=>{e.value=n}})},EX=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),TX="ElOnlyChild",N$=de({name:TX,setup(e,{slots:t,attrs:n}){var r;const s=Ve(k$),a=EX((r=s==null?void 0:s.setForwardRef)!=null?r:tn);return()=>{var i;const o=(i=t.default)==null?void 0:i.call(t,n);if(!o)return null;const[l,u]=I$(o);return l?vt(uo(l,n),[[a]]):null}}});function I$(e){if(!e)return[null,0];const t=e,n=t.filter(r=>r.type!==ir).length;for(const r of t){if(ht(r))switch(r.type){case ir:continue;case mf:case"svg":return[fE(r),n];case Ge:return I$(r.children);default:return[r,n]}return[fE(r),n]}return[null,0]}function fE(e){const t=Se("only-child");return q("span",{class:t.e("content")},[e])}var kX=de({name:"ElPopperTrigger",inheritAttrs:!1,__name:"trigger",props:C$,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=Ve(T6,void 0);xX(s);const a=E(()=>o.value?n.id:void 0),i=E(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),o=E(()=>{if(r&&r.value!=="tooltip")return r.value}),l=E(()=>o.value?`${n.open}`:void 0);let u;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return _t(()=>{fe(()=>n.virtualRef,d=>{d&&(s.value=br(d))},{immediate:!0}),fe(s,(d,h)=>{u==null||u(),u=void 0,Ys(h)&&c.forEach(p=>{const m=n[p];m&&h.removeEventListener(p.slice(2).toLowerCase(),m,["onFocus","onBlur"].includes(p))}),Ys(d)&&(c.forEach(p=>{const m=n[p];m&&d.addEventListener(p.slice(2).toLowerCase(),m,["onFocus","onBlur"].includes(p))}),ap(d)&&(u=fe([a,i,o,l],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((m,g)=>{or(p[g])?d.removeAttribute(m):d.setAttribute(m,p[g])})},{immediate:!0}))),Ys(h)&&ap(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>h.removeAttribute(p))},{immediate:!0})}),en(()=>{if(u==null||u(),u=void 0,s.value&&Ys(s.value)){const d=s.value;c.forEach(h=>{const p=n[h];p&&d.removeEventListener(h.slice(2).toLowerCase(),p,["onFocus","onBlur"].includes(h))}),s.value=void 0}}),t({triggerRef:s}),(d,h)=>e.virtualTriggering?le("v-if",!0):(I(),ce(f(N$),bt({key:0},d.$attrs,{"aria-controls":a.value,"aria-describedby":i.value,"aria-expanded":l.value,"aria-haspopup":o.value}),{default:re(()=>[ie(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});const ob="focus-trap.focus-after-trapped",lb="focus-trap.focus-after-released",NX="focus-trap.focusout-prevented",hE={cancelable:!0,bubbles:!1},IX={cancelable:!0,bubbles:!1},pE="focusAfterTrapped",mE="focusAfterReleased",O$=Symbol("elFocusTrap"),k6=L(),Py=L(0),N6=L(0);let eg=0;const $$=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},gE=(e,t)=>{for(const n of e)if(!OX(n,t))return n},OX=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},$X=e=>{const t=$$(e),n=gE(t,e),r=gE(t.reverse(),e);return[n,r]},AX=e=>e instanceof HTMLInputElement&&"select"in e,Nl=(e,t)=>{if(e){const n=document.activeElement;am(e,{preventScroll:!0}),N6.value=window.performance.now(),e!==n&&AX(e)&&t&&e.select()}};function vE(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const RX=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=vE(e,r),e.unshift(r)},remove:r=>{var s,a;e=vE(e,r),(a=(s=e[0])==null?void 0:s.resume)==null||a.call(s)}}},MX=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Nl(r,t),document.activeElement!==n)return},yE=RX(),PX=()=>Py.value>N6.value,tg=()=>{k6.value="pointer",Py.value=window.performance.now()},bE=()=>{k6.value="keyboard",Py.value=window.performance.now()},LX=()=>(_t(()=>{eg===0&&(document.addEventListener("mousedown",tg),document.addEventListener("touchstart",tg),document.addEventListener("keydown",bE)),eg++}),en(()=>{eg--,eg<=0&&(document.removeEventListener("mousedown",tg),document.removeEventListener("touchstart",tg),document.removeEventListener("keydown",bE))}),{focusReason:k6,lastUserFocusTimestamp:Py,lastAutomatedFocusTimestamp:N6}),ng=e=>new CustomEvent(NX,{...IX,detail:e}),Tr=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const a=e==null?void 0:e(s);if(n===!1||!a)return t==null?void 0:t(s)},wE=e=>t=>t.pointerType==="mouse"?e(t):void 0,hn=e=>{if(e.code&&e.code!=="Unidentified")return e.code;const t=A$(e);if(t){if(Object.values(Ne).includes(t))return t;switch(t){case" ":return Ne.space;default:return""}}return""},A$=e=>{let t=e.key&&e.key!=="Unidentified"?e.key:"";if(!t&&e.type==="keyup"&&v$()){const n=e.target;t=n.value.charAt(n.selectionStart-1)}return t};let Jc=[];const _E=e=>{hn(e)===Ne.esc&&Jc.forEach(n=>n(e))},DX=e=>{_t(()=>{Jc.length===0&&document.addEventListener("keydown",_E),Yt&&Jc.push(e)}),en(()=>{Jc=Jc.filter(t=>t!==e),Jc.length===0&&Yt&&document.removeEventListener("keydown",_E)})};var zX=de({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[pE,mE,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=L();let r,s;const{focusReason:a}=LX();DX(m=>{e.trapped&&!i.paused&&t("release-requested",m)});const i={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=m=>{if(!e.loop&&!e.trapped||i.paused)return;const{altKey:g,ctrlKey:v,metaKey:y,currentTarget:b,shiftKey:w}=m,{loop:_}=e,C=hn(m)===Ne.tab&&!g&&!v&&!y,T=document.activeElement;if(C&&T){const x=b,[N,k]=$X(x);if(N&&k){if(!w&&T===k){const O=ng({focusReason:a.value});t("focusout-prevented",O),O.defaultPrevented||(m.preventDefault(),_&&Nl(N,!0))}else if(w&&[N,x].includes(T)){const O=ng({focusReason:a.value});t("focusout-prevented",O),O.defaultPrevented||(m.preventDefault(),_&&Nl(k,!0))}}else if(T===x){const O=ng({focusReason:a.value});t("focusout-prevented",O),O.defaultPrevented||m.preventDefault()}}};At(O$,{focusTrapRef:n,onKeydown:o}),fe(()=>e.focusTrapEl,m=>{m&&(n.value=m)},{immediate:!0}),fe([n],([m],[g])=>{m&&(m.addEventListener("keydown",o),m.addEventListener("focusin",c),m.addEventListener("focusout",d)),g&&(g.removeEventListener("keydown",o),g.removeEventListener("focusin",c),g.removeEventListener("focusout",d))});const l=m=>{t(pE,m)},u=m=>t(mE,m),c=m=>{const g=f(n);if(!g)return;const v=m.target,y=m.relatedTarget,b=v&&g.contains(v);e.trapped||y&&g.contains(y)||(r=y),b&&t("focusin",m),!i.paused&&e.trapped&&(b?s=v:Nl(s,!0))},d=m=>{const g=f(n);if(!(i.paused||!g))if(e.trapped){const v=m.relatedTarget;!or(v)&&!g.contains(v)&&setTimeout(()=>{if(!i.paused&&e.trapped){const y=ng({focusReason:a.value});t("focusout-prevented",y),y.defaultPrevented||Nl(s,!0)}},0)}else{const v=m.target;v&&g.contains(v)||t("focusout",m)}};async function h(){await Fe();const m=f(n);if(m){yE.push(i);const g=m.contains(document.activeElement)?r:document.activeElement;if(r=g,!m.contains(g)){const y=new Event(ob,hE);m.addEventListener(ob,l),m.dispatchEvent(y),y.defaultPrevented||Fe(()=>{let b=e.focusStartEl;Ke(b)||(Nl(b),document.activeElement!==b&&(b="first")),b==="first"&&MX($$(m),!0),(document.activeElement===g||b==="container")&&Nl(m)})}}}function p(){const m=f(n);if(m){m.removeEventListener(ob,l);const g=new CustomEvent(lb,{...hE,detail:{focusReason:a.value}});m.addEventListener(lb,u),m.dispatchEvent(g),!g.defaultPrevented&&(a.value=="keyboard"||!PX()||m.contains(document.activeElement))&&Nl(r??document.body),m.removeEventListener(lb,u),yE.remove(i),r=null,s=null}}return _t(()=>{e.trapped&&h(),fe(()=>e.trapped,m=>{m?h():p()})}),en(()=>{e.trapped&&p(),n.value&&(n.value.removeEventListener("keydown",o),n.value.removeEventListener("focusin",c),n.value.removeEventListener("focusout",d),n.value=void 0),r=null,s=null}),{onKeydown:o}}}),_r=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};function FX(e,t,n,r,s,a){return ie(e.$slots,"default",{handleKeydown:e.onKeydown})}var Sf=_r(zX,[["render",FX]]);const BX=(e,t)=>{const n=L(!1),r=L(),s=()=>{t("focus")},a=u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(r.value="first",t("blur"))},i=u=>{e.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},o=u=>{e.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},l=()=>{n.value=!1,t("close")};return en(()=>{r.value=void 0}),{focusStartRef:r,trapped:n,onFocusAfterReleased:a,onFocusAfterTrapped:s,onFocusInTrap:i,onFocusoutPrevented:o,onReleaseRequested:l}},jX=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,a={placement:n,strategy:r,...s,modifiers:[...HX(e),...t]};return UX(a,s==null?void 0:s.modifiers),a},VX=e=>{if(Yt)return br(e)};function HX(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:0,bottom:0,left:0,right:0}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function UX(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const WX=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=KX(l);Object.assign(i.value,u)},requires:["computeStyles"]},s=E(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:d}=f(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...d||[],r,{name:"applyStyles",enabled:!1}]}}),a=wn(),i=L({styles:{popper:{position:f(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return fe(s,l=>{const u=f(a);u&&u.setOptions(l)},{deep:!0}),fe([e,t],([l,u])=>{o(),!(!l||!u)&&(a.value=Pq(l,u,f(s)))}),en(()=>{o()}),{state:E(()=>{var l;return{...((l=f(a))==null?void 0:l.state)||{}}}),styles:E(()=>f(i).styles),attributes:E(()=>f(i).attributes),update:()=>{var l;return(l=f(a))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=f(a))==null?void 0:l.forceUpdate()},instanceRef:E(()=>f(a))}};function KX(e){const t=Object.keys(e.elements),n=ep(t.map(s=>[s,e.styles[s]||{}])),r=ep(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}const GX=0,ZX=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=Ve(T6,void 0),a=L(),i=E(()=>e.arrowOffset),o=E(()=>({name:"eventListeners",enabled:!!e.visible})),l=E(()=>{var y;const b=f(a),w=(y=f(i))!=null?y:GX;return{name:"arrow",enabled:!oG(b),options:{element:b,padding:w}}}),u=E(()=>({onFirstUpdate:()=>{m()},...jX(e,[f(l),f(o)])})),c=E(()=>VX(e.referenceEl)||f(r)),{attributes:d,state:h,styles:p,update:m,forceUpdate:g,instanceRef:v}=WX(c,n,u);return fe(v,y=>t.value=y,{flush:"sync"}),_t(()=>{fe(()=>{var y,b;return(b=(y=f(c))==null?void 0:y.getBoundingClientRect)==null?void 0:b.call(y)},()=>{m()})}),en(()=>{t.value=void 0}),{attributes:d,arrowRef:a,contentRef:n,instanceRef:v,state:h,styles:p,role:s,forceUpdate:g,update:m}},YX=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=Jp(),a=Se("popper"),i=E(()=>f(t).popper),o=L(Xe(e.zIndex)?e.zIndex:s()),l=E(()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass]),u=E(()=>[{zIndex:f(o)},f(n).popper,e.popperStyle||{}]),c=E(()=>r.value==="dialog"?"false":void 0),d=E(()=>f(n).arrow||{});return{ariaModal:c,arrowStyle:d,contentAttrs:i,contentClass:l,contentStyle:u,contentZIndex:o,updateZIndex:()=>{o.value=Xe(e.zIndex)?e.zIndex:s()}}};var qX=de({name:"ElPopperContent",__name:"content",props:g$,emits:Fq,setup(e,{expose:t,emit:n}){const r=n,s=e,{focusStartRef:a,trapped:i,onFocusAfterReleased:o,onFocusAfterTrapped:l,onFocusInTrap:u,onFocusoutPrevented:c,onReleaseRequested:d}=BX(s,r),{attributes:h,arrowRef:p,contentRef:m,styles:g,instanceRef:v,role:y,update:b}=ZX(s),{ariaModal:w,arrowStyle:_,contentAttrs:S,contentClass:C,contentStyle:T,updateZIndex:x}=YX(s,{styles:g,attributes:h,role:y}),N=Ve(go,void 0);At(T$,{arrowStyle:_,arrowRef:p}),N&&At(go,{...N,addInputId:tn,removeInputId:tn});let k;const A=(F=!0)=>{b(),F&&x()},O=()=>{A(!1),s.visible&&s.focusOnShow?i.value=!0:s.visible===!1&&(i.value=!1)};return _t(()=>{fe(()=>s.triggerTargetEl,(F,j)=>{k==null||k(),k=void 0;const V=f(F||m.value),G=f(j||m.value);Ys(V)&&(k=fe([y,()=>s.ariaLabel,w,()=>s.id],R=>{["role","aria-label","aria-modal","id"].forEach(($,D)=>{or(R[D])?V.removeAttribute($):V.setAttribute($,R[D])})},{immediate:!0})),G!==V&&Ys(G)&&["role","aria-label","aria-modal","id"].forEach(R=>{G.removeAttribute(R)})},{immediate:!0}),fe(()=>s.visible,O,{immediate:!0})}),en(()=>{k==null||k(),k=void 0,m.value=void 0}),t({popperContentRef:m,popperInstanceRef:v,updatePopper:A,contentStyle:T}),(F,j)=>(I(),K("div",bt({ref_key:"contentRef",ref:m},f(S),{style:f(T),class:f(C),tabindex:"-1",onMouseenter:j[0]||(j[0]=V=>F.$emit("mouseenter",V)),onMouseleave:j[1]||(j[1]=V=>F.$emit("mouseleave",V))}),[q(f(Sf),{loop:e.loop,trapped:f(i),"trap-on-focus-in":!0,"focus-trap-el":f(m),"focus-start-el":f(a),onFocusAfterTrapped:f(l),onFocusAfterReleased:f(o),onFocusin:f(u),onFocusoutPrevented:f(c),onReleaseRequested:f(d)},{default:re(()=>[ie(F.$slots,"default")]),_:3},8,["loop","trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});const R$=dt(SX),I6=Symbol("elTooltip"),tw=(e,t)=>ke(e)?e.includes(t):e===t,zc=(e,t,n)=>r=>{tw(f(e),t)&&n(r)};var XX=de({name:"ElTooltipTrigger",__name:"trigger",props:so,setup(e,{expose:t}){const n=e,r=Se("tooltip"),{controlled:s,id:a,open:i,onOpen:o,onClose:l,onToggle:u}=Ve(I6,void 0),c=L(null),d=()=>{if(f(s)||n.disabled)return!0},h=rn(n,"trigger"),p=Tr(d,zc(h,"hover",_=>{o(_),n.focusOnTarget&&_.target&&Fe(()=>{am(_.target,{preventScroll:!0})})})),m=Tr(d,zc(h,"hover",l)),g=Tr(d,zc(h,"click",_=>{_.button===0&&u(_)})),v=Tr(d,zc(h,"focus",o)),y=Tr(d,zc(h,"focus",l)),b=Tr(d,zc(h,"contextmenu",_=>{_.preventDefault(),u(_)})),w=Tr(d,_=>{const S=hn(_);n.triggerKeys.includes(S)&&(_.preventDefault(),u(_))});return t({triggerRef:c}),(_,S)=>(I(),ce(f(kX),{id:f(a),"virtual-ref":e.virtualRef,open:f(i),"virtual-triggering":e.virtualTriggering,class:M(f(r).e("trigger")),onBlur:f(y),onClick:f(g),onContextmenu:f(b),onFocus:f(v),onMouseenter:f(p),onMouseleave:f(m),onKeydown:f(w)},{default:re(()=>[ie(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});const M$=()=>{const e=n6(),t=x6(),n=E(()=>`${e.value}-popper-container-${t.prefix}`),r=E(()=>`#${n.value}`);return{id:n,selector:r}},JX=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},QX=()=>{const{id:e,selector:t}=M$();return gy(()=>{Yt&&(document.body.querySelector(t.value)||JX(e.value))}),{id:e,selector:t}},SE=e=>[...new Set(e)],Bf=e=>ke(e)?e[0]:e,vs=e=>!e&&e!==0?[]:ke(e)?e:[e];var eJ=de({name:"ElTooltipContent",inheritAttrs:!1,__name:"content",props:un,setup(e,{expose:t}){const n=e,{selector:r}=M$(),s=Se("tooltip"),a=L(),i=RO(()=>{var $;return($=a.value)==null?void 0:$.popperContentRef});let o;const{controlled:l,id:u,open:c,trigger:d,onClose:h,onOpen:p,onShow:m,onHide:g,onBeforeShow:v,onBeforeHide:y}=Ve(I6,void 0),b=E(()=>n.transition||`${s.namespace.value}-fade-in-linear`),w=E(()=>n.persistent);en(()=>{o==null||o()});const _=E(()=>f(w)?!0:f(c)),S=E(()=>n.disabled?!1:f(c)),C=E(()=>n.appendTo||r.value),T=E(()=>{var $;return($=n.style)!=null?$:{}}),x=L(!0),N=()=>{g(),R()&&am(document.body,{preventScroll:!0}),x.value=!0},k=()=>{if(f(l))return!0},A=Tr(k,()=>{n.enterable&&tw(f(d),"hover")&&p()}),O=Tr(k,()=>{tw(f(d),"hover")&&h()}),F=()=>{var $,D;(D=($=a.value)==null?void 0:$.updatePopper)==null||D.call($),v==null||v()},j=()=>{y==null||y()},V=()=>{m()},G=()=>{n.virtualTriggering||h()},R=$=>{var D;const z=(D=a.value)==null?void 0:D.popperContentRef,W=($==null?void 0:$.relatedTarget)||document.activeElement;return z==null?void 0:z.contains(W)};return fe(()=>f(c),$=>{$?(x.value=!1,o=s6(i,()=>{if(f(l))return;vs(f(d)).every(z=>z!=="hover"&&z!=="focus")&&h()},{detectIframe:!0})):o==null||o()},{flush:"post"}),fe(()=>n.content,()=>{var $,D;(D=($=a.value)==null?void 0:$.updatePopper)==null||D.call($)}),t({contentRef:a,isFocusInsideContent:R}),($,D)=>(I(),ce(f(_f),{disabled:!e.teleported,to:C.value},{default:re(()=>[_.value||!x.value?(I(),ce(Gr,{key:0,name:b.value,appear:!w.value,onAfterLeave:N,onBeforeEnter:F,onAfterEnter:V,onBeforeLeave:j,persisted:""},{default:re(()=>[vt(q(f(qX),bt({id:f(u),ref_key:"contentRef",ref:a},$.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":x.value,"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,"arrow-offset":e.arrowOffset,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,T.value],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:S.value,"z-index":e.zIndex,loop:e.loop,onMouseenter:f(A),onMouseleave:f(O),onBlur:G,onClose:f(h)}),{default:re(()=>[ie($.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","arrow-offset","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","loop","onMouseenter","onMouseleave","onClose"]),[[Kt,S.value]])]),_:3},8,["name","appear"])):le("v-if",!0)]),_:3},8,["disabled","to"]))}});const tJ=["innerHTML"],nJ={key:1};var rJ=de({name:"ElTooltip",__name:"tooltip",props:wX,emits:_X,setup(e,{expose:t,emit:n}){const r=e,s=n;QX();const a=Se("tooltip"),i=Zr(),o=L(),l=L(),u=()=>{var _;const S=f(o);S&&((_=S.popperInstanceRef)==null||_.update())},c=L(!1),d=L(),{show:h,hide:p,hasUpdateHandler:m}=bX({indicator:c,toggleReason:d}),{onOpen:g,onClose:v}=jq({showAfter:rn(r,"showAfter"),hideAfter:rn(r,"hideAfter"),autoClose:rn(r,"autoClose"),open:h,close:p}),y=E(()=>cn(r.visible)&&!m.value),b=E(()=>[a.b(),r.popperClass]);At(I6,{controlled:y,id:i,open:ic(c),trigger:rn(r,"trigger"),onOpen:g,onClose:v,onToggle:_=>{f(c)?v(_):g(_)},onShow:()=>{s("show",d.value)},onHide:()=>{s("hide",d.value)},onBeforeShow:()=>{s("before-show",d.value)},onBeforeHide:()=>{s("before-hide",d.value)},updatePopper:u}),fe(()=>r.disabled,_=>{_&&c.value&&(c.value=!1)});const w=_=>{var S;return(S=l.value)==null?void 0:S.isFocusInsideContent(_)};return A3(()=>c.value&&p()),en(()=>{d.value=void 0}),t({popperRef:o,contentRef:l,isFocusInsideContent:w,updatePopper:u,onOpen:g,onClose:v,hide:p}),(_,S)=>(I(),ce(f(R$),{ref_key:"popperRef",ref:o,role:e.role},{default:re(()=>[q(XX,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering,"focus-on-target":e.focusOnTarget},{default:re(()=>[_.$slots.default?ie(_.$slots,"default",{key:0}):le("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering","focus-on-target"]),q(eJ,{ref_key:"contentRef",ref:l,"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":b.value,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,"arrow-offset":e.arrowOffset,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.showAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo,loop:e.loop},{default:re(()=>[ie(_.$slots,"content",{},()=>[e.rawContent?(I(),K("span",{key:0,innerHTML:e.content},null,8,tJ)):(I(),K("span",nJ,Ie(e.content),1))]),e.showArrow?(I(),ce(f(CX),{key:0})):le("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","arrow-offset","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to","loop"])]),_:3},8,["role"]))}});const zr=dt(rJ),sJ=["aria-expanded","aria-owns"],aJ={key:0},iJ=["id","aria-selected","onClick"],CE="ElAutocomplete";var oJ=de({name:CE,inheritAttrs:!1,__name:"autocomplete",props:Hq,emits:Uq,setup(e,{expose:t,emit:n}){const r=e,s=n,a=E(()=>Jo(r,Object.keys(sm))),i=dl(),o=Zn(),l=Se("autocomplete"),u=L(),c=L(),d=L(),h=L();let p=!1,m=!1;const g=L([]),v=L(-1),y=L(""),b=L(!1),w=L(!1),_=L(!1),S=Zr(),C=E(()=>i.style),T=E(()=>(g.value.length>0||_.value)&&b.value),x=E(()=>!r.hideLoading&&_.value),N=E(()=>u.value?Array.from(u.value.$el.querySelectorAll("input")):[]),k=()=>{T.value&&(y.value=`${u.value.$el.offsetWidth}px`)},A=()=>{v.value=-1},O=async X=>{if(w.value)return;const H=te=>{_.value=!1,!w.value&&(ke(te)?(g.value=te,v.value=r.highlightFirstItem?0:-1):fr(CE,"autocomplete suggestions must be an array"))};if(_.value=!0,ke(r.fetchSuggestions))H(r.fetchSuggestions);else{const te=await r.fetchSuggestions(X,H);ke(te)&&H(te)}},F=E(()=>r.debounce),j=qp(O,F),V=X=>{const H=!!X;if(s(mr,X),s(it,X),w.value=!1,b.value||(b.value=H),!r.triggerOnFocus&&!X){w.value=!0,g.value=[];return}j(X)},G=X=>{var H;o.value||(((H=X.target)==null?void 0:H.tagName)!=="INPUT"||N.value.includes(document.activeElement))&&(b.value=!0)},R=X=>{s(It,X)},$=X=>{var H;if(m)m=!1;else{b.value=!0,s("focus",X);const te=(H=r.modelValue)!=null?H:"";r.triggerOnFocus&&!p&&j(String(te))}},D=X=>{setTimeout(()=>{var H;if((H=d.value)!=null&&H.isFocusInsideContent()){m=!0;return}b.value&&U(),s("blur",X)})},z=()=>{b.value=!1,s(it,""),s("clear")},W=async()=>{var X;(X=u.value)!=null&&X.isComposing||(T.value&&v.value>=0&&v.value<g.value.length?B(g.value[v.value]):(r.selectWhenUnmatched&&(s("select",{value:r.modelValue}),g.value=[],v.value=-1),b.value=!0,j(String(r.modelValue))))},Y=X=>{T.value&&(X.preventDefault(),X.stopPropagation(),U())},U=()=>{b.value=!1},Q=()=>{var X;(X=u.value)==null||X.focus()},J=()=>{var X;(X=u.value)==null||X.blur()},B=async X=>{s(mr,X[r.valueKey]),s(it,X[r.valueKey]),s("select",X),g.value=[],v.value=-1},P=X=>{var H,te;if(!T.value||_.value)return;if(X<0){if(!r.loopNavigation){v.value=-1;return}X=g.value.length-1}X>=g.value.length&&(X=r.loopNavigation?0:g.value.length-1);const[ue,ye]=ae(),he=ye[X],_e=ue.scrollTop,{offsetTop:Re,scrollHeight:De}=he;Re+De>_e+ue.clientHeight&&(ue.scrollTop=Re+De-ue.clientHeight),Re<_e&&(ue.scrollTop=Re),v.value=X,(te=(H=u.value)==null?void 0:H.ref)==null||te.setAttribute("aria-activedescendant",`${S.value}-item-${v.value}`)},ae=()=>{const X=c.value.querySelector(`.${l.be("suggestion","wrap")}`),H=X.querySelectorAll(`.${l.be("suggestion","list")} li`);return[X,H]},ee=s6(h,()=>{var X;(X=d.value)!=null&&X.isFocusInsideContent()||T.value&&U()}),oe=X=>{switch(hn(X)){case Ne.up:X.preventDefault(),P(v.value-1);break;case Ne.down:X.preventDefault(),P(v.value+1);break;case Ne.enter:case Ne.numpadEnter:X.preventDefault(),W();break;case Ne.tab:U();break;case Ne.esc:Y(X);break;case Ne.home:X.preventDefault(),P(0);break;case Ne.end:X.preventDefault(),P(g.value.length-1);break;case Ne.pageUp:X.preventDefault(),P(Math.max(0,v.value-10));break;case Ne.pageDown:X.preventDefault(),P(Math.min(g.value.length-1,v.value+10));break}};return en(()=>{ee==null||ee()}),_t(()=>{var X;const H=(X=u.value)==null?void 0:X.ref;H&&([{key:"role",value:"textbox"},{key:"aria-autocomplete",value:"list"},{key:"aria-controls",value:S.value},{key:"aria-activedescendant",value:`${S.value}-item-${v.value}`}].forEach(({key:te,value:ue})=>H.setAttribute(te,ue)),p=H.hasAttribute("readonly"))}),t({highlightedIndex:v,activated:b,loading:_,inputRef:u,popperRef:d,suggestions:g,handleSelect:B,handleKeyEnter:W,focus:Q,blur:J,close:U,highlight:P,getData:O}),(X,H)=>(I(),ce(f(zr),{ref_key:"popperRef",ref:d,visible:T.value,placement:e.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[f(l).e("popper"),e.popperClass],"popper-style":e.popperStyle,teleported:e.teleported,"append-to":e.appendTo,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${f(l).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:k,onHide:A},{content:re(()=>[Z("div",{ref_key:"regionRef",ref:c,class:M([f(l).b("suggestion"),f(l).is("loading",x.value)]),style:qe({[e.fitInputWidth?"width":"minWidth"]:y.value,outline:"none"}),role:"region"},[X.$slots.header?(I(),K("div",{key:0,class:M(f(l).be("suggestion","header")),onClick:H[0]||(H[0]=at(()=>{},["stop"]))},[ie(X.$slots,"header")],2)):le("v-if",!0),q(f(bi),{id:f(S),tag:"ul","wrap-class":f(l).be("suggestion","wrap"),"view-class":f(l).be("suggestion","list"),role:"listbox"},{default:re(()=>[x.value?(I(),K("li",aJ,[ie(X.$slots,"loading",{},()=>[q(f(We),{class:M(f(l).is("loading"))},{default:re(()=>[q(f(po))]),_:1},8,["class"])])])):(I(!0),K(Ge,{key:1},Ot(g.value,(te,ue)=>(I(),K("li",{id:`${f(S)}-item-${ue}`,key:ue,class:M({highlighted:v.value===ue}),role:"option","aria-selected":v.value===ue,onClick:ye=>B(te)},[ie(X.$slots,"default",{item:te},()=>[gt(Ie(te[e.valueKey]),1)])],10,iJ))),128))]),_:3},8,["id","wrap-class","view-class"]),X.$slots.footer?(I(),K("div",{key:1,class:M(f(l).be("suggestion","footer")),onClick:H[1]||(H[1]=at(()=>{},["stop"]))},[ie(X.$slots,"footer")],2)):le("v-if",!0)],6)]),default:re(()=>[Z("div",{ref_key:"listboxRef",ref:h,class:M([f(l).b(),X.$attrs.class]),style:qe(C.value),role:"combobox","aria-haspopup":"listbox","aria-expanded":T.value,"aria-owns":f(S)},[q(f(ys),bt({ref_key:"inputRef",ref:u},bt(a.value,X.$attrs),{"model-value":e.modelValue,disabled:f(o),onInput:V,onChange:R,onFocus:$,onBlur:D,onClear:z,onKeydown:oe,onMousedown:G}),Bs({_:2},[X.$slots.prepend?{name:"prepend",fn:re(()=>[ie(X.$slots,"prepend")]),key:"0"}:void 0,X.$slots.append?{name:"append",fn:re(()=>[ie(X.$slots,"append")]),key:"1"}:void 0,X.$slots.prefix?{name:"prefix",fn:re(()=>[ie(X.$slots,"prefix")]),key:"2"}:void 0,X.$slots.suffix?{name:"suffix",fn:re(()=>[ie(X.$slots,"suffix")]),key:"3"}:void 0]),1040,["model-value","disabled"])],14,sJ)]),_:3},8,["visible","placement","popper-class","popper-style","teleported","append-to","transition"]))}});const lJ=dt(oJ),uJ=$e({size:{type:[Number,String],values:Ai,validator:e=>Xe(e)},shape:{type:String,values:["circle","square"]},icon:{type:dn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:ne(String),default:"cover"}}),cJ={error:e=>e instanceof Event},P$=Symbol("avatarGroupContextKey"),dJ=["src","alt","srcset"];var L$=de({name:"ElAvatar",__name:"avatar",props:uJ,emits:cJ,setup(e,{emit:t}){const n=e,r=t,s=Ve(P$,void 0),a=Se("avatar"),i=L(!1),o=E(()=>{var p;return(p=n.size)!=null?p:s==null?void 0:s.size}),l=E(()=>{var p,m;return(m=(p=n.shape)!=null?p:s==null?void 0:s.shape)!=null?m:"circle"}),u=E(()=>{const{icon:p}=n,m=[a.b()];return Ke(o.value)&&m.push(a.m(o.value)),p&&m.push(a.m("icon")),l.value&&m.push(a.m(l.value)),m}),c=E(()=>Xe(o.value)?a.cssVarBlock({size:Gn(o.value)}):void 0),d=E(()=>({objectFit:n.fit}));fe(()=>[n.src,n.srcSet],()=>i.value=!1);function h(p){i.value=!0,r("error",p)}return(p,m)=>(I(),K("span",{class:M(u.value),style:qe(c.value)},[(e.src||e.srcSet)&&!i.value?(I(),K("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:qe(d.value),onError:h},null,44,dJ)):e.icon?(I(),ce(f(We),{key:1},{default:re(()=>[(I(),ce(yt(e.icon)))]),_:1})):ie(p.$slots,"default",{key:2})],6))}});const fJ={size:{type:ne([Number,String]),values:Ai,validator:e=>Xe(e)},shape:{type:ne(String),values:["circle","square"]},collapseAvatars:Boolean,collapseAvatarsTooltip:Boolean,maxCollapseAvatars:{type:Number,default:1},effect:{type:ne(String),default:"light"},placement:{type:ne(String),values:So,default:"top"},popperClass:un.popperClass,popperStyle:un.popperStyle,collapseClass:String,collapseStyle:{type:ne([String,Array,Object])}};var D$=de({name:"ElAvatarGroup",props:fJ,setup(e,{slots:t}){const n=Se("avatar-group");return At(P$,Xt({size:rn(e,"size"),shape:rn(e,"shape")})),()=>{var r,s;const a=ha((s=(r=t.default)==null?void 0:r.call(t))!=null?s:[]);let i=a;if(e.collapseAvatars&&a.length>e.maxCollapseAvatars){i=a.slice(0,e.maxCollapseAvatars);const l=a.slice(e.maxCollapseAvatars);i.push(q(zr,{popperClass:e.popperClass,popperStyle:e.popperStyle,placement:e.placement,effect:e.effect,disabled:!e.collapseAvatarsTooltip},{default:()=>q(L$,{size:e.size,shape:e.shape,class:e.collapseClass,style:e.collapseStyle},{default:()=>[gt("+ "),l.length]}),content:()=>q("div",{class:n.e("collapse-avatars")},[l.map((u,c)=>{var d;return vn(u)?uo(u,{key:(d=u.key)!=null?d:c}):u})])}))}return q("div",{class:n.b()},[i])}}});const hJ=dt(L$,{AvatarGroup:D$}),pJ=Bn(D$),mJ={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},gJ={click:e=>e instanceof MouseEvent},vJ=(e,t,n)=>{const r=wn(),s=wn(),a=L(!1),i=()=>{r.value&&(a.value=r.value.scrollTop>=e.visibilityHeight)},o=u=>{var c;(c=r.value)==null||c.scrollTo({top:0,behavior:"smooth"}),t("click",u)},l=DO(i,300,!0);return nn(s,"scroll",l),_t(()=>{var u;s.value=document,r.value=document.documentElement,e.target&&(r.value=(u=document.querySelector(e.target))!=null?u:void 0,r.value||fr(n,`target does not exist: ${e.target}`),s.value=r.value),i()}),{visible:a,handleClick:o}},xE="ElBacktop";var yJ=de({name:xE,__name:"backtop",props:mJ,emits:gJ,setup(e,{emit:t}){const n=e,r=t,s=Se("backtop"),{handleClick:a,visible:i}=vJ(n,r,xE),o=E(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(l,u)=>(I(),ce(Gr,{name:`${f(s).namespace.value}-fade-in`},{default:re(()=>[f(i)?(I(),K("div",{key:0,style:qe(o.value),class:M(f(s).b()),onClick:u[0]||(u[0]=at((...c)=>f(a)&&f(a)(...c),["stop"]))},[ie(l.$slots,"default",{},()=>[q(f(We),{class:M(f(s).e("icon"))},{default:re(()=>[q(f(bZ))]),_:1},8,["class"])])],6)):le("v-if",!0)]),_:3},8,["name"]))}});const bJ=dt(yJ),wJ=$e({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:ne([String,Object,Array])},offset:{type:ne(Array),default:()=>[0,0]},badgeClass:{type:String}});var _J=de({name:"ElBadge",__name:"badge",props:wJ,setup(e,{expose:t}){const n=e,r=Se("badge"),s=E(()=>n.isDot?"":Xe(n.value)&&Xe(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),a=E(()=>{var i;return[{backgroundColor:n.color,marginRight:Gn(-n.offset[0]),marginTop:Gn(n.offset[1])},(i=n.badgeStyle)!=null?i:{}]});return t({content:s}),(i,o)=>(I(),K("div",{class:M(f(r).b())},[ie(i.$slots,"default"),q(Gr,{name:`${f(r).namespace.value}-zoom-in-center`,persisted:""},{default:re(()=>[vt(Z("sup",{class:M([f(r).e("content"),f(r).em("content",e.type),f(r).is("fixed",!!i.$slots.default),f(r).is("dot",e.isDot),f(r).is("hide-zero",!e.showZero&&e.value===0),e.badgeClass]),style:qe(a.value)},[ie(i.$slots,"content",{value:s.value},()=>[gt(Ie(s.value),1)])],6),[[Kt,!e.hidden&&(s.value||e.isDot||i.$slots.content)]])]),_:3},8,["name"])],2))}});const z$=dt(_J),SJ=$e({separator:{type:String,default:"/"},separatorIcon:{type:dn}}),F$=Symbol("breadcrumbKey"),CJ=["aria-label"];var xJ=de({name:"ElBreadcrumb",__name:"breadcrumb",props:SJ,setup(e){const{t}=Mt(),n=e,r=Se("breadcrumb"),s=L();return At(F$,n),_t(()=>{const a=s.value.querySelectorAll(`.${r.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,i)=>(I(),K("div",{ref_key:"breadcrumb",ref:s,class:M(f(r).b()),"aria-label":f(t)("el.breadcrumb.label"),role:"navigation"},[ie(a.$slots,"default")],10,CJ))}});const EJ=$e({to:{type:ne([String,Object]),default:""},replace:Boolean});var B$=de({name:"ElBreadcrumbItem",__name:"breadcrumb-item",props:EJ,setup(e){const t=e,n=wt(),r=Ve(F$,void 0),s=Se("breadcrumb"),a=n.appContext.config.globalProperties.$router,i=()=>{!t.to||!a||(t.replace?a.replace(t.to):a.push(t.to))};return(o,l)=>{var u,c;return I(),K("span",{class:M(f(s).e("item"))},[Z("span",{class:M([f(s).e("inner"),f(s).is("link",!!e.to)]),role:"link",onClick:i},[ie(o.$slots,"default")],2),(u=f(r))!=null&&u.separatorIcon?(I(),ce(f(We),{key:0,class:M(f(s).e("separator"))},{default:re(()=>[(I(),ce(yt(f(r).separatorIcon)))]),_:1},8,["class"])):(I(),K("span",{key:1,class:M(f(s).e("separator")),role:"presentation"},Ie((c=f(r))==null?void 0:c.separator),3))],2)}}});const TJ=dt(xJ,{BreadcrumbItem:B$}),kJ=Bn(B$),nw=["default","primary","success","warning","info","danger","text",""],NJ=["button","submit","reset"],rw=$e({size:wr,disabled:{type:Boolean,default:void 0},type:{type:String,values:nw,default:""},icon:{type:dn},nativeType:{type:String,values:NJ,default:"button"},loading:Boolean,loadingIcon:{type:dn,default:()=>po},plain:{type:Boolean,default:void 0},text:{type:Boolean,default:void 0},link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ne([String,Object]),default:"button"}}),IJ={click:e=>e instanceof MouseEvent},j$=Symbol("buttonGroupContextKey"),ao=({from:e,replacement:t,scope:n,version:r,ref:s,type:a="API"},i)=>{fe(()=>f(i),o=>{},{immediate:!0})},OJ=(e,t)=>{ao({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},E(()=>e.type==="text"));const n=Ve(j$,void 0),r=wf("button"),{form:s}=Br(),a=gr(E(()=>n==null?void 0:n.size)),i=Zn(),o=L(),l=nr(),u=E(()=>{var y;return e.type||(n==null?void 0:n.type)||((y=r.value)==null?void 0:y.type)||""}),c=E(()=>{var y,b,w;return(w=(b=e.autoInsertSpace)!=null?b:(y=r.value)==null?void 0:y.autoInsertSpace)!=null?w:!1}),d=E(()=>{var y,b,w;return(w=(b=e.plain)!=null?b:(y=r.value)==null?void 0:y.plain)!=null?w:!1}),h=E(()=>{var y,b,w;return(w=(b=e.round)!=null?b:(y=r.value)==null?void 0:y.round)!=null?w:!1}),p=E(()=>{var y,b,w;return(w=(b=e.text)!=null?b:(y=r.value)==null?void 0:y.text)!=null?w:!1}),m=E(()=>e.tag==="button"?{ariaDisabled:i.value||e.loading,disabled:i.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),g=E(()=>{var y;const b=(y=l.default)==null?void 0:y.call(l);if(c.value&&(b==null?void 0:b.length)===1){const w=b[0];if((w==null?void 0:w.type)===mf){const _=w.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(_.trim())}}return!1});return{_disabled:i,_size:a,_type:u,_ref:o,_props:m,_plain:d,_round:h,_text:p,shouldAddSpace:g,handleClick:y=>{if(i.value||e.loading){y.stopPropagation();return}e.nativeType==="reset"&&(s==null||s.resetFields()),t("click",y)}}};function as(e,t){$J(e)&&(e="100%");var n=AJ(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function rg(e){return Math.min(1,Math.max(0,e))}function $J(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function AJ(e){return typeof e=="string"&&e.indexOf("%")!==-1}function V$(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function sg(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Fu(e){return e.length===1?"0"+e:String(e)}function RJ(e,t,n){return{r:as(e,255)*255,g:as(t,255)*255,b:as(n,255)*255}}function EE(e,t,n){e=as(e,255),t=as(t,255),n=as(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),a=0,i=0,o=(r+s)/2;if(r===s)i=0,a=0;else{var l=r-s;switch(i=o>.5?l/(2-r-s):l/(r+s),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4;break}a/=6}return{h:a,s:i,l:o}}function ub(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MJ(e,t,n){var r,s,a;if(e=as(e,360),t=as(t,100),n=as(n,100),t===0)s=n,a=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,o=2*n-i;r=ub(o,i,e+1/3),s=ub(o,i,e),a=ub(o,i,e-1/3)}return{r:r*255,g:s*255,b:a*255}}function TE(e,t,n){e=as(e,255),t=as(t,255),n=as(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),a=0,i=r,o=r-s,l=r===0?0:o/r;if(r===s)a=0;else{switch(r){case e:a=(t-n)/o+(t<n?6:0);break;case t:a=(n-e)/o+2;break;case n:a=(e-t)/o+4;break}a/=6}return{h:a,s:l,v:i}}function PJ(e,t,n){e=as(e,360)*6,t=as(t,100),n=as(n,100);var r=Math.floor(e),s=e-r,a=n*(1-t),i=n*(1-s*t),o=n*(1-(1-s)*t),l=r%6,u=[n,i,a,a,o,n][l],c=[o,n,n,i,a,a][l],d=[a,a,o,n,n,i][l];return{r:u*255,g:c*255,b:d*255}}function kE(e,t,n,r){var s=[Fu(Math.round(e).toString(16)),Fu(Math.round(t).toString(16)),Fu(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function LJ(e,t,n,r,s){var a=[Fu(Math.round(e).toString(16)),Fu(Math.round(t).toString(16)),Fu(Math.round(n).toString(16)),Fu(DJ(r))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function DJ(e){return Math.round(parseFloat(e)*255).toString(16)}function NE(e){return sa(e)/255}function sa(e){return parseInt(e,16)}function zJ(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var sw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function FJ(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,a=null,i=!1,o=!1;return typeof e=="string"&&(e=VJ(e)),typeof e=="object"&&(Io(e.r)&&Io(e.g)&&Io(e.b)?(t=RJ(e.r,e.g,e.b),i=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Io(e.h)&&Io(e.s)&&Io(e.v)?(r=sg(e.s),s=sg(e.v),t=PJ(e.h,r,s),i=!0,o="hsv"):Io(e.h)&&Io(e.s)&&Io(e.l)&&(r=sg(e.s),a=sg(e.l),t=MJ(e.h,r,a),i=!0,o="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=V$(n),{ok:i,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var BJ="[-\\+]?\\d+%?",jJ="[-\\+]?\\d*\\.\\d+%?",jl="(?:".concat(jJ,")|(?:").concat(BJ,")"),cb="[\\s|\\(]+(".concat(jl,")[,|\\s]+(").concat(jl,")[,|\\s]+(").concat(jl,")\\s*\\)?"),db="[\\s|\\(]+(".concat(jl,")[,|\\s]+(").concat(jl,")[,|\\s]+(").concat(jl,")[,|\\s]+(").concat(jl,")\\s*\\)?"),ei={CSS_UNIT:new RegExp(jl),rgb:new RegExp("rgb"+cb),rgba:new RegExp("rgba"+db),hsl:new RegExp("hsl"+cb),hsla:new RegExp("hsla"+db),hsv:new RegExp("hsv"+cb),hsva:new RegExp("hsva"+db),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function VJ(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(sw[e])e=sw[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=ei.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=ei.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ei.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=ei.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ei.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=ei.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ei.hex8.exec(e),n?{r:sa(n[1]),g:sa(n[2]),b:sa(n[3]),a:NE(n[4]),format:t?"name":"hex8"}:(n=ei.hex6.exec(e),n?{r:sa(n[1]),g:sa(n[2]),b:sa(n[3]),format:t?"name":"hex"}:(n=ei.hex4.exec(e),n?{r:sa(n[1]+n[1]),g:sa(n[2]+n[2]),b:sa(n[3]+n[3]),a:NE(n[4]+n[4]),format:t?"name":"hex8"}:(n=ei.hex3.exec(e),n?{r:sa(n[1]+n[1]),g:sa(n[2]+n[2]),b:sa(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Io(e){return!!ei.CSS_UNIT.exec(String(e))}var id=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=zJ(t)),this.originalInput=t;var s=FJ(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,a=t.r/255,i=t.g/255,o=t.b/255;return a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=V$(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=TE(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=TE(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=EE(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=EE(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),kE(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),LJ(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(as(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(as(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+kE(this.r,this.g,this.b,!1),n=0,r=Object.entries(sw);n<r.length;n++){var s=r[n],a=s[0],i=s[1];if(t===i)return a}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,a=!n&&s&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=rg(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=rg(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=rg(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=rg(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),a=n/100,i={r:(s.r-r.r)*a+r.r,g:(s.g-r.g)*a+r.g,b:(s.b-r.b)*a+r.b,a:(s.a-r.a)*a+r.a};return new e(i)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,a=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,a=n.v,i=[],o=1/t;t--;)i.push(new e({h:r,s,v:a})),a=(a+o)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],a=360/t,i=1;i<t;i++)s.push(new e({h:(r+i*a)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function _l(e,t=20){return e.mix("#141414",t).toString()}function HJ(e){const t=Zn(),n=Se("button");return E(()=>{let r={},s=e.color;if(s){const a=s.match(/var\((.*?)\)/);a&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const i=new id(s),o=e.dark?i.tint(20).toString():_l(i,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?_l(i,90):i.tint(90).toString(),"text-color":s,"border-color":e.dark?_l(i,50):i.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":o,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":o}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?_l(i,90):i.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?_l(i,50):i.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?_l(i,80):i.tint(80).toString());else{const l=e.dark?_l(i,30):i.tint(30).toString(),u=i.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":u,"border-color":s,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":o,"active-border-color":o}),t.value){const c=e.dark?_l(i,50):i.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}var UJ=de({name:"ElButton",__name:"button",props:rw,emits:IJ,setup(e,{expose:t,emit:n}){const r=e,s=n,a=HJ(r),i=Se("button"),{_ref:o,_size:l,_type:u,_disabled:c,_props:d,_plain:h,_round:p,_text:m,shouldAddSpace:g,handleClick:v}=OJ(r,s),y=E(()=>[i.b(),i.m(u.value),i.m(l.value),i.is("disabled",c.value),i.is("loading",r.loading),i.is("plain",h.value),i.is("round",p.value),i.is("circle",r.circle),i.is("text",m.value),i.is("link",r.link),i.is("has-bg",r.bg)]);return t({ref:o,size:l,type:u,disabled:c,shouldAddSpace:g}),(b,w)=>(I(),ce(yt(e.tag),bt({ref_key:"_ref",ref:o},f(d),{class:y.value,style:f(a),onClick:f(v)}),{default:re(()=>[e.loading?(I(),K(Ge,{key:0},[b.$slots.loading?ie(b.$slots,"loading",{key:0}):(I(),ce(f(We),{key:1,class:M(f(i).is("loading"))},{default:re(()=>[(I(),ce(yt(e.loadingIcon)))]),_:1},8,["class"]))],64)):e.icon||b.$slots.icon?(I(),ce(f(We),{key:1},{default:re(()=>[e.icon?(I(),ce(yt(e.icon),{key:0})):ie(b.$slots,"icon",{key:1})]),_:3})):le("v-if",!0),b.$slots.default?(I(),K("span",{key:2,class:M({[f(i).em("text","expand")]:f(g)})},[ie(b.$slots,"default")],2)):le("v-if",!0)]),_:3},16,["class","style","onClick"]))}});const WJ={size:rw.size,type:rw.type,direction:{type:ne(String),values:["horizontal","vertical"],default:"horizontal"}};var H$=de({name:"ElButtonGroup",__name:"button-group",props:WJ,setup(e){const t=e;At(j$,Xt({size:rn(t,"size"),type:rn(t,"type")}));const n=Se("button");return(r,s)=>(I(),K("div",{class:M([f(n).b("group"),f(n).bm("group",t.direction)])},[ie(r.$slots,"default")],2))}});const Nr=dt(UJ,{ButtonGroup:H$}),U$=Bn(H$),KJ=e=>ke(e)&&e.length===2&&e.every(t=>ql(t)),GJ=$e({modelValue:{type:Date},range:{type:ne(Array),validator:KJ},controllerType:{type:String,values:["button","select"],default:"button"},formatter:{type:ne(Function)}}),ZJ={[it]:e=>ql(e),[mr]:e=>ql(e)};var ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ua(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ml,function(){var n=1e3,r=6e4,s=36e5,a="millisecond",i="second",o="minute",l="hour",u="day",c="week",d="month",h="quarter",p="year",m="date",g="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(j){var V=["th","st","nd","rd"],G=j%100;return"["+j+(V[(G-20)%10]||V[G]||V[0])+"]"}},w=function(j,V,G){var R=String(j);return!R||R.length>=V?j:""+Array(V+1-R.length).join(G)+j},_={s:w,z:function(j){var V=-j.utcOffset(),G=Math.abs(V),R=Math.floor(G/60),$=G%60;return(V<=0?"+":"-")+w(R,2,"0")+":"+w($,2,"0")},m:function j(V,G){if(V.date()<G.date())return-j(G,V);var R=12*(G.year()-V.year())+(G.month()-V.month()),$=V.clone().add(R,d),D=G-$<0,z=V.clone().add(R+(D?-1:1),d);return+(-(R+(G-$)/(D?$-z:z-$))||0)},a:function(j){return j<0?Math.ceil(j)||0:Math.floor(j)},p:function(j){return{M:d,y:p,w:c,d:u,D:m,h:l,m:o,s:i,ms:a,Q:h}[j]||String(j||"").toLowerCase().replace(/s$/,"")},u:function(j){return j===void 0}},S="en",C={};C[S]=b;var T="$isDayjsObject",x=function(j){return j instanceof O||!(!j||!j[T])},N=function j(V,G,R){var $;if(!V)return S;if(typeof V=="string"){var D=V.toLowerCase();C[D]&&($=D),G&&(C[D]=G,$=D);var z=V.split("-");if(!$&&z.length>1)return j(z[0])}else{var W=V.name;C[W]=V,$=W}return!R&&$&&(S=$),$||!R&&S},k=function(j,V){if(x(j))return j.clone();var G=typeof V=="object"?V:{};return G.date=j,G.args=arguments,new O(G)},A=_;A.l=N,A.i=x,A.w=function(j,V){return k(j,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var O=function(){function j(G){this.$L=N(G.locale,null,!0),this.parse(G),this.$x=this.$x||G.x||{},this[T]=!0}var V=j.prototype;return V.parse=function(G){this.$d=function(R){var $=R.date,D=R.utc;if($===null)return new Date(NaN);if(A.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var z=$.match(v);if(z){var W=z[2]-1||0,Y=(z[7]||"0").substring(0,3);return D?new Date(Date.UTC(z[1],W,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Y)):new Date(z[1],W,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Y)}}return new Date($)}(G),this.init()},V.init=function(){var G=this.$d;this.$y=G.getFullYear(),this.$M=G.getMonth(),this.$D=G.getDate(),this.$W=G.getDay(),this.$H=G.getHours(),this.$m=G.getMinutes(),this.$s=G.getSeconds(),this.$ms=G.getMilliseconds()},V.$utils=function(){return A},V.isValid=function(){return this.$d.toString()!==g},V.isSame=function(G,R){var $=k(G);return this.startOf(R)<=$&&$<=this.endOf(R)},V.isAfter=function(G,R){return k(G)<this.startOf(R)},V.isBefore=function(G,R){return this.endOf(R)<k(G)},V.$g=function(G,R,$){return A.u(G)?this[R]:this.set($,G)},V.unix=function(){return Math.floor(this.valueOf()/1e3)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(G,R){var $=this,D=!!A.u(R)||R,z=A.p(G),W=function(ee,oe){var X=A.w($.$u?Date.UTC($.$y,oe,ee):new Date($.$y,oe,ee),$);return D?X:X.endOf(u)},Y=function(ee,oe){return A.w($.toDate()[ee].apply($.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(oe)),$)},U=this.$W,Q=this.$M,J=this.$D,B="set"+(this.$u?"UTC":"");switch(z){case p:return D?W(1,0):W(31,11);case d:return D?W(1,Q):W(0,Q+1);case c:var P=this.$locale().weekStart||0,ae=(U<P?U+7:U)-P;return W(D?J-ae:J+(6-ae),Q);case u:case m:return Y(B+"Hours",0);case l:return Y(B+"Minutes",1);case o:return Y(B+"Seconds",2);case i:return Y(B+"Milliseconds",3);default:return this.clone()}},V.endOf=function(G){return this.startOf(G,!1)},V.$set=function(G,R){var $,D=A.p(G),z="set"+(this.$u?"UTC":""),W=($={},$[u]=z+"Date",$[m]=z+"Date",$[d]=z+"Month",$[p]=z+"FullYear",$[l]=z+"Hours",$[o]=z+"Minutes",$[i]=z+"Seconds",$[a]=z+"Milliseconds",$)[D],Y=D===u?this.$D+(R-this.$W):R;if(D===d||D===p){var U=this.clone().set(m,1);U.$d[W](Y),U.init(),this.$d=U.set(m,Math.min(this.$D,U.daysInMonth())).$d}else W&&this.$d[W](Y);return this.init(),this},V.set=function(G,R){return this.clone().$set(G,R)},V.get=function(G){return this[A.p(G)]()},V.add=function(G,R){var $,D=this;G=Number(G);var z=A.p(R),W=function(Q){var J=k(D);return A.w(J.date(J.date()+Math.round(Q*G)),D)};if(z===d)return this.set(d,this.$M+G);if(z===p)return this.set(p,this.$y+G);if(z===u)return W(1);if(z===c)return W(7);var Y=($={},$[o]=r,$[l]=s,$[i]=n,$)[z]||1,U=this.$d.getTime()+G*Y;return A.w(U,this)},V.subtract=function(G,R){return this.add(-1*G,R)},V.format=function(G){var R=this,$=this.$locale();if(!this.isValid())return $.invalidDate||g;var D=G||"YYYY-MM-DDTHH:mm:ssZ",z=A.z(this),W=this.$H,Y=this.$m,U=this.$M,Q=$.weekdays,J=$.months,B=$.meridiem,P=function(oe,X,H,te){return oe&&(oe[X]||oe(R,D))||H[X].slice(0,te)},ae=function(oe){return A.s(W%12||12,oe,"0")},ee=B||function(oe,X,H){var te=oe<12?"AM":"PM";return H?te.toLowerCase():te};return D.replace(y,function(oe,X){return X||function(H){switch(H){case"YY":return String(R.$y).slice(-2);case"YYYY":return A.s(R.$y,4,"0");case"M":return U+1;case"MM":return A.s(U+1,2,"0");case"MMM":return P($.monthsShort,U,J,3);case"MMMM":return P(J,U);case"D":return R.$D;case"DD":return A.s(R.$D,2,"0");case"d":return String(R.$W);case"dd":return P($.weekdaysMin,R.$W,Q,2);case"ddd":return P($.weekdaysShort,R.$W,Q,3);case"dddd":return Q[R.$W];case"H":return String(W);case"HH":return A.s(W,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return ee(W,Y,!0);case"A":return ee(W,Y,!1);case"m":return String(Y);case"mm":return A.s(Y,2,"0");case"s":return String(R.$s);case"ss":return A.s(R.$s,2,"0");case"SSS":return A.s(R.$ms,3,"0");case"Z":return z}return null}(oe)||z.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(G,R,$){var D,z=this,W=A.p(R),Y=k(G),U=(Y.utcOffset()-this.utcOffset())*r,Q=this-Y,J=function(){return A.m(z,Y)};switch(W){case p:D=J()/12;break;case d:D=J();break;case h:D=J()/3;break;case c:D=(Q-U)/6048e5;break;case u:D=(Q-U)/864e5;break;case l:D=Q/s;break;case o:D=Q/r;break;case i:D=Q/n;break;default:D=Q}return $?D:A.a(D)},V.daysInMonth=function(){return this.endOf(d).$D},V.$locale=function(){return C[this.$L]},V.locale=function(G,R){if(!G)return this.$L;var $=this.clone(),D=N(G,R,!0);return D&&($.$L=D),$},V.clone=function(){return A.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},j}(),F=O.prototype;return k.prototype=F,[["$ms",a],["$s",i],["$m",o],["$H",l],["$W",u],["$M",d],["$y",p],["$D",m]].forEach(function(j){F[j[1]]=function(V){return this.$g(V,j[0],j[1])}}),k.extend=function(j,V){return j.$i||(j(V,O,k),j.$i=!0),k},k.locale=N,k.isDayjs=x,k.unix=function(j){return k(1e3*j)},k.en=C[S],k.Ls=C,k.p={},k})})(W$);var YJ=W$.exports;const ct=Ua(YJ),fb=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],Gl=e=>Array.from(Array.from({length:e}).keys()),K$=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),G$=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),IE=function(e,t){const n=ql(e),r=ql(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},Z$=function(e,t){const n=ke(e),r=ke(t);return n&&r?e.length!==t.length?!1:e.every((s,a)=>IE(s,t[a])):!n&&!r?IE(e,t):!1},OE=function(e,t,n){const r=Ds(t)||t==="x"?ct(e).locale(n):ct(e,t).locale(n);return r.isValid()?r:void 0},$E=function(e,t,n){return Ds(t)?e:t==="x"?+e:ct(e).locale(n).format(t)},hb=(e,t)=>{var n;const r=[],s=t==null?void 0:t();for(let a=0;a<e;a++)r.push((n=s==null?void 0:s.includes(a))!=null?n:!1);return r},sv=e=>ke(e)?e.map(t=>t.toDate()):e.toDate(),qJ=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return Gl(t).map((r,s)=>n-(t-s-1))},XJ=e=>{const t=e.daysInMonth();return Gl(t).map((n,r)=>r+1)},JJ=e=>Gl(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),QJ=$e({selectedDay:{type:ne(Object)},range:{type:ne(Array)},date:{type:ne(Object),required:!0},hideHeader:{type:Boolean}}),eQ={pick:e=>ht(e)};var Y$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ml,function(){return function(n,r,s){var a=r.prototype,i=function(d){return d&&(d.indexOf?d:d.s)},o=function(d,h,p,m,g){var v=d.name?d:d.$locale(),y=i(v[h]),b=i(v[p]),w=y||b.map(function(S){return S.slice(0,m)});if(!g)return w;var _=v.weekStart;return w.map(function(S,C){return w[(C+(_||0))%7]})},l=function(){return s.Ls[s.locale()]},u=function(d,h){return d.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,v){return g||v.slice(1)})}(d.formats[h.toUpperCase()])},c=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):o(d,"months")},monthsShort:function(h){return h?h.format("MMM"):o(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):o(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):o(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):o(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return c.bind(this)()},s.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(h){return u(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},s.months=function(){return o(l(),"months")},s.monthsShort=function(){return o(l(),"monthsShort","months",3)},s.weekdays=function(d){return o(l(),"weekdays",null,null,d)},s.weekdaysShort=function(d){return o(l(),"weekdaysShort","weekdays",3,d)},s.weekdaysMin=function(d){return o(l(),"weekdaysMin","weekdays",2,d)}}})})(Y$);var tQ=Y$.exports;const q$=Ua(tQ),nQ=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],pb=["sun","mon","tue","wed","thu","fri","sat"],rQ=(e,t)=>{ct.extend(q$);const n=ct.localeData().firstDayOfWeek(),{t:r,lang:s}=Mt(),a=ct().locale(s.value),i=E(()=>!!e.range&&!!e.range.length),o=E(()=>{let h=[];if(i.value){const[p,m]=e.range,g=Gl(m.date()-p.date()+1).map(b=>({text:p.date()+b,type:"current"}));let v=g.length%7;v=v===0?0:7-v;const y=Gl(v).map((b,w)=>({text:w+1,type:"next"}));h=g.concat(y)}else{const p=e.date.startOf("month").day(),m=qJ(e.date,(p-n+7)%7).map(b=>({text:b,type:"prev"})),g=XJ(e.date).map(b=>({text:b,type:"current"}));h=[...m,...g];const v=7-(h.length%7||7),y=Gl(v).map((b,w)=>({text:w+1,type:"next"}));h=h.concat(y)}return JJ(h)}),l=E(()=>{const h=n;return h===0?pb.map(p=>r(`el.datepicker.weeks.${p}`)):pb.slice(h).concat(pb.slice(0,h)).map(p=>r(`el.datepicker.weeks.${p}`))}),u=(h,p)=>{switch(p){case"prev":return e.date.startOf("month").subtract(1,"month").date(h);case"next":return e.date.startOf("month").add(1,"month").date(h);case"current":return e.date.date(h)}};return{now:a,isInRange:i,rows:o,weekDays:l,getFormattedDate:u,handlePickDay:({text:h,type:p})=>{const m=u(h,p);t("pick",m)},getSlotData:({text:h,type:p})=>{const m=u(h,p);return{isSelected:m.isSame(e.selectedDay),type:`${p}-month`,day:m.format("YYYY-MM-DD"),date:m.toDate()}}}},sQ={key:0},aQ=["onClick"];var AE=de({name:"DateTable",__name:"date-table",props:QJ,emits:eQ,setup(e,{expose:t,emit:n}){const r=e,s=n,{isInRange:a,now:i,rows:o,weekDays:l,getFormattedDate:u,handlePickDay:c,getSlotData:d}=rQ(r,s),h=Se("calendar-table"),p=Se("calendar-day"),m=({text:g,type:v})=>{const y=[v];if(v==="current"){const b=u(g,v);b.isSame(r.selectedDay,"day")&&y.push(p.is("selected")),b.isSame(i,"day")&&y.push(p.is("today"))}return y};return t({getFormattedDate:u}),(g,v)=>(I(),K("table",{class:M([f(h).b(),f(h).is("range",f(a))]),cellspacing:"0",cellpadding:"0"},[e.hideHeader?le("v-if",!0):(I(),K("thead",sQ,[Z("tr",null,[(I(!0),K(Ge,null,Ot(f(l),y=>(I(),K("th",{key:y,scope:"col"},Ie(y),1))),128))])])),Z("tbody",null,[(I(!0),K(Ge,null,Ot(f(o),(y,b)=>(I(),K("tr",{key:b,class:M({[f(h).e("row")]:!0,[f(h).em("row","hide-border")]:b===0&&e.hideHeader})},[(I(!0),K(Ge,null,Ot(y,(w,_)=>(I(),K("td",{key:_,class:M(m(w)),onClick:S=>f(c)(w)},[Z("div",{class:M(f(p).b())},[ie(g.$slots,"date-cell",{data:f(d)(w)},()=>[Z("span",null,Ie(w.text),1)])],2)],10,aQ))),128))],2))),128))])],2))}});const iQ=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),a=n.isSame(r,"week")?r.add(1,"week"):r;return[[e,n],[a.startOf("week"),t]]},oQ=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),s=n.isSame(r,"week")?r.add(1,"week"):r,a=s.endOf("month"),i=t.startOf("month"),o=a.isSame(i,"week")?i.add(1,"week"):i;return[[e,n],[s.startOf("week"),a],[o.startOf("week"),t]]},lQ=(e,t,n)=>{const{lang:r}=Mt(),s=L(),a=ct().locale(r.value),i=E({get(){return e.modelValue?l.value:s.value},set(y){if(!y)return;s.value=y;const b=y.toDate();t(mr,b),t(it,b)}}),o=E(()=>{if(!e.range||!ke(e.range)||e.range.length!==2||e.range.some(_=>!ql(_)))return[];const y=e.range.map(_=>ct(_).locale(r.value)),[b,w]=y;return b.isAfter(w)?[]:b.isSame(w,"month")?p(b,w):b.add(1,"month").month()!==w.month()?[]:p(b,w)}),l=E(()=>e.modelValue?ct(e.modelValue).locale(r.value):i.value||(o.value.length?o.value[0][0]:a)),u=E(()=>l.value.subtract(1,"month").date(1)),c=E(()=>l.value.add(1,"month").date(1)),d=E(()=>l.value.subtract(1,"year").date(1)),h=E(()=>l.value.add(1,"year").date(1)),p=(y,b)=>{const w=y.startOf("week"),_=b.endOf("week"),S=w.get("month"),C=_.get("month");return S===C?[[w,_]]:(S+1)%12===C?iQ(w,_):S+2===C||(S+1)%11===C?oQ(w,_):[]},m=y=>{i.value=y},g=y=>{const w={"prev-month":u.value,"next-month":c.value,"prev-year":d.value,"next-year":h.value,today:a}[y];w.isSame(l.value,"day")||m(w)};return{calculateValidatedDateRange:p,date:l,realSelectedDay:i,pickDay:m,selectDate:g,validatedRange:o,handleDateChange:y=>{y==="today"?g("today"):m(y)}}},uQ=$e({date:{type:ne(Object),required:!0},formatter:{type:ne(Function)}}),cQ={"date-change":e=>ht(e)||Ke(e)},nl=$e({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Ai},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),dQ={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},fQ=["aria-label"],hQ=["aria-label"];var pQ=de({name:"ElTag",__name:"tag",props:nl,emits:dQ,setup(e,{emit:t}){const n=e,r=t,s=gr(),{t:a}=Mt(),i=Se("tag"),o=E(()=>{const{type:d,hit:h,effect:p,closable:m,round:g}=n;return[i.b(),i.is("closable",m),i.m(d||"primary"),i.m(s.value),i.m(p),i.is("hit",h),i.is("round",g)]}),l=d=>{r("close",d)},u=d=>{r("click",d)},c=d=>{var h,p,m;(m=(p=(h=d==null?void 0:d.component)==null?void 0:h.subTree)==null?void 0:p.component)!=null&&m.bum&&(d.component.subTree.component.bum=null)};return(d,h)=>e.disableTransitions?(I(),K("span",{key:0,class:M(o.value),style:qe({backgroundColor:e.color}),onClick:u},[Z("span",{class:M(f(i).e("content"))},[ie(d.$slots,"default")],2),e.closable?(I(),K("button",{key:0,"aria-label":f(a)("el.tag.close"),class:M(f(i).e("close")),type:"button",onClick:at(l,["stop"])},[q(f(We),null,{default:re(()=>[q(f(ja))]),_:1})],10,fQ)):le("v-if",!0)],6)):(I(),ce(Gr,{key:1,name:`${f(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:c},{default:re(()=>[Z("span",{class:M(o.value),style:qe({backgroundColor:e.color}),onClick:u},[Z("span",{class:M(f(i).e("content"))},[ie(d.$slots,"default")],2),e.closable?(I(),K("button",{key:0,"aria-label":f(a)("el.tag.close"),class:M(f(i).e("close")),type:"button",onClick:at(l,["stop"])},[q(f(We),null,{default:re(()=>[q(f(ja))]),_:1})],10,hQ)):le("v-if",!0)],6)]),_:3},8,["name"]))}});const Ko=dt(pQ),Yv={label:"label",value:"value",disabled:"disabled",options:"options"};function om(e){const t=L({...Yv,...e.props});let n={...e.props};return fe(()=>e.props,o=>{Yn(o,n)||(t.value={...Yv,...o},n={...o})},{deep:!0}),{aliasProps:t,getLabel:o=>dr(o,t.value.label),getValue:o=>dr(o,t.value.value),getDisabled:o=>dr(o,t.value.disabled),getOptions:o=>dr(o,t.value.options)}}const X$=Symbol("ElSelectGroup"),lm=Symbol("ElSelect"),aw="ElOption",mQ=$e({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),O6=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Dl=e=>Bp(e);function gQ(e,t){const n=Ve(lm);n||fr(aw,"usage: <el-select><el-option /></el-select/>");const r=Ve(X$,{disabled:!1}),s=E(()=>c(Dr(n.props.modelValue),e.value)),a=E(()=>{var p;if(n.props.multiple){const m=Dr((p=n.props.modelValue)!=null?p:[]);return!s.value&&m.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),i=E(()=>{var p;return(p=e.label)!=null?p:ht(e.value)?"":e.value}),o=E(()=>e.value||e.label||""),l=E(()=>e.disabled||t.groupDisabled||a.value),u=wt(),c=(p=[],m)=>{if(ht(e.value)){const g=n.props.valueKey;return p&&p.some(v=>yn(dr(v,g))===dr(m,g))}else return p&&p.includes(m)},d=()=>{l.value||(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},h=p=>{const m=new RegExp(O6(p),"i");t.visible=m.test(String(i.value))||e.created};return fe(()=>i.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),fe(()=>e.value,(p,m)=>{const{remote:g,valueKey:v}=n.props;if((g?p!==m:!Yn(p,m))&&(n.onOptionDestroy(m,u.proxy),n.onOptionCreate(u.proxy)),!e.created&&!g){if(v&&ht(p)&&ht(m)&&p[v]===m[v])return;n.setSelected()}}),fe(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:i,currentValue:o,itemSelected:s,isDisabled:l,hoverItem:d,updateOption:h}}var vQ=de({name:aw,componentName:aw,props:mQ,setup(e){const t=Se("select"),n=Zr(),r=E(()=>[t.be("dropdown","item"),t.is("disabled",f(o)),t.is("selected",f(i)),t.is("hovering",f(h))]),s=Xt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:i,isDisabled:o,select:l,hoverItem:u,updateOption:c}=gQ(e,s),{visible:d,hover:h}=Or(s),p=wt().proxy;l.onOptionCreate(p),en(()=>{const g=p.value;Fe(()=>{const{selected:v}=l.states,y=v.some(b=>b.value===p.value);l.states.cachedOptions.get(g)===p&&!y&&l.states.cachedOptions.delete(g)}),l.onOptionDestroy(g,p)});function m(){o.value||l.handleOptionSelect(p)}return{ns:t,id:n,containerKls:r,currentLabel:a,itemSelected:i,isDisabled:o,select:l,visible:d,hover:h,states:s,hoverItem:u,updateOption:c,selectOptionClick:m}}});const yQ=["id","aria-disabled","aria-selected"];function bQ(e,t,n,r,s,a){return vt((I(),K("li",{id:e.id,class:M(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:t[0]||(t[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:t[1]||(t[1]=at((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"]))},[ie(e.$slots,"default",{},()=>[Z("span",null,Ie(e.currentLabel),1)])],42,yQ)),[[Kt,e.visible]])}var $6=_r(vQ,[["render",bQ]]);const Ly=11,J$=2;var wQ=de({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Ve(lm),t=Se("select"),n=E(()=>e.props.popperClass),r=E(()=>e.props.multiple),s=E(()=>e.props.fitInputWidth),a=L("");function i(){var o;const l=(o=e.selectRef)==null?void 0:o.offsetWidth;l?a.value=`${l-J$}px`:a.value=""}return _t(()=>{i(),$n(e.selectRef,i)}),{ns:t,minWidth:a,popperClass:n,isMultiple:r,isFitInputWidth:s}}});function _Q(e,t,n,r,s,a){return I(),K("div",{class:M([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:qe({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(I(),K("div",{key:0,class:M(e.ns.be("dropdown","header"))},[ie(e.$slots,"header")],2)):le("v-if",!0),ie(e.$slots,"default"),e.$slots.footer?(I(),K("div",{key:1,class:M(e.ns.be("dropdown","footer"))},[ie(e.$slots,"footer")],2)):le("v-if",!0)],6)}var SQ=_r(wQ,[["render",_Q]]);const CQ=(e,t)=>{const{t:n}=Mt(),r=nr(),s=Zr(),a=Se("select"),i=Se("input"),o=Xt({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),l=L(),u=L(),c=L(),d=L(),h=L(),p=L(),m=L(),g=L(),v=L(),y=L(),b=L(),w=L(!1),_=L(),S=L(!1),{form:C,formItem:T}=Br(),{inputId:x}=Ta(e,{formItemContext:T}),{valueOnClear:N,isEmptyValue:k}=Qp(e),{isComposing:A,handleCompositionStart:O,handleCompositionUpdate:F,handleCompositionEnd:j}=im({afterComposition:Ae=>Bt(Ae)}),V=Zn(),{wrapperRef:G,isFocused:R,handleBlur:$}=pl(h,{disabled:V,afterFocus(){e.automaticDropdown&&!w.value&&(w.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(Ae){var ot,jt;return((ot=c.value)==null?void 0:ot.isFocusInsideContent(Ae))||((jt=d.value)==null?void 0:jt.isFocusInsideContent(Ae))},afterBlur(){var Ae;w.value=!1,o.menuVisibleOnFocus=!1,e.validateEvent&&((Ae=T==null?void 0:T.validate)==null||Ae.call(T,"blur").catch(ot=>void 0))}}),D=E(()=>ke(e.modelValue)?e.modelValue.length>0:!k(e.modelValue)),z=E(()=>{var Ae;return(Ae=C==null?void 0:C.statusIcon)!=null?Ae:!1}),W=E(()=>e.clearable&&!V.value&&D.value&&(R.value||o.inputHovering)),Y=E(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),U=E(()=>a.is("reverse",!!(Y.value&&w.value))),Q=E(()=>(T==null?void 0:T.validateState)||""),J=E(()=>Q.value&&Ay[Q.value]),B=E(()=>e.remote?e.debounce:0),P=E(()=>e.remote&&!o.inputValue&&o.options.size===0),ae=E(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&o.inputValue&&o.options.size>0&&ee.value===0?e.noMatchText||n("el.select.noMatch"):o.options.size===0?e.noDataText||n("el.select.noData"):null),ee=E(()=>oe.value.filter(Ae=>Ae.visible).length),oe=E(()=>{const Ae=Array.from(o.options.values()),ot=[];return o.optionValues.forEach(jt=>{const Pn=Ae.findIndex(Xn=>Xn.value===jt);Pn>-1&&ot.push(Ae[Pn])}),ot.length>=Ae.length?ot:Ae}),X=E(()=>Array.from(o.cachedOptions.values())),H=E(()=>{const Ae=oe.value.filter(ot=>!ot.created).some(ot=>ot.currentLabel===o.inputValue);return e.filterable&&e.allowCreate&&o.inputValue!==""&&!Ae}),te=()=>{e.filterable&&Ye(e.filterMethod)||e.filterable&&e.remote&&Ye(e.remoteMethod)||oe.value.forEach(Ae=>{var ot;(ot=Ae.updateOption)==null||ot.call(Ae,o.inputValue)})},ue=gr(),ye=E(()=>["small"].includes(ue.value)?"small":"default"),he=E({get(){return w.value&&(e.loading||!P.value||e.remote&&!!r.empty)&&(!S.value||!Ds(o.previousQuery))},set(Ae){w.value=Ae}}),_e=E(()=>{if(e.multiple&&!Vt(e.modelValue))return Dr(e.modelValue).length===0&&!o.inputValue;const Ae=ke(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Vt(Ae)?!o.inputValue:!0}),Re=E(()=>{var Ae;const ot=(Ae=e.placeholder)!=null?Ae:n("el.select.placeholder");return e.multiple||!D.value?ot:o.selectedLabel}),De=E(()=>Kv?null:"mouseenter");fe(()=>e.modelValue,(Ae,ot)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(o.inputValue="",pe("")),be(),!Yn(Ae,ot)&&e.validateEvent&&(T==null||T.validate("change").catch(jt=>void 0))},{flush:"post",deep:!0}),fe(()=>w.value,Ae=>{Ae?pe(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0,o.menuVisibleOnFocus=!1)}),fe(()=>o.options.entries(),()=>{Yt&&(be(),e.defaultFirstOption&&(e.filterable||e.remote)&&ee.value&&ve())},{flush:"post"}),fe([()=>o.hoveringIndex,oe],([Ae])=>{Xe(Ae)&&Ae>-1?_.value=oe.value[Ae]||{}:_.value={},oe.value.forEach(ot=>{ot.hover=_.value===ot})}),ea(()=>{o.isBeforeHide||te()});const pe=Ae=>{o.previousQuery===Ae||A.value||(o.previousQuery=Ae,e.filterable&&Ye(e.filterMethod)?e.filterMethod(Ae):e.filterable&&e.remote&&Ye(e.remoteMethod)&&e.remoteMethod(Ae),e.defaultFirstOption&&(e.filterable||e.remote)&&ee.value?Fe(ve):Fe(Te))},ve=()=>{const Ae=oe.value.filter(Xn=>Xn.visible&&!Xn.disabled&&!Xn.states.groupDisabled),ot=Ae.find(Xn=>Xn.created),jt=Ae[0],Pn=oe.value.map(Xn=>Xn.value);o.hoveringIndex=Ue(Pn,ot||jt)},be=()=>{if(e.multiple)o.selectedLabel="";else{const ot=ke(e.modelValue)?e.modelValue[0]:e.modelValue,jt=me(ot);o.selectedLabel=jt.currentLabel,o.selected=[jt];return}const Ae=[];Vt(e.modelValue)||Dr(e.modelValue).forEach(ot=>{Ae.push(me(ot))}),o.selected=Ae},me=Ae=>{let ot;const jt=Vh(Ae);for(let us=o.cachedOptions.size-1;us>=0;us--){const Yr=X.value[us];if(jt?dr(Yr.value,e.valueKey)===dr(Ae,e.valueKey):Yr.value===Ae){ot={index:oe.value.filter(ko=>!ko.created).indexOf(Yr),value:Ae,currentLabel:Yr.currentLabel,get isDisabled(){return Yr.isDisabled}};break}}if(ot)return ot;const Pn=jt?Ae.label:Ae??"";return{index:-1,value:Ae,currentLabel:Pn}},Te=()=>{const Ae=o.selected.length;if(Ae>0){const ot=o.selected[Ae-1];o.hoveringIndex=oe.value.findIndex(jt=>jr(ot)===jr(jt))}else o.hoveringIndex=-1},xe=()=>{o.selectionWidth=Number.parseFloat(window.getComputedStyle(u.value).width)},Oe=()=>{o.collapseItemWidth=y.value.getBoundingClientRect().width},Ce=()=>{var Ae,ot;(ot=(Ae=c.value)==null?void 0:Ae.updatePopper)==null||ot.call(Ae)},Ee=()=>{var Ae,ot;(ot=(Ae=d.value)==null?void 0:Ae.updatePopper)==null||ot.call(Ae)},Be=()=>{o.inputValue.length>0&&!w.value&&(w.value=!0),pe(o.inputValue)},Bt=Ae=>{if(o.inputValue=Ae.target.value,e.remote)S.value=!0,Gt();else return Be()},Gt=qp(()=>{Be(),S.value=!1},B),tt=Ae=>{Yn(e.modelValue,Ae)||t(It,Ae)},mt=Ae=>kO(Ae,ot=>{const jt=o.cachedOptions.get(ot);return!(jt!=null&&jt.disabled)&&!(jt!=null&&jt.states.groupDisabled)}),kt=Ae=>{const ot=hn(Ae);if(e.multiple&&ot!==Ne.delete&&Ae.target.value.length<=0){const jt=Dr(e.modelValue).slice(),Pn=mt(jt);if(Pn<0)return;const Xn=jt[Pn];jt.splice(Pn,1),t(it,jt),tt(jt),t("remove-tag",Xn)}},we=(Ae,ot)=>{const jt=o.selected.indexOf(ot);if(jt>-1&&!V.value){const Pn=Dr(e.modelValue).slice();Pn.splice(jt,1),t(it,Pn),tt(Pn),t("remove-tag",ot.value)}Ae.stopPropagation(),Je()},He=Ae=>{Ae.stopPropagation();const ot=e.multiple?[]:N.value;if(e.multiple)for(const jt of o.selected)jt.isDisabled&&ot.push(jt.value);t(it,ot),tt(ot),o.hoveringIndex=-1,w.value=!1,t("clear"),Je()},ge=Ae=>{var ot;if(e.multiple){const jt=Dr((ot=e.modelValue)!=null?ot:[]).slice(),Pn=Ue(jt,Ae);Pn>-1?jt.splice(Pn,1):(e.multipleLimit<=0||jt.length<e.multipleLimit)&&jt.push(Ae.value),t(it,jt),tt(jt),Ae.created&&pe(""),e.filterable&&!e.reserveKeyword&&(o.inputValue="")}else!Yn(e.modelValue,Ae.value)&&t(it,Ae.value),tt(Ae.value),w.value=!1;Je(),!w.value&&Fe(()=>{St(Ae)})},Ue=(Ae,ot)=>Vt(ot)?-1:ht(ot.value)?Ae.findIndex(jt=>Yn(dr(jt,e.valueKey),jr(ot))):Ae.indexOf(ot.value),St=Ae=>{var ot,jt,Pn,Xn,us;const Yr=ke(Ae)?Ae[Ae.length-1]:Ae;let Li=null;if(!or(Yr==null?void 0:Yr.value)){const ko=oe.value.filter(Pc=>Pc.value===Yr.value);ko.length>0&&(Li=ko[0].$el)}if(c.value&&Li){const ko=(Xn=(Pn=(jt=(ot=c.value)==null?void 0:ot.popperRef)==null?void 0:jt.contentRef)==null?void 0:Pn.querySelector)==null?void 0:Xn.call(Pn,`.${a.be("dropdown","wrap")}`);ko&&l6(ko,Li)}(us=b.value)==null||us.handleScroll()},sn=Ae=>{o.options.set(Ae.value,Ae),o.cachedOptions.set(Ae.value,Ae)},Ln=(Ae,ot)=>{o.options.get(Ae)===ot&&o.options.delete(Ae)},jn=E(()=>{var Ae,ot;return(ot=(Ae=c.value)==null?void 0:Ae.popperRef)==null?void 0:ot.contentRef}),ze=()=>{o.isBeforeHide=!1,Fe(()=>{var Ae;(Ae=b.value)==null||Ae.update(),St(o.selected)})},Je=()=>{var Ae;(Ae=h.value)==null||Ae.focus()},pt=()=>{var Ae;if(w.value){w.value=!1,Fe(()=>{var ot;return(ot=h.value)==null?void 0:ot.blur()});return}(Ae=h.value)==null||Ae.blur()},Mn=Ae=>{He(Ae)},Jt=Ae=>{if(w.value=!1,R.value){const ot=new FocusEvent("blur",Ae);Fe(()=>$(ot))}},Qe=()=>{o.inputValue.length>0?o.inputValue="":w.value=!1},rt=Ae=>{var ot;V.value||e.filterable&&w.value&&Ae&&!((ot=m.value)!=null&&ot.contains(Ae.target))||(Kv&&(o.inputHovering=!0),o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:w.value=!w.value)},xt=()=>{if(!w.value)rt();else{const Ae=oe.value[o.hoveringIndex];Ae&&!Ae.isDisabled&&ge(Ae)}},jr=Ae=>ht(Ae.value)?dr(Ae.value,e.valueKey):Ae.value,ks=E(()=>oe.value.filter(Ae=>Ae.visible).every(Ae=>Ae.isDisabled)),Ga=E(()=>e.multiple?e.collapseTags?o.selected.slice(0,e.maxCollapseTags):o.selected:[]),jm=E(()=>e.multiple?e.collapseTags?o.selected.slice(e.maxCollapseTags):[]:[]),gu=Ae=>{if(!w.value){w.value=!0;return}if(!(o.options.size===0||ee.value===0||A.value)&&!ks.value){Ae==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):Ae==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const ot=oe.value[o.hoveringIndex];(ot.isDisabled||!ot.visible)&&gu(Ae),Fe(()=>St(_.value))}},Vm=(Ae,ot,jt,Pn)=>{for(let Xn=ot;Xn>=0&&Xn<Pn;Xn+=jt){const us=Ae[Xn];if(!(us!=null&&us.isDisabled)&&(us!=null&&us.visible))return Xn}return null},To=(Ae,ot)=>{var jt;const Pn=o.options.size;if(Pn===0)return;const Xn=zu(Ae,0,Pn-1),us=oe.value,Yr=ot==="up"?-1:1,Li=(jt=Vm(us,Xn,Yr,Pn))!=null?jt:Vm(us,Xn-Yr,-Yr,Pn);Li!=null&&(o.hoveringIndex=Li,Fe(()=>St(_.value)))},B1=Ae=>{const ot=hn(Ae);let jt=!0;switch(ot){case Ne.up:gu("prev");break;case Ne.down:gu("next");break;case Ne.enter:case Ne.numpadEnter:A.value||xt();break;case Ne.esc:Qe();break;case Ne.backspace:jt=!1,kt(Ae);return;case Ne.home:if(!w.value)return;To(0,"down");break;case Ne.end:if(!w.value)return;To(o.options.size-1,"up");break;case Ne.pageUp:if(!w.value)return;To(o.hoveringIndex-10,"up");break;case Ne.pageDown:if(!w.value)return;To(o.hoveringIndex+10,"down");break;default:jt=!1;break}jt&&(Ae.preventDefault(),Ae.stopPropagation())},j1=()=>{if(!u.value)return 0;const Ae=window.getComputedStyle(u.value);return Number.parseFloat(Ae.gap||"6px")},V1=E(()=>{const Ae=j1(),ot=e.filterable?Ae+Ly:0;return{maxWidth:`${y.value&&e.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-Ae-ot:o.selectionWidth-ot}px`}}),H1=E(()=>({maxWidth:`${o.selectionWidth}px`})),U1=Ae=>{t("popup-scroll",Ae)};$n(u,xe),$n(G,Ce),$n(v,Ee),$n(y,Oe);let vu;return fe(()=>he.value,Ae=>{Ae?vu=$n(g,Ce).stop:(vu==null||vu(),vu=void 0),t("visible-change",Ae)}),_t(()=>{be()}),{inputId:x,contentId:s,nsSelect:a,nsInput:i,states:o,isFocused:R,expanded:w,optionsArray:oe,hoverOption:_,selectSize:ue,filteredOptionsCount:ee,updateTooltip:Ce,updateTagTooltip:Ee,debouncedOnInputChange:Gt,onInput:Bt,deletePrevTag:kt,deleteTag:we,deleteSelected:He,handleOptionSelect:ge,scrollToOption:St,hasModelValue:D,shouldShowPlaceholder:_e,currentPlaceholder:Re,mouseEnterEventName:De,needStatusIcon:z,showClearBtn:W,iconComponent:Y,iconReverse:U,validateState:Q,validateIcon:J,showNewOption:H,updateOptions:te,collapseTagSize:ye,setSelected:be,selectDisabled:V,emptyText:ae,handleCompositionStart:O,handleCompositionUpdate:F,handleCompositionEnd:j,handleKeydown:B1,onOptionCreate:sn,onOptionDestroy:Ln,handleMenuEnter:ze,focus:Je,blur:pt,handleClearClick:Mn,handleClickOutside:Jt,handleEsc:Qe,toggleMenu:rt,selectOption:xt,getValueKey:jr,navigateOptions:gu,dropdownMenuVisible:he,showTagList:Ga,collapseTagList:jm,popupScroll:U1,getOption:me,tagStyle:V1,collapseTagStyle:H1,popperRef:jn,inputRef:h,tooltipRef:c,tagTooltipRef:d,prefixRef:p,suffixRef:m,selectRef:l,wrapperRef:G,selectionRef:u,scrollbarRef:b,menuRef:g,tagMenuRef:v,collapseItemRef:y}};var xQ=de({name:"ElOptions",setup(e,{slots:t}){const n=Ve(lm);let r=[];return()=>{var s,a;const i=(s=t.default)==null?void 0:s.call(t),o=[];function l(u){ke(u)&&u.forEach(c=>{var d,h,p,m;const g=(d=(c==null?void 0:c.type)||{})==null?void 0:d.name;g==="ElOptionGroup"?l(!Ke(c.children)&&!ke(c.children)&&Ye((h=c.children)==null?void 0:h.default)?(p=c.children)==null?void 0:p.default():c.children):g==="ElOption"?o.push((m=c.props)==null?void 0:m.value):ke(c.children)&&l(c.children)})}return i.length&&l((a=i[0])==null?void 0:a.children),Yn(o,r)||(r=o,n&&(n.states.optionValues=o)),i}}});const Q$=$e({name:String,id:String,modelValue:{type:ne([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:wr,effect:{type:ne(String),default:"light"},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:ne([String,Object])},popperOptions:{type:ne(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:ne(Function)},filterMethod:{type:ne(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:un.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:dn,default:_o},fitInputWidth:Boolean,suffixIcon:{type:dn,default:Ri},tagType:{...nl.type,default:"info"},tagEffect:{...nl.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:ne(String),values:So,default:"bottom-start"},fallbackPlacements:{type:ne(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:un.appendTo,options:{type:ne(Array)},props:{type:ne(Object),default:()=>Yv},...Ec,...Ts(["ariaLabel"])});_$.scroll;var EQ=de({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=Se("select"),n=L(),r=wt(),s=L([]);At(X$,Xt({...Or(e)}));const a=E(()=>s.value.some(u=>u.visible===!0)),i=u=>{var c;return u.type.name==="ElOption"&&!!((c=u.component)!=null&&c.proxy)},o=u=>{const c=Dr(u),d=[];return c.forEach(h=>{var p;vn(h)&&(i(h)?d.push(h.component.proxy):ke(h.children)&&h.children.length?d.push(...o(h.children)):(p=h.component)!=null&&p.subTree&&d.push(...o(h.component.subTree)))}),d},l=()=>{s.value=o(r.subTree)};return _t(()=>{l()}),Xp(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:a,ns:t}}});function TQ(e,t,n,r,s,a){return vt((I(),K("ul",{ref:"groupRef",class:M(e.ns.be("group","wrap"))},[Z("li",{class:M(e.ns.be("group","title"))},Ie(e.label),3),Z("li",null,[Z("ul",{class:M(e.ns.b("group"))},[ie(e.$slots,"default")],2)])],2)),[[Kt,e.visible]])}var A6=_r(EQ,[["render",TQ]]);const Il=new Map;if(Yt){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of Il.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function RE(e,t){let n=[];return ke(t.arg)?n=t.arg:Ys(t.arg)&&n.push(t.arg),function(r,s){const a=t.instance.popperRef,i=r.target,o=s==null?void 0:s.target,l=!t||!t.instance,u=!i||!o,c=e.contains(i)||e.contains(o),d=e===i,h=n.length&&n.some(m=>m==null?void 0:m.contains(i))||n.length&&n.includes(o),p=a&&(a.contains(i)||a.contains(o));l||u||c||d||h||p||t.value(r,s)}}const tu={beforeMount(e,t){Il.has(e)||Il.set(e,[]),Il.get(e).push({documentHandler:RE(e,t),bindingFn:t.value})},updated(e,t){Il.has(e)||Il.set(e,[]);const n=Il.get(e),r=n.findIndex(a=>a.bindingFn===t.oldValue),s={documentHandler:RE(e,t),bindingFn:t.value};r>=0?n.splice(r,1,s):n.push(s)},unmounted(e){Il.delete(e)}};function R6(){const e=wn(),t=L(0),n=E(()=>({minWidth:`${Math.max(t.value,Ly)}px`}));return $n(e,()=>{var s,a;t.value=(a=(s=e.value)==null?void 0:s.getBoundingClientRect().width)!=null?a:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:n}}const ME="ElSelect",ip=new WeakMap,kQ=e=>(...t)=>{var n,r;const s=t[0];if(!s||s.includes('Slot "default" invoked outside of the render function')&&((n=t[2])!=null&&n.includes("ElTreeSelect")))return;const a=(r=ip.get(e))==null?void 0:r.originalWarnHandler;if(a){a(...t);return}console.warn(...t)},NQ=e=>{let t=ip.get(e);return t||(t={originalWarnHandler:e.config.warnHandler,handler:kQ(e),count:0},ip.set(e,t)),t};var IQ=de({name:ME,componentName:ME,components:{ElSelectMenu:SQ,ElOption:$6,ElOptions:xQ,ElOptionGroup:A6,ElTag:Ko,ElScrollbar:bi,ElTooltip:zr,ElIcon:We},directives:{ClickOutside:tu},props:Q$,emits:[it,It,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:t,slots:n}){const r=wt(),s=NQ(r.appContext);s.count+=1,r.appContext.config.warnHandler=s.handler;const a=E(()=>{const{modelValue:b,multiple:w}=e,_=w?[]:void 0;return ke(b)?w?b:_:w?_:b}),i=Xt({...Or(e),modelValue:a}),o=CQ(i,t),{calculatorRef:l,inputStyle:u}=R6(),{getLabel:c,getValue:d,getOptions:h,getDisabled:p}=om(e),m=b=>({label:c(b),value:d(b),disabled:p(b)}),g=b=>b.reduce((w,_)=>(w.push(_),_.children&&_.children.length>0&&w.push(...g(_.children)),w),[]),v=b=>{ha(b||[]).forEach(_=>{var S;if(ht(_)&&(_.type.name==="ElOption"||_.type.name==="ElTree")){const C=_.type.name;if(C==="ElTree"){const T=((S=_.props)==null?void 0:S.data)||[];g(T).forEach(N=>{N.currentLabel=N.label||(ht(N.value)?"":N.value),o.onOptionCreate(N)})}else if(C==="ElOption"){const T={..._.props};T.currentLabel=T.label||(ht(T.value)?"":T.value),o.onOptionCreate(T)}}})};fe(()=>{var b;return[(b=n.default)==null?void 0:b.call(n),a.value]},()=>{var b;e.persistent||o.expanded.value||(o.states.options.clear(),v((b=n.default)==null?void 0:b.call(n)))},{immediate:!0}),At(lm,Xt({props:i,states:o.states,selectRef:o.selectRef,optionsArray:o.optionsArray,setSelected:o.setSelected,handleOptionSelect:o.handleOptionSelect,onOptionCreate:o.onOptionCreate,onOptionDestroy:o.onOptionDestroy}));const y=E(()=>e.multiple?o.states.selected.map(b=>b.currentLabel):o.states.selectedLabel);return en(()=>{const b=ip.get(r.appContext);b&&(b.count-=1,b.count<=0&&(r.appContext.config.warnHandler=b.originalWarnHandler,ip.delete(r.appContext)))}),{...o,modelValue:a,selectedLabel:y,calculatorRef:l,inputStyle:u,getLabel:c,getValue:d,getOptions:h,getDisabled:p,getOptionProps:m}}});const OQ=["id","value","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],$Q=["textContent"],AQ={key:1};function RQ(e,t,n,r,s,a){const i=Rt("el-tag"),o=Rt("el-tooltip"),l=Rt("el-icon"),u=Rt("el-option"),c=Rt("el-option-group"),d=Rt("el-options"),h=Rt("el-scrollbar"),p=Rt("el-select-menu"),m=P3("click-outside");return vt((I(),K("div",bt({ref:"selectRef",class:[e.nsSelect.b(),e.nsSelect.m(e.selectSize)]},{[vh(e.mouseEnterEventName)]:t[10]||(t[10]=g=>e.states.inputHovering=!0)},{onMouseleave:t[11]||(t[11]=g=>e.states.inputHovering=!1)}),[q(o,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t[9]||(t[9]=g=>e.states.isBeforeHide=!1)},{default:re(()=>{var g;return[Z("div",{ref:"wrapperRef",class:M([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:t[6]||(t[6]=at((...v)=>e.toggleMenu&&e.toggleMenu(...v),["prevent"]))},[e.$slots.prefix?(I(),K("div",{key:0,ref:"prefixRef",class:M(e.nsSelect.e("prefix"))},[ie(e.$slots,"prefix")],2)):le("v-if",!0),Z("div",{ref:"selectionRef",class:M([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?ie(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(I(!0),K(Ge,null,Ot(e.showTagList,v=>(I(),K("div",{key:e.getValueKey(v),class:M(e.nsSelect.e("selected-item"))},[q(i,{closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:qe(e.tagStyle),onClose:y=>e.deleteTag(y,v)},{default:re(()=>[Z("span",{class:M(e.nsSelect.e("tags-text"))},[ie(e.$slots,"label",{index:v.index,label:v.currentLabel,value:v.value},()=>[gt(Ie(v.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(I(),ce(o,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported,"popper-options":e.popperOptions},{default:re(()=>[Z("div",{ref:"collapseItemRef",class:M(e.nsSelect.e("selected-item"))},[q(i,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:qe(e.collapseTagStyle)},{default:re(()=>[Z("span",{class:M(e.nsSelect.e("tags-text"))}," + "+Ie(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:re(()=>[Z("div",{ref:"tagMenuRef",class:M(e.nsSelect.e("selection"))},[(I(!0),K(Ge,null,Ot(e.collapseTagList,v=>(I(),K("div",{key:e.getValueKey(v),class:M(e.nsSelect.e("selected-item"))},[q(i,{class:"in-tooltip",closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:y=>e.deleteTag(y,v)},{default:re(()=>[Z("span",{class:M(e.nsSelect.e("tags-text"))},[ie(e.$slots,"label",{index:v.index,label:v.currentLabel,value:v.value},()=>[gt(Ie(v.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported","popper-options"])):le("v-if",!0)]):le("v-if",!0),Z("div",{class:M([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[Z("input",{id:e.inputId,ref:"inputRef",value:e.states.inputValue,type:"text",name:e.name,class:M([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:qe(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((g=e.hoverOption)==null?void 0:g.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:t[0]||(t[0]=(...v)=>e.handleKeydown&&e.handleKeydown(...v)),onCompositionstart:t[1]||(t[1]=(...v)=>e.handleCompositionStart&&e.handleCompositionStart(...v)),onCompositionupdate:t[2]||(t[2]=(...v)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...v)),onCompositionend:t[3]||(t[3]=(...v)=>e.handleCompositionEnd&&e.handleCompositionEnd(...v)),onInput:t[4]||(t[4]=(...v)=>e.onInput&&e.onInput(...v)),onClick:t[5]||(t[5]=at((...v)=>e.toggleMenu&&e.toggleMenu(...v),["stop"]))},null,46,OQ),e.filterable?(I(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:M(e.nsSelect.e("input-calculator")),textContent:Ie(e.states.inputValue)},null,10,$Q)):le("v-if",!0)],2),e.shouldShowPlaceholder?(I(),K("div",{key:1,class:M([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?ie(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,Ie(e.currentPlaceholder),1)]):(I(),K("span",AQ,Ie(e.currentPlaceholder),1))],2)):le("v-if",!0)],2),Z("div",{ref:"suffixRef",class:M(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(I(),ce(l,{key:0,class:M([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:re(()=>[(I(),ce(yt(e.iconComponent)))]),_:1},8,["class"])):le("v-if",!0),e.showClearBtn&&e.clearIcon?(I(),ce(l,{key:1,class:M([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:re(()=>[(I(),ce(yt(e.clearIcon)))]),_:1},8,["class","onClick"])):le("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(I(),ce(l,{key:2,class:M([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:re(()=>[(I(),ce(yt(e.validateIcon)))]),_:1},8,["class"])):le("v-if",!0)],2)],2)]}),content:re(()=>[q(p,{ref:"menuRef"},{default:re(()=>[e.$slots.header?(I(),K("div",{key:0,class:M(e.nsSelect.be("dropdown","header")),onClick:t[7]||(t[7]=at(()=>{},["stop"]))},[ie(e.$slots,"header")],2)):le("v-if",!0),vt(q(h,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:M([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:re(()=>[e.showNewOption?(I(),ce(u,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):le("v-if",!0),q(d,null,{default:re(()=>[ie(e.$slots,"default",{},()=>[(I(!0),K(Ge,null,Ot(e.options,(g,v)=>{var y;return I(),K(Ge,{key:v},[(y=e.getOptions(g))!=null&&y.length?(I(),ce(c,{key:0,label:e.getLabel(g),disabled:e.getDisabled(g)},{default:re(()=>[(I(!0),K(Ge,null,Ot(e.getOptions(g),b=>(I(),ce(u,bt({key:e.getValue(b)},{ref_for:!0},e.getOptionProps(b)),null,16))),128))]),_:2},1032,["label","disabled"])):(I(),ce(u,bt({key:1,ref_for:!0},e.getOptionProps(g)),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[Kt,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(I(),K("div",{key:1,class:M(e.nsSelect.be("dropdown","loading"))},[ie(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(I(),K("div",{key:2,class:M(e.nsSelect.be("dropdown","empty"))},[ie(e.$slots,"empty",{},()=>[Z("span",null,Ie(e.emptyText),1)])],2)):le("v-if",!0),e.$slots.footer?(I(),K("div",{key:3,class:M(e.nsSelect.be("dropdown","footer")),onClick:t[8]||(t[8]=at(()=>{},["stop"]))},[ie(e.$slots,"footer")],2)):le("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],16)),[[m,e.handleClickOutside,e.popperRef]])}var MQ=_r(IQ,[["render",RQ]]);const nu=dt(MQ,{Option:$6,OptionGroup:A6}),qv=Bn($6),PQ=Bn(A6);var LQ=de({name:"SelectController",__name:"select-controller",props:uQ,emits:cQ,setup(e,{emit:t}){const n=e,r=t,s=Se("calendar-select"),{t:a,lang:i}=Mt(),o=Array.from({length:12},(m,g)=>{const v=g+1,y=Ye(n.formatter)?n.formatter(v,"month"):v;return{value:v,label:y}}),l=E(()=>n.date.year()),u=E(()=>n.date.month()+1),c=E(()=>{const m=[];for(let g=-10;g<10;g++){const v=l.value+g;if(v>0){const y=Ye(n.formatter)?n.formatter(v,"year"):v;m.push({value:v,label:y})}}return m}),d=m=>{r("date-change",ct(new Date(m,u.value-1,1)).locale(i.value))},h=m=>{r("date-change",ct(new Date(l.value,m-1,1)).locale(i.value))},p=()=>{r("date-change","today")};return(m,g)=>(I(),K(Ge,null,[q(f(nu),{"model-value":l.value,size:"small",class:M(f(s).e("year")),"validate-event":!1,options:c.value,onChange:d},null,8,["model-value","class","options"]),q(f(nu),{"model-value":u.value,size:"small",class:M(f(s).e("month")),"validate-event":!1,options:f(o),onChange:h},null,8,["model-value","class","options"]),q(f(Nr),{size:"small",onClick:p},{default:re(()=>[gt(Ie(f(a)("el.datepicker.today")),1)]),_:1})],64))}});const DQ="ElCalendar";var zQ=de({name:DQ,__name:"calendar",props:GJ,emits:ZJ,setup(e,{expose:t,emit:n}){const r=Se("calendar"),s=e,a=n,{calculateValidatedDateRange:i,date:o,pickDay:l,realSelectedDay:u,selectDate:c,validatedRange:d,handleDateChange:h}=lQ(s,a),{t:p}=Mt(),m=E(()=>{const g=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${p("el.datepicker.year")} ${p(g)}`});return t({selectedDay:u,pickDay:l,selectDate:c,calculateValidatedDateRange:i}),(g,v)=>(I(),K("div",{class:M(f(r).b())},[Z("div",{class:M(f(r).e("header"))},[ie(g.$slots,"header",{date:m.value},()=>[Z("div",{class:M(f(r).e("title"))},Ie(m.value),3),f(d).length===0&&e.controllerType==="button"?(I(),K("div",{key:0,class:M(f(r).e("button-group"))},[q(f(U$),null,{default:re(()=>[q(f(Nr),{size:"small",onClick:v[0]||(v[0]=y=>f(c)("prev-month"))},{default:re(()=>[gt(Ie(f(p)("el.datepicker.prevMonth")),1)]),_:1}),q(f(Nr),{size:"small",onClick:v[1]||(v[1]=y=>f(c)("today"))},{default:re(()=>[gt(Ie(f(p)("el.datepicker.today")),1)]),_:1}),q(f(Nr),{size:"small",onClick:v[2]||(v[2]=y=>f(c)("next-month"))},{default:re(()=>[gt(Ie(f(p)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):f(d).length===0&&e.controllerType==="select"?(I(),K("div",{key:1,class:M(f(r).e("select-controller"))},[q(LQ,{date:f(o),formatter:e.formatter,onDateChange:f(h)},null,8,["date","formatter","onDateChange"])],2)):le("v-if",!0)])],2),f(d).length===0?(I(),K("div",{key:0,class:M(f(r).e("body"))},[q(AE,{date:f(o),"selected-day":f(u),onPick:f(l)},Bs({_:2},[g.$slots["date-cell"]?{name:"date-cell",fn:re(y=>[ie(g.$slots,"date-cell",Ho(Uo(y)))]),key:"0"}:void 0]),1032,["date","selected-day","onPick"])],2)):(I(),K("div",{key:1,class:M(f(r).e("body"))},[(I(!0),K(Ge,null,Ot(f(d),(y,b)=>(I(),ce(AE,{key:b,date:y[0],"selected-day":f(u),range:y,"hide-header":b!==0,onPick:f(l)},Bs({_:2},[g.$slots["date-cell"]?{name:"date-cell",fn:re(w=>[ie(g.$slots,"date-cell",bt({ref_for:!0},w))]),key:"0"}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});const FQ=dt(zQ),BQ=$e({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:ne([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:void 0}});var jQ=de({name:"ElCard",__name:"card",props:BQ,setup(e){const t=wf("card"),n=Se("card");return(r,s)=>{var a;return I(),K("div",{class:M([f(n).b(),f(n).is(`${e.shadow||((a=f(t))==null?void 0:a.shadow)||"always"}-shadow`)])},[r.$slots.header||e.header?(I(),K("div",{key:0,class:M([f(n).e("header"),e.headerClass])},[ie(r.$slots,"header",{},()=>[gt(Ie(e.header),1)])],2)):le("v-if",!0),Z("div",{class:M([f(n).e("body"),e.bodyClass]),style:qe(e.bodyStyle)},[ie(r.$slots,"default")],6),r.$slots.footer||e.footer?(I(),K("div",{key:1,class:M([f(n).e("footer"),e.footerClass])},[ie(r.$slots,"footer",{},()=>[gt(Ie(e.footer),1)])],2)):le("v-if",!0)],2)}}});const VQ=dt(jQ),HQ=$e({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),UQ={change:(e,t)=>[e,t].every(Xe)},eA=Symbol("carouselContextKey"),iw="ElCarouselItem",WQ=(e,t,n)=>ha(e.subTree).filter(a=>{var i;return vn(a)&&((i=a.type)==null?void 0:i.name)===t&&!!a.component}).map(a=>a.component.uid).map(a=>n[a]).filter(a=>!!a),Dy=(e,t)=>{const n=wn({}),r=wn([]),s=new WeakMap,a=c=>{n.value[c.uid]=c,qg(n),_t(()=>{const d=c.getVnode().el,h=d.parentNode;if(!s.has(h)){s.set(h,[]);const p=h.insertBefore.bind(h);h.insertBefore=(m,g)=>(s.get(h).some(y=>m===y||g===y)&&qg(n),p(m,g))}s.get(h).push(d)})},i=c=>{delete n.value[c.uid],qg(n);const d=c.getVnode().el,h=d.parentNode,p=s.get(h),m=p.indexOf(d);p.splice(m,1)},o=()=>{r.value=WQ(e,t,n.value)},l=c=>c.render();return{children:r,addChild:a,removeChild:i,ChildrenSorter:de({setup(c,{slots:d}){return()=>(o(),d.default?nt(l,{render:d.default}):null)}})}},PE=300,KQ=(e,t,n)=>{const{children:r,addChild:s,removeChild:a,ChildrenSorter:i}=Dy(wt(),iw),o=nr(),l=L(-1),u=L(null),c=L(!1),d=L(),h=L(0),p=L(!0),m=E(()=>e.arrow!=="never"&&!f(y)),g=E(()=>r.value.some(J=>J.props.label.toString().length>0)),v=E(()=>e.type==="card"),y=E(()=>e.direction==="vertical"),b=E(()=>e.height!=="auto"?{height:e.height}:{height:`${h.value}px`,overflow:"hidden"}),w=Bl(J=>{N(J)},PE,{trailing:!0}),_=Bl(J=>{R(J)},PE),S=J=>p.value?l.value<=1?J<=1:J>1:!0;function C(){u.value&&(clearInterval(u.value),u.value=null)}function T(){e.interval<=0||!e.autoplay||u.value||(u.value=setInterval(()=>x(),e.interval))}const x=()=>{l.value<r.value.length-1?l.value=l.value+1:e.loop&&(l.value=0)};function N(J){if(Ke(J)){const ae=r.value.filter(ee=>ee.props.name===J);ae.length>0&&(J=r.value.indexOf(ae[0]))}if(J=Number(J),Number.isNaN(J)||J!==Math.floor(J))return;const B=r.value.length,P=l.value;J<0?l.value=e.loop?B-1:0:J>=B?l.value=e.loop?0:B-1:l.value=J,P===l.value&&k(P),z()}function k(J){r.value.forEach((B,P)=>{B.translateItem(P,l.value,J)})}function A(J,B){var P,ae,ee,oe;const X=f(r),H=X.length;if(H===0||!J.states.inStage)return!1;const te=B+1,ue=B-1,ye=H-1,he=X[ye].states.active,_e=X[0].states.active,Re=(ae=(P=X[te])==null?void 0:P.states)==null?void 0:ae.active,De=(oe=(ee=X[ue])==null?void 0:ee.states)==null?void 0:oe.active;return B===ye&&_e||Re?"left":B===0&&he||De?"right":!1}function O(){c.value=!0,e.pauseOnHover&&C()}function F(){c.value=!1,T()}function j(J){f(y)||r.value.forEach((B,P)=>{J===A(B,P)&&(B.states.hover=!0)})}function V(){f(y)||r.value.forEach(J=>{J.states.hover=!1})}function G(J){l.value=J}function R(J){e.trigger==="hover"&&J!==l.value&&(l.value=J)}function $(){N(l.value-1)}function D(){N(l.value+1)}function z(){C(),e.pauseOnHover||T()}function W(J){e.height==="auto"&&(h.value=J)}function Y(){var J;const B=(J=o.default)==null?void 0:J.call(o);if(!B)return null;const ae=ha(B).filter(ee=>vn(ee)&&ee.type.name===iw);return(ae==null?void 0:ae.length)===2&&e.loop&&!v.value?(p.value=!0,ae):(p.value=!1,null)}fe(()=>l.value,(J,B)=>{k(B),p.value&&(J=J%2,B=B%2),B>-1&&t(It,J,B)});const U=E({get:()=>p.value?l.value%2:l.value,set:J=>l.value=J});fe(()=>e.autoplay,J=>{J?T():C()}),fe(()=>e.loop,()=>{N(l.value)}),fe(()=>e.interval,()=>{z()});const Q=wn();return _t(()=>{fe(()=>r.value,()=>{r.value.length>0&&N(e.initialIndex)},{immediate:!0}),Q.value=$n(d.value,()=>{k()}),T()}),en(()=>{C(),d.value&&Q.value&&Q.value.stop()}),At(eA,{root:d,isCardType:v,isVertical:y,items:r,loop:e.loop,cardScale:e.cardScale,addItem:s,removeItem:a,setActiveItem:N,setContainerHeight:W}),{root:d,activeIndex:l,exposeActiveIndex:U,arrowDisplay:m,hasLabel:g,hover:c,isCardType:v,items:r,isVertical:y,containerStyle:b,isItemsTwoLength:p,handleButtonEnter:j,handleButtonLeave:V,handleIndicatorClick:G,handleMouseEnter:O,handleMouseLeave:F,setActiveItem:N,prev:$,next:D,PlaceholderItem:Y,isTwoLengthShow:S,ItemsSorter:i,throttledArrowClick:w,throttledIndicatorHover:_}},GQ=["aria-label"],ZQ=["aria-label"],YQ=["onMouseenter","onClick"],qQ=["aria-label"],XQ={key:0},JQ={key:2,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},QQ="ElCarousel";var eee=de({name:QQ,__name:"carousel",props:HQ,emits:UQ,setup(e,{expose:t,emit:n}){const r=e,s=n,{root:a,activeIndex:i,exposeActiveIndex:o,arrowDisplay:l,hasLabel:u,hover:c,isCardType:d,items:h,isVertical:p,containerStyle:m,handleButtonEnter:g,handleButtonLeave:v,handleIndicatorClick:y,handleMouseEnter:b,handleMouseLeave:w,setActiveItem:_,prev:S,next:C,PlaceholderItem:T,isTwoLengthShow:x,ItemsSorter:N,throttledArrowClick:k,throttledIndicatorHover:A}=KQ(r,s),O=Se("carousel"),{t:F}=Mt(),j=E(()=>{const $=[O.b(),O.m(r.direction)];return f(d)&&$.push(O.m("card")),$}),V=E(()=>{const $=[O.e("indicators"),O.em("indicators",r.direction)];return f(u)&&$.push(O.em("indicators","labels")),r.indicatorPosition==="outside"&&$.push(O.em("indicators","outside")),f(p)&&$.push(O.em("indicators","right")),$});function G($){if(!r.motionBlur)return;const D=f(p)?`${O.namespace.value}-transitioning-vertical`:`${O.namespace.value}-transitioning`;$.currentTarget.classList.add(D)}function R($){if(!r.motionBlur)return;const D=f(p)?`${O.namespace.value}-transitioning-vertical`:`${O.namespace.value}-transitioning`;$.currentTarget.classList.remove(D)}return t({activeIndex:o,setActiveItem:_,prev:S,next:C}),($,D)=>(I(),K("div",{ref_key:"root",ref:a,class:M(j.value),onMouseenter:D[6]||(D[6]=at((...z)=>f(b)&&f(b)(...z),["stop"])),onMouseleave:D[7]||(D[7]=at((...z)=>f(w)&&f(w)(...z),["stop"]))},[f(l)?(I(),ce(Gr,{key:0,name:"carousel-arrow-left",persisted:""},{default:re(()=>[vt(Z("button",{type:"button",class:M([f(O).e("arrow"),f(O).em("arrow","left")]),"aria-label":f(F)("el.carousel.leftArrow"),onMouseenter:D[0]||(D[0]=z=>f(g)("left")),onMouseleave:D[1]||(D[1]=(...z)=>f(v)&&f(v)(...z)),onClick:D[2]||(D[2]=at(z=>f(k)(f(i)-1),["stop"]))},[q(f(We),null,{default:re(()=>[q(f(el))]),_:1})],42,GQ),[[Kt,(e.arrow==="always"||f(c))&&(e.loop||f(i)>0)]])]),_:1})):le("v-if",!0),f(l)?(I(),ce(Gr,{key:1,name:"carousel-arrow-right",persisted:""},{default:re(()=>[vt(Z("button",{type:"button",class:M([f(O).e("arrow"),f(O).em("arrow","right")]),"aria-label":f(F)("el.carousel.rightArrow"),onMouseenter:D[3]||(D[3]=z=>f(g)("right")),onMouseleave:D[4]||(D[4]=(...z)=>f(v)&&f(v)(...z)),onClick:D[5]||(D[5]=at(z=>f(k)(f(i)+1),["stop"]))},[q(f(We),null,{default:re(()=>[q(f(_s))]),_:1})],42,ZQ),[[Kt,(e.arrow==="always"||f(c))&&(e.loop||f(i)<f(h).length-1)]])]),_:1})):le("v-if",!0),Z("div",{class:M(f(O).e("container")),style:qe(f(m)),onTransitionstart:G,onTransitionend:R},[q(f(T)),ie($.$slots,"default")],38),q(f(N),null,{default:re(()=>[e.indicatorPosition!=="none"?(I(),K("ul",{key:0,class:M(V.value)},[(I(!0),K(Ge,null,Ot(f(h),(z,W)=>vt((I(),K("li",{key:W,class:M([f(O).e("indicator"),f(O).em("indicator",e.direction),f(O).is("active",W===f(i))]),onMouseenter:Y=>f(A)(W),onClick:at(Y=>f(y)(W),["stop"])},[Z("button",{class:M(f(O).e("button")),"aria-label":f(F)("el.carousel.indicator",{index:W+1})},[f(u)?(I(),K("span",XQ,Ie(z.props.label),1)):le("v-if",!0)],10,qQ)],42,YQ)),[[Kt,f(x)(W)]])),128))],2)):le("v-if",!0)]),_:1}),e.motionBlur?(I(),K("svg",JQ,[...D[8]||(D[8]=[Z("defs",null,[Z("filter",{id:"elCarouselHorizontal"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Z("filter",{id:"elCarouselVertical"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1)])])):le("v-if",!0)],34))}});const tee=$e({name:{type:String,default:""},label:{type:[String,Number],default:""}}),nee=e=>{const t=Ve(eA),n=wt(),r=L(),s=L(!1),a=L(0),i=L(1),o=L(!1),l=L(!1),u=L(!1),c=L(!1),{isCardType:d,isVertical:h,cardScale:p}=t;function m(_,S,C){const T=C-1,x=S-1,N=S+1,k=C/2;return S===0&&_===T?-1:S===T&&_===0?C:_<x&&S-_>=k?C+1:_>N&&_-S>=k?-2:_}function g(_,S){var C,T;const x=f(h)?((C=t.root.value)==null?void 0:C.offsetHeight)||0:((T=t.root.value)==null?void 0:T.offsetWidth)||0;return u.value?x*((2-p)*(_-S)+1)/4:_<S?-(1+p)*x/4:(3+p)*x/4}function v(_,S,C){const T=t.root.value;return T?((C?T.offsetHeight:T.offsetWidth)||0)*(_-S):0}const y=(_,S,C)=>{var T;const x=f(d),N=(T=t.items.value.length)!=null?T:Number.NaN,k=_===S;!x&&!Vt(C)&&(c.value=k||_===C),!k&&N>2&&t.loop&&(_=m(_,S,N));const A=f(h);o.value=k,x?(u.value=Math.round(Math.abs(_-S))<=1,a.value=g(_,S),i.value=f(o)?1:p):a.value=v(_,S,A),l.value=!0,k&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function b(){if(t&&f(d)){const _=t.items.value.findIndex(({uid:S})=>S===n.uid);t.setActiveItem(_)}}const w={props:e,states:Xt({hover:s,translate:a,scale:i,active:o,ready:l,inStage:u,animating:c}),uid:n.uid,getVnode:()=>n.vnode,translateItem:y};return t.addItem(w),en(()=>{t.removeItem(w)}),{carouselItemRef:r,active:o,animating:c,hover:s,inStage:u,isVertical:h,translate:a,isCardType:d,scale:i,ready:l,handleItemClick:b}};var tA=de({name:iw,__name:"carousel-item",props:tee,setup(e){const t=e,n=Se("carousel"),{carouselItemRef:r,active:s,animating:a,hover:i,inStage:o,isVertical:l,translate:u,isCardType:c,scale:d,ready:h,handleItemClick:p}=nee(t),m=E(()=>[n.e("item"),n.is("active",s.value),n.is("in-stage",o.value),n.is("hover",i.value),n.is("animating",a.value),{[n.em("item","card")]:c.value,[n.em("item","card-vertical")]:c.value&&l.value}]),g=E(()=>{const y=`${`translate${f(l)?"Y":"X"}`}(${f(u)}px)`,b=`scale(${f(d)})`;return{transform:[y,b].join(" ")}});return(v,y)=>vt((I(),K("div",{ref_key:"carouselItemRef",ref:r,class:M(m.value),style:qe(g.value),onClick:y[0]||(y[0]=(...b)=>f(p)&&f(p)(...b))},[f(c)?vt((I(),K("div",{key:0,class:M(f(n).e("mask"))},null,2)),[[Kt,!f(s)]]):le("v-if",!0),ie(v.$slots,"default")],6)),[[Kt,f(h)]])}});const ree=dt(eee,{CarouselItem:tA}),see=Bn(tA),nA=$e({modelValue:{type:ne([Number,String,Array,Object])},options:{type:ne(Array),default:()=>[]},props:{type:ne(Object),default:()=>({})}}),aee={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:tn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},iee=$e({...nA,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),LE=e=>!0,oee={[it]:LE,[It]:LE,close:()=>!0,"expand-change":e=>e},lee=e=>E(()=>({...aee,...e.props})),uee=$e({...nA,size:wr,placeholder:String,disabled:{type:Boolean,default:void 0},clearable:Boolean,clearIcon:{type:dn,default:_o},filterable:Boolean,filterMethod:{type:ne(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:ne(Function),default:()=>!0},placement:{type:ne(String),values:So,default:"bottom-start"},fallbackPlacements:{type:ne(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:un.popperClass,popperStyle:un.popperStyle,teleported:un.teleported,effect:{type:ne(String),default:"light"},tagType:{...nl.type,default:"info"},tagEffect:{...nl.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:["parent","child"],default:"child"},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...Ec}),DE=e=>!0,cee={[it]:DE,[It]:DE,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>cn(e),expandChange:e=>!!e,removeTag:e=>!!e},rA={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:{type:Boolean,default:void 0},checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:wr,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},ariaLabel:String,...Ts(["ariaControls"])},sA={[it]:e=>Ke(e)||Xe(e)||cn(e),change:e=>Ke(e)||Xe(e)||cn(e)},Cf=Symbol("checkboxGroupContextKey"),dee=({model:e,isChecked:t})=>{const n=Ve(Cf,void 0),r=Ve(Tc,void 0),s=E(()=>{var i,o;const l=(i=n==null?void 0:n.max)==null?void 0:i.value,u=(o=n==null?void 0:n.min)==null?void 0:o.value;return!Vt(l)&&e.value.length>=l&&!t.value||!Vt(u)&&e.value.length<=u&&t.value});return{isDisabled:Zn(E(()=>{var i,o;return n===void 0?(i=r==null?void 0:r.disabled)!=null?i:s.value:((o=n.disabled)==null?void 0:o.value)||s.value})),isLimitDisabled:s}},fee=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:s,isLabeledByFormItem:a})=>{const i=Ve(Cf,void 0),{formItem:o}=Br(),{emit:l}=wt();function u(m){var g,v,y,b;return[!0,e.trueValue,e.trueLabel].includes(m)?(v=(g=e.trueValue)!=null?g:e.trueLabel)!=null?v:!0:(b=(y=e.falseValue)!=null?y:e.falseLabel)!=null?b:!1}function c(m,g){l(It,u(m),g)}function d(m){if(n.value)return;const g=m.target;l(It,u(g.checked),m)}async function h(m){n.value||!r.value&&!s.value&&a.value&&(m.composedPath().some(y=>y.tagName==="LABEL")||(t.value=u([!1,e.falseValue,e.falseLabel].includes(t.value)),await Fe(),c(t.value,m)))}const p=E(()=>(i==null?void 0:i.validateEvent)||e.validateEvent);return fe(()=>e.modelValue,()=>{p.value&&(o==null||o.validate("change").catch(m=>void 0))}),{handleChange:d,onClickRoot:h}},hee=e=>{const t=L(!1),{emit:n}=wt(),r=Ve(Cf,void 0),s=E(()=>Vt(r)===!1),a=L(!1),i=E({get(){var o,l;return s.value?(o=r==null?void 0:r.modelValue)==null?void 0:o.value:(l=e.modelValue)!=null?l:t.value},set(o){var l,u;s.value&&ke(o)?(a.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&o.length>(r==null?void 0:r.max.value)&&o.length>i.value.length,a.value===!1&&((u=r==null?void 0:r.changeEvent)==null||u.call(r,o))):(n(it,o),t.value=o)}});return{model:i,isGroup:s,isLimitExceeded:a}},pee=(e,t,{model:n})=>{const r=Ve(Cf,void 0),s=L(!1),a=E(()=>qs(e.value)?e.label:e.value),i=E(()=>{const c=n.value;return cn(c)?c:ke(c)?ht(a.value)?c.map(yn).some(d=>Yn(d,a.value)):c.map(yn).includes(a.value):c!=null?c===e.trueValue||c===e.trueLabel:!!c}),o=gr(E(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value}),{prop:!0}),l=gr(E(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value})),u=E(()=>!!t.default||!qs(a.value));return{checkboxButtonSize:o,isChecked:i,isFocused:s,checkboxSize:l,hasOwnLabel:u,actualValue:a}},aA=(e,t)=>{const{formItem:n}=Br(),{model:r,isGroup:s,isLimitExceeded:a}=hee(e),{isFocused:i,isChecked:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:d}=pee(e,t,{model:r}),{isDisabled:h}=dee({model:r,isChecked:o}),{inputId:p,isLabeledByFormItem:m}=Ta(e,{formItemContext:n,disableIdGeneration:c,disableIdManagement:s}),{handleChange:g,onClickRoot:v}=fee(e,{model:r,isLimitExceeded:a,hasOwnLabel:c,isDisabled:h,isLabeledByFormItem:m});return(()=>{function b(){var w,_;ke(r.value)&&!r.value.includes(d.value)?r.value.push(d.value):r.value=(_=(w=e.trueValue)!=null?w:e.trueLabel)!=null?_:!0}e.checked&&b()})(),ao({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},E(()=>s.value&&qs(e.value))),ao({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},E(()=>!!e.trueLabel)),ao({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},E(()=>!!e.falseLabel)),{inputId:p,isLabeledByFormItem:m,isChecked:o,isDisabled:h,isFocused:i,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:r,actualValue:d,handleChange:g,onClickRoot:v}},mee=["id","indeterminate","name","tabindex","disabled"];var iA=de({name:"ElCheckbox",__name:"checkbox",props:rA,emits:sA,setup(e){const t=e,n=nr(),{inputId:r,isLabeledByFormItem:s,isChecked:a,isDisabled:i,isFocused:o,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:d,handleChange:h,onClickRoot:p}=aA(t,n),m=E(()=>{var b,w,_,S;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(w=(b=t.trueValue)!=null?b:t.trueLabel)!=null?w:!0,"false-value":(S=(_=t.falseValue)!=null?_:t.falseLabel)!=null?S:!1}:{value:d.value}}),g=Se("checkbox"),v=E(()=>[g.b(),g.m(l.value),g.is("disabled",i.value),g.is("bordered",t.border),g.is("checked",a.value)]),y=E(()=>[g.e("input"),g.is("disabled",i.value),g.is("checked",a.value),g.is("indeterminate",t.indeterminate),g.is("focus",o.value)]);return(b,w)=>(I(),ce(yt(!f(u)&&f(s)?"span":"label"),{for:!f(u)&&f(s)?null:f(r),class:M(v.value),"aria-controls":e.indeterminate?e.ariaControls:null,"aria-checked":e.indeterminate?"mixed":void 0,"aria-label":e.ariaLabel,onClick:f(p)},{default:re(()=>[Z("span",{class:M(y.value)},[vt(Z("input",bt({id:f(r),"onUpdate:modelValue":w[0]||(w[0]=_=>Cn(c)?c.value=_:null),class:f(g).e("original"),type:"checkbox",indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:f(i)},m.value,{onChange:w[1]||(w[1]=(..._)=>f(h)&&f(h)(..._)),onFocus:w[2]||(w[2]=_=>o.value=!0),onBlur:w[3]||(w[3]=_=>o.value=!1),onClick:w[4]||(w[4]=at(()=>{},["stop"]))}),null,16,mee),[[D8,f(c)]]),Z("span",{class:M(f(g).e("inner"))},null,2)],2),f(u)?(I(),K("span",{key:0,class:M(f(g).e("label"))},[ie(b.$slots,"default"),b.$slots.default?le("v-if",!0):(I(),K(Ge,{key:0},[gt(Ie(e.label),1)],64))],2)):le("v-if",!0)]),_:3},8,["for","class","aria-controls","aria-checked","aria-label","onClick"]))}});const gee=["name","tabindex","disabled"];var M6=de({name:"ElCheckboxButton",__name:"checkbox-button",props:rA,emits:sA,setup(e){const t=e,n=nr(),{isFocused:r,isChecked:s,isDisabled:a,checkboxButtonSize:i,model:o,actualValue:l,handleChange:u}=aA(t,n),c=E(()=>{var g,v,y,b;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(v=(g=t.trueValue)!=null?g:t.trueLabel)!=null?v:!0,"false-value":(b=(y=t.falseValue)!=null?y:t.falseLabel)!=null?b:!1}:{value:l.value}}),d=Ve(Cf,void 0),h=Se("checkbox"),p=E(()=>{var g,v,y,b;const w=(v=(g=d==null?void 0:d.fill)==null?void 0:g.value)!=null?v:"";return{backgroundColor:w,borderColor:w,color:(b=(y=d==null?void 0:d.textColor)==null?void 0:y.value)!=null?b:"",boxShadow:w?`-1px 0 0 0 ${w}`:void 0}}),m=E(()=>[h.b("button"),h.bm("button",i.value),h.is("disabled",a.value),h.is("checked",s.value),h.is("focus",r.value)]);return(g,v)=>(I(),K("label",{class:M(m.value)},[vt(Z("input",bt({"onUpdate:modelValue":v[0]||(v[0]=y=>Cn(o)?o.value=y:null),class:f(h).be("button","original"),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:f(a)},c.value,{onChange:v[1]||(v[1]=(...y)=>f(u)&&f(u)(...y)),onFocus:v[2]||(v[2]=y=>r.value=!0),onBlur:v[3]||(v[3]=y=>r.value=!1),onClick:v[4]||(v[4]=at(()=>{},["stop"]))}),null,16,gee),[[D8,f(o)]]),g.$slots.default||e.label?(I(),K("span",{key:0,class:M(f(h).be("button","inner")),style:qe(f(s)?p.value:void 0)},[ie(g.$slots,"default",{},()=>[gt(Ie(e.label),1)])],6)):le("v-if",!0)],2))}});const vee=$e({modelValue:{type:ne(Array),default:()=>[]},disabled:{type:Boolean,default:void 0},min:Number,max:Number,size:wr,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:ne(Array)},props:{type:ne(Object),default:()=>oA},type:{type:String,values:["checkbox","button"],default:"checkbox"},...Ts(["ariaLabel"])}),yee={[it]:e=>ke(e),change:e=>ke(e)},oA={label:"label",value:"value",disabled:"disabled"};var lA=de({name:"ElCheckboxGroup",__name:"checkbox-group",props:vee,emits:yee,setup(e,{emit:t}){const n=e,r=t,s=Se("checkbox"),a=Zn(),{formItem:i}=Br(),{inputId:o,isLabeledByFormItem:l}=Ta(n,{formItemContext:i}),u=async m=>{r(it,m),await Fe(),r(It,m)},c=E({get(){return n.modelValue},set(m){u(m)}}),d=E(()=>({...oA,...n.props})),h=m=>{const{label:g,value:v,disabled:y}=d.value,b={label:m[g],value:m[v],disabled:m[y]};return{...Zp(m,[g,v,y]),...b}},p=E(()=>n.type==="button"?M6:iA);return At(Cf,{...Jo(Or(n),["size","min","max","validateEvent","fill","textColor"]),disabled:a,modelValue:c,changeEvent:u}),fe(()=>n.modelValue,(m,g)=>{n.validateEvent&&!Yn(m,g)&&(i==null||i.validate("change").catch(v=>void 0))}),(m,g)=>{var v;return I(),ce(yt(e.tag),{id:f(o),class:M(f(s).b("group")),role:"group","aria-label":f(l)?void 0:e.ariaLabel||"checkbox-group","aria-labelledby":f(l)?(v=f(i))==null?void 0:v.labelId:void 0},{default:re(()=>[ie(m.$slots,"default",{},()=>[(I(!0),K(Ge,null,Ot(e.options,(y,b)=>(I(),ce(yt(p.value),bt({key:b},{ref_for:!0},h(y)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});const wi=dt(iA,{CheckboxButton:M6,CheckboxGroup:lA}),bee=Bn(M6),P6=Bn(lA),uA=$e({modelValue:{type:[String,Number,Boolean],default:void 0},size:wr,disabled:{type:Boolean,default:void 0},label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),wee=$e({...uA,border:Boolean}),cA={[it]:e=>Ke(e)||Xe(e)||cn(e),[It]:e=>Ke(e)||Xe(e)||cn(e)},dA=Symbol("radioGroupKey"),fA=(e,t)=>{const n=L(),r=Ve(dA,void 0),s=E(()=>!!r),a=E(()=>qs(e.value)?e.label:e.value),i=E({get(){return s.value?r.modelValue:e.modelValue},set(d){s.value?r.changeEvent(d):t&&t(it,d),n.value.checked=e.modelValue===a.value}}),o=gr(E(()=>r==null?void 0:r.size)),l=Zn(E(()=>r==null?void 0:r.disabled)),u=L(!1),c=E(()=>l.value||s.value&&i.value!==a.value?-1:0);return ao({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},E(()=>s.value&&qs(e.value))),{radioRef:n,isGroup:s,radioGroup:r,focus:u,size:o,disabled:l,tabIndex:c,modelValue:i,actualValue:a}},_ee=["value","name","disabled","checked"];var hA=de({name:"ElRadio",__name:"radio",props:wee,emits:cA,setup(e,{emit:t}){const n=e,r=t,s=Se("radio"),{radioRef:a,radioGroup:i,focus:o,size:l,disabled:u,modelValue:c,actualValue:d}=fA(n,r);function h(){Fe(()=>r(It,c.value))}return(p,m)=>{var g;return I(),K("label",{class:M([f(s).b(),f(s).is("disabled",f(u)),f(s).is("focus",f(o)),f(s).is("bordered",e.border),f(s).is("checked",f(c)===f(d)),f(s).m(f(l))])},[Z("span",{class:M([f(s).e("input"),f(s).is("disabled",f(u)),f(s).is("checked",f(c)===f(d))])},[vt(Z("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":m[0]||(m[0]=v=>Cn(c)?c.value=v:null),class:M(f(s).e("original")),value:f(d),name:e.name||((g=f(i))==null?void 0:g.name),disabled:f(u),checked:f(c)===f(d),type:"radio",onFocus:m[1]||(m[1]=v=>o.value=!0),onBlur:m[2]||(m[2]=v=>o.value=!1),onChange:h,onClick:m[3]||(m[3]=at(()=>{},["stop"]))},null,42,_ee),[[z8,f(c)]]),Z("span",{class:M(f(s).e("inner"))},null,2)],2),Z("span",{class:M(f(s).e("label")),onKeydown:m[4]||(m[4]=at(()=>{},["stop"]))},[ie(p.$slots,"default",{},()=>[gt(Ie(e.label),1)])],34)],2)}}});const See=$e({...uA}),Cee=["value","name","disabled"];var L6=de({name:"ElRadioButton",__name:"radio-button",props:See,setup(e){const t=e,n=Se("radio"),{radioRef:r,focus:s,size:a,disabled:i,modelValue:o,radioGroup:l,actualValue:u}=fA(t),c=E(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(d,h)=>{var p;return I(),K("label",{class:M([f(n).b("button"),f(n).is("active",f(o)===f(u)),f(n).is("disabled",f(i)),f(n).is("focus",f(s)),f(n).bm("button",f(a))])},[vt(Z("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":h[0]||(h[0]=m=>Cn(o)?o.value=m:null),class:M(f(n).be("button","original-radio")),value:f(u),type:"radio",name:e.name||((p=f(l))==null?void 0:p.name),disabled:f(i),onFocus:h[1]||(h[1]=m=>s.value=!0),onBlur:h[2]||(h[2]=m=>s.value=!1),onClick:h[3]||(h[3]=at(()=>{},["stop"]))},null,42,Cee),[[z8,f(o)]]),Z("span",{class:M(f(n).be("button","inner")),style:qe(f(o)===f(u)?c.value:{}),onKeydown:h[4]||(h[4]=at(()=>{},["stop"]))},[ie(d.$slots,"default",{},()=>[gt(Ie(e.label),1)])],38)],2)}}});const pA={label:"label",value:"value",disabled:"disabled"},xee=$e({id:{type:String,default:void 0},size:wr,disabled:{type:Boolean,default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:ne(Array)},props:{type:ne(Object),default:()=>pA},type:{type:String,values:["radio","button"],default:"radio"},...Ts(["ariaLabel"])}),Eee=cA,Tee=["id","aria-label","aria-labelledby"];var mA=de({name:"ElRadioGroup",__name:"radio-group",props:xee,emits:Eee,setup(e,{emit:t}){const n=e,r=t,s=Se("radio"),a=Zr(),i=L(),{formItem:o}=Br(),{inputId:l,isLabeledByFormItem:u}=Ta(n,{formItemContext:o}),c=g=>{r(it,g),Fe(()=>r(It,g))};_t(()=>{const g=i.value.querySelectorAll("[type=radio]"),v=g[0];!Array.from(g).some(y=>y.checked)&&v&&(v.tabIndex=0)});const d=E(()=>n.name||a.value),h=E(()=>({...pA,...n.props})),p=g=>{const{label:v,value:y,disabled:b}=h.value,w={label:g[v],value:g[y],disabled:g[b]};return{...Zp(g,[v,y,b]),...w}},m=E(()=>n.type==="button"?L6:hA);return At(dA,Xt({...Or(n),changeEvent:c,name:d})),fe(()=>n.modelValue,(g,v)=>{n.validateEvent&&!Yn(g,v)&&(o==null||o.validate("change").catch(y=>void 0))}),(g,v)=>(I(),K("div",{id:f(l),ref_key:"radioGroupRef",ref:i,class:M(f(s).b("group")),role:"radiogroup","aria-label":f(u)?void 0:e.ariaLabel||"radio-group","aria-labelledby":f(u)?f(o).labelId:void 0},[ie(g.$slots,"default",{},()=>[(I(!0),K(Ge,null,Ot(e.options,(y,b)=>(I(),ce(yt(m.value),bt({key:b},{ref_for:!0},p(y)),null,16))),128))])],10,Tee))}});const gA=dt(hA,{RadioButton:L6,RadioGroup:mA}),kee=Bn(mA),Nee=Bn(L6),zy=Symbol();function Iee(e){return!!(ke(e)?e.every(({type:t})=>t===ir):(e==null?void 0:e.type)===ir)}var Oee=de({name:"NodeContent",props:{node:{type:Object,required:!0}},setup(e){const t=Se("cascader-node"),{renderLabelFn:n}=Ve(zy),{node:r}=e,{data:s,label:a}=r,i=()=>{const o=n==null?void 0:n({node:r,data:s});return Iee(o)?a:o??a};return()=>q("span",{class:t.e("label")},[i()])}});const $ee=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"];var Aee=de({name:"ElCascaderNode",__name:"node",props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=e,r=t,s=Ve(zy),a=Se("cascader-node"),i=E(()=>s.isHoverMenu),o=E(()=>s.config.multiple),l=E(()=>s.config.checkStrictly),u=E(()=>s.config.showPrefix),c=E(()=>{var N;return(N=s.checkedNodes[0])==null?void 0:N.uid}),d=E(()=>n.node.isDisabled),h=E(()=>n.node.isLeaf),p=E(()=>l.value&&!h.value||!d.value),m=E(()=>v(s.expandingNode)),g=E(()=>l.value&&s.checkedNodes.some(v)),v=N=>{var k;const{level:A,uid:O}=n.node;return((k=N==null?void 0:N.pathNodes[A-1])==null?void 0:k.uid)===O},y=()=>{m.value||s.expandNode(n.node)},b=N=>{const{node:k}=n;N!==k.checked&&s.handleCheckChange(k,N)},w=()=>{s.lazyLoad(n.node,()=>{h.value||y()})},_=N=>{i.value&&(S(),!h.value&&r("expand",N))},S=()=>{const{node:N}=n;!p.value||N.loading||(N.loaded?y():w())},C=()=>{h.value&&!d.value&&!l.value&&!o.value?x(!0):(s.config.checkOnClickNode&&(o.value||l.value)||h.value&&s.config.checkOnClickLeaf)&&!d.value?T(!n.node.checked):i.value||S()},T=N=>{l.value?(b(N),n.node.loaded&&y()):x(N)},x=N=>{n.node.loaded?(b(N),!l.value&&y()):w()};return(N,k)=>(I(),K("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!h.value,"aria-owns":h.value?void 0:e.menuId,"aria-expanded":m.value,tabindex:p.value?-1:void 0,class:M([f(a).b(),f(a).is("selectable",l.value),f(a).is("active",e.node.checked),f(a).is("disabled",!p.value),m.value&&"in-active-path",g.value&&"in-checked-path"]),onMouseenter:_,onFocus:_,onClick:C},[le(" prefix "),o.value&&u.value?(I(),ce(f(wi),{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:d.value,onClick:k[0]||(k[0]=at(()=>{},["stop"])),"onUpdate:modelValue":T},null,8,["model-value","indeterminate","disabled"])):l.value&&u.value?(I(),ce(f(gA),{key:1,"model-value":c.value,label:e.node.uid,disabled:d.value,"onUpdate:modelValue":T,onClick:k[1]||(k[1]=at(()=>{},["stop"]))},{default:re(()=>[le(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),k[2]||(k[2]=Z("span",null,null,-1))]),_:1},8,["model-value","label","disabled"])):h.value&&e.node.checked?(I(),ce(f(We),{key:2,class:M(f(a).e("prefix"))},{default:re(()=>[q(f(tm))]),_:1},8,["class"])):le("v-if",!0),le(" content "),q(f(Oee),{node:e.node},null,8,["node"]),le(" postfix "),h.value?le("v-if",!0):(I(),K(Ge,{key:3},[e.node.loading?(I(),ce(f(We),{key:0,class:M([f(a).is("loading"),f(a).e("postfix")])},{default:re(()=>[q(f(po))]),_:1},8,["class"])):(I(),ce(f(We),{key:1,class:M(["arrow-right",f(a).e("postfix")])},{default:re(()=>[q(f(_s))]),_:1},8,["class"]))],64))],42,$ee))}}),Ree=de({name:"ElCascaderMenu",__name:"menu",props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=e,n=wt(),r=Se("cascader-menu"),{t:s}=Mt(),a=Zr();let i,o;const l=Ve(zy),u=L(),c=E(()=>!t.nodes.length),d=E(()=>!l.initialLoaded),h=E(()=>`${a.value}-${t.index}`),p=y=>{i=y.target},m=y=>{var b;if(!(!l.isHoverMenu||!i||!u.value))if(i.contains(y.target)){g();const w=n.vnode.el,{left:_}=w.getBoundingClientRect(),{offsetWidth:S,offsetHeight:C}=w,T=y.clientX-_,x=i.offsetTop,N=x+i.offsetHeight,k=((b=w.querySelector(`.${r.e("wrap")}`))==null?void 0:b.scrollTop)||0;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${T} ${x} L${S} ${k} V${x} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${T} ${N} L${S} ${C+k} V${N} Z" />
        `}else o||(o=window.setTimeout(v,l.config.hoverThreshold))},g=()=>{o&&(clearTimeout(o),o=void 0)},v=()=>{u.value&&(u.value.innerHTML="",g())};return(y,b)=>(I(),ce(f(bi),{key:h.value,tag:"ul",role:"menu",class:M(f(r).b()),"wrap-class":f(r).e("wrap"),"view-class":[f(r).e("list"),f(r).is("empty",c.value)],onMousemove:m,onMouseleave:v},{default:re(()=>{var w;return[(I(!0),K(Ge,null,Ot(e.nodes,_=>(I(),ce(Aee,{key:_.uid,node:_,"menu-id":h.value,onExpand:p},null,8,["node","menu-id"]))),128)),d.value?(I(),K("div",{key:0,class:M(f(r).e("empty-text"))},[q(f(We),{size:"14",class:M(f(r).is("loading"))},{default:re(()=>[q(f(po))]),_:1},8,["class"]),gt(" "+Ie(f(s)("el.cascader.loading")),1)],2)):c.value?(I(),K("div",{key:1,class:M(f(r).e("empty-text"))},[ie(y.$slots,"empty",{},()=>[gt(Ie(f(s)("el.cascader.noData")),1)])],2)):(w=f(l))!=null&&w.isHoverMenu?(I(),K(Ge,{key:2},[le(" eslint-disable vue/html-self-closing "),(I(),K("svg",{ref_key:"hoverZone",ref:u,class:M(f(r).e("hover-zone"))},null,2))],2112)):le("v-if",!0),le(" eslint-enable vue/html-self-closing ")]}),_:3},8,["class","wrap-class","view-class"]))}}),Mee=Object.defineProperty,Pee=(e,t,n)=>t in e?Mee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Us=(e,t,n)=>Pee(e,typeof t!="symbol"?t+"":t,n);let Lee=0;const Dee=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let ow=class lw{constructor(t,n,r,s=!1){this.data=t,this.config=n,this.parent=r,this.root=s,Us(this,"uid",Lee++),Us(this,"level"),Us(this,"value"),Us(this,"label"),Us(this,"pathNodes"),Us(this,"pathValues"),Us(this,"pathLabels"),Us(this,"childrenData"),Us(this,"children"),Us(this,"text"),Us(this,"loaded"),Us(this,"checked",!1),Us(this,"indeterminate",!1),Us(this,"loading",!1);const{value:a,label:i,children:o}=n,l=t[o],u=Dee(this);this.level=s?0:r?r.level+1:1,this.value=t[a],this.label=t[i],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new lw(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!Ds(l),this.text=""}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:s,checkStrictly:a}=r;return(Ye(s)?s(t,this):!!t[s])||!a&&!!(n!=null&&n.isDisabled)}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:s}=this,{lazy:a,leaf:i}=n,o=Ye(i)?i(t,this):t[i];return Vt(o)?a&&!s?!1:!(ke(r)&&r.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,s=new lw(t,this.config,this);return ke(n)?n.push(t):this.childrenData=[t],r.push(s),s}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t){this.children.forEach(n=>{var r;n&&(n.broadcast(t),(r=n.onParentCheck)==null||r.call(n,t))})}emit(){var t;const{parent:n}=this;n&&((t=n.onChildCheck)==null||t.call(n),n.emit())}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(s=>!s.isDisabled),r=n.length?n.every(s=>s.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((s,a)=>{const i=a.checked?1:a.indeterminate?.5:0;return s+i},0);this.checked=this.loaded&&this.children.filter(s=>!s.isDisabled).every(s=>s.loaded&&s.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast(t),this.setCheckState(t),this.emit())}};var zee=Object.defineProperty,Fee=(e,t,n)=>t in e?zee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mb=(e,t,n)=>Fee(e,typeof t!="symbol"?t+"":t,n);const uw=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(uw(r.children,t))),n),[]);class zE{constructor(t,n){this.config=n,mb(this,"nodes"),mb(this,"allNodes"),mb(this,"leafNodes");const r=(t||[]).map(s=>new ow(s,this.config));this.nodes=r,this.allNodes=uw(r,!1),this.leafNodes=uw(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new ow(t,this.config);n||this.nodes.push(r),this.appendAllNodesAndLeafNodes(r)}appendNodes(t,n){t.length>0?t.forEach(r=>this.appendNode(r,n)):n&&n.isLeaf&&this.leafNodes.push(n)}appendAllNodesAndLeafNodes(t){this.allNodes.push(t),t.isLeaf&&this.leafNodes.push(t),t.children&&t.children.forEach(n=>{this.appendAllNodesAndLeafNodes(n)})}getNodeByValue(t,n=!1){return qs(t)?null:this.getFlattedNodes(n).find(s=>Yn(s.value,t)||Yn(s.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:s})=>Yn(t.value,r)&&t.level===s)||null}}const FE=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},Bee=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():b$(e)&&e.click()},jee=(e,t)=>{const n=t.slice(0),r=n.map(a=>a.uid),s=e.reduce((a,i)=>{const o=r.indexOf(i.uid);return o>-1&&(a.push(i),n.splice(o,1),r.splice(o,1)),a},[]);return s.push(...n),s};var Vee=de({name:"ElCascaderPanel",__name:"index",props:iee,emits:oee,setup(e,{expose:t,emit:n}){const r=e,s=n;let a=!1;const i=Se("cascader"),o=lee(r),l=nr();let u;const c=L(!0),d=L(!1),h=L([]),p=L(),m=L([]),g=L(),v=L([]),y=E(()=>o.value.expandTrigger==="hover"),b=E(()=>r.renderLabel||l.default),w=()=>{const{options:R}=r,$=o.value;a=!1,u=new zE(R,$),m.value=[u.getNodes()],$.lazy&&Ds(r.options)?(c.value=!1,_(void 0,D=>{D&&(u=new zE(D,$),m.value=[u.getNodes()]),c.value=!0,O(!1,!0)})):O(!1,!0)},_=(R,$)=>{const D=o.value;R=R||new ow({},D,void 0,!0),R.loading=!0;const z=Y=>{const U=R,Q=U.root?null:U;U.loading=!1,U.loaded=!0,U.childrenData=U.childrenData||[],Y&&(u==null||u.appendNodes(Y,Q)),Y&&($==null||$(Y)),R.level===0&&(d.value=!0)},W=()=>{R.loading=!1,R.loaded=!1,R.level===0&&(c.value=!0)};D.lazyLoad(R,z,W)},S=(R,$)=>{var D;const{level:z}=R,W=m.value.slice(0,z);let Y;R.isLeaf?Y=R.pathNodes[z-2]:(Y=R,W.push(R.children)),((D=g.value)==null?void 0:D.uid)!==(Y==null?void 0:Y.uid)&&(g.value=R,m.value=W,!$&&s("expand-change",(R==null?void 0:R.pathValues)||[]))},C=(R,$,D=!0)=>{const{checkStrictly:z,multiple:W}=o.value,Y=v.value[0];a=!0,!W&&(Y==null||Y.doCheck(!1)),R.doCheck($),A(),D&&!W&&!z&&s("close"),!D&&!W&&T(R)},T=R=>{R&&(R=R.parent,T(R),R&&S(R))},x=R=>u==null?void 0:u.getFlattedNodes(R),N=R=>{var $;return($=x(R))==null?void 0:$.filter(({checked:D})=>D!==!1)},k=()=>{v.value.forEach(R=>R.doCheck(!1)),A(),m.value=m.value.slice(0,1),g.value=void 0,s("expand-change",[])},A=()=>{var R;const{checkStrictly:$,multiple:D}=o.value,z=v.value,W=N(!$),Y=jee(z,W),U=Y.map(Q=>Q.valueByOption);v.value=Y,p.value=D?U:(R=U[0])!=null?R:null},O=(R=!1,$=!1)=>{const{modelValue:D}=r,{lazy:z,multiple:W,checkStrictly:Y}=o.value,U=!Y;if(!(!c.value||a||!$&&Yn(D,p.value)))if(z&&!R){const J=SE(tG(vs(D))).map(B=>u==null?void 0:u.getNodeByValue(B)).filter(B=>!!B&&!B.loaded&&!B.loading);J.length?J.forEach(B=>{_(B,()=>O(!1,$))}):O(!0,$)}else{const Q=W?vs(D):[D],J=SE(Q.map(B=>u==null?void 0:u.getNodeByValue(B,U)));F(J,$),p.value=Wv(D??void 0)}},F=(R,$=!0)=>{const{checkStrictly:D}=o.value,z=v.value,W=R.filter(Q=>!!Q&&(D||Q.isLeaf)),Y=u==null?void 0:u.getSameNode(g.value),U=$&&Y||W[0];U?U.pathNodes.forEach(Q=>S(Q,!0)):g.value=void 0,z.forEach(Q=>Q.doCheck(!1)),Xt(W).forEach(Q=>Q.doCheck(!0)),v.value=W,Fe(j)},j=()=>{Yt&&h.value.forEach(R=>{const $=R==null?void 0:R.$el;if($){const D=$.querySelector(`.${i.namespace.value}-scrollbar__wrap`);let z=$.querySelector(`.${i.b("node")}.in-active-path`);if(!z){const W=$.querySelectorAll(`.${i.b("node")}.${i.is("active")}`);z=W[W.length-1]}l6(D,z)}})},V=R=>{const $=R.target,D=hn(R);switch(D){case Ne.up:case Ne.down:{R.preventDefault();const z=D===Ne.up?-1:1;rv(w$($,z,`.${i.b("node")}[tabindex="-1"]`));break}case Ne.left:{R.preventDefault();const z=h.value[FE($)-1],W=z==null?void 0:z.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);rv(W);break}case Ne.right:{R.preventDefault();const z=h.value[FE($)+1],W=z==null?void 0:z.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);rv(W);break}case Ne.enter:case Ne.numpadEnter:Bee($);break}};At(zy,Xt({config:o,expandingNode:g,checkedNodes:v,isHoverMenu:y,initialLoaded:c,renderLabelFn:b,lazyLoad:_,expandNode:S,handleCheckChange:C})),fe(o,(R,$)=>{Yn(R,$)||w()},{immediate:!0}),fe(()=>r.options,w,{deep:!0}),fe(()=>r.modelValue,()=>{a=!1,O()},{deep:!0}),fe(()=>p.value,R=>{Yn(R,r.modelValue)||(s(it,R),s(It,R))});const G=()=>{d.value||w()};return R3(()=>h.value=[]),_t(()=>!Ds(r.modelValue)&&O()),t({menuList:h,menus:m,checkedNodes:v,handleKeyDown:V,handleCheckChange:C,getFlattedNodes:x,getCheckedNodes:N,clearCheckedNodes:k,calculateCheckedValue:A,scrollToExpandingNode:j,loadLazyRootNodes:G}),(R,$)=>(I(),K("div",{class:M([f(i).b("panel"),f(i).is("bordered",e.border)]),onKeydown:V},[(I(!0),K(Ge,null,Ot(m.value,(D,z)=>(I(),ce(Ree,{key:z,ref_for:!0,ref:W=>h.value[z]=W,index:z,nodes:[...D]},{empty:re(()=>[ie(R.$slots,"empty")]),_:3},8,["index","nodes"]))),128))],34))}});const vA=dt(Vee),Hee=["placeholder"],Uee=["onClick"];var Wee=de({name:"ElCascader",__name:"cascader",props:uee,emits:cee,setup(e,{expose:t,emit:n}){const r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:ze})=>{const{modifiersData:Je,placement:pt}=ze;["right","left","bottom","top"].includes(pt)||Je.arrow&&(Je.arrow.x=35)},requires:["arrow"]}]},s=e,a=n,i=dl(),o=nr();let l=0,u=0;const c=Se("cascader"),d=Se("input"),h={small:7,default:11,large:15},{t:p}=Mt(),{formItem:m}=Br(),g=Zn(),{valueOnClear:v}=Qp(s),{isComposing:y,handleComposition:b}=im({afterComposition(ze){var Je;const pt=(Je=ze.target)==null?void 0:Je.value;St(pt)}}),w=L(),_=L(),S=L(),C=L(),T=L(),x=L(),N=L(!1),k=L(!1),A=L(!1),O=L(""),F=L(""),j=L([]),V=L([]),G=E(()=>s.props.multiple?s.collapseTags?j.value.slice(0,s.maxCollapseTags):j.value:[]),R=E(()=>s.props.multiple?s.collapseTags?j.value.slice(s.maxCollapseTags):[]:[]),$=E(()=>i.style),D=E(()=>{var ze;return(ze=s.placeholder)!=null?ze:p("el.cascader.placeholder")}),z=E(()=>F.value||j.value.length>0||y.value?"":D.value),W=gr(),Y=E(()=>W.value==="small"?"small":"default"),U=E(()=>!!s.props.multiple),Q=E(()=>!s.filterable||U.value),J=E(()=>U.value?F.value:O.value),B=E(()=>{var ze;return((ze=T.value)==null?void 0:ze.checkedNodes)||[]}),{wrapperRef:P,isFocused:ae,handleBlur:ee}=pl(S,{disabled:g,beforeBlur(ze){var Je,pt;return((Je=w.value)==null?void 0:Je.isFocusInsideContent(ze))||((pt=_.value)==null?void 0:pt.isFocusInsideContent(ze))},afterBlur(){var ze;s.validateEvent&&((ze=m==null?void 0:m.validate)==null||ze.call(m,"blur").catch(Je=>void 0))}}),oe=E(()=>!s.clearable||g.value||A.value||!k.value&&!ae.value?!1:!!B.value.length),X=E(()=>{const{showAllLevels:ze,separator:Je}=s,pt=B.value;return pt.length?U.value?"":pt[0].calcText(ze,Je):""}),H=E(()=>(m==null?void 0:m.validateState)||""),te=E({get(){return Wv(s.modelValue)},set(ze){const Je=ze??v.value;a(it,Je),a(It,Je),s.validateEvent&&(m==null||m.validate("change").catch(pt=>void 0))}}),ue=E(()=>[c.b(),c.m(W.value),c.is("disabled",g.value),i.class]),ye=E(()=>[d.e("icon"),"icon-arrow-down",c.is("reverse",N.value)]),he=E(()=>c.is("focus",ae.value)),_e=E(()=>{var ze,Je;return(Je=(ze=w.value)==null?void 0:ze.popperRef)==null?void 0:Je.contentRef}),Re=ze=>{if(ae.value){const Je=new FocusEvent("blur",ze);ee(Je)}De(!1)},De=ze=>{var Je,pt;g.value||(ze=ze??!N.value,ze!==N.value&&(N.value=ze,(pt=(Je=S.value)==null?void 0:Je.input)==null||pt.setAttribute("aria-expanded",`${ze}`),ze?(pe(),T.value&&Fe(T.value.scrollToExpandingNode)):s.filterable&&mt(),a("visibleChange",ze)))},pe=()=>{Fe(()=>{var ze;(ze=w.value)==null||ze.updatePopper()})},ve=()=>{A.value=!1},be=ze=>{const{showAllLevels:Je,separator:pt}=s;return{node:ze,key:ze.uid,text:ze.calcText(Je,pt),hitState:!1,closable:!g.value&&!ze.isDisabled}},me=ze=>{var Je;const pt=ze.node;pt.doCheck(!1),(Je=T.value)==null||Je.calculateCheckedValue(),a("removeTag",pt.valueByOption)},Te=()=>{switch(s.showCheckedStrategy){case"child":return B.value;case"parent":{const ze=Be(!1),Je=ze.map(Mn=>Mn.value);return ze.filter(Mn=>!Mn.parent||!Je.includes(Mn.parent.value))}default:return[]}},xe=()=>{if(!U.value)return;const ze=Te(),Je=[];ze.forEach(pt=>Je.push(be(pt))),j.value=Je},Oe=()=>{var ze,Je;const{filterMethod:pt,showAllLevels:Mn,separator:Jt}=s,Qe=(Je=(ze=T.value)==null?void 0:ze.getFlattedNodes(!s.props.checkStrictly))==null?void 0:Je.filter(rt=>rt.isDisabled?!1:(rt.calcText(Mn,Jt),pt(rt,J.value)));U.value&&j.value.forEach(rt=>{rt.hitState=!1}),A.value=!0,V.value=Qe,pe()},Ce=()=>{var ze;let Je;A.value&&x.value?Je=x.value.$el.querySelector(`.${c.e("suggestion-item")}`):Je=(ze=T.value)==null?void 0:ze.$el.querySelector(`.${c.b("node")}[tabindex="-1"]`),Je&&(Je.focus(),!A.value&&Je.click())},Ee=()=>{var ze,Je,pt;const Mn=(ze=S.value)==null?void 0:ze.input,Jt=C.value,Qe=(Je=x.value)==null?void 0:Je.$el;if(!(!Yt||!Mn)){if(Qe){const rt=Qe.querySelector(`.${c.e("suggestion-list")}`);rt.style.minWidth=`${Mn.offsetWidth}px`}if(Jt){const{offsetHeight:rt}=Jt,xt=j.value.length>0?`${Math.max(rt,l)-2}px`:`${l}px`;if(Mn.style.height=xt,o.prefix){const jr=(pt=S.value)==null?void 0:pt.$el.querySelector(`.${d.e("prefix")}`);let ks=0;jr&&(ks=jr.offsetWidth,ks>0&&(ks+=h[W.value||"default"])),Jt.style.left=`${ks}px`}else Jt.style.left="0";pe()}}},Be=ze=>{var Je;return(Je=T.value)==null?void 0:Je.getCheckedNodes(ze)},Bt=ze=>{pe(),a("expandChange",ze)},Gt=ze=>{if(y.value)return;switch(hn(ze)){case Ne.enter:case Ne.numpadEnter:De();break;case Ne.down:De(!0),Fe(Ce),ze.preventDefault();break;case Ne.esc:N.value===!0&&(ze.preventDefault(),ze.stopPropagation(),De(!1));break;case Ne.tab:De(!1);break}},tt=()=>{var ze;(ze=T.value)==null||ze.clearCheckedNodes(),!N.value&&s.filterable&&mt(),De(!1),a("clear")},mt=()=>{const{value:ze}=X;O.value=ze,F.value=ze},kt=ze=>{var Je,pt;const{checked:Mn}=ze;U.value?(Je=T.value)==null||Je.handleCheckChange(ze,!Mn,!1):(!Mn&&((pt=T.value)==null||pt.handleCheckChange(ze,!0,!1)),De(!1))},we=ze=>{const Je=ze.target,pt=hn(ze);switch(pt){case Ne.up:case Ne.down:{ze.preventDefault();const Mn=pt===Ne.up?-1:1;rv(w$(Je,Mn,`.${c.e("suggestion-item")}[tabindex="-1"]`));break}case Ne.enter:case Ne.numpadEnter:Je.click();break}},He=()=>{const ze=j.value[j.value.length-1];u=F.value?0:u+1,!(!ze||!u||s.collapseTags&&j.value.length>1)&&(ze.hitState?me(ze):ze.hitState=!0)},ge=E(()=>s.debounce),Ue=qp(()=>{const{value:ze}=J;if(!ze)return;const Je=s.beforeFilter(ze);ac(Je)?Je.then(Oe).catch(()=>{}):Je!==!1?Oe():ve()},ge),St=(ze,Je)=>{!N.value&&De(!0),!(Je!=null&&Je.isComposing)&&(ze?Ue():ve())},sn=ze=>Number.parseFloat(UG(d.cssVarName("input-height"),ze).value)-2,Ln=()=>{var ze;(ze=S.value)==null||ze.focus()},jn=()=>{var ze;(ze=S.value)==null||ze.blur()};return fe(A,pe),fe([B,g,()=>s.collapseTags,()=>s.maxCollapseTags],xe),fe(j,()=>{Fe(()=>Ee())}),fe(W,async()=>{await Fe();const ze=S.value.input;l=sn(ze)||l,Ee()}),fe(X,mt,{immediate:!0}),fe(()=>N.value,ze=>{var Je;ze&&s.props.lazy&&s.props.lazyLoad&&((Je=T.value)==null||Je.loadLazyRootNodes())}),_t(()=>{const ze=S.value.input,Je=sn(ze);l=ze.offsetHeight||Je,$n(ze,Ee)}),t({getCheckedNodes:Be,cascaderPanelRef:T,togglePopperVisible:De,contentRef:_e,presentText:X,focus:Ln,blur:jn}),(ze,Je)=>(I(),ce(f(zr),{ref_key:"tooltipRef",ref:w,visible:N.value,teleported:e.teleported,"popper-class":[f(c).e("dropdown"),e.popperClass],"popper-style":e.popperStyle,"popper-options":r,"fallback-placements":e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:e.placement,transition:`${f(c).namespace.value}-zoom-in-top`,effect:e.effect,pure:"",persistent:e.persistent,onHide:ve},{default:re(()=>[vt((I(),K("div",{ref_key:"wrapperRef",ref:P,class:M(ue.value),style:qe($.value),onClick:Je[8]||(Je[8]=()=>De(Q.value?void 0:!0)),onKeydown:Gt,onMouseenter:Je[9]||(Je[9]=pt=>k.value=!0),onMouseleave:Je[10]||(Je[10]=pt=>k.value=!1)},[q(f(ys),{ref_key:"inputRef",ref:S,modelValue:O.value,"onUpdate:modelValue":Je[1]||(Je[1]=pt=>O.value=pt),placeholder:z.value,readonly:Q.value,disabled:f(g),"validate-event":!1,size:f(W),class:M(he.value),tabindex:U.value&&e.filterable&&!f(g)?-1:void 0,onCompositionstart:f(b),onCompositionupdate:f(b),onCompositionend:f(b),onInput:St},Bs({suffix:re(()=>[oe.value?(I(),ce(f(We),{key:"clear",class:M([f(d).e("icon"),"icon-circle-close"]),onClick:at(tt,["stop"])},{default:re(()=>[(I(),ce(yt(e.clearIcon)))]),_:1},8,["class"])):(I(),ce(f(We),{key:"arrow-down",class:M(ye.value),onClick:Je[0]||(Je[0]=at(pt=>De(),["stop"]))},{default:re(()=>[q(f(Ri))]),_:1},8,["class"]))]),_:2},[ze.$slots.prefix?{name:"prefix",fn:re(()=>[ie(ze.$slots,"prefix")]),key:"0"}:void 0]),1032,["modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),U.value?(I(),K("div",{key:0,ref_key:"tagWrapper",ref:C,class:M([f(c).e("tags"),f(c).is("validate",!!H.value)])},[ie(ze.$slots,"tag",{data:j.value,deleteTag:me},()=>[(I(!0),K(Ge,null,Ot(G.value,pt=>(I(),ce(f(Ko),{key:pt.key,type:e.tagType,size:Y.value,effect:e.tagEffect,hit:pt.hitState,closable:pt.closable,"disable-transitions":"",onClose:Mn=>me(pt)},{default:re(()=>[Z("span",null,Ie(pt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128))]),e.collapseTags&&j.value.length>e.maxCollapseTags?(I(),ce(f(zr),{key:0,ref_key:"tagTooltipRef",ref:_,disabled:N.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,effect:e.effect,persistent:e.persistent},{default:re(()=>[q(f(Ko),{closable:!1,size:Y.value,type:e.tagType,effect:e.tagEffect,"disable-transitions":""},{default:re(()=>[Z("span",{class:M(f(c).e("tags-text"))}," + "+Ie(j.value.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect"])]),content:re(()=>[q(f(bi),{"max-height":e.maxCollapseTagsTooltipHeight},{default:re(()=>[Z("div",{class:M(f(c).e("collapse-tags"))},[(I(!0),K(Ge,null,Ot(R.value,(pt,Mn)=>(I(),K("div",{key:Mn,class:M(f(c).e("collapse-tag"))},[(I(),ce(f(Ko),{key:pt.key,class:"in-tooltip",type:e.tagType,size:Y.value,effect:e.tagEffect,hit:pt.hitState,closable:pt.closable,"disable-transitions":"",onClose:Jt=>me(pt)},{default:re(()=>[Z("span",null,Ie(pt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:1},8,["disabled","popper-class","popper-style","effect","persistent"])):le("v-if",!0),e.filterable&&!f(g)?vt((I(),K("input",{key:1,"onUpdate:modelValue":Je[2]||(Je[2]=pt=>F.value=pt),type:"text",class:M(f(c).e("search-input")),placeholder:X.value?"":D.value,onInput:Je[3]||(Je[3]=pt=>St(F.value,pt)),onClick:Je[4]||(Je[4]=at(pt=>De(!0),["stop"])),onKeydown:zn(He,["delete"]),onCompositionstart:Je[5]||(Je[5]=(...pt)=>f(b)&&f(b)(...pt)),onCompositionupdate:Je[6]||(Je[6]=(...pt)=>f(b)&&f(b)(...pt)),onCompositionend:Je[7]||(Je[7]=(...pt)=>f(b)&&f(b)(...pt))},null,42,Hee)),[[jv,F.value]]):le("v-if",!0)],2)):le("v-if",!0)],38)),[[f(tu),Re,_e.value]])]),content:re(()=>[ze.$slots.header?(I(),K("div",{key:0,class:M(f(c).e("header")),onClick:Je[11]||(Je[11]=at(()=>{},["stop"]))},[ie(ze.$slots,"header")],2)):le("v-if",!0),vt(q(f(vA),{ref_key:"cascaderPanelRef",ref:T,modelValue:te.value,"onUpdate:modelValue":Je[12]||(Je[12]=pt=>te.value=pt),options:e.options,props:s.props,border:!1,"render-label":ze.$slots.default,onExpandChange:Bt,onClose:Je[13]||(Je[13]=pt=>ze.$nextTick(()=>De(!1)))},{empty:re(()=>[ie(ze.$slots,"empty")]),_:3},8,["modelValue","options","props","render-label"]),[[Kt,!A.value]]),e.filterable?vt((I(),ce(f(bi),{key:1,ref_key:"suggestionPanel",ref:x,tag:"ul",class:M(f(c).e("suggestion-panel")),"view-class":f(c).e("suggestion-list"),onKeydown:we},{default:re(()=>[V.value.length?(I(!0),K(Ge,{key:0},Ot(V.value,pt=>(I(),K("li",{key:pt.uid,class:M([f(c).e("suggestion-item"),f(c).is("checked",pt.checked)]),tabindex:-1,onClick:Mn=>kt(pt)},[ie(ze.$slots,"suggestion-item",{item:pt},()=>[Z("span",null,Ie(pt.text),1),pt.checked?(I(),ce(f(We),{key:0},{default:re(()=>[q(f(tm))]),_:1})):le("v-if",!0)])],10,Uee))),128)):ie(ze.$slots,"empty",{key:1},()=>[Z("li",{class:M(f(c).e("empty-text"))},Ie(f(p)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Kt,A.value]]):le("v-if",!0),ze.$slots.footer?(I(),K("div",{key:2,class:M(f(c).e("footer")),onClick:Je[14]||(Je[14]=at(()=>{},["stop"]))},[ie(ze.$slots,"footer")],2)):le("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-style","fallback-placements","placement","transition","effect","persistent"]))}});const Kee=dt(Wee),Gee=$e({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),Zee={"update:checked":e=>cn(e),[It]:e=>cn(e)};var Yee=de({name:"ElCheckTag",__name:"check-tag",props:Gee,emits:Zee,setup(e,{emit:t}){const n=e,r=t,s=Se("check-tag"),a=E(()=>[s.b(),s.is("checked",n.checked),s.is("disabled",n.disabled),s.m(n.type||"primary")]),i=()=>{if(n.disabled)return;const o=!n.checked;r(It,o),r("update:checked",o)};return(o,l)=>(I(),K("span",{class:M(a.value),onClick:i},[ie(o.$slots,"default")],2))}});const qee=dt(Yee),Xee=$e({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ne([Number,Object]),default:()=>Wn({})},sm:{type:ne([Number,Object]),default:()=>Wn({})},md:{type:ne([Number,Object]),default:()=>Wn({})},lg:{type:ne([Number,Object]),default:()=>Wn({})},xl:{type:ne([Number,Object]),default:()=>Wn({})}}),yA=Symbol("rowContextKey");var Jee=de({name:"ElCol",__name:"col",props:Xee,setup(e){const t=e,{gutter:n}=Ve(yA,{gutter:E(()=>0)}),r=Se("col"),s=E(()=>{const i={};return n.value&&(i.paddingLeft=i.paddingRight=`${n.value/2}px`),i}),a=E(()=>{const i=[];return["span","offset","pull","push"].forEach(u=>{const c=t[u];Xe(c)&&(u==="span"?i.push(r.b(`${t[u]}`)):c>0&&i.push(r.b(`${u}-${t[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Xe(t[u])?i.push(r.b(`${u}-${t[u]}`)):ht(t[u])&&Object.entries(t[u]).forEach(([c,d])=>{i.push(c!=="span"?r.b(`${u}-${c}-${d}`):r.b(`${u}-${d}`))})}),n.value&&i.push(r.is("guttered")),[r.b(),i]});return(i,o)=>(I(),ce(yt(e.tag),{class:M(a.value),style:qe(s.value)},{default:re(()=>[ie(i.$slots,"default")]),_:3},8,["class","style"]))}});const Qee=dt(Jee),BE=e=>Xe(e)||Ke(e)||ke(e),ete=$e({accordion:Boolean,modelValue:{type:ne([Array,String,Number]),default:()=>Wn([])},expandIconPosition:{type:ne([String]),default:"right"},beforeCollapse:{type:ne(Function)}}),tte={[it]:BE,[It]:BE},bA=Symbol("collapseContextKey"),nte="ElCollapse",rte=(e,t)=>{const n=L(Dr(e.modelValue)),r=i=>{n.value=i;const o=e.accordion?n.value[0]:n.value;t(it,o),t(It,o)},s=i=>{if(e.accordion)r([n.value[0]===i?"":i]);else{const o=[...n.value],l=o.indexOf(i);l>-1?o.splice(l,1):o.push(i),r(o)}},a=async i=>{const{beforeCollapse:o}=e;if(!o){s(i);return}const l=o(i);[ac(l),cn(l)].includes(!0)||fr(nte,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),ac(l)?l.then(c=>{c!==!1&&s(i)}).catch(c=>{}):l&&s(i)};return fe(()=>e.modelValue,()=>n.value=Dr(e.modelValue),{deep:!0}),At(bA,{activeNames:n,handleItemClick:a}),{activeNames:n,setActiveNames:r}},ste=e=>{const t=Se("collapse");return{rootKls:E(()=>[t.b(),t.b(`icon-position-${e.expandIconPosition}`)])}};var ate=de({name:"ElCollapse",__name:"collapse",props:ete,emits:tte,setup(e,{expose:t,emit:n}){const r=e,s=n,{activeNames:a,setActiveNames:i}=rte(r,s),{rootKls:o}=ste(r);return t({activeNames:a,setActiveNames:i}),(l,u)=>(I(),K("div",{class:M(f(o))},[ie(l.$slots,"default")],2))}});const ite=$e({title:{type:String,default:""},name:{type:ne([String,Number]),default:void 0},icon:{type:dn,default:_s},disabled:Boolean});var ote=de({name:"ElCollapseTransition",__name:"collapse-transition",setup(e){const t=Se("collapse-transition"),n=s=>{s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom},r={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.height&&(s.dataset.elExistsHeight=s.style.height),s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){requestAnimationFrame(()=>{s.dataset.oldOverflow=s.style.overflow,s.dataset.elExistsHeight?s.style.maxHeight=s.dataset.elExistsHeight:s.scrollHeight!==0?s.style.maxHeight=`${s.scrollHeight}px`:s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom,s.style.overflow="hidden"})},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},enterCancelled(s){n(s)},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){n(s)},leaveCancelled(s){n(s)}};return(s,a)=>(I(),ce(Gr,bt({name:f(t).b()},OB(r)),{default:re(()=>[ie(s.$slots,"default")]),_:3},16,["name"]))}});const Fy=dt(ote),lte=e=>{const t=Ve(bA),{namespace:n}=Se("collapse"),r=L(!1),s=L(!1),a=x6(),i=E(()=>a.current++),o=E(()=>{var h;return(h=e.name)!=null?h:`${n.value}-id-${a.prefix}-${f(i)}`}),l=E(()=>t==null?void 0:t.activeNames.value.includes(f(o)));return{focusing:r,id:i,isActive:l,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:r.value=!0},50)},handleHeaderClick:h=>{if(e.disabled)return;const p=h.target;p!=null&&p.closest("input, textarea, select")||(t==null||t.handleItemClick(f(o)),r.value=!1,s.value=!0)},handleEnterClick:h=>{const p=h.target;p!=null&&p.closest("input, textarea, select")||(h.preventDefault(),t==null||t.handleItemClick(f(o)))}}},ute=(e,{focusing:t,isActive:n,id:r})=>{const s=Se("collapse"),a=E(()=>[s.b("item"),s.is("active",f(n)),s.is("disabled",e.disabled)]),i=E(()=>[s.be("item","header"),s.is("active",f(n)),{focusing:f(t)&&!e.disabled}]),o=E(()=>[s.be("item","arrow"),s.is("active",f(n))]),l=E(()=>[s.be("item","title")]),u=E(()=>s.be("item","wrap")),c=E(()=>s.be("item","content")),d=E(()=>s.b(`content-${f(r)}`)),h=E(()=>s.b(`head-${f(r)}`));return{itemTitleKls:l,arrowKls:o,headKls:i,rootKls:a,itemWrapperKls:u,itemContentKls:c,scopedContentId:d,scopedHeadId:h}},cte=["id","aria-expanded","aria-controls","aria-describedby","tabindex","aria-disabled"],dte=["id","aria-hidden","aria-labelledby"];var wA=de({name:"ElCollapseItem",__name:"collapse-item",props:ite,setup(e,{expose:t}){const n=e,{focusing:r,id:s,isActive:a,handleFocus:i,handleHeaderClick:o,handleEnterClick:l}=lte(n),{arrowKls:u,headKls:c,rootKls:d,itemTitleKls:h,itemWrapperKls:p,itemContentKls:m,scopedContentId:g,scopedHeadId:v}=ute(n,{focusing:r,isActive:a,id:s});return t({isActive:a}),(y,b)=>(I(),K("div",{class:M(f(d))},[Z("div",{id:f(v),class:M(f(c)),"aria-expanded":f(a),"aria-controls":f(g),"aria-describedby":f(g),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,role:"button",onClick:b[0]||(b[0]=(...w)=>f(o)&&f(o)(...w)),onKeydown:b[1]||(b[1]=zn(at((...w)=>f(l)&&f(l)(...w),["stop"]),["space","enter"])),onFocus:b[2]||(b[2]=(...w)=>f(i)&&f(i)(...w)),onBlur:b[3]||(b[3]=w=>r.value=!1)},[Z("span",{class:M(f(h))},[ie(y.$slots,"title",{isActive:f(a)},()=>[gt(Ie(e.title),1)])],2),ie(y.$slots,"icon",{isActive:f(a)},()=>[q(f(We),{class:M(f(u))},{default:re(()=>[(I(),ce(yt(e.icon)))]),_:1},8,["class"])])],42,cte),q(f(Fy),null,{default:re(()=>[vt(Z("div",{id:f(g),role:"region",class:M(f(p)),"aria-hidden":!f(a),"aria-labelledby":f(v)},[Z("div",{class:M(f(m))},[ie(y.$slots,"default")],2)],10,dte),[[Kt,f(a)]])]),_:3})],2))}});const fte=dt(ate,{CollapseItem:wA}),hte=Bn(wA),_A=$e({modelValue:{type:ne(String),default:void 0},border:{type:Boolean,default:!0},showAlpha:Boolean,colorFormat:String,disabled:Boolean,predefine:{type:ne(Array)},validateEvent:{type:Boolean,default:!0}}),pte={[it]:e=>Ke(e)||or(e)},SA=Symbol("colorCommonPickerKey"),CA=Symbol("colorPickerPanelContextKey"),xA=$e({color:{type:ne(Object),required:!0},vertical:Boolean,disabled:Boolean}),mte=xA;let gb=!1;function cw(e,t){if(!Yt)return;const n=function(a){var i;(i=t.drag)==null||i.call(t,a)},r=function(a){var i;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,gb=!1,(i=t.end)==null||i.call(t,a)},s=function(a){var i;gb||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),gb=!0,(i=t.start)==null||i.call(t,a))};e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!1})}const jE=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},dw=(e,t)=>Math.abs(jE(e)-jE(t)),EA=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},TA=(e,{key:t,minValue:n,maxValue:r})=>{const s=wt(),a=wn(),i=wn(),o=E(()=>e.color.get(t));function l(h){var p;if(e.disabled)return;h.target!==a.value&&u(h),(p=a.value)==null||p.focus()}function u(h){if(!i.value||!a.value||e.disabled)return;const m=s.vnode.el.getBoundingClientRect(),{clientX:g,clientY:v}=EA(h);let y;if(e.vertical){let b=v-m.top;b=Math.max(a.value.offsetHeight/2,b),b=Math.min(b,m.height-a.value.offsetHeight/2),y=Math.round((b-a.value.offsetHeight/2)/(m.height-a.value.offsetHeight)*r)}else{let b=g-m.left;b=Math.max(a.value.offsetWidth/2,b),b=Math.min(b,m.width-a.value.offsetWidth/2),y=Math.round((b-a.value.offsetWidth/2)/(m.width-a.value.offsetWidth)*r)}e.color.set(t,y)}function c(h){if(e.disabled)return;const{shiftKey:p}=h,m=hn(h),g=p?10:1,v=t==="hue"?-1:1;let y=!0;switch(m){case Ne.left:case Ne.down:d(-g*v);break;case Ne.right:case Ne.up:d(g*v);break;case Ne.home:e.color.set(t,t==="hue"?r:n);break;case Ne.end:e.color.set(t,t==="hue"?n:r);break;case Ne.pageDown:d(-4*v);break;case Ne.pageUp:d(4*v);break;default:y=!1;break}y&&h.preventDefault()}function d(h){let p=o.value+h;p=p<n?n:p>r?r:p,e.color.set(t,p)}return{thumb:a,bar:i,currentValue:o,handleDrag:u,handleClick:l,handleKeydown:c}},kA=(e,{namespace:t,maxValue:n,bar:r,thumb:s,currentValue:a,handleDrag:i,getBackground:o})=>{const l=wt(),u=Se(t),c=L(0),d=L(0),h=L();function p(){if(!s.value||e.vertical)return 0;const S=l.vnode.el,C=a.value;return S?Math.round(C*(S.offsetWidth-s.value.offsetWidth/2)/n):0}function m(){if(!s.value)return 0;const S=l.vnode.el;if(!e.vertical)return 0;const C=a.value;return S?Math.round(C*(S.offsetHeight-s.value.offsetHeight/2)/n):0}function g(){c.value=p(),d.value=m(),h.value=o==null?void 0:o()}_t(()=>{if(!r.value||!s.value)return;const S={drag:C=>{i(C)},end:C=>{i(C)}};cw(r.value,S),cw(s.value,S),g()}),fe(a,()=>g()),fe(()=>e.color.value,()=>g());const v=E(()=>[u.b(),u.is("vertical",e.vertical),u.is("disabled",e.disabled)]),y=E(()=>u.e("bar")),b=E(()=>u.e("thumb")),w=E(()=>({background:h.value})),_=E(()=>({left:Gn(c.value),top:Gn(d.value)}));return{rootKls:v,barKls:y,barStyle:w,thumbKls:b,thumbStyle:_,thumbLeft:c,thumbTop:d,update:g}},gte=["aria-label","aria-valuenow","aria-valuetext","aria-orientation","tabindex","aria-disabled"],VE=0,vb=100;var vte=de({name:"ElColorAlphaSlider",__name:"alpha-slider",props:xA,setup(e,{expose:t}){const n=e,{currentValue:r,bar:s,thumb:a,handleDrag:i,handleClick:o,handleKeydown:l}=TA(n,{key:"alpha",minValue:VE,maxValue:vb}),{rootKls:u,barKls:c,barStyle:d,thumbKls:h,thumbStyle:p,update:m}=kA(n,{namespace:"color-alpha-slider",maxValue:vb,currentValue:r,bar:s,thumb:a,handleDrag:i,getBackground:b}),{t:g}=Mt(),v=E(()=>g("el.colorpicker.alphaLabel")),y=E(()=>g("el.colorpicker.alphaDescription",{alpha:r.value,color:n.color.value}));function b(){if(n.color&&n.color.value){const{r:w,g:_,b:S}=n.color.toRgb();return`linear-gradient(to right, rgba(${w}, ${_}, ${S}, 0) 0%, rgba(${w}, ${_}, ${S}, 1) 100%)`}return""}return t({update:m,bar:s,thumb:a}),(w,_)=>(I(),K("div",{class:M(f(u))},[Z("div",{ref_key:"bar",ref:s,class:M(f(c)),style:qe(f(d)),onClick:_[0]||(_[0]=(...S)=>f(o)&&f(o)(...S))},null,6),Z("div",{ref_key:"thumb",ref:a,class:M(f(h)),style:qe(f(p)),"aria-label":v.value,"aria-valuenow":f(r),"aria-valuetext":y.value,"aria-orientation":e.vertical?"vertical":"horizontal","aria-valuemin":VE,"aria-valuemax":vb,role:"slider",tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:_[1]||(_[1]=(...S)=>f(l)&&f(l)(...S))},null,46,gte)],2))}});const yte=["aria-label","aria-valuenow","aria-valuetext","aria-orientation","tabindex","aria-disabled"],HE=0,yb=360;var bte=de({name:"ElColorHueSlider",__name:"hue-slider",props:mte,setup(e,{expose:t}){const n=e,{currentValue:r,bar:s,thumb:a,handleDrag:i,handleClick:o,handleKeydown:l}=TA(n,{key:"hue",minValue:HE,maxValue:yb}),{rootKls:u,barKls:c,thumbKls:d,thumbStyle:h,thumbTop:p,update:m}=kA(n,{namespace:"color-hue-slider",maxValue:yb,currentValue:r,bar:s,thumb:a,handleDrag:i}),{t:g}=Mt(),v=E(()=>g("el.colorpicker.hueLabel")),y=E(()=>g("el.colorpicker.hueDescription",{hue:r.value,color:n.color.value}));return t({bar:s,thumb:a,thumbTop:p,update:m}),(b,w)=>(I(),K("div",{class:M(f(u))},[Z("div",{ref_key:"bar",ref:s,class:M(f(c)),onClick:w[0]||(w[0]=(..._)=>f(o)&&f(o)(..._))},null,2),Z("div",{ref_key:"thumb",ref:a,class:M(f(d)),style:qe(f(h)),"aria-label":v.value,"aria-valuenow":f(r),"aria-valuetext":y.value,"aria-orientation":e.vertical?"vertical":"horizontal","aria-valuemin":HE,"aria-valuemax":yb,role:"slider",tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:w[1]||(w[1]=(..._)=>f(l)&&f(l)(..._))},null,46,yte)],2))}});const wte=$e({colors:{type:ne(Array),required:!0},color:{type:ne(Object),required:!0},enableAlpha:{type:Boolean,required:!0},disabled:Boolean});var _te=Object.defineProperty,Ste=(e,t,n)=>t in e?_te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zi=(e,t,n)=>Ste(e,typeof t!="symbol"?t+"":t,n);let Xv=class{constructor(t={}){zi(this,"_hue",0),zi(this,"_saturation",100),zi(this,"_value",100),zi(this,"_alpha",100),zi(this,"_tiny",new id),zi(this,"_isValid",!1),zi(this,"enableAlpha",!1),zi(this,"format",""),zi(this,"value",""),zi(this,"selected");for(const n in t)Zt(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)Zt(t,r)&&this.set(r,t[r]);return}this[`_${t}`]=n,this._isValid=!0,this.doOnChange()}get(t){return["hue","saturation","value","alpha"].includes(t)?Math.round(this[`_${t}`]):this[`_${t}`]}toRgb(){return this._isValid?this._tiny.toRgb():{r:255,g:255,b:255,a:0}}fromString(t){const n=new id(t);if(this._isValid=n.isValid,n.isValid){const{h:r,s,v:a,a:i}=n.toHsv();this._hue=r,this._saturation=s*100,this._value=a*100,this._alpha=i*100}else this._hue=0,this._saturation=100,this._value=100,this._alpha=100;this.doOnChange()}clear(){this._isValid=!1,this.value="",this._hue=0,this._saturation=100,this._value=100,this._alpha=100}compare(t){const n=new id({h:t._hue,s:t._saturation/100,v:t._value/100,a:t._alpha/100});return this._tiny.equals(n)}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:s,format:a,enableAlpha:i}=this;let o=a||(i?"rgb":"hex");a==="hex"&&i&&(o="hex8"),this._tiny=new id({h:t,s:n/100,v:r/100,a:s/100}),this.value=this._isValid?this._tiny.toString(o):""}};const Cte=e=>{const{currentColor:t}=Ve(CA),n=L(s(e.colors,e.color));fe(()=>t.value,a=>{const i=new Xv({value:a,enableAlpha:e.enableAlpha});n.value.forEach(o=>{o.selected=i.compare(o)})}),ea(()=>{n.value=s(e.colors,e.color)});function r(a){e.color.fromString(e.colors[a])}function s(a,i){return a.map(o=>{const l=new Xv({value:o,enableAlpha:e.enableAlpha});return l.selected=l.compare(i),l})}return{rgbaColors:n,handleSelect:r}},xte=e=>{const t=Se("color-predefine"),n=E(()=>[t.b(),t.is("disabled",e.disabled)]),r=E(()=>t.e("colors"));function s(a){return[t.e("color-selector"),t.is("alpha",a.get("alpha")<100),{selected:a.selected}]}return{rootKls:n,colorsKls:r,colorSelectorKls:s}},Ete=["disabled","aria-label","onClick"];var Tte=de({name:"ElColorPredefine",__name:"predefine",props:wte,setup(e){const t=e,{rgbaColors:n,handleSelect:r}=Cte(t),{rootKls:s,colorsKls:a,colorSelectorKls:i}=xte(t),{t:o}=Mt(),l=u=>o("el.colorpicker.predefineDescription",{value:u});return(u,c)=>(I(),K("div",{class:M(f(s))},[Z("div",{class:M(f(a))},[(I(!0),K(Ge,null,Ot(f(n),(d,h)=>(I(),K("button",{key:e.colors[h],type:"button",disabled:e.disabled,"aria-label":l(d.value),class:M(f(i)(d)),onClick:p=>f(r)(h)},[Z("div",{style:qe({backgroundColor:d.value})},null,4)],10,Ete))),128))],2)],2))}});const kte=$e({color:{type:ne(Object),required:!0},disabled:Boolean}),Nte=e=>{const t=wt(),n=L(),r=L(0),s=L(0),a=L("hsl(0, 100%, 50%)"),i=E(()=>e.color.get("saturation")),o=E(()=>e.color.get("value")),l=E(()=>e.color.get("hue"));function u(m){var g;if(e.disabled)return;m.target!==n.value&&c(m),(g=n.value)==null||g.focus({preventScroll:!0})}function c(m){if(e.disabled)return;const v=t.vnode.el.getBoundingClientRect(),{clientX:y,clientY:b}=EA(m);let w=y-v.left,_=b-v.top;w=Math.max(0,w),w=Math.min(w,v.width),_=Math.max(0,_),_=Math.min(_,v.height),s.value=w,r.value=_,e.color.set({saturation:w/v.width*100,value:100-_/v.height*100})}function d(m){if(e.disabled)return;const{shiftKey:g}=m,v=hn(m),y=g?10:1;let b=!0;switch(v){case Ne.left:h(-y);break;case Ne.right:h(y);break;case Ne.up:p(y);break;case Ne.down:p(-y);break;default:b=!1;break}b&&m.preventDefault()}function h(m){let g=i.value+m;g=g<0?0:g>100?100:g,e.color.set("saturation",g)}function p(m){let g=o.value+m;g=g<0?0:g>100?100:g,e.color.set("value",g)}return{cursorRef:n,cursorTop:r,cursorLeft:s,background:a,saturation:i,brightness:o,hue:l,handleClick:u,handleDrag:c,handleKeydown:d}},Ite=(e,{cursorTop:t,cursorLeft:n,background:r,handleDrag:s})=>{const a=wt(),i=Se("color-svpanel");function o(){const h=e.color.get("saturation"),p=e.color.get("value"),m=a.vnode.el,{clientWidth:g,clientHeight:v}=m;n.value=h*g/100,t.value=(100-p)*v/100,r.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}_t(()=>{cw(a.vnode.el,{drag:h=>{s(h)},end:h=>{s(h)}}),o()}),fe([()=>e.color.get("hue"),()=>e.color.get("value"),()=>e.color.value],()=>o());const l=E(()=>i.b()),u=E(()=>i.e("cursor")),c=E(()=>({backgroundColor:r.value})),d=E(()=>({top:Gn(t.value),left:Gn(n.value)}));return{rootKls:l,cursorKls:u,rootStyle:c,cursorStyle:d,update:o}},Ote=["tabindex","aria-disabled","aria-label","aria-valuenow","aria-valuetext"];var $te=de({name:"ElSvPanel",__name:"sv-panel",props:kte,setup(e,{expose:t}){const n=e,{cursorRef:r,cursorTop:s,cursorLeft:a,background:i,saturation:o,brightness:l,handleClick:u,handleDrag:c,handleKeydown:d}=Nte(n),{rootKls:h,cursorKls:p,rootStyle:m,cursorStyle:g,update:v}=Ite(n,{cursorTop:s,cursorLeft:a,background:i,handleDrag:c}),{t:y}=Mt(),b=E(()=>y("el.colorpicker.svLabel")),w=E(()=>y("el.colorpicker.svDescription",{saturation:o.value,brightness:l.value,color:n.color.value}));return t({update:v}),(_,S)=>(I(),K("div",{class:M(f(h)),style:qe(f(m)),onClick:S[1]||(S[1]=(...C)=>f(u)&&f(u)(...C))},[Z("div",{ref_key:"cursorRef",ref:r,class:M(f(p)),style:qe(f(g)),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,role:"slider","aria-valuemin":"0,0","aria-valuemax":"100,100","aria-label":b.value,"aria-valuenow":`${f(o)},${f(l)}`,"aria-valuetext":w.value,onKeydown:S[0]||(S[0]=(...C)=>f(d)&&f(d)(...C))},null,46,Ote)],6))}});const NA=(e,t)=>{const n=Xt(new Xv({enableAlpha:e.showAlpha,format:e.colorFormat||"",value:e.modelValue}));return fe(()=>[e.colorFormat,e.showAlpha],()=>{n.enableAlpha=e.showAlpha,n.format=e.colorFormat||n.format,n.doOnChange(),t(it,n.value)}),{color:n}};var Ate=de({name:"ElColorPickerPanel",__name:"color-picker-panel",props:_A,emits:pte,setup(e,{expose:t,emit:n}){const r=e,s=n,a=Se("color-picker-panel"),{formItem:i}=Br(),o=Zn(),l=L(),u=L(),c=L(),d=L(),h=L(""),{color:p}=Ve(SA,()=>NA(r,s),!0);function m(){p.fromString(h.value),p.value!==h.value&&(h.value=p.value)}function g(){var y;r.validateEvent&&((y=i==null?void 0:i.validate)==null||y.call(i,"blur").catch(b=>void 0))}function v(){var y,b,w;(y=l.value)==null||y.update(),(b=u.value)==null||b.update(),(w=c.value)==null||w.update()}return _t(()=>{r.modelValue&&(h.value=p.value),Fe(v)}),fe(()=>r.modelValue,y=>{y!==p.value&&(y?p.fromString(y):p.clear())}),fe(()=>p.value,y=>{s(it,y),h.value=y,r.validateEvent&&(i==null||i.validate("change").catch(b=>void 0))}),At(CA,{currentColor:E(()=>p.value)}),t({color:p,inputRef:d,update:v}),(y,b)=>(I(),K("div",{class:M([f(a).b(),f(a).is("disabled",f(o)),f(a).is("border",e.border)]),onFocusout:g},[Z("div",{class:M(f(a).e("wrapper"))},[q(bte,{ref_key:"hueRef",ref:l,class:"hue-slider",color:f(p),vertical:"",disabled:f(o)},null,8,["color","disabled"]),q($te,{ref_key:"svRef",ref:u,color:f(p),disabled:f(o)},null,8,["color","disabled"])],2),e.showAlpha?(I(),ce(vte,{key:0,ref_key:"alphaRef",ref:c,color:f(p),disabled:f(o)},null,8,["color","disabled"])):le("v-if",!0),e.predefine?(I(),ce(Tte,{key:1,ref:"predefine","enable-alpha":e.showAlpha,color:f(p),colors:e.predefine,disabled:f(o)},null,8,["enable-alpha","color","colors","disabled"])):le("v-if",!0),Z("div",{class:M(f(a).e("footer"))},[q(f(ys),{ref_key:"inputRef",ref:d,modelValue:h.value,"onUpdate:modelValue":b[0]||(b[0]=w=>h.value=w),"validate-event":!1,size:"small",disabled:f(o),onChange:m},null,8,["modelValue","disabled"]),ie(y.$slots,"footer")],2)],34))}});const IA=dt(Ate),Rte=$e({persistent:{type:Boolean,default:!0},modelValue:{type:ne(String),default:void 0},id:String,showAlpha:Boolean,colorFormat:String,disabled:{type:Boolean,default:void 0},clearable:{type:Boolean,default:!0},size:wr,popperClass:un.popperClass,popperStyle:un.popperStyle,tabindex:{type:[String,Number],default:0},teleported:un.teleported,appendTo:un.appendTo,predefine:{type:ne(Array)},validateEvent:{type:Boolean,default:!0},...Ec,...Ts(["ariaLabel"])}),Mte={[it]:e=>Ke(e)||or(e),[It]:e=>Ke(e)||or(e),activeChange:e=>Ke(e)||or(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},Pte=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"];var Lte=de({name:"ElColorPicker",__name:"color-picker",props:Rte,emits:Mte,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:a}=Mt(),i=Se("color"),{formItem:o}=Br(),l=gr(),u=Zn(),{valueOnClear:c,isEmptyValue:d}=Qp(r,null),h=NA(r,s),{inputId:p,isLabeledByFormItem:m}=Ta(r,{formItemContext:o}),g=L(),v=L(),y=L(),b=L(!1),w=L(!1);let _=!0;const{isFocused:S,handleFocus:C,handleBlur:T}=pl(v,{disabled:u,beforeBlur(oe){var X;return(X=g.value)==null?void 0:X.isFocusInsideContent(oe)},afterBlur(){var oe;G(!1),z(),r.validateEvent&&((oe=o==null?void 0:o.validate)==null||oe.call(o,"blur").catch(X=>void 0))}}),x=OG(()=>{var oe,X;return(X=(oe=y.value)==null?void 0:oe.color)!=null?X:h.color}),N=E(()=>Jo(r,Object.keys(_A))),k=E(()=>!r.modelValue&&!w.value?"transparent":V(x,r.showAlpha)),A=E(()=>!r.modelValue&&!w.value?"":x.value),O=E(()=>m.value?void 0:r.ariaLabel||a("el.colorpicker.defaultLabel")),F=E(()=>m.value?o==null?void 0:o.labelId:void 0),j=E(()=>[i.b("picker"),i.is("disabled",u.value),i.bm("picker",l.value),i.is("focused",S.value)]);function V(oe,X){const{r:H,g:te,b:ue,a:ye}=oe.toRgb();return X?`rgba(${H}, ${te}, ${ue}, ${ye})`:`rgb(${H}, ${te}, ${ue})`}function G(oe){b.value=oe}const R=fo(G,100,{leading:!0});function $(){u.value||G(!0)}function D(){R(!1),z()}function z(){Fe(()=>{r.modelValue?x.fromString(r.modelValue):(x.value="",Fe(()=>{w.value=!1}))})}function W(){u.value||(b.value&&z(),R(!b.value))}function Y(){const oe=d(x.value)?c.value:x.value;s(it,oe),s(It,oe),r.validateEvent&&(o==null||o.validate("change").catch(X=>void 0)),R(!1),Fe(()=>{const X=new Xv({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});x.compare(X)||z()})}function U(){R(!1),s(it,c.value),s(It,c.value),r.modelValue!==c.value&&r.validateEvent&&(o==null||o.validate("change").catch(oe=>void 0)),z(),s("clear")}function Q(){var oe,X;(X=(oe=y==null?void 0:y.value)==null?void 0:oe.inputRef)==null||X.focus()}function J(){b.value&&(D(),S.value&&ae())}function B(oe){oe.preventDefault(),oe.stopPropagation(),G(!1),z()}function P(oe){switch(hn(oe)){case Ne.enter:case Ne.numpadEnter:case Ne.space:oe.preventDefault(),oe.stopPropagation(),$();break;case Ne.esc:B(oe);break}}function ae(){v.value.focus()}function ee(){v.value.blur()}return fe(()=>A.value,oe=>{_&&s("activeChange",oe),_=!0}),fe(()=>x.value,()=>{!r.modelValue&&!w.value&&(w.value=!0)}),fe(()=>r.modelValue,oe=>{oe?oe&&oe!==x.value&&(_=!1,x.fromString(oe)):w.value=!1}),fe(()=>b.value,()=>{y.value&&Fe(y.value.update)}),At(SA,h),t({color:x,show:$,hide:D,focus:ae,blur:ee}),(oe,X)=>(I(),ce(f(zr),{ref_key:"popper",ref:g,visible:b.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[f(i).be("picker","panel"),e.popperClass],"popper-style":e.popperStyle,"stop-popper-mouse-event":!1,pure:"",loop:"",role:"dialog",effect:"light",trigger:"click",teleported:e.teleported,transition:`${f(i).namespace.value}-zoom-in-top`,persistent:e.persistent,"append-to":e.appendTo,onShow:Q,onHide:X[2]||(X[2]=H=>G(!1))},{content:re(()=>[vt((I(),ce(f(IA),bt({ref_key:"pickerPanelRef",ref:y},N.value,{border:!1,"validate-event":!1,onKeydown:zn(B,["esc"])}),{footer:re(()=>[Z("div",null,[e.clearable?(I(),ce(f(Nr),{key:0,class:M(f(i).be("footer","link-btn")),text:"",size:"small",onClick:U},{default:re(()=>[gt(Ie(f(a)("el.colorpicker.clear")),1)]),_:1},8,["class"])):le("v-if",!0),q(f(Nr),{plain:"",size:"small",class:M(f(i).be("footer","btn")),onClick:Y},{default:re(()=>[gt(Ie(f(a)("el.colorpicker.confirm")),1)]),_:1},8,["class"])])]),_:1},16)),[[f(tu),J,v.value]])]),default:re(()=>[Z("div",bt({id:f(p),ref_key:"triggerRef",ref:v},oe.$attrs,{class:j.value,role:"button","aria-label":O.value,"aria-labelledby":F.value,"aria-description":f(a)("el.colorpicker.description",{color:e.modelValue||""}),"aria-disabled":f(u),tabindex:f(u)?void 0:e.tabindex,onKeydown:P,onFocus:X[0]||(X[0]=(...H)=>f(C)&&f(C)(...H)),onBlur:X[1]||(X[1]=(...H)=>f(T)&&f(T)(...H))}),[Z("div",{class:M(f(i).be("picker","trigger")),onClick:W},[Z("span",{class:M([f(i).be("picker","color"),f(i).is("alpha",e.showAlpha)])},[Z("span",{class:M(f(i).be("picker","color-inner")),style:qe({backgroundColor:k.value})},[vt(q(f(We),{class:M([f(i).be("picker","icon"),f(i).is("icon-arrow-down")])},{default:re(()=>[q(f(Ri))]),_:1},8,["class"]),[[Kt,e.modelValue||w.value]]),vt(q(f(We),{class:M([f(i).be("picker","empty"),f(i).is("icon-close")])},{default:re(()=>[q(f(ja))]),_:1},8,["class"]),[[Kt,!e.modelValue&&!w.value]])],6)],2)],2)],16,Pte)]),_:1},8,["visible","popper-class","popper-style","teleported","transition","persistent","append-to"]))}});const Dte=dt(Lte),zte=$e({a11y:{type:Boolean,default:!0},locale:{type:ne(Object)},size:wr,button:{type:ne(Object)},card:{type:ne(Object)},dialog:{type:ne(Object)},link:{type:ne(Object)},experimentalFeatures:{type:ne(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:ne(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Ec}),ps={placement:"top"},Fte=de({name:"ElConfigProvider",props:zte,setup(e,{slots:t}){const n=i6(e);return fe(()=>e.message,r=>{var s,a;Object.assign(ps,(a=(s=n==null?void 0:n.value)==null?void 0:s.message)!=null?a:{},r??{})},{immediate:!0,deep:!0}),()=>ie(t,"default",{config:n==null?void 0:n.value})}}),Bte=dt(Fte);var jte=de({name:"ElContainer",__name:"container",props:{direction:{type:String,required:!1}},setup(e){const t=e,n=nr(),r=Se("container"),s=E(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(i=>{const o=i.type.name;return o==="ElHeader"||o==="ElFooter"}):!1);return(a,i)=>(I(),K("section",{class:M([f(r).b(),f(r).is("vertical",s.value)])},[ie(a.$slots,"default")],2))}}),OA=de({name:"ElAside",__name:"aside",props:{width:{type:[String,null],required:!1,default:null}},setup(e){const t=e,n=Se("aside"),r=E(()=>t.width?n.cssVarBlock({width:t.width}):{});return(s,a)=>(I(),K("aside",{class:M(f(n).b()),style:qe(r.value)},[ie(s.$slots,"default")],6))}}),$A=de({name:"ElFooter",__name:"footer",props:{height:{type:[String,null],required:!1,default:null}},setup(e){const t=e,n=Se("footer"),r=E(()=>t.height?n.cssVarBlock({height:t.height}):{});return(s,a)=>(I(),K("footer",{class:M(f(n).b()),style:qe(r.value)},[ie(s.$slots,"default")],6))}}),AA=de({name:"ElHeader",__name:"header",props:{height:{type:[String,null],required:!1,default:null}},setup(e){const t=e,n=Se("header"),r=E(()=>t.height?n.cssVarBlock({height:t.height}):{});return(s,a)=>(I(),K("header",{class:M(f(n).b()),style:qe(r.value)},[ie(s.$slots,"default")],6))}}),RA=de({name:"ElMain",__name:"main",setup(e){const t=Se("main");return(n,r)=>(I(),K("main",{class:M(f(t).b())},[ie(n.$slots,"default")],2))}});const Vte=dt(jte,{Aside:OA,Footer:$A,Header:AA,Main:RA}),Hte=Bn(OA),Ute=Bn($A),Wte=Bn(AA),Kte=Bn(RA);var MA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ml,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,a=/\d\d/,i=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},u=function(v){return(v=+v)+(v>68?1900:2e3)},c=function(v){return function(y){this[v]=+y}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var b=y.match(/([+-]|\d\d)/g),w=60*b[1]+(+b[2]||0);return w===0?0:b[0]==="+"?-w:w}(v)}],h=function(v){var y=l[v];return y&&(y.indexOf?y:y.s.concat(y.f))},p=function(v,y){var b,w=l.meridiem;if(w){for(var _=1;_<=24;_+=1)if(v.indexOf(w(_,0,y))>-1){b=_>12;break}}else b=v===(y?"pm":"PM");return b},m={A:[o,function(v){this.afternoon=p(v,!1)}],a:[o,function(v){this.afternoon=p(v,!0)}],Q:[s,function(v){this.month=3*(v-1)+1}],S:[s,function(v){this.milliseconds=100*+v}],SS:[a,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[a,c("day")],Do:[o,function(v){var y=l.ordinal,b=v.match(/\d+/);if(this.day=b[0],y)for(var w=1;w<=31;w+=1)y(w).replace(/\[|\]/g,"")===v&&(this.day=w)}],w:[i,c("week")],ww:[a,c("week")],M:[i,c("month")],MM:[a,c("month")],MMM:[o,function(v){var y=h("months"),b=(h("monthsShort")||y.map(function(w){return w.slice(0,3)})).indexOf(v)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[o,function(v){var y=h("months").indexOf(v)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,c("year")],YY:[a,function(v){this.year=u(v)}],YYYY:[/\d{4}/,c("year")],Z:d,ZZ:d};function g(v){var y,b;y=v,b=l&&l.formats;for(var w=(v=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(k,A,O){var F=O&&O.toUpperCase();return A||b[O]||n[O]||b[F].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,V,G){return V||G.slice(1)})})).match(r),_=w.length,S=0;S<_;S+=1){var C=w[S],T=m[C],x=T&&T[0],N=T&&T[1];w[S]=N?{regex:x,parser:N}:C.replace(/^\[|\]$/g,"")}return function(k){for(var A={},O=0,F=0;O<_;O+=1){var j=w[O];if(typeof j=="string")F+=j.length;else{var V=j.regex,G=j.parser,R=k.slice(F),$=V.exec(R)[0];G.call(A,$),k=k.replace($,"")}}return function(D){var z=D.afternoon;if(z!==void 0){var W=D.hours;z?W<12&&(D.hours+=12):W===12&&(D.hours=0),delete D.afternoon}}(A),A}}return function(v,y,b){b.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(u=v.parseTwoDigitYear);var w=y.prototype,_=w.parse;w.parse=function(S){var C=S.date,T=S.utc,x=S.args;this.$u=T;var N=x[1];if(typeof N=="string"){var k=x[2]===!0,A=x[3]===!0,O=k||A,F=x[2];A&&(F=x[2]),l=this.$locale(),!k&&F&&(l=b.Ls[F]),this.$d=function(R,$,D,z){try{if(["x","X"].indexOf($)>-1)return new Date(($==="X"?1e3:1)*R);var W=g($)(R),Y=W.year,U=W.month,Q=W.day,J=W.hours,B=W.minutes,P=W.seconds,ae=W.milliseconds,ee=W.zone,oe=W.week,X=new Date,H=Q||(Y||U?1:X.getDate()),te=Y||X.getFullYear(),ue=0;Y&&!U||(ue=U>0?U-1:X.getMonth());var ye,he=J||0,_e=B||0,Re=P||0,De=ae||0;return ee?new Date(Date.UTC(te,ue,H,he,_e,Re,De+60*ee.offset*1e3)):D?new Date(Date.UTC(te,ue,H,he,_e,Re,De)):(ye=new Date(te,ue,H,he,_e,Re,De),oe&&(ye=z(ye).week(oe).toDate()),ye)}catch{return new Date("")}}(C,N,T,b),this.init(),F&&F!==!0&&(this.$L=this.locale(F).$L),O&&C!=this.format(N)&&(this.$d=new Date("")),l={}}else if(N instanceof Array)for(var j=N.length,V=1;V<=j;V+=1){x[1]=N[V-1];var G=b.apply(this,x);if(G.isValid()){this.$d=G.$d,this.$L=G.$L,this.init();break}V===j&&(this.$d=new Date(""))}else _.call(this,S)}}})})(MA);var Gte=MA.exports;const D6=Ua(Gte),UE=["hours","minutes","seconds"],_i="EP_PICKER_BASE",z6="ElPopperOptions",PA=Symbol("commonPickerContextKey"),Wd="HH:mm:ss",zl="YYYY-MM-DD",Zte={date:zl,dates:zl,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${zl} ${Wd}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:zl,datetimerange:`${zl} ${Wd}`},LA=(e,t)=>{const{lang:n}=Mt(),r=L(!1),s=L(!1),a=L(null),i=E(()=>{const{modelValue:m}=e;return!m||ke(m)&&!m.filter(Boolean).length}),o=m=>{if(!Z$(e.modelValue,m)){let g;ke(m)?g=m.map(y=>$E(y,e.valueFormat,n.value)):m&&(g=$E(m,e.valueFormat,n.value)),t(it,m&&g,n.value)}},l=E(()=>{var m;let g;if(i.value?u.value.getDefaultValue&&(g=u.value.getDefaultValue()):ke(e.modelValue)?g=e.modelValue.map(v=>OE(v,e.valueFormat,n.value)):g=OE((m=e.modelValue)!=null?m:"",e.valueFormat,n.value),u.value.getRangeAvailableTime){const v=u.value.getRangeAvailableTime(g);Yn(v,g)||(g=v,i.value||o(sv(g)))}return ke(g)&&g.some(v=>!v)&&(g=[]),g}),u=L({});return{parsedValue:l,pickerActualVisible:s,pickerOptions:u,pickerVisible:r,userInput:a,valueIsEmpty:i,emitInput:o,onCalendarChange:m=>{t("calendar-change",m)},onPanelChange:(m,g,v)=>{t("panel-change",m,g,v)},onPick:(m="",g=!1)=>{r.value=g;let v;ke(m)?v=m.map(y=>y.toDate()):v=m&&m.toDate(),a.value=null,o(v)},onSetPickerOption:m=>{u.value[m[0]]=m[1],u.value.panelReady=!0}}},F6=$e({disabledHours:{type:ne(Function)},disabledMinutes:{type:ne(Function)},disabledSeconds:{type:ne(Function)}}),DA=$e({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),B6=$e({automaticDropdown:{type:Boolean,default:!0},id:{type:ne([Array,String])},name:{type:ne([Array,String])},popperClass:un.popperClass,popperStyle:un.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ne([String,Object]),default:_o},editable:{type:Boolean,default:!0},prefixIcon:{type:ne([String,Object]),default:""},size:wr,readonly:Boolean,disabled:{type:Boolean,default:void 0},placeholder:{type:String,default:""},popperOptions:{type:ne(Object),default:()=>({})},modelValue:{type:ne([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ne([Date,Array])},defaultTime:{type:ne([Date,Array])},isRange:Boolean,...F6,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:ne([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:ne(String),values:So,default:"bottom"},fallbackPlacements:{type:ne(Array),default:["bottom","top","right","left"]},...Ec,...Ts(["ariaLabel"]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),Yte=$e({id:{type:ne(Array)},name:{type:ne(Array)},modelValue:{type:ne([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),qte=["id","name","placeholder","value","disabled"],Xte=["id","name","placeholder","value","disabled"];var Jte=de({name:"PickerRangeTrigger",inheritAttrs:!1,__name:"picker-range-trigger",props:Yte,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:n}){const r=e,s=n,{formItem:a}=Br(),{inputId:i}=Ta(Xt({id:E(()=>{var x;return(x=r.id)==null?void 0:x[0]})}),{formItemContext:a}),o=My(),l=Se("date"),u=Se("range"),c=L(),d=L(),{wrapperRef:h,isFocused:p}=pl(c,{disabled:E(()=>r.disabled)}),m=x=>{s("click",x)},g=x=>{s("mouseenter",x)},v=x=>{s("mouseleave",x)},y=x=>{s("touchstart",x)},b=x=>{s("startInput",x)},w=x=>{s("endInput",x)},_=x=>{s("startChange",x)},S=x=>{s("endChange",x)};return t({focus:()=>{var x;(x=c.value)==null||x.focus()},blur:()=>{var x,N;(x=c.value)==null||x.blur(),(N=d.value)==null||N.blur()}}),(x,N)=>(I(),K("div",{ref_key:"wrapperRef",ref:h,class:M([f(l).is("active",f(p)),x.$attrs.class]),style:qe(x.$attrs.style),onClick:m,onMouseenter:g,onMouseleave:v,onTouchstartPassive:y},[ie(x.$slots,"prefix"),Z("input",bt(f(o),{id:f(i),ref_key:"inputRef",ref:c,name:x.name&&x.name[0],placeholder:x.startPlaceholder,value:x.modelValue&&x.modelValue[0],class:f(u).b("input"),disabled:x.disabled,onInput:b,onChange:_}),null,16,qte),ie(x.$slots,"range-separator"),Z("input",bt(f(o),{id:x.id&&x.id[1],ref_key:"endInputRef",ref:d,name:x.name&&x.name[1],placeholder:x.endPlaceholder,value:x.modelValue&&x.modelValue[1],class:f(u).b("input"),disabled:x.disabled,onInput:w,onChange:S}),null,16,Xte),ie(x.$slots,"suffix")],38))}}),zA=de({name:"Picker",__name:"picker",props:B6,emits:[it,It,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,s=n,a=dl(),i=Se("date"),o=Se("input"),l=Se("range"),{formItem:u}=Br(),c=Ve(z6,{}),d=Qp(r,null),h=L(),p=L(),m=L(null);let g=!1;const v=Zn(),y=LA(r,s),{parsedValue:b,pickerActualVisible:w,userInput:_,pickerVisible:S,pickerOptions:C,valueIsEmpty:T,emitInput:x,onPick:N,onSetPickerOption:k,onCalendarChange:A,onPanelChange:O}=y,{isFocused:F,handleFocus:j,handleBlur:V}=pl(p,{disabled:v,beforeFocus(){return r.readonly},afterFocus(){r.automaticDropdown&&(S.value=!0)},beforeBlur(ge){var Ue;return!g&&((Ue=h.value)==null?void 0:Ue.isFocusInsideContent(ge))},afterBlur(){xe(),S.value=!1,g=!1,r.validateEvent&&(u==null||u.validate("blur").catch(ge=>void 0))}}),G=L(!1),R=E(()=>[i.b("editor"),i.bm("editor",r.type),o.e("wrapper"),i.is("disabled",v.value),i.is("active",S.value),l.b("editor"),be?l.bm("editor",be.value):"",a.class]),$=E(()=>[o.e("icon"),l.e("close-icon"),ye.value?"":l.em("close-icon","hidden")]);fe(S,ge=>{ge?Fe(()=>{ge&&(m.value=r.modelValue)}):(_.value=null,Fe(()=>{D(r.modelValue)}))});const D=(ge,Ue)=>{(Ue||!Z$(ge,m.value))&&(s(It,ge),Ue&&(m.value=ge),r.validateEvent&&(u==null||u.validate("change").catch(St=>void 0)))},z=ge=>{s("keydown",ge)},W=E(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),Y=(ge,Ue,St)=>{const sn=W.value;sn.length&&(!St||St==="min"?(sn[0].setSelectionRange(ge,Ue),sn[0].focus()):St==="max"&&(sn[1].setSelectionRange(ge,Ue),sn[1].focus()))},U=()=>{w.value=!0},Q=()=>{s("visible-change",!0)},J=()=>{w.value=!1,S.value=!1,s("visible-change",!1)},B=()=>{S.value=!0},P=()=>{S.value=!1},ae=E(()=>{const ge=Ce(b.value);return ke(_.value)?[_.value[0]||ge&&ge[0]||"",_.value[1]||ge&&ge[1]||""]:_.value!==null?_.value:!oe.value&&T.value||!S.value&&T.value?"":ge?X.value||H.value||te.value?ge.join(", "):ge:""}),ee=E(()=>r.type.includes("time")),oe=E(()=>r.type.startsWith("time")),X=E(()=>r.type==="dates"),H=E(()=>r.type==="months"),te=E(()=>r.type==="years"),ue=E(()=>r.prefixIcon||(ee.value?d6:gZ)),ye=E(()=>r.clearable&&!v.value&&!r.readonly&&!T.value&&(G.value||F.value)),he=ge=>{r.readonly||v.value||(ye.value&&(ge==null||ge.stopPropagation(),C.value.handleClear?C.value.handleClear():x(d.valueOnClear.value),D(d.valueOnClear.value,!0),J()),s("clear"))},_e=async ge=>{var Ue;r.readonly||v.value||(((Ue=ge.target)==null?void 0:Ue.tagName)!=="INPUT"||F.value||!r.automaticDropdown)&&(S.value=!0)},Re=()=>{r.readonly||v.value||!T.value&&r.clearable&&(G.value=!0)},De=()=>{G.value=!1},pe=ge=>{var Ue;r.readonly||v.value||(((Ue=ge.touches[0].target)==null?void 0:Ue.tagName)!=="INPUT"||F.value||!r.automaticDropdown)&&(S.value=!0)},ve=E(()=>r.type.includes("range")),be=gr(),me=E(()=>{var ge,Ue;return(Ue=(ge=f(h))==null?void 0:ge.popperRef)==null?void 0:Ue.contentRef}),Te=s6(p,ge=>{const Ue=f(me),St=br(p);Ue&&(ge.target===Ue||ge.composedPath().includes(Ue))||ge.target===St||St&&ge.composedPath().includes(St)||(S.value=!1)});en(()=>{Te==null||Te()});const xe=()=>{if(_.value){const ge=Oe(ae.value);ge&&(Ee(ge)&&x(sv(ge)),_.value=null)}_.value===""&&(x(d.valueOnClear.value),D(d.valueOnClear.value,!0),_.value=null)},Oe=ge=>ge?C.value.parseUserInput(ge):null,Ce=ge=>ge?ke(ge)?ge.map(St=>St.format(r.format)):ge.format(r.format):null,Ee=ge=>C.value.isValidValue(ge),Be=async ge=>{if(r.readonly||v.value)return;const Ue=hn(ge);if(z(ge),Ue===Ne.esc){S.value===!0&&(S.value=!1,ge.preventDefault(),ge.stopPropagation());return}if(Ue===Ne.down&&(C.value.handleFocusPicker&&(ge.preventDefault(),ge.stopPropagation()),S.value===!1&&(S.value=!0,await Fe()),C.value.handleFocusPicker)){C.value.handleFocusPicker();return}if(Ue===Ne.tab){g=!0;return}if(Ue===Ne.enter||Ue===Ne.numpadEnter){S.value?(_.value===null||_.value===""||Ee(Oe(ae.value)))&&(xe(),S.value=!1):S.value=!0,ge.preventDefault(),ge.stopPropagation();return}if(_.value){ge.stopPropagation();return}C.value.handleKeydownInput&&C.value.handleKeydownInput(ge)},Bt=ge=>{_.value=ge,S.value||(S.value=!0)},Gt=ge=>{const Ue=ge.target;_.value?_.value=[Ue.value,_.value[1]]:_.value=[Ue.value,null]},tt=ge=>{const Ue=ge.target;_.value?_.value=[_.value[0],Ue.value]:_.value=[null,Ue.value]},mt=()=>{var ge;const Ue=_.value,St=Oe(Ue&&Ue[0]),sn=f(b);if(St&&St.isValid()){_.value=[Ce(St),((ge=ae.value)==null?void 0:ge[1])||null];const Ln=[St,sn&&(sn[1]||null)];Ee(Ln)&&(x(sv(Ln)),_.value=null)}},kt=()=>{var ge;const Ue=f(_),St=Oe(Ue&&Ue[1]),sn=f(b);if(St&&St.isValid()){_.value=[((ge=f(ae))==null?void 0:ge[0])||null,Ce(St)];const Ln=[sn&&sn[0],St];Ee(Ln)&&(x(sv(Ln)),_.value=null)}},we=()=>{var ge;(ge=p.value)==null||ge.focus()},He=()=>{var ge;(ge=p.value)==null||ge.blur()};return At(_i,{props:r,emptyValues:d}),At(PA,y),t({focus:we,blur:He,handleOpen:B,handleClose:P,onPick:N}),(ge,Ue)=>(I(),ce(f(zr),bt({ref_key:"refPopper",ref:h,visible:f(S),effect:"light",pure:"",trigger:"click"},ge.$attrs,{role:"dialog",teleported:"",transition:`${f(i).namespace.value}-zoom-in-top`,"popper-class":[`${f(i).namespace.value}-picker__popper`,ge.popperClass],"popper-style":ge.popperStyle,"popper-options":f(c),"fallback-placements":ge.fallbackPlacements,"gpu-acceleration":!1,placement:ge.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:U,onShow:Q,onHide:J}),{default:re(()=>[ve.value?(I(),ce(Jte,{key:1,id:ge.id,ref_key:"inputRef",ref:p,"model-value":ae.value,name:ge.name,disabled:f(v),readonly:!ge.editable||ge.readonly,"start-placeholder":ge.startPlaceholder,"end-placeholder":ge.endPlaceholder,class:M(R.value),style:qe(ge.$attrs.style),"aria-label":ge.ariaLabel,tabindex:ge.tabindex,autocomplete:"off",role:"combobox",onClick:_e,onFocus:f(j),onBlur:f(V),onStartInput:Gt,onStartChange:mt,onEndInput:tt,onEndChange:kt,onMousedown:_e,onMouseenter:Re,onMouseleave:De,onTouchstartPassive:pe,onKeydown:Be},{prefix:re(()=>[ue.value?(I(),ce(f(We),{key:0,class:M([f(o).e("icon"),f(l).e("icon")])},{default:re(()=>[(I(),ce(yt(ue.value)))]),_:1},8,["class"])):le("v-if",!0)]),"range-separator":re(()=>[ie(ge.$slots,"range-separator",{},()=>[Z("span",{class:M(f(l).b("separator"))},Ie(ge.rangeSeparator),3)])]),suffix:re(()=>[ge.clearIcon?(I(),ce(f(We),{key:0,class:M($.value),onMousedown:at(f(tn),["prevent"]),onClick:he},{default:re(()=>[(I(),ce(yt(ge.clearIcon)))]),_:1},8,["class","onMousedown"])):le("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(I(),ce(f(ys),{key:0,id:ge.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":ae.value,name:ge.name,size:f(be),disabled:f(v),placeholder:ge.placeholder,class:M([f(i).b("editor"),f(i).bm("editor",ge.type),f(i).is("focus",f(S)),ge.$attrs.class]),style:qe(ge.$attrs.style),readonly:!ge.editable||ge.readonly||X.value||H.value||te.value||ge.type==="week","aria-label":ge.ariaLabel,tabindex:ge.tabindex,"validate-event":!1,onInput:Bt,onFocus:f(j),onBlur:f(V),onKeydown:Be,onChange:xe,onMousedown:_e,onMouseenter:Re,onMouseleave:De,onTouchstartPassive:pe,onClick:Ue[0]||(Ue[0]=at(()=>{},["stop"]))},{prefix:re(()=>[ue.value?(I(),ce(f(We),{key:0,class:M(f(o).e("icon")),onMousedown:at(_e,["prevent"]),onTouchstartPassive:pe},{default:re(()=>[(I(),ce(yt(ue.value)))]),_:1},8,["class"])):le("v-if",!0)]),suffix:re(()=>[ye.value&&ge.clearIcon?(I(),ce(f(We),{key:0,class:M(`${f(o).e("icon")} clear-icon`),onMousedown:at(f(tn),["prevent"]),onClick:he},{default:re(()=>[(I(),ce(yt(ge.clearIcon)))]),_:1},8,["class","onMousedown"])):le("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur"]))]),content:re(()=>[ie(ge.$slots,"default",{visible:f(S),actualVisible:f(w),parsedValue:f(b),format:ge.format,dateFormat:ge.dateFormat,timeFormat:ge.timeFormat,unlinkPanels:ge.unlinkPanels,type:ge.type,defaultValue:ge.defaultValue,showNow:ge.showNow,showConfirm:ge.showConfirm,showFooter:ge.showFooter,showWeekNumber:ge.showWeekNumber,onPick:Ue[1]||(Ue[1]=(...St)=>f(N)&&f(N)(...St)),onSelectRange:Y,onSetPickerOption:Ue[2]||(Ue[2]=(...St)=>f(k)&&f(k)(...St)),onCalendarChange:Ue[3]||(Ue[3]=(...St)=>f(A)&&f(A)(...St)),onClear:he,onPanelChange:Ue[4]||(Ue[4]=(...St)=>f(O)&&f(O)(...St)),onMousedown:Ue[5]||(Ue[5]=at(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-style","popper-options","fallback-placements","placement"]))}});const Qte=$e({...DA,datetimeRole:String,parsedValue:{type:ne(Object)}}),FA=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(i,o,l,u)=>{const c={hour:e,minute:t,second:n};let d=i;return["hour","minute","second"].forEach(h=>{if(c[h]){let p;const m=c[h];switch(h){case"minute":{p=m(d.hour(),o,u);break}case"second":{p=m(d.hour(),d.minute(),o,u);break}default:{p=m(o,u);break}}if(p!=null&&p.length&&!p.includes(d[h]())){const g=l?0:p.length-1;d=d[h](p[g])}}}),d},s={};return{timePickerOptions:s,getAvailableTime:r,onSetOption:([i,o])=>{s[i]=o}}},bb=e=>{const t=(r,s)=>r||s,n=r=>r!==!0;return e.map(t).filter(n)},BA=(e,t,n)=>({getHoursList:(i,o)=>hb(24,e&&(()=>e==null?void 0:e(i,o))),getMinutesList:(i,o,l)=>hb(60,t&&(()=>t==null?void 0:t(i,o,l))),getSecondsList:(i,o,l,u)=>hb(60,n&&(()=>n==null?void 0:n(i,o,l,u)))}),jA=(e,t,n)=>{const{getHoursList:r,getMinutesList:s,getSecondsList:a}=BA(e,t,n);return{getAvailableHours:(u,c)=>bb(r(u,c)),getAvailableMinutes:(u,c,d)=>bb(s(u,c,d)),getAvailableSeconds:(u,c,d,h)=>bb(a(u,c,d,h))}},VA=e=>{const t=L(e.parsedValue);return fe(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},ene=$e({role:{type:String,required:!0},spinnerDate:{type:ne(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ne(String),default:""},...F6}),tne=100,nne=600,ag="_RepeatClick",Jv={beforeMount(e,t){const n=t.value,{interval:r=tne,delay:s=nne}=Ye(n)?{}:n;let a,i;const o=()=>Ye(n)?n():n.handler(),l=()=>{i&&(clearTimeout(i),i=void 0),a&&(clearInterval(a),a=void 0)},u=c=>{c.button===0&&(l(),o(),document.addEventListener("mouseup",l,{once:!0}),i=setTimeout(()=>{a=setInterval(()=>{o()},r)},s))};e[ag]={start:u,clear:l},e.addEventListener("mousedown",u)},unmounted(e){if(!e[ag])return;const{start:t,clear:n}=e[ag];t&&e.removeEventListener("mousedown",t),n&&(n(),document.removeEventListener("mouseup",n)),e[ag]=null}},rne=["onClick"],sne=["onMouseenter"];var fw=de({__name:"basic-time-spinner",props:ene,emits:[It,"select-range","set-option"],setup(e,{emit:t}){const n=e,r=Ve(_i),{isRange:s,format:a}=r.props,i=t,o=Se("time"),{getHoursList:l,getMinutesList:u,getSecondsList:c}=BA(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let d=!1;const h=L(),v={hours:L(),minutes:L(),seconds:L()},y=E(()=>n.showSeconds?UE:UE.slice(0,2)),b=E(()=>{const{spinnerDate:U}=n,Q=U.hour(),J=U.minute(),B=U.second();return{hours:Q,minutes:J,seconds:B}}),w=E(()=>{const{hours:U,minutes:Q}=f(b),{role:J,spinnerDate:B}=n,P=s?void 0:B;return{hours:l(J,P),minutes:u(U,J,P),seconds:c(U,Q,J,P)}}),_=E(()=>{const{hours:U,minutes:Q,seconds:J}=f(b);return{hours:fb(U,23),minutes:fb(Q,59),seconds:fb(J,59)}}),S=fo(U=>{d=!1,x(U)},200),C=U=>{if(!!!n.amPmMode)return"";const J=n.amPmMode==="A";let B=U<12?" am":" pm";return J&&(B=B.toUpperCase()),B},T=U=>{let Q=[0,0];const J=a||Wd,B=J.indexOf("HH"),P=J.indexOf("mm"),ae=J.indexOf("ss");switch(U){case"hours":B!==-1&&(Q=[B,B+2]);break;case"minutes":P!==-1&&(Q=[P,P+2]);break;case"seconds":ae!==-1&&(Q=[ae,ae+2]);break}const[ee,oe]=Q;i("select-range",ee,oe),h.value=U},x=U=>{A(U,f(b)[U])},N=()=>{x("hours"),x("minutes"),x("seconds")},k=U=>U.querySelector(`.${o.namespace.value}-scrollbar__wrap`),A=(U,Q)=>{if(n.arrowControl)return;const J=f(v[U]);J&&J.$el&&(k(J.$el).scrollTop=Math.max(0,Q*O(U)))},O=U=>{const Q=f(v[U]),J=Q==null?void 0:Q.$el.querySelector("li");return J&&Number.parseFloat(Bo(J,"height"))||0},F=()=>{V(1)},j=()=>{V(-1)},V=U=>{h.value||T("hours");const Q=h.value,J=f(b)[Q],B=h.value==="hours"?24:60,P=G(Q,J,U,B);R(Q,P),A(Q,P),Fe(()=>T(Q))},G=(U,Q,J,B)=>{let P=(Q+J+B)%B;const ae=f(w)[U];for(;ae[P]&&P!==Q;)P=(P+J+B)%B;return P},R=(U,Q)=>{if(f(w)[U][Q])return;const{hours:P,minutes:ae,seconds:ee}=f(b);let oe;switch(U){case"hours":oe=n.spinnerDate.hour(Q).minute(ae).second(ee);break;case"minutes":oe=n.spinnerDate.hour(P).minute(Q).second(ee);break;case"seconds":oe=n.spinnerDate.hour(P).minute(ae).second(Q);break}i(It,oe)},$=(U,{value:Q,disabled:J})=>{J||(R(U,Q),T(U),A(U,Q))},D=U=>{const Q=f(v[U]);if(!Q)return;d=!0,S(U);const J=Math.min(Math.round((k(Q.$el).scrollTop-(z(U)*.5-10)/O(U)+3)/O(U)),U==="hours"?23:59);R(U,J)},z=U=>f(v[U]).$el.offsetHeight,W=()=>{const U=Q=>{const J=f(v[Q]);J&&J.$el&&(k(J.$el).onscroll=()=>{D(Q)})};U("hours"),U("minutes"),U("seconds")};_t(()=>{Fe(()=>{!n.arrowControl&&W(),N(),n.role==="start"&&T("hours")})});const Y=(U,Q)=>{v[Q].value=U??void 0};return i("set-option",[`${n.role}_scrollDown`,V]),i("set-option",[`${n.role}_emitSelectRange`,T]),fe(()=>n.spinnerDate,()=>{d||N()}),(U,Q)=>(I(),K("div",{class:M([f(o).b("spinner"),{"has-seconds":U.showSeconds}])},[U.arrowControl?le("v-if",!0):(I(!0),K(Ge,{key:0},Ot(y.value,J=>(I(),ce(f(bi),{key:J,ref_for:!0,ref:B=>Y(B,J),class:M(f(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":f(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:B=>T(J),onMousemove:B=>x(J)},{default:re(()=>[(I(!0),K(Ge,null,Ot(w.value[J],(B,P)=>(I(),K("li",{key:P,class:M([f(o).be("spinner","item"),f(o).is("active",P===b.value[J]),f(o).is("disabled",B)]),onClick:ae=>$(J,{value:P,disabled:B})},[J==="hours"?(I(),K(Ge,{key:0},[gt(Ie(("0"+(U.amPmMode?P%12||12:P)).slice(-2))+Ie(C(P)),1)],64)):(I(),K(Ge,{key:1},[gt(Ie(("0"+P).slice(-2)),1)],64))],10,rne))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),U.arrowControl?(I(!0),K(Ge,{key:1},Ot(y.value,J=>(I(),K("div",{key:J,class:M([f(o).be("spinner","wrapper"),f(o).is("arrow")]),onMouseenter:B=>T(J)},[vt((I(),ce(f(We),{class:M(["arrow-up",f(o).be("spinner","arrow")])},{default:re(()=>[q(f(Iy))]),_:1},8,["class"])),[[f(Jv),j]]),vt((I(),ce(f(We),{class:M(["arrow-down",f(o).be("spinner","arrow")])},{default:re(()=>[q(f(Ri))]),_:1},8,["class"])),[[f(Jv),F]]),Z("ul",{class:M(f(o).be("spinner","list"))},[(I(!0),K(Ge,null,Ot(_.value[J],(B,P)=>(I(),K("li",{key:P,class:M([f(o).be("spinner","item"),f(o).is("active",B===b.value[J]),f(o).is("disabled",w.value[J][B])])},[f(Xe)(B)?(I(),K(Ge,{key:0},[J==="hours"?(I(),K(Ge,{key:0},[gt(Ie(("0"+(U.amPmMode?B%12||12:B)).slice(-2))+Ie(C(B)),1)],64)):(I(),K(Ge,{key:1},[gt(Ie(("0"+B).slice(-2)),1)],64))],64)):le("v-if",!0)],2))),128))],2)],42,sne))),128)):le("v-if",!0)],2))}}),Qv=de({__name:"panel-time-pick",props:Qte,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=t,s=Ve(_i),{arrowControl:a,disabledHours:i,disabledMinutes:o,disabledSeconds:l,defaultValue:u}=s.props,{getAvailableHours:c,getAvailableMinutes:d,getAvailableSeconds:h}=jA(i,o,l),p=Se("time"),{t:m,lang:g}=Mt(),v=L([0,2]),y=VA(n),b=E(()=>Vt(n.actualVisible)?`${p.namespace.value}-zoom-in-top`:""),w=E(()=>n.format.includes("ss")),_=E(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),S=$=>{const D=ct($).locale(g.value),z=V(D);return D.isSame(z)},C=()=>{const $=y.value;r("pick",$,!1),Fe(()=>{y.value=$})},T=($=!1,D=!1)=>{D||r("pick",n.parsedValue,$)},x=$=>{if(!n.visible)return;const D=V($).millisecond(0);r("pick",D,!0)},N=($,D)=>{r("select-range",$,D),v.value=[$,D]},k=$=>{const D=n.format,z=D.indexOf("HH"),W=D.indexOf("mm"),Y=D.indexOf("ss"),U=[],Q=[];z!==-1&&(U.push(z),Q.push("hours")),W!==-1&&(U.push(W),Q.push("minutes")),Y!==-1&&w.value&&(U.push(Y),Q.push("seconds"));const B=(U.indexOf(v.value[0])+$+U.length)%U.length;O.start_emitSelectRange(Q[B])},A=$=>{const D=hn($),{left:z,right:W,up:Y,down:U}=Ne;if([z,W].includes(D)){k(D===z?-1:1),$.preventDefault();return}if([Y,U].includes(D)){const Q=D===Y?-1:1;O.start_scrollDown(Q),$.preventDefault();return}},{timePickerOptions:O,onSetOption:F,getAvailableTime:j}=FA({getAvailableHours:c,getAvailableMinutes:d,getAvailableSeconds:h}),V=$=>j($,n.datetimeRole||"",!0),G=$=>$?ct($,n.format).locale(g.value):null,R=()=>ct(u).locale(g.value);return r("set-picker-option",["isValidValue",S]),r("set-picker-option",["parseUserInput",G]),r("set-picker-option",["handleKeydownInput",A]),r("set-picker-option",["getRangeAvailableTime",V]),r("set-picker-option",["getDefaultValue",R]),($,D)=>(I(),ce(Gr,{name:b.value},{default:re(()=>[$.actualVisible||$.visible?(I(),K("div",{key:0,class:M(f(p).b("panel"))},[Z("div",{class:M([f(p).be("panel","content"),{"has-seconds":w.value}])},[q(fw,{ref:"spinner",role:$.datetimeRole||"start","arrow-control":f(a),"show-seconds":w.value,"am-pm-mode":_.value,"spinner-date":$.parsedValue,"disabled-hours":f(i),"disabled-minutes":f(o),"disabled-seconds":f(l),onChange:x,onSetOption:f(F),onSelectRange:N},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:M(f(p).be("panel","footer"))},[Z("button",{type:"button",class:M([f(p).be("panel","btn"),"cancel"]),onClick:C},Ie(f(m)("el.datepicker.cancel")),3),Z("button",{type:"button",class:M([f(p).be("panel","btn"),"confirm"]),onClick:D[0]||(D[0]=z=>T())},Ie(f(m)("el.datepicker.confirm")),3)],2)],2)):le("v-if",!0)]),_:1},8,["name"]))}});const ane=$e({...DA,parsedValue:{type:ne(Array)}}),ine=["disabled"];var one=de({__name:"panel-time-range",props:ane,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=t,s=(X,H)=>{const te=[];for(let ue=X;ue<=H;ue++)te.push(ue);return te},{t:a,lang:i}=Mt(),o=Se("time"),l=Se("picker"),u=Ve(_i),{arrowControl:c,disabledHours:d,disabledMinutes:h,disabledSeconds:p,defaultValue:m}=u.props,g=E(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",c),S.value?"has-seconds":""]),v=E(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",c),S.value?"has-seconds":""]),y=E(()=>n.parsedValue[0]),b=E(()=>n.parsedValue[1]),w=VA(n),_=()=>{const X=w.value;r("pick",X,!1),Fe(()=>{w.value=X})},S=E(()=>n.format.includes("ss")),C=E(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),T=(X=!1)=>{r("pick",[y.value,b.value],X)},x=X=>{A(X.millisecond(0),b.value)},N=X=>{A(y.value,X.millisecond(0))},k=X=>{const H=X.map(ue=>ct(ue).locale(i.value)),te=Y(H);return H[0].isSame(te[0])&&H[1].isSame(te[1])},A=(X,H)=>{n.visible&&r("pick",[X,H],!0)},O=E(()=>y.value>b.value),F=L([0,2]),j=(X,H)=>{r("select-range",X,H,"min"),F.value=[X,H]},V=E(()=>S.value?11:8),G=(X,H)=>{r("select-range",X,H,"max");const te=f(V);F.value=[X+te,H+te]},R=X=>{const H=S.value?[0,3,6,11,14,17]:[0,3,8,11],te=["hours","minutes"].concat(S.value?["seconds"]:[]),ye=(H.indexOf(F.value[0])+X+H.length)%H.length,he=H.length/2;ye<he?B.start_emitSelectRange(te[ye]):B.end_emitSelectRange(te[ye-he])},$=X=>{const H=hn(X),{left:te,right:ue,up:ye,down:he}=Ne;if([te,ue].includes(H)){R(H===te?-1:1),X.preventDefault();return}if([ye,he].includes(H)){const _e=H===ye?-1:1,Re=F.value[0]<V.value?"start":"end";B[`${Re}_scrollDown`](_e),X.preventDefault();return}},D=(X,H)=>{const te=d?d(X):[],ue=X==="start",he=(H||(ue?b.value:y.value)).hour(),_e=ue?s(he+1,23):s(0,he-1);return ib(te,_e)},z=(X,H,te)=>{const ue=h?h(X,H):[],ye=H==="start",he=te||(ye?b.value:y.value),_e=he.hour();if(X!==_e)return ue;const Re=he.minute(),De=ye?s(Re+1,59):s(0,Re-1);return ib(ue,De)},W=(X,H,te,ue)=>{const ye=p?p(X,H,te):[],he=te==="start",_e=ue||(he?b.value:y.value),Re=_e.hour(),De=_e.minute();if(X!==Re||H!==De)return ye;const pe=_e.second(),ve=he?s(pe+1,59):s(0,pe-1);return ib(ye,ve)},Y=([X,H])=>[P(X,"start",!0,H),P(H,"end",!1,X)],{getAvailableHours:U,getAvailableMinutes:Q,getAvailableSeconds:J}=jA(D,z,W),{timePickerOptions:B,getAvailableTime:P,onSetOption:ae}=FA({getAvailableHours:U,getAvailableMinutes:Q,getAvailableSeconds:J}),ee=X=>X?ke(X)?X.map(H=>ct(H,n.format).locale(i.value)):ct(X,n.format).locale(i.value):null,oe=()=>{if(ke(m))return m.map(H=>ct(H).locale(i.value));const X=ct(m).locale(i.value);return[X,X.add(60,"m")]};return r("set-picker-option",["parseUserInput",ee]),r("set-picker-option",["isValidValue",k]),r("set-picker-option",["handleKeydownInput",$]),r("set-picker-option",["getDefaultValue",oe]),r("set-picker-option",["getRangeAvailableTime",Y]),(X,H)=>X.actualVisible?(I(),K("div",{key:0,class:M([f(o).b("range-picker"),f(l).b("panel")])},[Z("div",{class:M(f(o).be("range-picker","content"))},[Z("div",{class:M(f(o).be("range-picker","cell"))},[Z("div",{class:M(f(o).be("range-picker","header"))},Ie(f(a)("el.datepicker.startTime")),3),Z("div",{class:M(g.value)},[q(fw,{ref:"minSpinner",role:"start","show-seconds":S.value,"am-pm-mode":C.value,"arrow-control":f(c),"spinner-date":y.value,"disabled-hours":D,"disabled-minutes":z,"disabled-seconds":W,onChange:x,onSetOption:f(ae),onSelectRange:j},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Z("div",{class:M(f(o).be("range-picker","cell"))},[Z("div",{class:M(f(o).be("range-picker","header"))},Ie(f(a)("el.datepicker.endTime")),3),Z("div",{class:M(v.value)},[q(fw,{ref:"maxSpinner",role:"end","show-seconds":S.value,"am-pm-mode":C.value,"arrow-control":f(c),"spinner-date":b.value,"disabled-hours":D,"disabled-minutes":z,"disabled-seconds":W,onChange:N,onSetOption:f(ae),onSelectRange:G},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Z("div",{class:M(f(o).be("panel","footer"))},[Z("button",{type:"button",class:M([f(o).be("panel","btn"),"cancel"]),onClick:H[0]||(H[0]=te=>_())},Ie(f(a)("el.datepicker.cancel")),3),Z("button",{type:"button",class:M([f(o).be("panel","btn"),"confirm"]),disabled:O.value,onClick:H[1]||(H[1]=te=>T())},Ie(f(a)("el.datepicker.confirm")),11,ine)],2)],2)):le("v-if",!0)}});ct.extend(D6);var lne=de({name:"ElTimePicker",install:null,props:{...B6,isRange:Boolean},emits:[it],setup(e,t){const n=L(),[r,s]=e.isRange?["timerange",one]:["time",Qv],a=i=>t.emit(it,i);return At(z6,e.popperOptions),t.expose({focus:()=>{var i;(i=n.value)==null||i.focus()},blur:()=>{var i;(i=n.value)==null||i.blur()},handleOpen:()=>{var i;(i=n.value)==null||i.handleOpen()},handleClose:()=>{var i;(i=n.value)==null||i.handleClose()}}),()=>{var i;const o=(i=e.format)!=null?i:Wd;return q(zA,bt(e,{ref:n,type:r,format:o,"onUpdate:modelValue":a}),{default:l=>q(s,l,null)})}}});const une=dt(lne);var HA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ml,function(){return function(n,r){var s=r.prototype,a=s.format;s.format=function(i){var o=this,l=this.$locale();if(!this.isValid())return a.bind(this)(i);var u=this.$utils(),c=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),d==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return d}});return a.bind(this)(c)}}})})(HA);var cne=HA.exports;const dne=Ua(cne);var UA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ml,function(){var n="week",r="year";return function(s,a,i){var o=a.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=i(this).startOf(r).add(1,r).date(u),d=i(this).endOf(n);if(c.isBefore(d))return 1}var h=i(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),p=this.diff(h,n,!0);return p<0?i(this).startOf("week").week():Math.ceil(p)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(UA);var fne=UA.exports;const hne=Ua(fne);var WA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ml,function(){return function(n,r){r.prototype.weekYear=function(){var s=this.month(),a=this.week(),i=this.year();return a===1&&s===11?i+1:s===0&&a>=52?i-1:i}}})})(WA);var pne=WA.exports;const mne=Ua(pne);var KA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ml,function(){return function(n,r,s){r.prototype.dayOfYear=function(a){var i=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return a==null?i:this.add(a-i,"day")}}})})(KA);var gne=KA.exports;const vne=Ua(gne);var GA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ml,function(){return function(n,r){r.prototype.isSameOrAfter=function(s,a){return this.isSame(s,a)||this.isAfter(s,a)}}})})(GA);var yne=GA.exports;const bne=Ua(yne);var ZA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ml,function(){return function(n,r){r.prototype.isSameOrBefore=function(s,a){return this.isSame(s,a)||this.isBefore(s,a)}}})})(ZA);var wne=ZA.exports;const _ne=Ua(wne),Sne=$e({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:ne([Date,Array,String,Number]),default:""},defaultValue:{type:ne([Date,Array])},defaultTime:{type:ne([Date,Array])},isRange:Boolean,...F6,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:ne(String),default:"date"},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0}}),j6=Symbol("rootPickerContextKey"),um="ElIsDefaultFormat",Cne=["date","dates","year","years","month","months","week","range"],V6=$e({cellClassName:{type:ne(Function)},disabledDate:{type:ne(Function)},date:{type:ne(Object),required:!0},minDate:{type:ne(Object)},maxDate:{type:ne(Object)},parsedValue:{type:ne([Object,Array])},rangeState:{type:ne(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),YA=$e({type:{type:ne(String),required:!0,values:nQ},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean,editable:{type:Boolean,default:!0}}),H6=$e({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:ne(Array)}}),U6=e=>({type:String,values:Cne,default:e}),xne=$e({...YA,parsedValue:{type:ne([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:""}}),op=e=>{if(!ke(e))return!1;const[t,n]=e;return ct.isDayjs(t)&&ct.isDayjs(n)&&ct(t).isValid()&&ct(n).isValid()&&t.isSameOrBefore(n)},By=(e,{lang:t,step:n=1,unit:r,unlinkPanels:s})=>{let a;if(ke(e)){let[i,o]=e.map(l=>ct(l).locale(t));return s||(o=i.add(n,r)),[i,o]}else e?a=ct(e):a=ct();return a=a.locale(t),[a,a.add(n,r)]},Ene=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:s,now:a,unit:i,relativeDateGetter:o,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<e.row;c++){const d=t[c];for(let h=0;h<e.column;h++){let p=d[h+n];p||(p={row:c,column:h,type:"normal",inRange:!1,start:!1,end:!1});const m=c*e.column+h,g=o(m);p.dayjs=g,p.date=g.toDate(),p.timestamp=g.valueOf(),p.type="normal",p.inRange=!!(r&&g.isSameOrAfter(r,i)&&s&&g.isSameOrBefore(s,i))||!!(r&&g.isSameOrBefore(r,i)&&s&&g.isSameOrAfter(s,i)),r!=null&&r.isSameOrAfter(s)?(p.start=!!s&&g.isSame(s,i),p.end=r&&g.isSame(r,i)):(p.start=!!r&&g.isSame(r,i),p.end=!!s&&g.isSame(s,i)),g.isSame(a,i)&&(p.type="today"),l==null||l(p,{rowIndex:c,columnIndex:h}),d[h+n]=p}u==null||u(d)}},e0=(e,t,n,r)=>{const s=ct().locale(r).startOf("month").month(n).year(t).hour(e.hour()).minute(e.minute()).second(e.second()),a=s.daysInMonth();return Gl(a).map(i=>s.add(i,"day").toDate())},Kd=(e,t,n,r,s)=>{const a=ct().year(t).month(n).startOf("month").hour(e.hour()).minute(e.minute()).second(e.second()),i=e0(e,t,n,r).find(o=>!(s!=null&&s(o)));return i?ct(i).locale(r):a.locale(r)},t0=(e,t,n)=>{const r=e.year();if(!(n!=null&&n(e.toDate())))return e.locale(t);const s=e.month();if(!e0(e,r,s,t).every(n))return Kd(e,r,s,t,n);for(let a=0;a<12;a++)if(!e0(e,r,a,t).every(n))return Kd(e,r,a,t,n);return e},Gd=(e,t,n,r)=>{if(ke(e))return e.map(s=>Gd(s,t,n,r));if(Ke(e)){const s=r!=null&&r.value?ct(e):ct(e,t);if(!s.isValid())return s}return ct(e,t).locale(n)},Tne=$e({...V6,showWeekNumber:Boolean,selectionMode:U6("date")}),kne=["changerange","pick","select"],n0=(e="")=>["normal","today"].includes(e),Nne=(e,t)=>{const{lang:n}=Mt(),r=L(),s=L(),a=L(),i=L(),o=L([[],[],[],[],[],[]]);let l=!1;const u=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map(D=>D.toLowerCase()),d=E(()=>u>3?7-u:-u),h=E(()=>{const D=e.date.startOf("month");return D.subtract(D.day()||7,"day")}),p=E(()=>c.concat(c).slice(u,u+7)),m=E(()=>Hv(f(_)).some(D=>D.isCurrent)),g=E(()=>{const D=e.date.startOf("month"),z=D.day()||7,W=D.daysInMonth(),Y=D.subtract(1,"month").daysInMonth();return{startOfMonthDay:z,dateCountOfMonth:W,dateCountOfLastMonth:Y}}),v=E(()=>e.selectionMode==="dates"?vs(e.parsedValue):[]),y=(D,{count:z,rowIndex:W,columnIndex:Y})=>{const{startOfMonthDay:U,dateCountOfMonth:Q,dateCountOfLastMonth:J}=f(g),B=f(d);if(W>=0&&W<=1){const P=U+B<0?7+U+B:U+B;if(Y+W*7>=P)return D.text=z,!0;D.text=J-(P-Y%7)+1+W*7,D.type="prev-month"}else return z<=Q?D.text=z:(D.text=z-Q,D.type="next-month"),!0;return!1},b=(D,{columnIndex:z,rowIndex:W},Y)=>{const{disabledDate:U,cellClassName:Q}=e,J=f(v),B=y(D,{count:Y,rowIndex:W,columnIndex:z}),P=D.dayjs.toDate();return D.selected=J.find(ae=>ae.isSame(D.dayjs,"day")),D.isSelected=!!D.selected,D.isCurrent=C(D),D.disabled=U==null?void 0:U(P),D.customClass=Q==null?void 0:Q(P),B},w=D=>{if(e.selectionMode==="week"){const[z,W]=e.showWeekNumber?[1,7]:[0,6],Y=$(D[z+1]);D[z].inRange=Y,D[z].start=Y,D[W].inRange=Y,D[W].end=Y}},_=E(()=>{const{minDate:D,maxDate:z,rangeState:W,showWeekNumber:Y}=e,U=f(d),Q=f(o),J="day";let B=1;if(Ene({row:6,column:7},Q,{startDate:D,columnIndexOffset:Y?1:0,nextEndDate:W.endDate||z||W.selecting&&D||null,now:ct().locale(f(n)).startOf(J),unit:J,relativeDateGetter:P=>f(h).add(P-U,J),setCellMetadata:(...P)=>{b(...P,B)&&(B+=1)},setRowMetadata:w}),Y)for(let P=0;P<6;P++)Q[P][1].dayjs&&(Q[P][0]={type:"week",text:Q[P][1].dayjs.week()});return Q});fe(()=>e.date,async()=>{var D;(D=f(r))!=null&&D.contains(document.activeElement)&&(await Fe(),await S())});const S=async()=>{var D;return(D=f(s))==null?void 0:D.focus()},C=D=>e.selectionMode==="date"&&n0(D.type)&&T(D,e.parsedValue),T=(D,z)=>z?ct(z).locale(f(n)).isSame(e.date.date(Number(D.text)),"day"):!1,x=(D,z)=>{const W=f(g).startOfMonthDay,Y=f(d),U=W+Y<0?7+W+Y:W+Y,Q=D*7+(z-(e.showWeekNumber?1:0));return e.date.startOf("month").subtract(U,"day").add(Q,"day")},N=D=>{var z;if(!e.rangeState.selecting)return;let W=D.target;if(W.tagName==="SPAN"&&(W=(z=W.parentNode)==null?void 0:z.parentNode),W.tagName==="DIV"&&(W=W.parentNode),W.tagName!=="TD")return;const Y=W.parentNode.rowIndex-1,U=W.cellIndex;f(_)[Y][U].disabled||(Y!==f(a)||U!==f(i))&&(a.value=Y,i.value=U,t("changerange",{selecting:!0,endDate:x(Y,U)}))},k=D=>!f(m)&&(D==null?void 0:D.text)===1&&n0(D.type)||D.isCurrent,A=D=>{l||f(m)||e.selectionMode!=="date"||R(D,!0)},O=D=>{D.target.closest("td")&&(l=!0)},F=D=>{D.target.closest("td")&&(l=!1)},j=D=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:D,maxDate:null}),t("select",!0)):(D>=e.minDate?t("pick",{minDate:e.minDate,maxDate:D}):t("pick",{minDate:D,maxDate:e.minDate}),t("select",!1))},V=D=>{const z=D.week(),W=`${D.year()}w${z}`;t("pick",{year:D.year(),week:z,value:W,date:D.startOf("week")})},G=(D,z)=>{const W=z?vs(e.parsedValue).filter(Y=>(Y==null?void 0:Y.valueOf())!==D.valueOf()):vs(e.parsedValue).concat([D]);t("pick",W)},R=(D,z=!1)=>{if(e.disabled)return;const W=D.target.closest("td");if(!W)return;const Y=W.parentNode.rowIndex-1,U=W.cellIndex,Q=f(_)[Y][U];if(Q.disabled||Q.type==="week")return;const J=x(Y,U);switch(e.selectionMode){case"range":{j(J);break}case"date":{t("pick",J,z);break}case"week":{V(J);break}case"dates":{G(J,!!Q.selected);break}}},$=D=>{if(e.selectionMode!=="week")return!1;let z=e.date.startOf("day");if(D.type==="prev-month"&&(z=z.subtract(1,"month")),D.type==="next-month"&&(z=z.add(1,"month")),z=z.date(Number.parseInt(D.text,10)),e.parsedValue&&!ke(e.parsedValue)){const W=(e.parsedValue.day()-u+7)%7-1;return e.parsedValue.subtract(W,"day").isSame(z,"day")}return!1};return{WEEKS:p,rows:_,tbodyRef:r,currentCellRef:s,focus:S,isCurrent:C,isWeekActive:$,isSelectedCell:k,handlePickDate:R,handleMouseUp:F,handleMouseDown:O,handleMouseMove:N,handleFocus:A}},Ine=(e,{isCurrent:t,isWeekActive:n})=>{const r=Se("date-table"),{t:s}=Mt(),a=E(()=>[r.b(),r.is("week-mode",e.selectionMode==="week"&&!e.disabled)]),i=E(()=>s("el.datepicker.dateTablePrompt")),o=u=>{const c=[];return n0(u.type)&&!u.disabled?(c.push("available"),u.type==="today"&&c.push("today")):c.push(u.type),t(u)&&c.push("current"),u.inRange&&(n0(u.type)||e.selectionMode==="week")&&(c.push("in-range"),u.start&&c.push("start-date"),u.end&&c.push("end-date")),(u.disabled||e.disabled)&&c.push("disabled"),u.selected&&c.push("selected"),u.customClass&&c.push(u.customClass),c.join(" ")},l=u=>[r.e("row"),{current:n(u)}];return{tableKls:a,tableLabel:i,weekHeaderClass:r.e("week-header"),getCellClasses:o,getRowKls:l,t:s}},One=$e({cell:{type:ne(Object)}});var W6=de({name:"ElDatePickerCell",props:One,setup(e){const t=Se("date-table-cell"),{slots:n}=Ve(j6);return()=>{const{cell:r}=e;return ie(n,"default",{...r},()=>{var s;return[q("div",{class:t.b()},[q("span",{class:t.e("text")},[(s=r==null?void 0:r.renderText)!=null?s:r==null?void 0:r.text])])]})}}});const $ne=["aria-label"],Ane=["aria-label"],Rne=["aria-current","aria-selected","tabindex","aria-disabled"];var hw=de({__name:"basic-date-table",props:Tne,emits:kne,setup(e,{expose:t,emit:n}){const r=e,s=n,{WEEKS:a,rows:i,tbodyRef:o,currentCellRef:l,focus:u,isCurrent:c,isWeekActive:d,isSelectedCell:h,handlePickDate:p,handleMouseUp:m,handleMouseDown:g,handleMouseMove:v,handleFocus:y}=Nne(r,s),{tableLabel:b,tableKls:w,getCellClasses:_,getRowKls:S,weekHeaderClass:C,t:T}=Ine(r,{isCurrent:c,isWeekActive:d});let x=!1;return en(()=>{x=!0}),t({focus:u}),(N,k)=>(I(),K("table",{"aria-label":f(b),class:M(f(w)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:k[1]||(k[1]=(...A)=>f(p)&&f(p)(...A)),onMousemove:k[2]||(k[2]=(...A)=>f(v)&&f(v)(...A)),onMousedown:k[3]||(k[3]=(...A)=>f(g)&&f(g)(...A)),onMouseup:k[4]||(k[4]=(...A)=>f(m)&&f(m)(...A))},[Z("tbody",{ref_key:"tbodyRef",ref:o},[Z("tr",null,[N.showWeekNumber?(I(),K("th",{key:0,scope:"col",class:M(f(C))},null,2)):le("v-if",!0),(I(!0),K(Ge,null,Ot(f(a),(A,O)=>(I(),K("th",{key:O,"aria-label":f(T)("el.datepicker.weeksFull."+A),scope:"col"},Ie(f(T)("el.datepicker.weeks."+A)),9,Ane))),128))]),(I(!0),K(Ge,null,Ot(f(i),(A,O)=>(I(),K("tr",{key:O,class:M(f(S)(N.showWeekNumber?A[2]:A[1]))},[(I(!0),K(Ge,null,Ot(A,(F,j)=>(I(),K("td",{key:`${O}.${j}`,ref_for:!0,ref:V=>!f(x)&&f(h)(F)&&(l.value=V),class:M(f(_)(F)),"aria-current":F.isCurrent?"date":void 0,"aria-selected":F.isCurrent,tabindex:N.disabled?void 0:f(h)(F)?0:-1,"aria-disabled":N.disabled,onFocus:k[0]||(k[0]=(...V)=>f(y)&&f(y)(...V))},[q(f(W6),{cell:F},null,8,["cell"])],42,Rne))),128))],2))),128))],512)],42,$ne))}});const Mne=$e({...V6,selectionMode:U6("month")}),Pne=["aria-label"],Lne=["aria-selected","aria-label","tabindex","onKeydown"];var lp=de({__name:"basic-month-table",props:Mne,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,s=n,a=Se("month-table"),{t:i,lang:o}=Mt(),l=L(),u=L(),c=L(r.date.locale("en").localeData().monthsShort().map(_=>_.toLowerCase())),d=L([[],[],[]]),h=L(),p=L(),m=E(()=>{var _,S,C;const T=d.value,x=ct().locale(o.value).startOf("month");for(let N=0;N<3;N++){const k=T[N];for(let A=0;A<4;A++){const O=k[A]||(k[A]={row:N,column:A,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});O.type="normal";const F=N*4+A,j=r.date.startOf("year").month(F),V=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;O.inRange=!!(r.minDate&&j.isSameOrAfter(r.minDate,"month")&&V&&j.isSameOrBefore(V,"month"))||!!(r.minDate&&j.isSameOrBefore(r.minDate,"month")&&V&&j.isSameOrAfter(V,"month")),(_=r.minDate)!=null&&_.isSameOrAfter(V)?(O.start=!!(V&&j.isSame(V,"month")),O.end=r.minDate&&j.isSame(r.minDate,"month")):(O.start=!!(r.minDate&&j.isSame(r.minDate,"month")),O.end=!!(V&&j.isSame(V,"month"))),x.isSame(j)&&(O.type="today");const R=j.toDate();O.text=F,O.disabled=((S=r.disabledDate)==null?void 0:S.call(r,R))||!1,O.date=R,O.customClass=(C=r.cellClassName)==null?void 0:C.call(r,R),O.dayjs=j,O.timestamp=j.valueOf(),O.isSelected=y(O)}}return T}),g=()=>{var _;(_=u.value)==null||_.focus()},v=_=>{const S={},C=r.date.year(),T=new Date,x=_.text;return S.disabled=r.disabled||(r.disabledDate?e0(r.date,C,x,o.value).every(r.disabledDate):!1),S.current=vs(r.parsedValue).some(N=>ct.isDayjs(N)&&N.year()===C&&N.month()===x),S.today=T.getFullYear()===C&&T.getMonth()===x,_.customClass&&(S[_.customClass]=!0),_.inRange&&(S["in-range"]=!0,_.start&&(S["start-date"]=!0),_.end&&(S["end-date"]=!0)),S},y=_=>{const S=r.date.year(),C=_.text;return vs(r.date).some(T=>T.year()===S&&T.month()===C)},b=_=>{var S;if(!r.rangeState.selecting)return;let C=_.target;if(C.tagName==="SPAN"&&(C=(S=C.parentNode)==null?void 0:S.parentNode),C.tagName==="DIV"&&(C=C.parentNode),C.tagName!=="TD")return;const T=C.parentNode.rowIndex,x=C.cellIndex;m.value[T][x].disabled||(T!==h.value||x!==p.value)&&(h.value=T,p.value=x,s("changerange",{selecting:!0,endDate:r.date.startOf("year").month(T*4+x)}))},w=_=>{var S;if(r.disabled)return;const C=(S=_.target)==null?void 0:S.closest("td");if((C==null?void 0:C.tagName)!=="TD"||no(C,"disabled"))return;const T=C.cellIndex,N=C.parentNode.rowIndex*4+T,k=r.date.startOf("year").month(N);if(r.selectionMode==="months"){if(_.type==="keydown"){s("pick",vs(r.parsedValue),!1);return}const A=Kd(r.date,r.date.year(),N,o.value,r.disabledDate),O=no(C,"current")?vs(r.parsedValue).filter(F=>(F==null?void 0:F.year())!==A.year()||(F==null?void 0:F.month())!==A.month()):vs(r.parsedValue).concat([ct(A)]);s("pick",O)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&k>=r.minDate?s("pick",{minDate:r.minDate,maxDate:k}):s("pick",{minDate:k,maxDate:r.minDate}),s("select",!1)):(s("pick",{minDate:k,maxDate:null}),s("select",!0)):s("pick",N)};return fe(()=>r.date,async()=>{var _,S;(_=l.value)!=null&&_.contains(document.activeElement)&&(await Fe(),(S=u.value)==null||S.focus())}),t({focus:g}),(_,S)=>(I(),K("table",{role:"grid","aria-label":f(i)("el.datepicker.monthTablePrompt"),class:M(f(a).b()),onClick:w,onMousemove:b},[Z("tbody",{ref_key:"tbodyRef",ref:l},[(I(!0),K(Ge,null,Ot(m.value,(C,T)=>(I(),K("tr",{key:T},[(I(!0),K(Ge,null,Ot(C,(x,N)=>(I(),K("td",{key:N,ref_for:!0,ref:k=>x.isSelected&&(u.value=k),class:M(v(x)),"aria-selected":!!x.isSelected,"aria-label":f(i)(`el.datepicker.month${+x.text+1}`),tabindex:x.isSelected?0:-1,onKeydown:[zn(at(w,["prevent","stop"]),["space"]),zn(at(w,["prevent","stop"]),["enter"])]},[q(f(W6),{cell:{...x,renderText:f(i)("el.datepicker.months."+c.value[x.text])}},null,8,["cell"])],42,Lne))),128))]))),128))],512)],42,Pne))}});const Dne=$e({...V6,selectionMode:U6("year")}),zne=["aria-label"],Fne=["aria-selected","aria-label","tabindex","onKeydown"];var up=de({__name:"basic-year-table",props:Dne,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=(S,C)=>{const T=ct(String(S)).locale(C).startOf("year"),N=T.endOf("year").dayOfYear();return Gl(N).map(k=>T.add(k,"day").toDate())},s=e,a=n,i=Se("year-table"),{t:o,lang:l}=Mt(),u=L(),c=L(),d=E(()=>Math.floor(s.date.year()/10)*10),h=L([[],[],[]]),p=L(),m=L(),g=E(()=>{var S,C,T;const x=h.value,N=ct().locale(l.value).startOf("year");for(let k=0;k<3;k++){const A=x[k];for(let O=0;O<4&&!(k*4+O>=10);O++){let F=A[O];F||(F={row:k,column:O,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0}),F.type="normal";const j=k*4+O+d.value,V=ct().year(j),G=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;F.inRange=!!(s.minDate&&V.isSameOrAfter(s.minDate,"year")&&G&&V.isSameOrBefore(G,"year"))||!!(s.minDate&&V.isSameOrBefore(s.minDate,"year")&&G&&V.isSameOrAfter(G,"year")),(S=s.minDate)!=null&&S.isSameOrAfter(G)?(F.start=!!(G&&V.isSame(G,"year")),F.end=!!(s.minDate&&V.isSame(s.minDate,"year"))):(F.start=!!(s.minDate&&V.isSame(s.minDate,"year")),F.end=!!(G&&V.isSame(G,"year"))),N.isSame(V)&&(F.type="today"),F.text=j;const $=V.toDate();F.disabled=((C=s.disabledDate)==null?void 0:C.call(s,$))||!1,F.date=$,F.customClass=(T=s.cellClassName)==null?void 0:T.call(s,$),F.dayjs=V,F.timestamp=V.valueOf(),F.isSelected=b(F),A[O]=F}}return x}),v=()=>{var S;(S=c.value)==null||S.focus()},y=S=>{const C={},T=ct().locale(l.value),x=S.text;return C.disabled=s.disabled||(s.disabledDate?r(x,l.value).every(s.disabledDate):!1),C.today=T.year()===x,C.current=vs(s.parsedValue).some(N=>N.year()===x),S.customClass&&(C[S.customClass]=!0),S.inRange&&(C["in-range"]=!0,S.start&&(C["start-date"]=!0),S.end&&(C["end-date"]=!0)),C},b=S=>{const C=S.text;return vs(s.date).some(T=>T.year()===C)},w=S=>{var C;if(s.disabled)return;const T=(C=S.target)==null?void 0:C.closest("td");if(!T||!T.textContent||no(T,"disabled"))return;const x=T.cellIndex,k=T.parentNode.rowIndex*4+x+d.value,A=ct().year(k);if(s.selectionMode==="range")s.rangeState.selecting?(s.minDate&&A>=s.minDate?a("pick",{minDate:s.minDate,maxDate:A}):a("pick",{minDate:A,maxDate:s.minDate}),a("select",!1)):(a("pick",{minDate:A,maxDate:null}),a("select",!0));else if(s.selectionMode==="years"){if(S.type==="keydown"){a("pick",vs(s.parsedValue),!1);return}const O=t0(A.startOf("year"),l.value,s.disabledDate),F=no(T,"current")?vs(s.parsedValue).filter(j=>(j==null?void 0:j.year())!==k):vs(s.parsedValue).concat([O]);a("pick",F)}else a("pick",k)},_=S=>{var C;if(!s.rangeState.selecting)return;const T=(C=S.target)==null?void 0:C.closest("td");if(!T)return;const x=T.parentNode.rowIndex,N=T.cellIndex;g.value[x][N].disabled||(x!==p.value||N!==m.value)&&(p.value=x,m.value=N,a("changerange",{selecting:!0,endDate:ct().year(d.value).add(x*4+N,"year")}))};return fe(()=>s.date,async()=>{var S,C;(S=u.value)!=null&&S.contains(document.activeElement)&&(await Fe(),(C=c.value)==null||C.focus())}),t({focus:v}),(S,C)=>(I(),K("table",{role:"grid","aria-label":f(o)("el.datepicker.yearTablePrompt"),class:M(f(i).b()),onClick:w,onMousemove:_},[Z("tbody",{ref_key:"tbodyRef",ref:u},[(I(!0),K(Ge,null,Ot(g.value,(T,x)=>(I(),K("tr",{key:x},[(I(!0),K(Ge,null,Ot(T,(N,k)=>(I(),K("td",{key:`${x}_${k}`,ref_for:!0,ref:A=>N.isSelected&&(c.value=A),class:M(["available",y(N)]),"aria-selected":N.isSelected,"aria-label":String(N.text),tabindex:N.isSelected?0:-1,onKeydown:[zn(at(w,["prevent","stop"]),["space"]),zn(at(w,["prevent","stop"]),["enter"])]},[q(f(W6),{cell:N},null,8,["cell"])],42,Fne))),128))]))),128))],512)],42,zne))}});const Bne=["disabled","onClick"],jne=["aria-label","disabled"],Vne=["aria-label","disabled"],Hne=["tabindex","aria-disabled"],Une=["tabindex","aria-disabled"],Wne=["aria-label","disabled"],Kne=["aria-label","disabled"];var Gne=de({__name:"panel-date-pick",props:xne,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=(we,He,ge)=>!0,r=e,s=t,a=Se("picker-panel"),i=Se("date-picker"),o=dl(),l=nr(),{t:u,lang:c}=Mt(),d=Ve(_i),h=Ve(um,void 0),{shortcuts:p,disabledDate:m,cellClassName:g,defaultTime:v}=d.props,y=rn(d.props,"defaultValue"),b=L(),w=L(ct().locale(c.value)),_=L(!1);let S=!1;const C=E(()=>ct(v).locale(c.value)),T=E(()=>w.value.month()),x=E(()=>w.value.year()),N=L([]),k=L(null),A=L(null),O=we=>N.value.length>0?n(we,N.value,r.format||"HH:mm:ss"):!0,F=we=>v&&!Re.value&&!_.value&&!S?C.value.year(we.year()).month(we.month()).date(we.date()):ee.value?we.millisecond(0):we.startOf("day"),j=(we,...He)=>{if(!we)s("pick",we,...He);else if(ke(we)){const ge=we.map(F);s("pick",ge,...He)}else s("pick",F(we),...He);k.value=null,A.value=null,_.value=!1,S=!1},V=async(we,He)=>{if(W.value==="date"&&ct.isDayjs(we)){const ge=Bf(r.parsedValue);let Ue=ge?ge.year(we.year()).month(we.month()).date(we.date()):we;O(Ue),w.value=Ue,j(Ue,ee.value||He)}else W.value==="week"?j(we.date):W.value==="dates"&&j(we,!0)},G=we=>{const He=we?"add":"subtract";w.value=w.value[He](1,"month"),kt("month")},R=we=>{const He=w.value,ge=we?"add":"subtract";w.value=$.value==="year"?He[ge](10,"year"):He[ge](1,"year"),kt("year")},$=L("date"),D=E(()=>{const we=u("el.datepicker.year");if($.value==="year"){const He=Math.floor(x.value/10)*10;return we?`${He} ${we} - ${He+9} ${we}`:`${He} - ${He+9}`}return`${x.value} ${we}`}),z=we=>{const He=Ye(we.value)?we.value():we.value;if(He){S=!0,j(ct(He).locale(c.value));return}we.onClick&&we.onClick({attrs:o,slots:l,emit:s})},W=E(()=>{const{type:we}=r;return["week","month","months","year","years","dates"].includes(we)?we:"date"}),Y=E(()=>W.value==="dates"||W.value==="months"||W.value==="years"),U=E(()=>W.value==="date"?$.value:W.value),Q=E(()=>!!p.length),J=async(we,He)=>{W.value==="month"?(w.value=Kd(w.value,w.value.year(),we,c.value,m),j(w.value,!1)):W.value==="months"?j(we,He??!0):(w.value=Kd(w.value,w.value.year(),we,c.value,m),$.value="date",["month","year","date","week"].includes(W.value)&&(j(w.value,!0),await Fe(),Bt())),kt("month")},B=async(we,He)=>{if(W.value==="year"){const ge=w.value.startOf("year").year(we);w.value=t0(ge,c.value,m),j(w.value,!1)}else if(W.value==="years")j(we,He??!0);else{const ge=w.value.year(we);w.value=t0(ge,c.value,m),$.value="month",["month","year","date","week"].includes(W.value)&&(j(w.value,!0),await Fe(),Bt())}kt("year")},P=Zn(),ae=async we=>{P.value||($.value=we,await Fe(),Bt())},ee=E(()=>r.type==="datetime"||r.type==="datetimerange"),oe=E(()=>{const we=ee.value||W.value==="dates",He=W.value==="years",ge=W.value==="months",Ue=$.value==="date",St=$.value==="year",sn=$.value==="month";return we&&Ue||He&&St||ge&&sn}),X=E(()=>!Y.value&&r.showNow||r.showConfirm),H=E(()=>m?r.parsedValue?ke(r.parsedValue)?m(r.parsedValue[0].toDate()):m(r.parsedValue.toDate()):!0:!1),te=()=>{if(Y.value)j(r.parsedValue);else{let we=Bf(r.parsedValue);if(!we){const He=ct(v).locale(c.value),ge=Be();we=He.year(ge.year()).month(ge.month()).date(ge.date())}w.value=we,j(we)}},ue=E(()=>m?m(ct().locale(c.value).toDate()):!1),ye=()=>{const He=ct().locale(c.value).toDate();_.value=!0,(!m||!m(He))&&O(He)&&(w.value=ct().locale(c.value),j(w.value))},he=E(()=>r.timeFormat||G$(r.format)||Wd),_e=E(()=>r.dateFormat||K$(r.format)||zl),Re=E(()=>A.value?A.value:!r.parsedValue&&!y.value?void 0:(Bf(r.parsedValue)||w.value).format(he.value)),De=E(()=>k.value?k.value:!r.parsedValue&&!y.value?void 0:(Bf(r.parsedValue)||w.value).format(_e.value)),pe=L(!1),ve=()=>{pe.value=!0},be=()=>{pe.value=!1},me=we=>({hour:we.hour(),minute:we.minute(),second:we.second(),year:we.year(),month:we.month(),date:we.date()}),Te=(we,He,ge)=>{const{hour:Ue,minute:St,second:sn}=me(we),Ln=Bf(r.parsedValue),jn=Ln?Ln.hour(Ue).minute(St).second(sn):we;w.value=jn,j(w.value,!0),ge||(pe.value=He)},xe=we=>{const He=ct(we,he.value).locale(c.value);if(He.isValid()&&O(He)){const{year:ge,month:Ue,date:St}=me(w.value);w.value=He.year(ge).month(Ue).date(St),A.value=null,pe.value=!1,j(w.value,!0)}},Oe=we=>{const He=Gd(we,_e.value,c.value,h);if(He.isValid()){if(m&&m(He.toDate()))return;const{hour:ge,minute:Ue,second:St}=me(w.value);w.value=He.hour(ge).minute(Ue).second(St),k.value=null,j(w.value,!0)}},Ce=we=>ct.isDayjs(we)&&we.isValid()&&(m?!m(we.toDate()):!0),Ee=we=>Gd(we,r.format,c.value,h),Be=()=>{const we=ct(y.value).locale(c.value);if(!y.value){const He=C.value;return ct().hour(He.hour()).minute(He.minute()).second(He.second()).locale(c.value)}return we},Bt=()=>{var we;["week","month","year","date"].includes(W.value)&&((we=b.value)==null||we.focus())},Gt=()=>{Bt(),W.value==="week"&&mt(Ne.down)},tt=we=>{const He=hn(we);[Ne.up,Ne.down,Ne.left,Ne.right,Ne.home,Ne.end,Ne.pageUp,Ne.pageDown].includes(He)&&(mt(He),we.stopPropagation(),we.preventDefault()),[Ne.enter,Ne.space,Ne.numpadEnter].includes(He)&&k.value===null&&A.value===null&&(we.preventDefault(),j(w.value,!1))},mt=we=>{var He;const{up:ge,down:Ue,left:St,right:sn,home:Ln,end:jn,pageUp:ze,pageDown:Je}=Ne,pt={year:{[ge]:-4,[Ue]:4,[St]:-1,[sn]:1,offset:(Jt,Qe)=>Jt.setFullYear(Jt.getFullYear()+Qe)},month:{[ge]:-4,[Ue]:4,[St]:-1,[sn]:1,offset:(Jt,Qe)=>Jt.setMonth(Jt.getMonth()+Qe)},week:{[ge]:-1,[Ue]:1,[St]:-1,[sn]:1,offset:(Jt,Qe)=>Jt.setDate(Jt.getDate()+Qe*7)},date:{[ge]:-7,[Ue]:7,[St]:-1,[sn]:1,[Ln]:Jt=>-Jt.getDay(),[jn]:Jt=>-Jt.getDay()+6,[ze]:Jt=>-new Date(Jt.getFullYear(),Jt.getMonth(),0).getDate(),[Je]:Jt=>new Date(Jt.getFullYear(),Jt.getMonth()+1,0).getDate(),offset:(Jt,Qe)=>Jt.setDate(Jt.getDate()+Qe)}},Mn=w.value.toDate();for(;Math.abs(w.value.diff(Mn,"year",!0))<1;){const Jt=pt[U.value];if(!Jt)return;if(Jt.offset(Mn,Ye(Jt[we])?Jt[we](Mn):(He=Jt[we])!=null?He:0),m&&m(Mn))break;const Qe=ct(Mn).locale(c.value);w.value=Qe,s("pick",Qe,!0);break}},kt=we=>{s("panel-change",w.value.toDate(),we,$.value)};return fe(()=>W.value,we=>{if(["month","year"].includes(we)){$.value=we;return}else if(we==="years"){$.value="year";return}else if(we==="months"){$.value="month";return}$.value="date"},{immediate:!0}),fe(()=>y.value,we=>{we&&(w.value=Be())},{immediate:!0}),fe(()=>r.parsedValue,we=>{if(we){if(Y.value||ke(we))return;w.value=we}else w.value=Be()},{immediate:!0}),s("set-picker-option",["isValidValue",Ce]),s("set-picker-option",["parseUserInput",Ee]),s("set-picker-option",["handleFocusPicker",Gt]),(we,He)=>(I(),K("div",{class:M([f(a).b(),f(i).b(),f(a).is("border",we.border),f(a).is("disabled",f(P)),{"has-sidebar":we.$slots.sidebar||Q.value,"has-time":ee.value}])},[Z("div",{class:M(f(a).e("body-wrapper"))},[ie(we.$slots,"sidebar",{class:M(f(a).e("sidebar"))}),Q.value?(I(),K("div",{key:0,class:M(f(a).e("sidebar"))},[(I(!0),K(Ge,null,Ot(f(p),(ge,Ue)=>(I(),K("button",{key:Ue,type:"button",disabled:f(P),class:M(f(a).e("shortcut")),onClick:St=>z(ge)},Ie(ge.text),11,Bne))),128))],2)):le("v-if",!0),Z("div",{class:M(f(a).e("body"))},[ee.value?(I(),K("div",{key:0,class:M(f(i).e("time-header"))},[Z("span",{class:M(f(i).e("editor-wrap"))},[q(f(ys),{placeholder:f(u)("el.datepicker.selectDate"),"model-value":De.value,size:"small","validate-event":!1,disabled:f(P),readonly:!we.editable,onInput:He[0]||(He[0]=ge=>k.value=ge),onChange:Oe},null,8,["placeholder","model-value","disabled","readonly"])],2),vt((I(),K("span",{class:M(f(i).e("editor-wrap"))},[q(f(ys),{placeholder:f(u)("el.datepicker.selectTime"),"model-value":Re.value,size:"small","validate-event":!1,disabled:f(P),readonly:!we.editable,onFocus:ve,onInput:He[1]||(He[1]=ge=>A.value=ge),onChange:xe},null,8,["placeholder","model-value","disabled","readonly"]),q(f(Qv),{visible:pe.value,format:he.value,"parsed-value":w.value,onPick:Te},null,8,["visible","format","parsed-value"])],2)),[[f(tu),be]])],2)):le("v-if",!0),vt(Z("div",{class:M([f(i).e("header"),($.value==="year"||$.value==="month")&&f(i).em("header","bordered")])},[Z("span",{class:M(f(i).e("prev-btn"))},[Z("button",{type:"button","aria-label":f(u)("el.datepicker.prevYear"),class:M(["d-arrow-left",f(a).e("icon-btn")]),disabled:f(P),onClick:He[2]||(He[2]=ge=>R(!1))},[ie(we.$slots,"prev-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Jl))]),_:1})])],10,jne),vt(Z("button",{type:"button","aria-label":f(u)("el.datepicker.prevMonth"),class:M([f(a).e("icon-btn"),"arrow-left"]),disabled:f(P),onClick:He[3]||(He[3]=ge=>G(!1))},[ie(we.$slots,"prev-month",{},()=>[q(f(We),null,{default:re(()=>[q(f(el))]),_:1})])],10,Vne),[[Kt,$.value==="date"]])],2),Z("span",{role:"button",class:M(f(i).e("header-label")),"aria-live":"polite",tabindex:we.disabled?void 0:0,"aria-disabled":we.disabled,onKeydown:He[4]||(He[4]=zn(ge=>ae("year"),["enter"])),onClick:He[5]||(He[5]=ge=>ae("year"))},Ie(D.value),43,Hne),vt(Z("span",{role:"button","aria-live":"polite",tabindex:we.disabled?void 0:0,"aria-disabled":we.disabled,class:M([f(i).e("header-label"),{active:$.value==="month"}]),onKeydown:He[6]||(He[6]=zn(ge=>ae("month"),["enter"])),onClick:He[7]||(He[7]=ge=>ae("month"))},Ie(f(u)(`el.datepicker.month${T.value+1}`)),43,Une),[[Kt,$.value==="date"]]),Z("span",{class:M(f(i).e("next-btn"))},[vt(Z("button",{type:"button","aria-label":f(u)("el.datepicker.nextMonth"),class:M([f(a).e("icon-btn"),"arrow-right"]),disabled:f(P),onClick:He[8]||(He[8]=ge=>G(!0))},[ie(we.$slots,"next-month",{},()=>[q(f(We),null,{default:re(()=>[q(f(_s))]),_:1})])],10,Wne),[[Kt,$.value==="date"]]),Z("button",{type:"button","aria-label":f(u)("el.datepicker.nextYear"),class:M([f(a).e("icon-btn"),"d-arrow-right"]),disabled:f(P),onClick:He[9]||(He[9]=ge=>R(!0))},[ie(we.$slots,"next-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Ql))]),_:1})])],10,Kne)],2)],2),[[Kt,$.value!=="time"]]),Z("div",{class:M(f(a).e("content")),onKeydown:tt},[$.value==="date"?(I(),ce(hw,{key:0,ref_key:"currentViewRef",ref:b,"selection-mode":W.value,date:w.value,"parsed-value":we.parsedValue,"disabled-date":f(m),disabled:f(P),"cell-class-name":f(g),"show-week-number":we.showWeekNumber,onPick:V},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name","show-week-number"])):le("v-if",!0),$.value==="year"?(I(),ce(up,{key:1,ref_key:"currentViewRef",ref:b,"selection-mode":W.value,date:w.value,"disabled-date":f(m),disabled:f(P),"parsed-value":we.parsedValue,"cell-class-name":f(g),onPick:B},null,8,["selection-mode","date","disabled-date","disabled","parsed-value","cell-class-name"])):le("v-if",!0),$.value==="month"?(I(),ce(lp,{key:2,ref_key:"currentViewRef",ref:b,"selection-mode":W.value,date:w.value,"parsed-value":we.parsedValue,"disabled-date":f(m),disabled:f(P),"cell-class-name":f(g),onPick:J},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name"])):le("v-if",!0)],34)],2)],2),we.showFooter&&oe.value&&X.value?(I(),K("div",{key:0,class:M(f(a).e("footer"))},[vt(q(f(Nr),{text:"",size:"small",class:M(f(a).e("link-btn")),disabled:ue.value,onClick:ye},{default:re(()=>[gt(Ie(f(u)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Kt,!Y.value&&we.showNow]]),we.showConfirm?(I(),ce(f(Nr),{key:0,plain:"",size:"small",class:M(f(a).e("link-btn")),disabled:H.value,onClick:te},{default:re(()=>[gt(Ie(f(u)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):le("v-if",!0)],2)):le("v-if",!0)],2))}});const Zne=$e({...YA,...H6}),Yne=e=>{const{emit:t}=wt(),n=dl(),r=nr();return a=>{const i=Ye(a.value)?a.value():a.value;if(i){t("pick",[ct(i[0]).locale(e.value),ct(i[1]).locale(e.value)]);return}a.onClick&&a.onClick({attrs:n,slots:r,emit:t})}},K6=(e,{defaultValue:t,defaultTime:n,leftDate:r,rightDate:s,step:a,unit:i,sortDates:o})=>{const{emit:l}=wt(),{pickerNs:u}=Ve(j6),c=Se("date-range-picker"),{t:d,lang:h}=Mt(),p=Yne(h),m=L(),g=L(),v=L({endDate:null,selecting:!1}),y=C=>{v.value=C},b=(C=!1)=>{const T=f(m),x=f(g);op([T,x])&&l("pick",[T,x],C)},w=C=>{v.value.selecting=C,C||(v.value.endDate=null)},_=C=>{if(ke(C)&&C.length===2){const[T,x]=C;m.value=T,r.value=T,g.value=x,o(f(m),f(g))}else S()},S=()=>{let[C,T]=By(f(t),{lang:f(h),step:a,unit:i,unlinkPanels:e.unlinkPanels});const x=k=>k.diff(k.startOf("d"),"ms"),N=f(n);if(N){let k=0,A=0;if(ke(N)){const[O,F]=N.map(ct);k=x(O),A=x(F)}else{const O=x(ct(N));k=O,A=O}C=C.startOf("d").add(k,"ms"),T=T.startOf("d").add(A,"ms")}m.value=void 0,g.value=void 0,r.value=C,s.value=T};return fe(t,C=>{C&&S()},{immediate:!0}),fe(()=>e.parsedValue,C=>{(!(C!=null&&C.length)||!Yn(C,[m.value,g.value]))&&_(C)},{immediate:!0}),fe(()=>e.visible,()=>{e.visible&&_(e.parsedValue)},{immediate:!0}),{minDate:m,maxDate:g,rangeState:v,lang:h,ppNs:u,drpNs:c,handleChangeRange:y,handleRangeConfirm:b,handleShortcutClick:p,onSelect:w,parseValue:_,t:d}},qne=(e,t,n,r)=>{const s=L("date"),a=L(),i=L("date"),o=L(),l=Ve(_i),{disabledDate:u}=l.props,{t:c,lang:d}=Mt(),h=E(()=>n.value.year()),p=E(()=>n.value.month()),m=E(()=>r.value.year()),g=E(()=>r.value.month());function v(C,T){const x=c("el.datepicker.year");if(C.value==="year"){const N=Math.floor(T.value/10)*10;return x?`${N} ${x} - ${N+9} ${x}`:`${N} - ${N+9}`}return`${T.value} ${x}`}function y(C){C==null||C.focus()}async function b(C,T){if(e.disabled)return;const x=C==="left"?s:i,N=C==="left"?a:o;x.value=T,await Fe(),y(N.value)}async function w(C,T,x){if(e.disabled)return;const N=T==="left",k=N?n:r,A=N?r:n,O=N?s:i,F=N?a:o;if(C==="year"){const j=k.value.year(x);k.value=t0(j,d.value,u)}C==="month"&&(k.value=Kd(k.value,k.value.year(),x,d.value,u)),e.unlinkPanels||(A.value=T==="left"?k.value.add(1,"month"):k.value.subtract(1,"month")),O.value=C==="year"?"month":"date",await Fe(),y(F.value),_(C)}function _(C){t("panel-change",[n.value.toDate(),r.value.toDate()],C)}function S(C,T,x){const N=x?"add":"subtract";return C==="year"?T[N](10,"year"):T[N](1,"year")}return{leftCurrentView:s,rightCurrentView:i,leftCurrentViewRef:a,rightCurrentViewRef:o,leftYear:h,rightYear:m,leftMonth:p,rightMonth:g,leftYearLabel:E(()=>v(s,h)),rightYearLabel:E(()=>v(i,m)),showLeftPicker:C=>b("left",C),showRightPicker:C=>b("right",C),handleLeftYearPick:C=>w("year","left",C),handleRightYearPick:C=>w("year","right",C),handleLeftMonthPick:C=>w("month","left",C),handleRightMonthPick:C=>w("month","right",C),handlePanelChange:_,adjustDateByView:S}},Xne=["disabled","onClick"],Jne=["aria-label","disabled"],Qne=["aria-label","disabled"],ere=["disabled","aria-label"],tre=["disabled","aria-label"],nre=["tabindex","aria-disabled"],rre=["tabindex","aria-disabled"],sre=["disabled","aria-label"],are=["disabled","aria-label"],ire=["aria-label","disabled"],ore=["disabled","aria-label"],lre=["tabindex","aria-disabled"],ure=["tabindex","aria-disabled"],ig="month";var cre=de({__name:"panel-date-range",props:Zne,emits:["pick","set-picker-option","calendar-change","panel-change","clear"],setup(e,{emit:t}){const n=e,r=t,s=Ve(_i),a=Ve(um,void 0),{disabledDate:i,cellClassName:o,defaultTime:l,clearable:u}=s.props,c=rn(s.props,"format"),d=rn(s.props,"shortcuts"),h=rn(s.props,"defaultValue"),{lang:p}=Mt(),m=L(ct().locale(p.value)),g=L(ct().locale(p.value).add(1,ig)),{minDate:v,maxDate:y,rangeState:b,ppNs:w,drpNs:_,handleChangeRange:S,handleRangeConfirm:C,handleShortcutClick:T,onSelect:x,parseValue:N,t:k}=K6(n,{defaultValue:h,defaultTime:l,leftDate:m,rightDate:g,unit:ig,sortDates:Jt});fe(()=>n.visible,Qe=>{!Qe&&b.value.selecting&&(N(n.parsedValue),x(!1))});const A=L({min:null,max:null}),O=L({min:null,max:null}),{leftCurrentView:F,rightCurrentView:j,leftCurrentViewRef:V,rightCurrentViewRef:G,leftYear:R,rightYear:$,leftMonth:D,rightMonth:z,leftYearLabel:W,rightYearLabel:Y,showLeftPicker:U,showRightPicker:Q,handleLeftYearPick:J,handleRightYearPick:B,handleLeftMonthPick:P,handleRightMonthPick:ae,handlePanelChange:ee,adjustDateByView:oe}=qne(n,r,m,g),X=E(()=>!!d.value.length),H=E(()=>A.value.min!==null?A.value.min:v.value?v.value.format(_e.value):""),te=E(()=>A.value.max!==null?A.value.max:y.value||v.value?(y.value||v.value).format(_e.value):""),ue=E(()=>O.value.min!==null?O.value.min:v.value?v.value.format(he.value):""),ye=E(()=>O.value.max!==null?O.value.max:y.value||v.value?(y.value||v.value).format(he.value):""),he=E(()=>n.timeFormat||G$(c.value||"")||Wd),_e=E(()=>n.dateFormat||K$(c.value||"")||zl),Re=Qe=>op(Qe)&&(i?!i(Qe[0].toDate())&&!i(Qe[1].toDate()):!0),De=()=>{m.value=oe(F.value,m.value,!1),n.unlinkPanels||(g.value=m.value.add(1,"month")),ee("year")},pe=()=>{m.value=m.value.subtract(1,"month"),n.unlinkPanels||(g.value=m.value.add(1,"month")),ee("month")},ve=()=>{n.unlinkPanels?g.value=oe(j.value,g.value,!0):(m.value=oe(j.value,m.value,!0),g.value=m.value.add(1,"month")),ee("year")},be=()=>{n.unlinkPanels?g.value=g.value.add(1,"month"):(m.value=m.value.add(1,"month"),g.value=m.value.add(1,"month")),ee("month")},me=()=>{m.value=oe(F.value,m.value,!0),ee("year")},Te=()=>{m.value=m.value.add(1,"month"),ee("month")},xe=()=>{g.value=oe(j.value,g.value,!1),ee("year")},Oe=()=>{g.value=g.value.subtract(1,"month"),ee("month")},Ce=E(()=>{const Qe=(D.value+1)%12,rt=D.value+1>=12?1:0;return n.unlinkPanels&&new Date(R.value+rt,Qe)<new Date($.value,z.value)}),Ee=E(()=>n.unlinkPanels&&$.value*12+z.value-(R.value*12+D.value+1)>=12),Be=Zn(),Bt=E(()=>!(v.value&&y.value&&!b.value.selecting&&op([v.value,y.value])&&!Be.value)),Gt=E(()=>n.type==="datetime"||n.type==="datetimerange"),tt=(Qe,rt)=>{if(Qe)return l?ct(l[rt]||l).locale(p.value).year(Qe.year()).month(Qe.month()).date(Qe.date()):Qe},mt=(Qe,rt=!0)=>{const xt=Qe.minDate,jr=Qe.maxDate,ks=tt(xt,0),Ga=tt(jr,1);y.value===Ga&&v.value===ks||(r("calendar-change",[xt.toDate(),jr&&jr.toDate()]),y.value=Ga,v.value=ks,!Gt.value&&rt&&(rt=!ks||!Ga),C(rt))},kt=L(!1),we=L(!1),He=()=>{kt.value=!1},ge=()=>{we.value=!1},Ue=(Qe,rt)=>{A.value[rt]=Qe;const xt=ct(Qe,_e.value).locale(p.value);if(xt.isValid()){if(i&&i(xt.toDate()))return;rt==="min"?(m.value=xt,v.value=(v.value||m.value).year(xt.year()).month(xt.month()).date(xt.date()),!n.unlinkPanels&&(!y.value||y.value.isBefore(v.value))&&(g.value=xt.add(1,"month"),y.value=v.value.add(1,"month"))):(g.value=xt,y.value=(y.value||g.value).year(xt.year()).month(xt.month()).date(xt.date()),!n.unlinkPanels&&(!v.value||v.value.isAfter(y.value))&&(m.value=xt.subtract(1,"month"),v.value=y.value.subtract(1,"month"))),Jt(v.value,y.value),C(!0)}},St=(Qe,rt)=>{A.value[rt]=null},sn=(Qe,rt)=>{O.value[rt]=Qe;const xt=ct(Qe,he.value).locale(p.value);xt.isValid()&&(rt==="min"?(kt.value=!0,v.value=(v.value||m.value).hour(xt.hour()).minute(xt.minute()).second(xt.second()),m.value=v.value):(we.value=!0,y.value=(y.value||g.value).hour(xt.hour()).minute(xt.minute()).second(xt.second()),g.value=y.value))},Ln=(Qe,rt)=>{O.value[rt]=null,rt==="min"?(m.value=v.value,kt.value=!1,(!y.value||y.value.isBefore(v.value))&&(y.value=v.value)):(g.value=y.value,we.value=!1,y.value&&y.value.isBefore(v.value)&&(v.value=y.value)),C(!0)},jn=(Qe,rt,xt)=>{O.value.min||(Qe&&(v.value=(v.value||m.value).hour(Qe.hour()).minute(Qe.minute()).second(Qe.second())),xt||(kt.value=rt),(!y.value||y.value.isBefore(v.value))&&(y.value=v.value,g.value=Qe,Fe(()=>{N(n.parsedValue)})),C(!0))},ze=(Qe,rt,xt)=>{O.value.max||(Qe&&(y.value=(y.value||g.value).hour(Qe.hour()).minute(Qe.minute()).second(Qe.second())),xt||(we.value=rt),y.value&&y.value.isBefore(v.value)&&(v.value=y.value),C(!0))},Je=()=>{pt(),r("clear")},pt=()=>{let Qe=null;s!=null&&s.emptyValues&&(Qe=s.emptyValues.valueOnClear.value),m.value=By(f(h),{lang:f(p),unit:"month",unlinkPanels:n.unlinkPanels})[0],g.value=m.value.add(1,"month"),y.value=void 0,v.value=void 0,C(!0),r("pick",Qe)},Mn=Qe=>Gd(Qe,c.value||"",p.value,a);function Jt(Qe,rt){if(n.unlinkPanels&&rt){const xt=(Qe==null?void 0:Qe.year())||0,jr=(Qe==null?void 0:Qe.month())||0,ks=rt.year(),Ga=rt.month();g.value=xt===ks&&jr===Ga?rt.add(1,ig):rt}else g.value=m.value.add(1,ig),rt&&(g.value=g.value.hour(rt.hour()).minute(rt.minute()).second(rt.second()))}return r("set-picker-option",["isValidValue",Re]),r("set-picker-option",["parseUserInput",Mn]),r("set-picker-option",["handleClear",pt]),(Qe,rt)=>(I(),K("div",{class:M([f(w).b(),f(_).b(),f(w).is("border",Qe.border),f(w).is("disabled",f(Be)),{"has-sidebar":Qe.$slots.sidebar||X.value,"has-time":Gt.value}])},[Z("div",{class:M(f(w).e("body-wrapper"))},[ie(Qe.$slots,"sidebar",{class:M(f(w).e("sidebar"))}),X.value?(I(),K("div",{key:0,class:M(f(w).e("sidebar"))},[(I(!0),K(Ge,null,Ot(d.value,(xt,jr)=>(I(),K("button",{key:jr,type:"button",disabled:f(Be),class:M(f(w).e("shortcut")),onClick:ks=>f(T)(xt)},Ie(xt.text),11,Xne))),128))],2)):le("v-if",!0),Z("div",{class:M(f(w).e("body"))},[Gt.value?(I(),K("div",{key:0,class:M(f(_).e("time-header"))},[Z("span",{class:M(f(_).e("editors-wrap"))},[Z("span",{class:M(f(_).e("time-picker-wrap"))},[q(f(ys),{size:"small",disabled:f(b).selecting||f(Be),placeholder:f(k)("el.datepicker.startDate"),class:M(f(_).e("editor")),"model-value":H.value,"validate-event":!1,readonly:!Qe.editable,onInput:rt[0]||(rt[0]=xt=>Ue(xt,"min")),onChange:rt[1]||(rt[1]=xt=>St(xt,"min"))},null,8,["disabled","placeholder","class","model-value","readonly"])],2),vt((I(),K("span",{class:M(f(_).e("time-picker-wrap"))},[q(f(ys),{size:"small",class:M(f(_).e("editor")),disabled:f(b).selecting||f(Be),placeholder:f(k)("el.datepicker.startTime"),"model-value":ue.value,"validate-event":!1,readonly:!Qe.editable,onFocus:rt[2]||(rt[2]=xt=>kt.value=!0),onInput:rt[3]||(rt[3]=xt=>sn(xt,"min")),onChange:rt[4]||(rt[4]=xt=>Ln(xt,"min"))},null,8,["class","disabled","placeholder","model-value","readonly"]),q(f(Qv),{visible:kt.value,format:he.value,"datetime-role":"start","parsed-value":f(v)||m.value,onPick:jn},null,8,["visible","format","parsed-value"])],2)),[[f(tu),He]])],2),Z("span",null,[q(f(We),null,{default:re(()=>[q(f(_s))]),_:1})]),Z("span",{class:M([f(_).e("editors-wrap"),"is-right"])},[Z("span",{class:M(f(_).e("time-picker-wrap"))},[q(f(ys),{size:"small",class:M(f(_).e("editor")),disabled:f(b).selecting||f(Be),placeholder:f(k)("el.datepicker.endDate"),"model-value":te.value,readonly:!f(v)||!Qe.editable,"validate-event":!1,onInput:rt[5]||(rt[5]=xt=>Ue(xt,"max")),onChange:rt[6]||(rt[6]=xt=>St(xt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),vt((I(),K("span",{class:M(f(_).e("time-picker-wrap"))},[q(f(ys),{size:"small",class:M(f(_).e("editor")),disabled:f(b).selecting||f(Be),placeholder:f(k)("el.datepicker.endTime"),"model-value":ye.value,readonly:!f(v)||!Qe.editable,"validate-event":!1,onFocus:rt[7]||(rt[7]=xt=>f(v)&&(we.value=!0)),onInput:rt[8]||(rt[8]=xt=>sn(xt,"max")),onChange:rt[9]||(rt[9]=xt=>Ln(xt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),q(f(Qv),{"datetime-role":"end",visible:we.value,format:he.value,"parsed-value":f(y)||g.value,onPick:ze},null,8,["visible","format","parsed-value"])],2)),[[f(tu),ge]])],2)],2)):le("v-if",!0),Z("div",{class:M([[f(w).e("content"),f(_).e("content")],"is-left"])},[Z("div",{class:M(f(_).e("header"))},[Z("button",{type:"button",class:M([f(w).e("icon-btn"),"d-arrow-left"]),"aria-label":f(k)("el.datepicker.prevYear"),disabled:f(Be),onClick:De},[ie(Qe.$slots,"prev-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Jl))]),_:1})])],10,Jne),vt(Z("button",{type:"button",class:M([f(w).e("icon-btn"),"arrow-left"]),"aria-label":f(k)("el.datepicker.prevMonth"),disabled:f(Be),onClick:pe},[ie(Qe.$slots,"prev-month",{},()=>[q(f(We),null,{default:re(()=>[q(f(el))]),_:1})])],10,Qne),[[Kt,f(F)==="date"]]),Qe.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!Ee.value||f(Be),class:M([[f(w).e("icon-btn"),f(w).is("disabled",!Ee.value||f(Be))],"d-arrow-right"]),"aria-label":f(k)("el.datepicker.nextYear"),onClick:me},[ie(Qe.$slots,"next-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Ql))]),_:1})])],10,ere)):le("v-if",!0),Qe.unlinkPanels&&f(F)==="date"?(I(),K("button",{key:1,type:"button",disabled:!Ce.value||f(Be),class:M([[f(w).e("icon-btn"),f(w).is("disabled",!Ce.value||f(Be))],"arrow-right"]),"aria-label":f(k)("el.datepicker.nextMonth"),onClick:Te},[ie(Qe.$slots,"next-month",{},()=>[q(f(We),null,{default:re(()=>[q(f(_s))]),_:1})])],10,tre)):le("v-if",!0),Z("div",null,[Z("span",{role:"button",class:M(f(_).e("header-label")),"aria-live":"polite",tabindex:Qe.disabled?void 0:0,"aria-disabled":Qe.disabled,onKeydown:rt[10]||(rt[10]=zn(xt=>f(U)("year"),["enter"])),onClick:rt[11]||(rt[11]=xt=>f(U)("year"))},Ie(f(W)),43,nre),vt(Z("span",{role:"button","aria-live":"polite",tabindex:Qe.disabled?void 0:0,"aria-disabled":Qe.disabled,class:M([f(_).e("header-label"),{active:f(F)==="month"}]),onKeydown:rt[12]||(rt[12]=zn(xt=>f(U)("month"),["enter"])),onClick:rt[13]||(rt[13]=xt=>f(U)("month"))},Ie(f(k)(`el.datepicker.month${m.value.month()+1}`)),43,rre),[[Kt,f(F)==="date"]])])],2),f(F)==="date"?(I(),ce(hw,{key:0,ref_key:"leftCurrentViewRef",ref:V,"selection-mode":"range",date:m.value,"min-date":f(v),"max-date":f(y),"range-state":f(b),"disabled-date":f(i),"cell-class-name":f(o),"show-week-number":Qe.showWeekNumber,disabled:f(Be),onChangerange:f(S),onPick:mt,onSelect:f(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):le("v-if",!0),f(F)==="year"?(I(),ce(up,{key:1,ref_key:"leftCurrentViewRef",ref:V,"selection-mode":"year",date:m.value,"disabled-date":f(i),"parsed-value":Qe.parsedValue,disabled:f(Be),onPick:f(J)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):le("v-if",!0),f(F)==="month"?(I(),ce(lp,{key:2,ref_key:"leftCurrentViewRef",ref:V,"selection-mode":"month",date:m.value,"parsed-value":Qe.parsedValue,"disabled-date":f(i),disabled:f(Be),onPick:f(P)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):le("v-if",!0)],2),Z("div",{class:M([[f(w).e("content"),f(_).e("content")],"is-right"])},[Z("div",{class:M(f(_).e("header"))},[Qe.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!Ee.value||f(Be),class:M([[f(w).e("icon-btn"),f(w).is("disabled",!Ee.value||f(Be))],"d-arrow-left"]),"aria-label":f(k)("el.datepicker.prevYear"),onClick:xe},[ie(Qe.$slots,"prev-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Jl))]),_:1})])],10,sre)):le("v-if",!0),Qe.unlinkPanels&&f(j)==="date"?(I(),K("button",{key:1,type:"button",disabled:!Ce.value||f(Be),class:M([[f(w).e("icon-btn"),f(w).is("disabled",!Ce.value||f(Be))],"arrow-left"]),"aria-label":f(k)("el.datepicker.prevMonth"),onClick:Oe},[ie(Qe.$slots,"prev-month",{},()=>[q(f(We),null,{default:re(()=>[q(f(el))]),_:1})])],10,are)):le("v-if",!0),Z("button",{type:"button","aria-label":f(k)("el.datepicker.nextYear"),class:M([f(w).e("icon-btn"),"d-arrow-right"]),disabled:f(Be),onClick:ve},[ie(Qe.$slots,"next-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Ql))]),_:1})])],10,ire),vt(Z("button",{type:"button",class:M([f(w).e("icon-btn"),"arrow-right"]),disabled:f(Be),"aria-label":f(k)("el.datepicker.nextMonth"),onClick:be},[ie(Qe.$slots,"next-month",{},()=>[q(f(We),null,{default:re(()=>[q(f(_s))]),_:1})])],10,ore),[[Kt,f(j)==="date"]]),Z("div",null,[Z("span",{role:"button",class:M(f(_).e("header-label")),"aria-live":"polite",tabindex:Qe.disabled?void 0:0,"aria-disabled":Qe.disabled,onKeydown:rt[14]||(rt[14]=zn(xt=>f(Q)("year"),["enter"])),onClick:rt[15]||(rt[15]=xt=>f(Q)("year"))},Ie(f(Y)),43,lre),vt(Z("span",{role:"button","aria-live":"polite",tabindex:Qe.disabled?void 0:0,"aria-disabled":Qe.disabled,class:M([f(_).e("header-label"),{active:f(j)==="month"}]),onKeydown:rt[16]||(rt[16]=zn(xt=>f(Q)("month"),["enter"])),onClick:rt[17]||(rt[17]=xt=>f(Q)("month"))},Ie(f(k)(`el.datepicker.month${g.value.month()+1}`)),43,ure),[[Kt,f(j)==="date"]])])],2),f(j)==="date"?(I(),ce(hw,{key:0,ref_key:"rightCurrentViewRef",ref:G,"selection-mode":"range",date:g.value,"min-date":f(v),"max-date":f(y),"range-state":f(b),"disabled-date":f(i),"cell-class-name":f(o),"show-week-number":Qe.showWeekNumber,disabled:f(Be),onChangerange:f(S),onPick:mt,onSelect:f(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):le("v-if",!0),f(j)==="year"?(I(),ce(up,{key:1,ref_key:"rightCurrentViewRef",ref:G,"selection-mode":"year",date:g.value,"disabled-date":f(i),"parsed-value":Qe.parsedValue,disabled:f(Be),onPick:f(B)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):le("v-if",!0),f(j)==="month"?(I(),ce(lp,{key:2,ref_key:"rightCurrentViewRef",ref:G,"selection-mode":"month",date:g.value,"parsed-value":Qe.parsedValue,"disabled-date":f(i),disabled:f(Be),onPick:f(ae)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):le("v-if",!0)],2)],2)],2),Qe.showFooter&&Gt.value&&(Qe.showConfirm||f(u))?(I(),K("div",{key:0,class:M(f(w).e("footer"))},[f(u)?(I(),ce(f(Nr),{key:0,text:"",size:"small",class:M(f(w).e("link-btn")),onClick:Je},{default:re(()=>[gt(Ie(f(k)("el.datepicker.clear")),1)]),_:1},8,["class"])):le("v-if",!0),Qe.showConfirm?(I(),ce(f(Nr),{key:1,plain:"",size:"small",class:M(f(w).e("link-btn")),disabled:Bt.value,onClick:rt[18]||(rt[18]=xt=>f(C)(!1))},{default:re(()=>[gt(Ie(f(k)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):le("v-if",!0)],2)):le("v-if",!0)],2))}});const dre=$e({...H6}),fre=["pick","set-picker-option","calendar-change"],hre=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=Mt(),s=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},a=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},i=()=>{t.value=t.value.add(1,"year")},o=()=>{n.value=n.value.subtract(1,"year")},l=E(()=>`${t.value.year()} ${r("el.datepicker.year")}`),u=E(()=>`${n.value.year()} ${r("el.datepicker.year")}`),c=E(()=>t.value.year()),d=E(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:s,rightNextYear:a,leftNextYear:i,rightPrevYear:o,leftLabel:l,rightLabel:u,leftYear:c,rightYear:d}},pre=["disabled","onClick"],mre=["disabled"],gre=["disabled"],vre=["disabled"],yre=["disabled"],og="year";var bre=de({name:"DatePickerMonthRange",__name:"panel-month-range",props:dre,emits:fre,setup(e,{emit:t}){const n=e,r=t,{lang:s}=Mt(),a=Ve(_i),i=Ve(um,void 0),{shortcuts:o,disabledDate:l,cellClassName:u}=a.props,c=rn(a.props,"format"),d=rn(a.props,"defaultValue"),h=L(ct().locale(s.value)),p=L(ct().locale(s.value).add(1,og)),{minDate:m,maxDate:g,rangeState:v,ppNs:y,drpNs:b,handleChangeRange:w,handleRangeConfirm:_,handleShortcutClick:S,onSelect:C,parseValue:T}=K6(n,{defaultValue:d,leftDate:h,rightDate:p,unit:og,sortDates:W}),x=E(()=>!!o.length),{leftPrevYear:N,rightNextYear:k,leftNextYear:A,rightPrevYear:O,leftLabel:F,rightLabel:j,leftYear:V,rightYear:G}=hre({unlinkPanels:rn(n,"unlinkPanels"),leftDate:h,rightDate:p}),R=E(()=>n.unlinkPanels&&G.value>V.value+1),$=(U,Q=!0)=>{const J=U.minDate,B=U.maxDate;g.value===B&&m.value===J||(r("calendar-change",[J.toDate(),B&&B.toDate()]),g.value=B,m.value=J,Q&&_())},D=()=>{let U=null;a!=null&&a.emptyValues&&(U=a.emptyValues.valueOnClear.value),h.value=By(f(d),{lang:f(s),unit:"year",unlinkPanels:n.unlinkPanels})[0],p.value=h.value.add(1,"year"),r("pick",U)},z=U=>Gd(U,c.value,s.value,i);function W(U,Q){if(n.unlinkPanels&&Q){const J=(U==null?void 0:U.year())||0,B=Q.year();p.value=J===B?Q.add(1,og):Q}else p.value=h.value.add(1,og)}const Y=Zn();return fe(()=>n.visible,U=>{!U&&v.value.selecting&&(T(n.parsedValue),C(!1))}),r("set-picker-option",["isValidValue",op]),r("set-picker-option",["parseUserInput",z]),r("set-picker-option",["handleClear",D]),(U,Q)=>(I(),K("div",{class:M([f(y).b(),f(b).b(),f(y).is("border",U.border),f(y).is("disabled",f(Y)),{"has-sidebar":!!U.$slots.sidebar||x.value}])},[Z("div",{class:M(f(y).e("body-wrapper"))},[ie(U.$slots,"sidebar",{class:M(f(y).e("sidebar"))}),x.value?(I(),K("div",{key:0,class:M(f(y).e("sidebar"))},[(I(!0),K(Ge,null,Ot(f(o),(J,B)=>(I(),K("button",{key:B,type:"button",class:M(f(y).e("shortcut")),disabled:f(Y),onClick:P=>f(S)(J)},Ie(J.text),11,pre))),128))],2)):le("v-if",!0),Z("div",{class:M(f(y).e("body"))},[Z("div",{class:M([[f(y).e("content"),f(b).e("content")],"is-left"])},[Z("div",{class:M(f(b).e("header"))},[Z("button",{type:"button",class:M([f(y).e("icon-btn"),"d-arrow-left"]),disabled:f(Y),onClick:Q[0]||(Q[0]=(...J)=>f(N)&&f(N)(...J))},[ie(U.$slots,"prev-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Jl))]),_:1})])],10,mre),U.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!R.value||f(Y),class:M([[f(y).e("icon-btn"),f(y).is("disabled",!R.value||f(Y))],"d-arrow-right"]),onClick:Q[1]||(Q[1]=(...J)=>f(A)&&f(A)(...J))},[ie(U.$slots,"next-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Ql))]),_:1})])],10,gre)):le("v-if",!0),Z("div",null,Ie(f(F)),1)],2),q(lp,{"selection-mode":"range",date:h.value,"min-date":f(m),"max-date":f(g),"range-state":f(v),"disabled-date":f(l),disabled:f(Y),"cell-class-name":f(u),onChangerange:f(w),onPick:$,onSelect:f(C)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:M([[f(y).e("content"),f(b).e("content")],"is-right"])},[Z("div",{class:M(f(b).e("header"))},[U.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!R.value||f(Y),class:M([[f(y).e("icon-btn"),f(y).is("disabled",!R.value||f(Y))],"d-arrow-left"]),onClick:Q[2]||(Q[2]=(...J)=>f(O)&&f(O)(...J))},[ie(U.$slots,"prev-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Jl))]),_:1})])],10,vre)):le("v-if",!0),Z("button",{type:"button",class:M([f(y).e("icon-btn"),"d-arrow-right"]),disabled:f(Y),onClick:Q[3]||(Q[3]=(...J)=>f(k)&&f(k)(...J))},[ie(U.$slots,"next-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Ql))]),_:1})])],10,yre),Z("div",null,Ie(f(j)),1)],2),q(lp,{"selection-mode":"range",date:p.value,"min-date":f(m),"max-date":f(g),"range-state":f(v),"disabled-date":f(l),disabled:f(Y),"cell-class-name":f(u),onChangerange:f(w),onPick:$,onSelect:f(C)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});const wre=$e({...H6}),_re=["pick","set-picker-option","calendar-change"],Sre=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const r=()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},s=()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},a=()=>{t.value=t.value.add(10,"year")},i=()=>{n.value=n.value.subtract(10,"year")},o=E(()=>{const d=Math.floor(t.value.year()/10)*10;return`${d}-${d+9}`}),l=E(()=>{const d=Math.floor(n.value.year()/10)*10;return`${d}-${d+9}`}),u=E(()=>Math.floor(t.value.year()/10)*10+9),c=E(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:s,leftNextYear:a,rightPrevYear:i,leftLabel:o,rightLabel:l,leftYear:u,rightYear:c}},Cre=["disabled","onClick"],xre=["disabled"],Ere=["disabled"],Tre=["disabled"],kre=["disabled"],Fc=10,jf="year";var Nre=de({name:"DatePickerYearRange",__name:"panel-year-range",props:wre,emits:_re,setup(e,{emit:t}){const n=e,r=t,{lang:s}=Mt(),a=L(ct().locale(s.value)),i=L(ct().locale(s.value).add(Fc,jf)),o=Ve(um,void 0),l=Ve(_i),{shortcuts:u,disabledDate:c,cellClassName:d}=l.props,h=rn(l.props,"format"),p=rn(l.props,"defaultValue"),{minDate:m,maxDate:g,rangeState:v,ppNs:y,drpNs:b,handleChangeRange:w,handleRangeConfirm:_,handleShortcutClick:S,onSelect:C,parseValue:T}=K6(n,{defaultValue:p,leftDate:a,rightDate:i,step:Fc,unit:jf,sortDates:B}),{leftPrevYear:x,rightNextYear:N,leftNextYear:k,rightPrevYear:A,leftLabel:O,rightLabel:F,leftYear:j,rightYear:V}=Sre({unlinkPanels:rn(n,"unlinkPanels"),leftDate:a,rightDate:i}),G=Zn(),R=E(()=>!!u.length),$=E(()=>[y.b(),b.b(),y.is("border",n.border),y.is("disabled",G.value),{"has-sidebar":!!nr().sidebar||R.value}]),D=E(()=>({content:[y.e("content"),b.e("content"),"is-left"],arrowLeftBtn:[y.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[y.e("icon-btn"),y.is("disabled",!W.value||G.value),"d-arrow-right"]})),z=E(()=>({content:[y.e("content"),b.e("content"),"is-right"],arrowLeftBtn:[y.e("icon-btn"),y.is("disabled",!W.value||G.value),"d-arrow-left"],arrowRightBtn:[y.e("icon-btn"),"d-arrow-right"]})),W=E(()=>n.unlinkPanels&&V.value>j.value+1),Y=(P,ae=!0)=>{const ee=P.minDate,oe=P.maxDate;g.value===oe&&m.value===ee||(r("calendar-change",[ee.toDate(),oe&&oe.toDate()]),g.value=oe,m.value=ee,ae&&_())},U=P=>Gd(P,h.value,s.value,o),Q=P=>op(P)&&(c?!c(P[0].toDate())&&!c(P[1].toDate()):!0),J=()=>{let P=null;l!=null&&l.emptyValues&&(P=l.emptyValues.valueOnClear.value);const ae=By(f(p),{lang:f(s),step:Fc,unit:jf,unlinkPanels:n.unlinkPanels});a.value=ae[0],i.value=ae[1],r("pick",P)};function B(P,ae){if(n.unlinkPanels&&ae){const ee=(P==null?void 0:P.year())||0,oe=ae.year();i.value=ee+Fc>oe?ae.add(Fc,jf):ae}else i.value=a.value.add(Fc,jf)}return fe(()=>n.visible,P=>{!P&&v.value.selecting&&(T(n.parsedValue),C(!1))}),r("set-picker-option",["isValidValue",Q]),r("set-picker-option",["parseUserInput",U]),r("set-picker-option",["handleClear",J]),(P,ae)=>(I(),K("div",{class:M($.value)},[Z("div",{class:M(f(y).e("body-wrapper"))},[ie(P.$slots,"sidebar",{class:M(f(y).e("sidebar"))}),R.value?(I(),K("div",{key:0,class:M(f(y).e("sidebar"))},[(I(!0),K(Ge,null,Ot(f(u),(ee,oe)=>(I(),K("button",{key:oe,type:"button",class:M(f(y).e("shortcut")),disabled:f(G),onClick:X=>f(S)(ee)},Ie(ee.text),11,Cre))),128))],2)):le("v-if",!0),Z("div",{class:M(f(y).e("body"))},[Z("div",{class:M(D.value.content)},[Z("div",{class:M(f(b).e("header"))},[Z("button",{type:"button",class:M(D.value.arrowLeftBtn),disabled:f(G),onClick:ae[0]||(ae[0]=(...ee)=>f(x)&&f(x)(...ee))},[ie(P.$slots,"prev-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Jl))]),_:1})])],10,xre),P.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!W.value||f(G),class:M(D.value.arrowRightBtn),onClick:ae[1]||(ae[1]=(...ee)=>f(k)&&f(k)(...ee))},[ie(P.$slots,"next-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Ql))]),_:1})])],10,Ere)):le("v-if",!0),Z("div",null,Ie(f(O)),1)],2),q(up,{"selection-mode":"range",date:a.value,"min-date":f(m),"max-date":f(g),"range-state":f(v),"disabled-date":f(c),disabled:f(G),"cell-class-name":f(d),onChangerange:f(w),onPick:Y,onSelect:f(C)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:M(z.value.content)},[Z("div",{class:M(f(b).e("header"))},[P.unlinkPanels?(I(),K("button",{key:0,type:"button",disabled:!W.value||f(G),class:M(z.value.arrowLeftBtn),onClick:ae[2]||(ae[2]=(...ee)=>f(A)&&f(A)(...ee))},[ie(P.$slots,"prev-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Jl))]),_:1})])],10,Tre)):le("v-if",!0),Z("button",{type:"button",class:M(z.value.arrowRightBtn),disabled:f(G),onClick:ae[3]||(ae[3]=(...ee)=>f(N)&&f(N)(...ee))},[ie(P.$slots,"next-year",{},()=>[q(f(We),null,{default:re(()=>[q(f(Ql))]),_:1})])],10,kre),Z("div",null,Ie(f(F)),1)],2),q(up,{"selection-mode":"range",date:i.value,"min-date":f(m),"max-date":f(g),"range-state":f(v),"disabled-date":f(c),disabled:f(G),"cell-class-name":f(d),onChangerange:f(w),onPick:Y,onSelect:f(C)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});const Ire=function(e){switch(e){case"daterange":case"datetimerange":return cre;case"monthrange":return bre;case"yearrange":return Nre;default:return Gne}};function Ore(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vn(e)}ct.extend(q$);ct.extend(dne);ct.extend(D6);ct.extend(hne);ct.extend(mne);ct.extend(vne);ct.extend(bne);ct.extend(_ne);var $re=de({name:"ElDatePickerPanel",install:null,inheritAttrs:!1,props:Sne,emits:[it,"calendar-change","panel-change","visible-change","clear"],setup(e,{slots:t,emit:n,attrs:r}){const s=Se("picker-panel"),a=Ve(_i,void 0);if(Vt(a)){const d=Xt({...Or(e)});At(_i,{props:d})}At(j6,{slots:t,pickerNs:s});const{parsedValue:i,onCalendarChange:o,onPanelChange:l,onSetPickerOption:u,onPick:c}=Ve(PA,()=>LA(e,n),!0);return()=>{const d=Ire(e.type);return q(d,bt(Zp(r,"onPick"),e,{parsedValue:i.value,"onSet-picker-option":u,"onCalendar-change":o,"onPanel-change":l,onClear:()=>n("clear"),onPick:c}),Ore(t)?t:{default:()=>[t]})}}});const qA=dt($re),Are=$e({...B6,type:{type:ne(String),default:"date"}});function Rre(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vn(e)}var Mre=de({name:"ElDatePicker",install:null,props:Are,emits:[it],setup(e,{expose:t,emit:n,slots:r}){const s=E(()=>!e.format);At(um,s),At(z6,Xt(rn(e,"popperOptions")));const a=L();t({focus:()=>{var l;(l=a.value)==null||l.focus()},blur:()=>{var l;(l=a.value)==null||l.blur()},handleOpen:()=>{var l;(l=a.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=a.value)==null||l.handleClose()}});const o=l=>{n(it,l)};return()=>{var l;const u=(l=e.format)!=null?l:Zte[e.type]||zl;return q(zA,bt(e,{format:u,type:e.type,ref:a,"onUpdate:modelValue":o}),{default:c=>q(qA,bt({disabled:e.disabled,editable:e.editable,border:!1},c),Rre(r)?r:{default:()=>[r]}),"range-separator":r["range-separator"]})}}});const Pre=dt(Mre),Lre=$e({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:wr,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number]}}),Dre=$e({row:{type:ne(Array),default:()=>[]}}),G6=Symbol("elDescriptions");var Vf=de({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Ve(G6,{})}},render(){var e,t,n,r;const s=$Y(this.cell),a=(((e=this.cell)==null?void 0:e.dirs)||[]).map(_=>{const{dir:S,arg:C,modifiers:T,value:x}=_;return[S,x,C,T]}),{border:i,direction:o}=this.descriptions,l=o==="vertical",u=()=>{var _,S,C;return((C=(S=(_=this.cell)==null?void 0:_.children)==null?void 0:S.label)==null?void 0:C.call(S))||s.label},c=()=>{var _,S,C;return(C=(S=(_=this.cell)==null?void 0:_.children)==null?void 0:S.default)==null?void 0:C.call(S)},d=s.span,h=s.rowspan,p=s.align?`is-${s.align}`:"",m=s.labelAlign?`is-${s.labelAlign}`:p,g=s.className,v=s.labelClassName,y=this.type==="label"&&(n=(t=s.labelWidth)!=null?t:this.descriptions.labelWidth)!=null?n:s.width,b={width:Gn(y),minWidth:Gn(s.minWidth)},w=Se("descriptions");switch(this.type){case"label":return vt(nt(this.tag,{style:b,class:[w.e("cell"),w.e("label"),w.is("bordered-label",i),w.is("vertical-label",l),m,v],colSpan:l?d:1,rowspan:l?1:h},u()),a);case"content":return vt(nt(this.tag,{style:b,class:[w.e("cell"),w.e("content"),w.is("bordered-content",i),w.is("vertical-content",l),p,g],colSpan:l?d:d*2-1,rowspan:l?h*2-1:h},c()),a);default:{const _=u(),S={},C=Gn((r=s.labelWidth)!=null?r:this.descriptions.labelWidth);return C&&(S.width=C,S.display="inline-block"),vt(nt("td",{style:b,class:[w.e("cell"),p],colSpan:d,rowspan:h},[or(_)?void 0:nt("span",{style:S,class:[w.e("label"),v]},_),nt("span",{class:[w.e("content"),g]},c())]),a)}}}});const zre={key:1};var Fre=de({name:"ElDescriptionsRow",__name:"descriptions-row",props:Dre,setup(e){const t=Ve(G6,{});return(n,r)=>f(t).direction==="vertical"?(I(),K(Ge,{key:0},[Z("tr",null,[(I(!0),K(Ge,null,Ot(e.row,(s,a)=>(I(),ce(f(Vf),{key:`tr1-${a}`,cell:s,tag:"th",type:"label"},null,8,["cell"]))),128))]),Z("tr",null,[(I(!0),K(Ge,null,Ot(e.row,(s,a)=>(I(),ce(f(Vf),{key:`tr2-${a}`,cell:s,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(I(),K("tr",zre,[(I(!0),K(Ge,null,Ot(e.row,(s,a)=>(I(),K(Ge,{key:`tr3-${a}`},[f(t).border?(I(),K(Ge,{key:0},[q(f(Vf),{cell:s,tag:"td",type:"label"},null,8,["cell"]),q(f(Vf),{cell:s,tag:"td",type:"content"},null,8,["cell"])],64)):(I(),ce(f(Vf),{key:1,cell:s,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});const XA="ElDescriptionsItem";var Bre=de({name:"ElDescriptions",__name:"description",props:Lre,setup(e){const t=e,n=Se("descriptions"),r=gr(),s=nr();At(G6,t);const a=E(()=>[n.b(),n.m(r.value)]),i=(l,u,c,d=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),d&&(l.props.span=u),l),o=()=>{if(!s.default)return[];const l=ha(s.default()).filter(m=>{var g;return((g=m==null?void 0:m.type)==null?void 0:g.name)===XA}),u=[];let c=[],d=t.column,h=0;const p=[];return l.forEach((m,g)=>{var v,y,b;const w=((v=m.props)==null?void 0:v.span)||1,_=((y=m.props)==null?void 0:y.rowspan)||1,S=u.length;if(p[S]||(p[S]=0),_>1)for(let C=1;C<_;C++)p[b=S+C]||(p[b]=0),p[S+C]++,h++;if(p[S]>0&&(d-=p[S],p[S]=0),g<l.length-1&&(h+=w>d?d:w),g===l.length-1){const C=t.column-h%t.column;c.push(i(m,C,d,!0)),u.push(c);return}w<d?(d-=w,c.push(m)):(c.push(i(m,w,d)),u.push(c),d=t.column,c=[])}),u};return(l,u)=>(I(),K("div",{class:M(a.value)},[e.title||e.extra||l.$slots.title||l.$slots.extra?(I(),K("div",{key:0,class:M(f(n).e("header"))},[Z("div",{class:M(f(n).e("title"))},[ie(l.$slots,"title",{},()=>[gt(Ie(e.title),1)])],2),Z("div",{class:M(f(n).e("extra"))},[ie(l.$slots,"extra",{},()=>[gt(Ie(e.extra),1)])],2)],2)):le("v-if",!0),Z("div",{class:M(f(n).e("body"))},[Z("table",{class:M([f(n).e("table"),f(n).is("bordered",e.border)])},[Z("tbody",null,[(I(!0),K(Ge,null,Ot(o(),(c,d)=>(I(),ce(Fre,{key:d,row:c},null,8,["row"]))),128))])],2)],2)],2))}});const WE=["left","center","right"],jre=$e({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number]},align:{type:String,values:WE,default:"left"},labelAlign:{type:String,values:WE},className:{type:String,default:""},labelClassName:{type:String,default:""}}),JA=de({name:XA,props:jre}),Vre=dt(Bre,{DescriptionsItem:JA}),Hre=Bn(JA),QA=$e({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:dn},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Ure={close:()=>!0},e7=$e({...QA,appendToBody:Boolean,appendTo:{type:em.to.type,default:"body"},beforeClose:{type:ne(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:ne([String,Object]),default:void 0}}),t7={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[it]:e=>cn(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Z6=e=>{if(!e)return{onClick:tn,onMousedown:tn,onMouseup:tn};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},Wre=$e({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:ne([String,Array,Object])},zIndex:{type:ne([String,Number])}}),Kre={click:e=>e instanceof MouseEvent},Gre="overlay";var Zre=de({name:"ElOverlay",props:Wre,emits:Kre,setup(e,{slots:t,emit:n}){const r=Se(Gre),s=l=>{n("click",l)},{onClick:a,onMousedown:i,onMouseup:o}=Z6(e.customMaskEvent?void 0:s);return()=>e.mask?q("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:i,onMouseup:o},[ie(t,"default")],Ma.STYLE|Ma.CLASS|Ma.PROPS,["onClick","onMouseup","onMousedown"]):nt("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[ie(t,"default")])}});const Y6=Zre,n7=Symbol("dialogInjectionKey"),KE="dialog-fade",q6=(...e)=>t=>{e.forEach(n=>{n.value=t})},r7=(e,t,n,r)=>{const s={offsetX:0,offsetY:0},a=L(!1),i=(h,p)=>{if(e.value){const{offsetX:m,offsetY:g}=s,v=e.value.getBoundingClientRect(),y=v.left,b=v.top,w=v.width,_=v.height,S=document.documentElement.clientWidth,C=document.documentElement.clientHeight,T=-y+m,x=-b+g,N=S-y-w+m,k=C-b-(_<C?_:0)+g;r!=null&&r.value||(h=Math.min(Math.max(h,T),N),p=Math.min(Math.max(p,x),k)),s.offsetX=h,s.offsetY=p,e.value.style.transform=`translate(${Gn(h)}, ${Gn(p)})`}},o=h=>{const p=h.clientX,m=h.clientY,{offsetX:g,offsetY:v}=s,y=w=>{a.value||(a.value=!0);const _=g+w.clientX-p,S=v+w.clientY-m;i(_,S)},b=()=>{a.value=!1,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",b)},l=()=>{t.value&&e.value&&(t.value.addEventListener("mousedown",o),window.addEventListener("resize",d))},u=()=>{t.value&&e.value&&(t.value.removeEventListener("mousedown",o),window.removeEventListener("resize",d))},c=()=>{s.offsetX=0,s.offsetY=0,e.value&&(e.value.style.transform="")},d=()=>{const{offsetX:h,offsetY:p}=s;i(h,p)};return _t(()=>{ea(()=>{n.value?l():u()})}),en(()=>{u()}),{isDragging:a,resetPosition:c,updatePosition:d}},Yre=["aria-level"],qre=["aria-label"],Xre=["id"];var Jre=de({name:"ElDialogContent",__name:"dialog-content",props:QA,emits:Ure,setup(e,{expose:t}){const{t:n}=Mt(),{Close:r}=t$,s=e,{dialogRef:a,headerRef:i,bodyId:o,ns:l,style:u}=Ve(n7),{focusTrapRef:c}=Ve(O$),d=q6(c,a),h=E(()=>!!s.draggable),p=E(()=>!!s.overflow),{resetPosition:m,updatePosition:g,isDragging:v}=r7(a,i,h,p),y=E(()=>[l.b(),l.is("fullscreen",s.fullscreen),l.is("draggable",h.value),l.is("dragging",v.value),l.is("align-center",!!s.alignCenter),{[l.m("center")]:s.center}]);return t({resetPosition:m,updatePosition:g}),(b,w)=>(I(),K("div",{ref:f(d),class:M(y.value),style:qe(f(u)),tabindex:"-1"},[Z("header",{ref_key:"headerRef",ref:i,class:M([f(l).e("header"),e.headerClass,{"show-close":e.showClose}])},[ie(b.$slots,"header",{},()=>[Z("span",{role:"heading","aria-level":e.ariaLevel,class:M(f(l).e("title"))},Ie(e.title),11,Yre)]),e.showClose?(I(),K("button",{key:0,"aria-label":f(n)("el.dialog.close"),class:M(f(l).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=_=>b.$emit("close"))},[q(f(We),{class:M(f(l).e("close"))},{default:re(()=>[(I(),ce(yt(e.closeIcon||f(r))))]),_:1},8,["class"])],10,qre)):le("v-if",!0)],2),Z("div",{id:f(o),class:M([f(l).e("body"),e.bodyClass])},[ie(b.$slots,"default")],10,Xre),b.$slots.footer?(I(),K("footer",{key:0,class:M([f(l).e("footer"),e.footerClass])},[ie(b.$slots,"footer")],2)):le("v-if",!0)],6))}});const jy=(e,t={})=>{Cn(e)||fr("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||Se("popup"),r=E(()=>n.bm("parent","hidden"));let s=0,a=!1,i="0",o=!1;const l=()=>{o||(o=!0,setTimeout(()=>{typeof document>"u"||a&&document&&(document.body.style.width=i,ws(document.body,r.value))},200))};fe(e,u=>{if(!u){l();return}o=!1,a=!no(document.body,r.value),a&&(i=document.body.style.width,Da(document.body,r.value)),s=YO(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,d=Bo(document.body,"overflowY");s>0&&(c||d==="scroll")&&a&&(document.body.style.width=`calc(100% - ${s}px)`)}),CI(()=>l())},s7=(e,t)=>{var n;const s=wt().emit,{nextZIndex:a}=Jp();let i="";const o=Zr(),l=Zr(),u=L(!1),c=L(!1),d=L(!1),h=L((n=e.zIndex)!=null?n:a()),p=L(!1);let m,g;const v=wf(),y=E(()=>{var Y,U;return(U=(Y=v.value)==null?void 0:Y.namespace)!=null?U:Th}),b=E(()=>{var Y;return(Y=v.value)==null?void 0:Y.dialog}),w=E(()=>{const Y={},U=`--${y.value}-dialog`;if(!e.fullscreen){e.top&&(Y[`${U}-margin-top`]=e.top);const Q=Gn(e.width);Q&&(Y[`${U}-width`]=Q)}return Y}),_=E(()=>{var Y,U,Q;return((Q=(U=e.draggable)!=null?U:(Y=b.value)==null?void 0:Y.draggable)!=null?Q:!1)&&!e.fullscreen}),S=E(()=>{var Y,U,Q;return(Q=(U=e.alignCenter)!=null?U:(Y=b.value)==null?void 0:Y.alignCenter)!=null?Q:!1}),C=E(()=>{var Y,U,Q;return(Q=(U=e.overflow)!=null?U:(Y=b.value)==null?void 0:Y.overflow)!=null?Q:!1}),T=E(()=>S.value?{display:"flex"}:{}),x=E(()=>{var Y,U,Q;const J=(Q=(U=e.transition)!=null?U:(Y=b.value)==null?void 0:Y.transition)!=null?Q:KE,B={name:J,onAfterEnter:N,onBeforeLeave:A,onAfterLeave:k};if(ht(J)){const P={...J},ae=(ee,oe)=>X=>{ke(ee)?ee.forEach(H=>{Ye(H)&&H(X)}):Ye(ee)&&ee(X),oe()};return P.onAfterEnter=ae(P.onAfterEnter,N),P.onBeforeLeave=ae(P.onBeforeLeave,A),P.onAfterLeave=ae(P.onAfterLeave,k),P.name||(P.name=KE),P}return B});function N(){s("opened")}function k(){s("closed"),s(it,!1),e.destroyOnClose&&(d.value=!1),p.value=!1}function A(){p.value=!0,s("close")}function O(){g==null||g(),m==null||m(),e.openDelay&&e.openDelay>0?{stop:m}=Bd(()=>G(),e.openDelay):G()}function F(){m==null||m(),g==null||g(),e.closeDelay&&e.closeDelay>0?{stop:g}=Bd(()=>R(),e.closeDelay):R()}function j(){function Y(U){U||(c.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(Y):F()}function V(){e.closeOnClickModal&&j()}function G(){Yt&&(u.value=!0)}function R(){u.value=!1}function $(){s("openAutoFocus")}function D(){s("closeAutoFocus")}function z(Y){var U;((U=Y.detail)==null?void 0:U.focusReason)==="pointer"&&Y.preventDefault()}e.lockScroll&&jy(u);function W(){e.closeOnPressEscape&&j()}return fe(()=>e.zIndex,()=>{var Y;h.value=(Y=e.zIndex)!=null?Y:a()}),fe(()=>e.modelValue,Y=>{var U;Y?(c.value=!1,p.value=!1,O(),d.value=!0,h.value=(U=e.zIndex)!=null?U:a(),Fe(()=>{s("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):u.value&&F()}),fe(()=>e.fullscreen,Y=>{t.value&&(Y?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),_t(()=>{e.modelValue&&(u.value=!0,d.value=!0,O())}),{afterEnter:N,afterLeave:k,beforeLeave:A,handleClose:j,onModalClick:V,close:F,doClose:R,onOpenAutoFocus:$,onCloseAutoFocus:D,onCloseRequested:W,onFocusoutPrevented:z,titleId:o,bodyId:l,closed:c,style:w,overlayDialogStyle:T,rendered:d,visible:u,zIndex:h,transitionConfig:x,_draggable:_,_alignCenter:S,_overflow:C,closing:p}},Qre=["aria-label","aria-labelledby","aria-describedby"];var ese=de({name:"ElDialog",inheritAttrs:!1,__name:"dialog",props:e7,emits:t7,setup(e,{expose:t}){const n=e,r=nr();ao({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},E(()=>!!r.title));const s=Se("dialog"),a=L(),i=L(),o=L(),{visible:l,titleId:u,bodyId:c,style:d,overlayDialogStyle:h,rendered:p,transitionConfig:m,zIndex:g,_draggable:v,_alignCenter:y,_overflow:b,handleClose:w,onModalClick:_,onOpenAutoFocus:S,onCloseAutoFocus:C,onCloseRequested:T,onFocusoutPrevented:x,closing:N}=s7(n,a);At(n7,{dialogRef:a,headerRef:i,bodyId:c,ns:s,rendered:p,style:d});const k=Z6(_),A=E(()=>n.modalPenetrable&&!n.modal&&!n.fullscreen);return t({visible:l,dialogContentRef:o,resetPosition:()=>{var F;(F=o.value)==null||F.resetPosition()},handleClose:w}),(F,j)=>(I(),ce(f(_f),{to:e.appendTo,disabled:e.appendTo!=="body"?!1:!e.appendToBody},{default:re(()=>[q(Gr,bt(f(m),{persisted:""}),{default:re(()=>{var V;return[vt(q(f(Y6),{"custom-mask-event":"",mask:e.modal,"overlay-class":[(V=e.modalClass)!=null?V:"",`${f(s).namespace.value}-modal-dialog`,f(s).is("penetrable",A.value)],"z-index":f(g)},{default:re(()=>[Z("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:f(u),"aria-describedby":f(c),class:M([`${f(s).namespace.value}-overlay-dialog`,f(s).is("closing",f(N))]),style:qe(f(h)),onClick:j[0]||(j[0]=(...G)=>f(k).onClick&&f(k).onClick(...G)),onMousedown:j[1]||(j[1]=(...G)=>f(k).onMousedown&&f(k).onMousedown(...G)),onMouseup:j[2]||(j[2]=(...G)=>f(k).onMouseup&&f(k).onMouseup(...G))},[q(f(Sf),{loop:"",trapped:f(l),"focus-start-el":"container",onFocusAfterTrapped:f(S),onFocusAfterReleased:f(C),onFocusoutPrevented:f(x),onReleaseRequested:f(T)},{default:re(()=>[f(p)?(I(),ce(Jre,bt({key:0,ref_key:"dialogContentRef",ref:o},F.$attrs,{center:e.center,"align-center":f(y),"close-icon":e.closeIcon,draggable:f(v),overflow:f(b),fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:f(w)}),Bs({header:re(()=>[F.$slots.title?ie(F.$slots,"title",{key:1}):ie(F.$slots,"header",{key:0,close:f(w),titleId:f(u),titleClass:f(s).e("title")})]),default:re(()=>[ie(F.$slots,"default")]),_:2},[F.$slots.footer?{name:"footer",fn:re(()=>[ie(F.$slots,"footer")]),key:"0"}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):le("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Qre)]),_:3},8,["mask","overlay-class","z-index"]),[[Kt,f(l)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});const tse=dt(ese),nse=$e({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:ne(String),default:"solid"}});var rse=de({name:"ElDivider",__name:"divider",props:nse,setup(e){const t=e,n=Se("divider"),r=E(()=>n.cssVar({"border-style":t.borderStyle}));return(s,a)=>(I(),K("div",{class:M([f(n).b(),f(n).m(e.direction)]),style:qe(r.value),role:"separator"},[s.$slots.default&&e.direction!=="vertical"?(I(),K("div",{key:0,class:M([f(n).e("text"),f(n).is(e.contentPosition)])},[ie(s.$slots,"default")],2)):le("v-if",!0)],6))}});const a7=dt(rse),sse=$e({...e7,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),ase={...t7,"resize-start":(e,t)=>e instanceof MouseEvent&&typeof t=="number",resize:(e,t)=>e instanceof MouseEvent&&typeof t=="number","resize-end":(e,t)=>e instanceof MouseEvent&&typeof t=="number"};function ise(e,t,n){const{width:r,height:s}=a6(),a=E(()=>["ltr","rtl"].includes(e.direction)),i=E(()=>["ltr","ttb"].includes(e.direction)?1:-1),o=E(()=>a.value?r.value:s.value),l=E(()=>PO(u.value+i.value*c.value,4,o.value)),u=L(0),c=L(0),d=L(!1),h=L(!1);let p=[],m=[];const g=()=>{var _;const S=(_=t.value)==null?void 0:_.closest('[aria-modal="true"]');return S?a.value?S.offsetWidth:S.offsetHeight:100};fe(()=>[e.size,e.resizable],()=>{h.value=!1,u.value=0,c.value=0,b()});const v=_=>{e.resizable&&(h.value||(u.value=g(),h.value=!0),p=[_.pageX,_.pageY],d.value=!0,n("resize-start",_,u.value),m.push(nn(window,"mouseup",b),nn(window,"mousemove",y)))},y=_=>{const{pageX:S,pageY:C}=_,T=S-p[0],x=C-p[1];c.value=a.value?T:x,n("resize",_,l.value)},b=_=>{d.value&&(p=[],u.value=l.value,c.value=0,d.value=!1,m.forEach(S=>S==null?void 0:S()),m=[],_&&n("resize-end",_,u.value))},w=nn(t,"mousedown",v);return en(()=>{w(),b()}),{size:E(()=>h.value?`${l.value}px`:Gn(e.size)),isResizing:d,isHorizontal:a}}const ose=["aria-label","aria-labelledby","aria-describedby"],lse=["id","aria-level"],use=["aria-label"],cse=["id"];var dse=de({name:"ElDrawer",inheritAttrs:!1,__name:"drawer",props:sse,emits:ase,setup(e,{expose:t,emit:n}){const r=e,s=n,a=nr();ao({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},E(()=>!!a.title));const i=L(),o=L(),l=L(),u=Se("drawer"),{t:c}=Mt(),{afterEnter:d,afterLeave:h,beforeLeave:p,visible:m,rendered:g,titleId:v,bodyId:y,zIndex:b,onModalClick:w,onOpenAutoFocus:_,onCloseAutoFocus:S,onFocusoutPrevented:C,onCloseRequested:T,handleClose:x}=s7(r,i),{isHorizontal:N,size:k,isResizing:A}=ise(r,l,s),O=E(()=>r.modalPenetrable&&!r.modal);return t({handleClose:x,afterEnter:d,afterLeave:h}),(F,j)=>(I(),ce(f(_f),{to:e.appendTo,disabled:e.appendTo!=="body"?!1:!e.appendToBody},{default:re(()=>[q(Gr,{name:f(u).b("fade"),onAfterEnter:f(d),onAfterLeave:f(h),onBeforeLeave:f(p),persisted:""},{default:re(()=>{var V;return[vt(q(f(Y6),{mask:e.modal,"overlay-class":[f(u).is("drawer"),(V=e.modalClass)!=null?V:"",`${f(u).namespace.value}-modal-drawer`,f(u).is("penetrable",O.value)],"z-index":f(b),onClick:f(w)},{default:re(()=>[q(f(Sf),{loop:"",trapped:f(m),"focus-trap-el":i.value,"focus-start-el":o.value,onFocusAfterTrapped:f(_),onFocusAfterReleased:f(S),onFocusoutPrevented:f(C),onReleaseRequested:f(T)},{default:re(()=>[Z("div",bt({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:f(v),"aria-describedby":f(y)},F.$attrs,{class:[f(u).b(),e.direction,f(m)&&"open",f(u).is("dragging",f(A))],style:{[f(N)?"width":"height"]:f(k)},role:"dialog",onClick:j[1]||(j[1]=at(()=>{},["stop"]))}),[Z("span",{ref_key:"focusStartRef",ref:o,class:M(f(u).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(I(),K("header",{key:0,class:M([f(u).e("header"),e.headerClass])},[F.$slots.title?ie(F.$slots,"title",{key:1},()=>[le(" DEPRECATED SLOT ")]):ie(F.$slots,"header",{key:0,close:f(x),titleId:f(v),titleClass:f(u).e("title")},()=>[Z("span",{id:f(v),role:"heading","aria-level":e.headerAriaLevel,class:M(f(u).e("title"))},Ie(e.title),11,lse)]),e.showClose?(I(),K("button",{key:2,"aria-label":f(c)("el.drawer.close"),class:M(f(u).e("close-btn")),type:"button",onClick:j[0]||(j[0]=(...G)=>f(x)&&f(x)(...G))},[q(f(We),{class:M(f(u).e("close"))},{default:re(()=>[q(f(ja))]),_:1},8,["class"])],10,use)):le("v-if",!0)],2)):le("v-if",!0),f(g)?(I(),K("div",{key:1,id:f(y),class:M([f(u).e("body"),e.bodyClass])},[ie(F.$slots,"default")],10,cse)):le("v-if",!0),F.$slots.footer?(I(),K("div",{key:2,class:M([f(u).e("footer"),e.footerClass])},[ie(F.$slots,"footer")],2)):le("v-if",!0),e.resizable?(I(),K("div",{key:3,ref_key:"draggerRef",ref:l,style:qe({zIndex:f(b)}),class:M(f(u).e("dragger"))},null,6)):le("v-if",!0)],16,ose)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Kt,f(m)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});const fse=dt(dse);var hse=de({inheritAttrs:!1});function pse(e,t,n,r,s,a){return ie(e.$slots,"default")}var mse=_r(hse,[["render",pse]]),gse=de({name:"ElCollectionItem",inheritAttrs:!1});function vse(e,t,n,r,s,a){return ie(e.$slots,"default")}var yse=_r(gse,[["render",vse]]);const i7="data-el-collection-item",bse=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),a=Object.assign({},mse,{name:t,setup(){const o=L(),l=new Map;At(r,{itemMap:l,getItems:()=>{const c=f(o);if(!c)return[];const d=Array.from(c.querySelectorAll(`[${i7}]`));return[...l.values()].sort((p,m)=>d.indexOf(p.ref)-d.indexOf(m.ref))},collectionRef:o})}}),i=Object.assign({},yse,{name:n,setup(o,{attrs:l}){const u=L(),c=Ve(r,void 0);At(s,{collectionItemRef:u}),_t(()=>{const d=f(u);d&&c.itemMap.set(d,{ref:d,...l})}),en(()=>{const d=f(u);c.itemMap.delete(d)})}});return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:a,ElCollectionItem:i}},wse=$e({style:{type:ne([String,Array,Object])},currentTabId:{type:ne(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ne(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:_se,ElCollectionItem:Sse,COLLECTION_INJECTION_KEY:o7,COLLECTION_ITEM_INJECTION_KEY:Cse}=bse("RovingFocusGroup"),X6=Symbol("elRovingFocusGroup"),l7=Symbol("elRovingFocusGroupItem"),xse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Ese=(e,t)=>e,Tse=(e,t,n)=>{const r=hn(e),s=Ese(r);return xse[s]},kse=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),GE=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},ZE="currentTabIdChange",YE="rovingFocusGroup.entryFocus",Nse={bubbles:!1,cancelable:!0};var Ise=de({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:wse,emits:[ZE,"entryFocus"],setup(e,{emit:t}){var n;const r=L((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=L(!1),a=L(!1),i=L(),{getItems:o}=Ve(o7,void 0),l=E(()=>[{outline:"none"},e.style]),u=v=>{t(ZE,v)},c=()=>{s.value=!0},d=Tr(v=>{var y;(y=e.onMousedown)==null||y.call(e,v)},()=>{a.value=!0}),h=Tr(v=>{var y;(y=e.onFocus)==null||y.call(e,v)},v=>{const y=!f(a),{target:b,currentTarget:w}=v;if(b===w&&y&&!f(s)){const _=new Event(YE,Nse);if(w==null||w.dispatchEvent(_),!_.defaultPrevented){const S=o().filter(k=>k.focusable),C=S.find(k=>k.active),T=S.find(k=>k.id===f(r)),N=[C,T,...S].filter(Boolean).map(k=>k.ref);GE(N)}}a.value=!1}),p=Tr(v=>{var y;(y=e.onBlur)==null||y.call(e,v)},()=>{s.value=!1}),m=(...v)=>{t("entryFocus",...v)},g=v=>{const y=Tse(v);if(y){v.preventDefault();let w=o().filter(_=>_.focusable).map(_=>_.ref);switch(y){case"last":{w.reverse();break}case"prev":case"next":{y==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=e.loop?kse(w,_+1):w.slice(_+1);break}}Fe(()=>{GE(w)})}};At(X6,{currentTabbedId:ic(r),loop:rn(e,"loop"),tabIndex:E(()=>f(s)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:l,orientation:rn(e,"orientation"),dir:rn(e,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:p,onFocus:h,onMousedown:d,onKeydown:g}),fe(()=>e.currentTabId,v=>{r.value=v??null}),nn(i,YE,m)}});function Ose(e,t,n,r,s,a){return ie(e.$slots,"default")}var $se=_r(Ise,[["render",Ose]]),Ase=de({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:_se,ElRovingFocusGroupImpl:$se}});function Rse(e,t,n,r,s,a){const i=Rt("el-roving-focus-group-impl"),o=Rt("el-focus-group-collection");return I(),ce(o,null,{default:re(()=>[q(i,Ho(Uo(e.$attrs)),{default:re(()=>[ie(e.$slots,"default")]),_:3},16)]),_:3})}var Mse=_r(Ase,[["render",Rse]]);const av=$e({trigger:{...so.trigger,type:ne([String,Array])},triggerKeys:{type:ne(Array),default:()=>[Ne.enter,Ne.numpadEnter,Ne.space,Ne.down]},virtualTriggering:so.virtualTriggering,virtualRef:so.virtualRef,effect:{...un.effect,default:"light"},type:{type:ne(String)},placement:{type:ne(String),default:"bottom"},popperOptions:{type:ne(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ne([Number,String]),default:0},maxHeight:{type:ne([Number,String]),default:""},popperClass:un.popperClass,popperStyle:un.popperStyle,disabled:Boolean,role:{type:String,values:x$,default:"menu"},buttonProps:{type:ne(Object)},teleported:un.teleported,appendTo:un.appendTo,persistent:{type:Boolean,default:!0}}),u7=$e({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:dn}}),Pse=$e({onKeydown:{type:ne(Function)}}),Vy=Symbol("elDropdown"),c7="elDropdown",{ButtonGroup:Lse}=Nr;var Dse=de({name:"ElDropdown",components:{ElButton:Nr,ElButtonGroup:Lse,ElScrollbar:bi,ElTooltip:zr,ElRovingFocusGroup:Mse,ElOnlyChild:N$,ElIcon:We,ArrowDown:Ri},props:av,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=wt(),r=Se("dropdown"),{t:s}=Mt(),a=L(),i=L(),o=L(),l=L(),u=L(null),c=L(null),d=L(!1),h=E(()=>({maxHeight:Gn(e.maxHeight)})),p=E(()=>[r.m(_.value)]),m=E(()=>Dr(e.trigger)),g=Zr().value,v=E(()=>e.id||g);function y(){var F;(F=o.value)==null||F.onClose(void 0,0)}function b(){var F;(F=o.value)==null||F.onClose()}function w(){var F;(F=o.value)==null||F.onOpen()}const _=gr();function S(...F){t("command",...F)}function C(){}function T(){const F=f(l);m.value.includes("hover")&&(F==null||F.focus({preventScroll:!0})),c.value=null}function x(F){c.value=F}function N(){t("visible-change",!0)}function k(F){var j;d.value=(F==null?void 0:F.type)==="keydown",(j=l.value)==null||j.focus()}function A(){t("visible-change",!1)}return At(Vy,{contentRef:l,role:E(()=>e.role),triggerId:v,isUsingKeyboard:d,onItemEnter:C,onItemLeave:T,handleClose:b}),At(c7,{instance:n,dropdownSize:_,handleClick:y,commandHandler:S,trigger:rn(e,"trigger"),hideOnClick:rn(e,"hideOnClick")}),{t:s,ns:r,scrollbar:u,wrapStyle:h,dropdownTriggerKls:p,dropdownSize:_,triggerId:v,currentTabId:c,handleCurrentTabIdChange:x,handlerMainButtonClick:F=>{t("click",F)},handleClose:b,handleOpen:w,handleBeforeShowTooltip:N,handleShowTooltip:k,handleBeforeHideTooltip:A,popperRef:o,contentRef:l,triggeringElementRef:a,referenceElementRef:i}}});function zse(e,t,n,r,s,a){var i;const o=Rt("el-roving-focus-group"),l=Rt("el-scrollbar"),u=Rt("el-only-child"),c=Rt("el-tooltip"),d=Rt("el-button"),h=Rt("arrow-down"),p=Rt("el-icon"),m=Rt("el-button-group");return I(),K("div",{class:M([e.ns.b(),e.ns.is("disabled",e.disabled)])},[q(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"popper-style":e.popperStyle,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-arrow":e.showArrow,"show-after":e.trigger==="hover"?e.showTimeout:0,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"virtual-ref":(i=e.virtualRef)!=null?i:e.triggeringElementRef,"virtual-triggering":e.virtualTriggering||e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,"append-to":e.appendTo,pure:"","focus-on-target":"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Bs({content:re(()=>[q(l,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:re(()=>[q(o,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange},{default:re(()=>[ie(e.$slots,"dropdown")]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:re(()=>[q(u,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:re(()=>[ie(e.$slots,"default")]),_:3},8,["id","tabindex"])]),key:"0"}]),1032,["role","effect","popper-options","placement","popper-class","popper-style","trigger","trigger-keys","trigger-target-el","show-arrow","show-after","hide-after","virtual-ref","virtual-triggering","disabled","transition","teleported","append-to","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(I(),ce(m,{key:0},{default:re(()=>[q(d,bt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:re(()=>[ie(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),q(d,bt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:re(()=>[q(p,{class:M(e.ns.e("icon"))},{default:re(()=>[q(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):le("v-if",!0)],2)}var Fse=_r(Dse,[["render",zse]]),Bse=de({components:{ElRovingFocusCollectionItem:Sse},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,onItemFocus:r,onItemShiftTab:s,onKeydown:a}=Ve(X6,void 0),i=Zr(),o=L(),l=Tr(h=>{t("mousedown",h)},h=>{e.focusable?r(f(i)):h.preventDefault()}),u=Tr(h=>{t("focus",h)},()=>{r(f(i))}),c=Tr(h=>{t("keydown",h)},h=>{const{shiftKey:p,target:m,currentTarget:g}=h;if(hn(h)===Ne.tab&&p){s();return}m===g&&a(h)}),d=E(()=>n.value===f(i));return At(l7,{rovingFocusGroupItemRef:o,tabIndex:E(()=>f(d)?0:-1),handleMousedown:l,handleFocus:u,handleKeydown:c}),{id:i,handleKeydown:c,handleFocus:u,handleMousedown:l}}});function jse(e,t,n,r,s,a){const i=Rt("el-roving-focus-collection-item");return I(),ce(i,{id:e.id,focusable:e.focusable,active:e.active},{default:re(()=>[ie(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Vse=_r(Bse,[["render",jse]]),Hse=de({name:"DropdownItemImpl",components:{ElIcon:We},props:u7,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=Se("dropdown"),{role:r}=Ve(Vy,void 0),{collectionItemRef:s}=Ve(Cse,void 0),{rovingFocusGroupItemRef:a,tabIndex:i,handleFocus:o,handleKeydown:l,handleMousedown:u}=Ve(l7,void 0),c=q6(s,a),d=E(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),h=Tr(p=>{const m=hn(p);if([Ne.enter,Ne.numpadEnter,Ne.space].includes(m))return p.preventDefault(),p.stopImmediatePropagation(),t("clickimpl",p),!0},l);return{ns:n,itemRef:c,dataset:{[i7]:""},role:d,tabIndex:i,handleFocus:o,handleKeydown:h,handleMousedown:u}}});const Use=["aria-disabled","tabindex","role"];function Wse(e,t,n,r,s,a){const i=Rt("el-icon");return I(),K(Ge,null,[e.divided?(I(),K("li",{key:0,role:"separator",class:M(e.ns.bem("menu","item","divided"))},null,2)):le("v-if",!0),Z("li",bt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=o=>e.$emit("clickimpl",o)),onFocus:t[1]||(t[1]=(...o)=>e.handleFocus&&e.handleFocus(...o)),onKeydown:t[2]||(t[2]=at((...o)=>e.handleKeydown&&e.handleKeydown(...o),["self"])),onMousedown:t[3]||(t[3]=(...o)=>e.handleMousedown&&e.handleMousedown(...o)),onPointermove:t[4]||(t[4]=o=>e.$emit("pointermove",o)),onPointerleave:t[5]||(t[5]=o=>e.$emit("pointerleave",o))}),[e.icon||e.$slots.icon?(I(),ce(i,{key:0},{default:re(()=>[ie(e.$slots,"icon",{},()=>[(I(),ce(yt(e.icon)))])]),_:3})):le("v-if",!0),ie(e.$slots,"default")],16,Use)],64)}var Kse=_r(Hse,[["render",Wse]]);const d7=()=>{const e=Ve(c7,{}),t=E(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}};var Gse=de({name:"ElDropdownItem",components:{ElRovingFocusItem:Vse,ElDropdownItemImpl:Kse},inheritAttrs:!1,props:u7,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=d7(),s=wt(),{onItemEnter:a,onItemLeave:i}=Ve(Vy,void 0),o=Tr(d=>(t("pointermove",d),d.defaultPrevented),wE(d=>{if(e.disabled){i(d);return}const h=d.currentTarget;h===document.activeElement||h.contains(document.activeElement)||(a(d),d.defaultPrevented||h==null||h.focus({preventScroll:!0}))})),l=Tr(d=>(t("pointerleave",d),d.defaultPrevented),wE(i)),u=Tr(d=>{if(!e.disabled)return t("click",d),d.type!=="keydown"&&d.defaultPrevented},d=>{var h,p,m;if(e.disabled){d.stopImmediatePropagation();return}(h=r==null?void 0:r.hideOnClick)!=null&&h.value&&((p=r.handleClick)==null||p.call(r)),(m=r.commandHandler)==null||m.call(r,e.command,s,d)}),c=E(()=>({...e,...n}));return{handleClick:u,handlePointerMove:o,handlePointerLeave:l,propsAndAttrs:c}}});function Zse(e,t,n,r,s,a){const i=Rt("el-dropdown-item-impl"),o=Rt("el-roving-focus-item");return I(),ce(o,{focusable:!e.disabled},{default:re(()=>[q(i,bt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),Bs({default:re(()=>[ie(e.$slots,"default")]),_:2},[e.$slots.icon?{name:"icon",fn:re(()=>[ie(e.$slots,"icon")]),key:"0"}:void 0]),1040,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])}var f7=_r(Gse,[["render",Zse]]),Yse=de({name:"ElDropdownMenu",props:Pse,setup(e){const t=Se("dropdown"),{_elDropdownSize:n}=d7(),r=n.value,{contentRef:s,role:a,triggerId:i,isUsingKeyboard:o,handleClose:l}=Ve(Vy,void 0),{rovingFocusGroupRef:u,rovingFocusGroupRootStyle:c,onBlur:d,onFocus:h,onKeydown:p,onMousedown:m}=Ve(X6,void 0),{collectionRef:g}=Ve(o7,void 0),v=E(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),y=q6(s,u,g),b=Tr(_=>{var S;(S=e.onKeydown)==null||S.call(e,_)},_=>{const{currentTarget:S,target:C}=_,T=hn(_);if(S.contains(C),Ne.tab===T)return l();p(_)});function w(_){o.value&&h(_)}return{size:r,rovingFocusGroupRootStyle:c,dropdownKls:v,role:a,triggerId:i,dropdownListWrapperRef:y,handleKeydown:b,onBlur:d,handleFocus:w,onMousedown:m}}});const qse=["role","aria-labelledby"];function Xse(e,t,n,r,s,a){return I(),K("ul",{ref:e.dropdownListWrapperRef,class:M(e.dropdownKls),style:qe(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onFocusin:t[0]||(t[0]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onFocusout:t[1]||(t[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onKeydown:t[2]||(t[2]=at((...i)=>e.handleKeydown&&e.handleKeydown(...i),["self"])),onMousedown:t[3]||(t[3]=at((...i)=>e.onMousedown&&e.onMousedown(...i),["self"]))},[ie(e.$slots,"default")],46,qse)}var h7=_r(Yse,[["render",Xse]]);const Jse=dt(Fse,{DropdownItem:f7,DropdownMenu:h7}),Qse=Bn(f7),eae=Bn(h7),tae=$e({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),nae={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},rae=["id"],sae=["stop-color"],aae=["stop-color"],iae=["id"],oae=["stop-color"],lae=["stop-color"],uae=["id"],cae={stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},dae={transform:"translate(-1268.000000, -535.000000)"},fae={transform:"translate(1268.000000, 535.000000)"},hae=["fill"],pae=["fill"],mae={transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},gae=["fill"],vae=["fill"],yae=["fill"],bae=["fill"],wae=["fill"],_ae={transform:"translate(53.000000, 45.000000)"},Sae=["fill","xlink:href"],Cae=["fill","mask"],xae=["fill"];var Eae=de({name:"ImgEmpty",__name:"img-empty",setup(e){const t=Se("empty"),n=Zr();return(r,s)=>(I(),K("svg",nae,[Z("defs",null,[Z("linearGradient",{id:`linearGradient-1-${f(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Z("stop",{"stop-color":`var(${f(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,sae),Z("stop",{"stop-color":`var(${f(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,aae)],8,rae),Z("linearGradient",{id:`linearGradient-2-${f(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Z("stop",{"stop-color":`var(${f(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,oae),Z("stop",{"stop-color":`var(${f(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,lae)],8,iae),Z("rect",{id:`path-3-${f(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,uae)]),Z("g",cae,[Z("g",dae,[Z("g",fae,[Z("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${f(t).cssVarBlockName("fill-color-3")})`},null,8,hae),Z("polygon",{fill:`var(${f(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,pae),Z("g",mae,[Z("polygon",{fill:`var(${f(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,gae),Z("polygon",{fill:`var(${f(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,vae),Z("rect",{fill:`url(#linearGradient-1-${f(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,yae),Z("polygon",{fill:`var(${f(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,bae)]),Z("rect",{fill:`url(#linearGradient-2-${f(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,wae),Z("g",_ae,[Z("use",{fill:`var(${f(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${f(n)}`},null,8,Sae),Z("polygon",{fill:`var(${f(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${f(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,Cae)]),Z("polygon",{fill:`var(${f(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,xae)])])])]))}});const Tae=["src"],kae={key:1};var Nae=de({name:"ElEmpty",__name:"empty",props:tae,setup(e){const t=e,{t:n}=Mt(),r=Se("empty"),s=E(()=>t.description||n("el.table.emptyText")),a=E(()=>({width:Gn(t.imageSize)}));return(i,o)=>(I(),K("div",{class:M(f(r).b())},[Z("div",{class:M(f(r).e("image")),style:qe(a.value)},[e.image?(I(),K("img",{key:0,src:e.image,ondragstart:"return false"},null,8,Tae)):ie(i.$slots,"image",{key:1},()=>[q(Eae)])],6),Z("div",{class:M(f(r).e("description"))},[i.$slots.description?ie(i.$slots,"description",{key:0}):(I(),K("p",kae,Ie(s.value),1))],2),i.$slots.default?(I(),K("div",{key:0,class:M(f(r).e("bottom"))},[ie(i.$slots,"default")],2)):le("v-if",!0)],2))}});const p7=dt(Nae),Iae=$e({size:{type:String,values:Ai},disabled:Boolean}),Oae=$e({...Iae,model:Object,rules:{type:ne(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:ne([Object,Boolean]),default:!0}}),$ae={validate:(e,t,n)=>(ke(e)||Ke(e))&&cn(t)&&Ke(n)};function Aae(){const e=L([]),t=E(()=>{if(!e.value.length)return"0";const a=Math.max(...e.value);return a?`${a}px`:""});function n(a){const i=e.value.indexOf(a);return i===-1&&t.value,i}function r(a,i){if(a&&i){const o=n(i);e.value.splice(o,1,a)}else a&&e.value.push(a)}function s(a){const i=n(a);i>-1&&e.value.splice(i,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:s}}const lg=(e,t)=>{const n=Dr(t).map(r=>ke(r)?r.join("."):r);return n.length>0?e.filter(r=>r.propString&&n.includes(r.propString)):e},Rae="ElForm";var Mae=de({name:Rae,__name:"form",props:Oae,emits:$ae,setup(e,{expose:t,emit:n}){const r=e,s=n,a=L(),i=Xt([]),o=gr(),l=Se("form"),u=E(()=>{const{labelPosition:C,inline:T}=r;return[l.b(),l.m(o.value||"default"),{[l.m(`label-${C}`)]:C,[l.m("inline")]:T}]}),c=C=>lg(i,[C])[0],d=C=>{i.push(C)},h=C=>{C.prop&&i.splice(i.indexOf(C),1)},p=C=>{r.model&&C&&i.forEach(T=>{if(T.prop&&aG(C,T.prop)){const x=Td(C,T.prop).value;T.setInitialValue(x)}})},m=(C=[])=>{r.model&&lg(i,C).forEach(T=>T.resetField())},g=(C=[])=>{lg(i,C).forEach(T=>T.clearValidate())},v=E(()=>!!r.model),y=C=>{if(i.length===0)return[];const T=lg(i,C);return T.length?T:[]},b=async C=>_(void 0,C),w=async(C=[])=>{if(!v.value)return!1;const T=y(C);if(T.length===0)return!0;let x={};for(const N of T)try{await N.validate(""),N.validateState==="error"&&!N.error&&N.resetField()}catch(k){x={...x,...k}}return Object.keys(x).length===0?!0:Promise.reject(x)},_=async(C=[],T)=>{let x=!1;const N=!Ye(T);try{return x=await w(C),x===!0&&await(T==null?void 0:T(x)),x}catch(k){if(k instanceof Error)throw k;const A=k;if(r.scrollToError&&a.value){const O=a.value.querySelector(`.${l.b()}-item.is-error`);O==null||O.scrollIntoView(r.scrollIntoViewOptions)}return!x&&await(T==null?void 0:T(!1,A)),N&&Promise.reject(A)}},S=C=>{var T;const x=c(C);x&&((T=x.$el)==null||T.scrollIntoView(r.scrollIntoViewOptions))};return fe(()=>r.rules,()=>{r.validateOnRuleChange&&b().catch(C=>void 0)},{deep:!0,flush:"post"}),At(Tc,Xt({...Or(r),emit:s,resetFields:m,clearValidate:g,validateField:_,getField:c,addField:d,removeField:h,setInitialValues:p,...Aae()})),t({validate:b,validateField:_,resetFields:m,clearValidate:g,scrollToField:S,getField:c,fields:i,setInitialValues:p}),(C,T)=>(I(),K("form",{ref_key:"formRef",ref:a,class:M(u.value)},[ie(C.$slots,"default")],2))}});const Pae=["","error","validating","success"],Lae=$e({label:String,labelWidth:{type:[String,Number]},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:ne([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ne([Object,Array])},error:String,validateStatus:{type:String,values:Pae},for:String,inlineMessage:{type:Boolean,default:void 0},showMessage:{type:Boolean,default:!0},size:{type:String,values:Ai}});function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bu.apply(this,arguments)}function Dae(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cp(e,t)}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pw(e)}function cp(e,t){return cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},cp(e,t)}function zae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iv(e,t,n){return zae()?iv=Reflect.construct.bind():iv=function(s,a,i){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(s,o),u=new l;return i&&cp(u,i.prototype),u},iv.apply(null,arguments)}function Fae(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function mw(e){var t=typeof Map=="function"?new Map:void 0;return mw=function(r){if(r===null||!Fae(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,s)}function s(){return iv(r,arguments,pw(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),cp(s,r)},mw(e)}var Bae=/%[sdj%]/g,jae=function(){};function gw(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function pa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=0,a=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var i=e.replace(Bae,function(o){if(o==="%%")return"%";if(s>=a)return o;switch(o){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}break;default:return o}});return i}return e}function Vae(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Fr(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Vae(t)&&typeof e=="string"&&!e)}function Hae(e,t,n){var r=[],s=0,a=e.length;function i(o){r.push.apply(r,o||[]),s++,s===a&&n(r)}e.forEach(function(o){t(o,i)})}function qE(e,t,n){var r=0,s=e.length;function a(i){if(i&&i.length){n(i);return}var o=r;r=r+1,o<s?t(e[o],a):n([])}a([])}function Uae(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var XE=function(e){Dae(t,e);function t(n,r){var s;return s=e.call(this,"Async Validation Error")||this,s.errors=n,s.fields=r,s}return t}(mw(Error));function Wae(e,t,n,r,s){if(t.first){var a=new Promise(function(h,p){var m=function(y){return r(y),y.length?p(new XE(y,gw(y))):h(s)},g=Uae(e);qE(g,n,m)});return a.catch(function(h){return h}),a}var i=t.firstFields===!0?Object.keys(e):t.firstFields||[],o=Object.keys(e),l=o.length,u=0,c=[],d=new Promise(function(h,p){var m=function(v){if(c.push.apply(c,v),u++,u===l)return r(c),c.length?p(new XE(c,gw(c))):h(s)};o.length||(r(c),h(s)),o.forEach(function(g){var v=e[g];i.indexOf(g)!==-1?qE(v,n,m):Hae(v,n,m)})});return d.catch(function(h){return h}),d}function Kae(e){return!!(e&&e.message!==void 0)}function Gae(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function JE(e,t){return function(n){var r;return e.fullFields?r=Gae(t,e.fullFields):r=t[n.field||e.fullField],Kae(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function QE(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=Bu({},e[n],r):e[n]=r}}return e}var m7=function(t,n,r,s,a,i){t.required&&(!r.hasOwnProperty(t.field)||Fr(n,i||t.type))&&s.push(pa(a.messages.required,t.fullField))},Zae=function(t,n,r,s,a){(/^\s+$/.test(n)||n==="")&&s.push(pa(a.messages.whitespace,t.fullField))},ug,Yae=function(){if(ug)return ug;var e="[a-fA-F\\d:]",t=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+s+"$)"),i=new RegExp("^"+n+"$"),o=new RegExp("^"+s+"$"),l=function(_){return _&&_.exact?a:new RegExp("(?:"+t(_)+n+t(_)+")|(?:"+t(_)+s+t(_)+")","g")};l.v4=function(w){return w&&w.exact?i:new RegExp(""+t(w)+n+t(w),"g")},l.v6=function(w){return w&&w.exact?o:new RegExp(""+t(w)+s+t(w),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,h=l.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',b="(?:"+u+"|www\\.)"+c+"(?:localhost|"+d+"|"+h+"|"+p+m+g+")"+v+y;return ug=new RegExp("(?:^"+b+"$)","i"),ug},eT={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},qf={integer:function(t){return qf.number(t)&&parseInt(t,10)===t},float:function(t){return qf.number(t)&&!qf.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!qf.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(eT.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Yae())},hex:function(t){return typeof t=="string"&&!!t.match(eT.hex)}},qae=function(t,n,r,s,a){if(t.required&&n===void 0){m7(t,n,r,s,a);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=t.type;i.indexOf(o)>-1?qf[o](n)||s.push(pa(a.messages.types[o],t.fullField,t.type)):o&&typeof n!==t.type&&s.push(pa(a.messages.types[o],t.fullField,t.type))},Xae=function(t,n,r,s,a){var i=typeof t.len=="number",o=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,d=null,h=typeof n=="number",p=typeof n=="string",m=Array.isArray(n);if(h?d="number":p?d="string":m&&(d="array"),!d)return!1;m&&(c=n.length),p&&(c=n.replace(u,"_").length),i?c!==t.len&&s.push(pa(a.messages[d].len,t.fullField,t.len)):o&&!l&&c<t.min?s.push(pa(a.messages[d].min,t.fullField,t.min)):l&&!o&&c>t.max?s.push(pa(a.messages[d].max,t.fullField,t.max)):o&&l&&(c<t.min||c>t.max)&&s.push(pa(a.messages[d].range,t.fullField,t.min,t.max))},Bc="enum",Jae=function(t,n,r,s,a){t[Bc]=Array.isArray(t[Bc])?t[Bc]:[],t[Bc].indexOf(n)===-1&&s.push(pa(a.messages[Bc],t.fullField,t[Bc].join(", ")))},Qae=function(t,n,r,s,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||s.push(pa(a.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var i=new RegExp(t.pattern);i.test(n)||s.push(pa(a.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},_n={required:m7,whitespace:Zae,type:qae,range:Xae,enum:Jae,pattern:Qae},eie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n,"string")&&!t.required)return r();_n.required(t,n,s,i,a,"string"),Fr(n,"string")||(_n.type(t,n,s,i,a),_n.range(t,n,s,i,a),_n.pattern(t,n,s,i,a),t.whitespace===!0&&_n.whitespace(t,n,s,i,a))}r(i)},tie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n)&&!t.required)return r();_n.required(t,n,s,i,a),n!==void 0&&_n.type(t,n,s,i,a)}r(i)},nie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(n===""&&(n=void 0),Fr(n)&&!t.required)return r();_n.required(t,n,s,i,a),n!==void 0&&(_n.type(t,n,s,i,a),_n.range(t,n,s,i,a))}r(i)},rie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n)&&!t.required)return r();_n.required(t,n,s,i,a),n!==void 0&&_n.type(t,n,s,i,a)}r(i)},sie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n)&&!t.required)return r();_n.required(t,n,s,i,a),Fr(n)||_n.type(t,n,s,i,a)}r(i)},aie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n)&&!t.required)return r();_n.required(t,n,s,i,a),n!==void 0&&(_n.type(t,n,s,i,a),_n.range(t,n,s,i,a))}r(i)},iie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n)&&!t.required)return r();_n.required(t,n,s,i,a),n!==void 0&&(_n.type(t,n,s,i,a),_n.range(t,n,s,i,a))}r(i)},oie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(n==null&&!t.required)return r();_n.required(t,n,s,i,a,"array"),n!=null&&(_n.type(t,n,s,i,a),_n.range(t,n,s,i,a))}r(i)},lie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n)&&!t.required)return r();_n.required(t,n,s,i,a),n!==void 0&&_n.type(t,n,s,i,a)}r(i)},uie="enum",cie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n)&&!t.required)return r();_n.required(t,n,s,i,a),n!==void 0&&_n[uie](t,n,s,i,a)}r(i)},die=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n,"string")&&!t.required)return r();_n.required(t,n,s,i,a),Fr(n,"string")||_n.pattern(t,n,s,i,a)}r(i)},fie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n,"date")&&!t.required)return r();if(_n.required(t,n,s,i,a),!Fr(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),_n.type(t,l,s,i,a),l&&_n.range(t,l.getTime(),s,i,a)}}r(i)},hie=function(t,n,r,s,a){var i=[],o=Array.isArray(n)?"array":typeof n;_n.required(t,n,s,i,a,o),r(i)},wb=function(t,n,r,s,a){var i=t.type,o=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Fr(n,i)&&!t.required)return r();_n.required(t,n,s,o,a,i),Fr(n,i)||_n.type(t,n,s,o,a)}r(o)},pie=function(t,n,r,s,a){var i=[],o=t.required||!t.required&&s.hasOwnProperty(t.field);if(o){if(Fr(n)&&!t.required)return r();_n.required(t,n,s,i,a)}r(i)},Ih={string:eie,method:tie,number:nie,boolean:rie,regexp:sie,integer:aie,float:iie,array:oie,object:lie,enum:cie,pattern:die,date:fie,url:wb,hex:wb,email:wb,required:hie,any:pie};function vw(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var yw=vw(),cm=function(){function e(n){this.rules=null,this._messages=yw,this.define(n)}var t=e.prototype;return t.define=function(r){var s=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var i=r[a];s.rules[a]=Array.isArray(i)?i:[i]})},t.messages=function(r){return r&&(this._messages=QE(vw(),r)),this._messages},t.validate=function(r,s,a){var i=this;s===void 0&&(s={}),a===void 0&&(a=function(){});var o=r,l=s,u=a;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,o),Promise.resolve(o);function c(g){var v=[],y={};function b(_){if(Array.isArray(_)){var S;v=(S=v).concat.apply(S,_)}else v.push(_)}for(var w=0;w<g.length;w++)b(g[w]);v.length?(y=gw(v),u(v,y)):u(null,o)}if(l.messages){var d=this.messages();d===yw&&(d=vw()),QE(d,l.messages),l.messages=d}else l.messages=this.messages();var h={},p=l.keys||Object.keys(this.rules);p.forEach(function(g){var v=i.rules[g],y=o[g];v.forEach(function(b){var w=b;typeof w.transform=="function"&&(o===r&&(o=Bu({},o)),y=o[g]=w.transform(y)),typeof w=="function"?w={validator:w}:w=Bu({},w),w.validator=i.getValidationMethod(w),w.validator&&(w.field=g,w.fullField=w.fullField||g,w.type=i.getType(w),h[g]=h[g]||[],h[g].push({rule:w,value:y,source:o,field:g}))})});var m={};return Wae(h,l,function(g,v){var y=g.rule,b=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");b=b&&(y.required||!y.required&&g.value),y.field=g.field;function w(C,T){return Bu({},T,{fullField:y.fullField+"."+C,fullFields:y.fullFields?[].concat(y.fullFields,[C]):[C]})}function _(C){C===void 0&&(C=[]);var T=Array.isArray(C)?C:[C];!l.suppressWarning&&T.length&&e.warning("async-validator:",T),T.length&&y.message!==void 0&&(T=[].concat(y.message));var x=T.map(JE(y,o));if(l.first&&x.length)return m[y.field]=1,v(x);if(!b)v(x);else{if(y.required&&!g.value)return y.message!==void 0?x=[].concat(y.message).map(JE(y,o)):l.error&&(x=[l.error(y,pa(l.messages.required,y.field))]),v(x);var N={};y.defaultField&&Object.keys(g.value).map(function(O){N[O]=y.defaultField}),N=Bu({},N,g.rule.fields);var k={};Object.keys(N).forEach(function(O){var F=N[O],j=Array.isArray(F)?F:[F];k[O]=j.map(w.bind(null,O))});var A=new e(k);A.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),A.validate(g.value,g.rule.options||l,function(O){var F=[];x&&x.length&&F.push.apply(F,x),O&&O.length&&F.push.apply(F,O),v(F.length?F:null)})}}var S;if(y.asyncValidator)S=y.asyncValidator(y,g.value,_,g.source,l);else if(y.validator){try{S=y.validator(y,g.value,_,g.source,l)}catch(C){console.error==null||console.error(C),l.suppressValidatorError||setTimeout(function(){throw C},0),_(C.message)}S===!0?_():S===!1?_(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):S instanceof Array?_(S):S instanceof Error&&_(S.message)}S&&S.then&&S.then(function(){return _()},function(C){return _(C)})},function(g){c(g)},o)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Ih.hasOwnProperty(r.type))throw new Error(pa("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var s=Object.keys(r),a=s.indexOf("message");return a!==-1&&s.splice(a,1),s.length===1&&s[0]==="required"?Ih.required:Ih[this.getType(r)]||void 0},e}();cm.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Ih[t]=n};cm.warning=jae;cm.messages=yw;cm.validators=Ih;const tT="ElLabelWrap";var mie=de({name:tT,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=Ve(Tc,void 0),r=Ve(go);r||fr(tT,"usage: <el-form-item><label-wrap /></el-form-item>");const s=Se("form"),a=L(),i=L(0),o=()=>{var c;if((c=a.value)!=null&&c.firstElementChild){const d=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(c="update")=>{Fe(()=>{t.default&&e.isAutoWidth&&(c==="update"?i.value=o():c==="remove"&&(n==null||n.deregisterLabelWidth(i.value)))})},u=()=>l("update");return _t(()=>{u()}),en(()=>{l("remove")}),Ni(()=>u()),fe(i,(c,d)=>{e.updateAll&&(n==null||n.registerLabelWidth(c,d))}),$n(E(()=>{var c,d;return(d=(c=a.value)==null?void 0:c.firstElementChild)!=null?d:null}),u),()=>{var c,d;if(!t)return null;const{isAutoWidth:h}=e;if(h){const p=n==null?void 0:n.autoLabelWidth,m=r==null?void 0:r.hasLabel,g={};if(m&&p&&p!=="auto"){const v=Math.max(0,Number.parseInt(p,10)-i.value),b=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";v&&(g[b]=`${v}px`)}return q("div",{ref:a,class:[s.be("item","label-wrap")],style:g},[(c=t.default)==null?void 0:c.call(t)])}else return q(Ge,{ref:a},[(d=t.default)==null?void 0:d.call(t)])}}});const gie=["role","aria-labelledby"];var g7=de({name:"ElFormItem",__name:"form-item",props:Lae,setup(e,{expose:t}){const n=e,r=nr(),s=Ve(Tc,void 0),a=Ve(go,void 0),i=gr(void 0,{formItem:!1}),o=Se("form-item"),l=Zr().value,u=L([]),c=L(""),d=zG(c,100),h=L(""),p=L();let m,g=!1;const v=E(()=>n.labelPosition||(s==null?void 0:s.labelPosition)),y=E(()=>{var ee;return v.value==="top"?{}:{width:Gn((ee=n.labelWidth)!=null?ee:s==null?void 0:s.labelWidth)}}),b=E(()=>{var ee;if(v.value==="top"||s!=null&&s.inline)return{};if(!n.label&&!n.labelWidth&&k)return{};const oe=Gn((ee=n.labelWidth)!=null?ee:s==null?void 0:s.labelWidth);return!n.label&&!r.label?{marginLeft:oe}:{}}),w=E(()=>[o.b(),o.m(i.value),o.is("error",c.value==="error"),o.is("validating",c.value==="validating"),o.is("success",c.value==="success"),o.is("required",V.value||n.required),o.is("no-asterisk",s==null?void 0:s.hideRequiredAsterisk),(s==null?void 0:s.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:s==null?void 0:s.statusIcon,[o.m(`label-${v.value}`)]:v.value}]),_=E(()=>cn(n.inlineMessage)?n.inlineMessage:(s==null?void 0:s.inlineMessage)||!1),S=E(()=>[o.e("error"),{[o.em("error","inline")]:_.value}]),C=E(()=>n.prop?ke(n.prop)?n.prop.join("."):n.prop:""),T=E(()=>!!(n.label||r.label)),x=E(()=>{var ee;return(ee=n.for)!=null?ee:u.value.length===1?u.value[0]:void 0}),N=E(()=>!x.value&&T.value),k=!!a,A=E(()=>{const ee=s==null?void 0:s.model;if(!(!ee||!n.prop))return Td(ee,n.prop).value}),O=E(()=>{const{required:ee}=n,oe=[];n.rules&&oe.push(...Dr(n.rules));const X=s==null?void 0:s.rules;if(X&&n.prop){const H=Td(X,n.prop).value;H&&oe.push(...Dr(H))}if(ee!==void 0){const H=oe.map((te,ue)=>[te,ue]).filter(([te])=>"required"in te);if(H.length>0)for(const[te,ue]of H)te.required!==ee&&(oe[ue]={...te,required:ee});else oe.push({required:ee})}return oe}),F=E(()=>O.value.length>0),j=ee=>O.value.filter(X=>!X.trigger||!ee?!0:ke(X.trigger)?X.trigger.includes(ee):X.trigger===ee).map(({trigger:X,...H})=>H),V=E(()=>O.value.some(ee=>ee.required)),G=E(()=>{var ee;return d.value==="error"&&n.showMessage&&((ee=s==null?void 0:s.showMessage)!=null?ee:!0)}),R=E(()=>`${n.label||""}${(s==null?void 0:s.labelSuffix)||""}`),$=ee=>{c.value=ee},D=ee=>{var oe,X;const{errors:H,fields:te}=ee;(!H||!te)&&console.error(ee),$("error"),h.value=H?(X=(oe=H==null?void 0:H[0])==null?void 0:oe.message)!=null?X:`${n.prop} is required`:"",s==null||s.emit("validate",n.prop,!1,h.value)},z=()=>{$("success"),s==null||s.emit("validate",n.prop,!0,"")},W=async ee=>{const oe=C.value;return new cm({[oe]:ee}).validate({[oe]:A.value},{firstFields:!0}).then(()=>(z(),!0)).catch(H=>(D(H),Promise.reject(H)))},Y=async(ee,oe)=>{if(g||!n.prop)return!1;const X=Ye(oe);if(!F.value)return oe==null||oe(!1),!1;const H=j(ee);return H.length===0?(oe==null||oe(!0),!0):($("validating"),W(H).then(()=>(oe==null||oe(!0),!0)).catch(te=>{const{fields:ue}=te;return oe==null||oe(!1,ue),X?!1:Promise.reject(ue)}))},U=()=>{$(""),h.value="",g=!1},Q=async()=>{const ee=s==null?void 0:s.model;if(!ee||!n.prop)return;const oe=Td(ee,n.prop);g=!0,oe.value=rb(m),await Fe(),U(),g=!1},J=ee=>{u.value.includes(ee)||u.value.push(ee)},B=ee=>{u.value=u.value.filter(oe=>oe!==ee)},P=ee=>{m=rb(ee)};fe(()=>n.error,ee=>{h.value=ee||"",$(ee?"error":"")},{immediate:!0}),fe(()=>n.validateStatus,ee=>$(ee||""));const ae=Xt({...Or(n),$el:p,size:i,validateMessage:h,validateState:c,labelId:l,inputIds:u,isGroup:N,hasLabel:T,fieldValue:A,addInputId:J,removeInputId:B,resetField:Q,clearValidate:U,validate:Y,propString:C,setInitialValue:P});return At(go,ae),_t(()=>{n.prop&&(s==null||s.addField(ae),m=rb(A.value))}),en(()=>{s==null||s.removeField(ae)}),t({size:i,validateMessage:h,validateState:c,validate:Y,clearValidate:U,resetField:Q,setInitialValue:P}),(ee,oe)=>{var X;return I(),K("div",{ref_key:"formItemRef",ref:p,class:M(w.value),role:N.value?"group":void 0,"aria-labelledby":N.value?f(l):void 0},[q(f(mie),{"is-auto-width":y.value.width==="auto","update-all":((X=f(s))==null?void 0:X.labelWidth)==="auto"},{default:re(()=>[e.label||ee.$slots.label?(I(),ce(yt(x.value?"label":"div"),{key:0,id:f(l),for:x.value,class:M(f(o).e("label")),style:qe(y.value)},{default:re(()=>[ie(ee.$slots,"label",{label:R.value},()=>[gt(Ie(R.value),1)])]),_:3},8,["id","for","class","style"])):le("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Z("div",{class:M(f(o).e("content")),style:qe(b.value)},[ie(ee.$slots,"default"),q(L8,{name:`${f(o).namespace.value}-zoom-in-top`},{default:re(()=>[G.value?ie(ee.$slots,"error",{key:0,error:h.value},()=>[Z("div",{class:M(S.value)},Ie(h.value),3)]):le("v-if",!0)]),_:3},8,["name"])],6)],10,gie)}}});const vie=dt(Mae,{FormItem:g7}),yie=Bn(g7),bie=$e({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:ne([String,Object])},previewSrcList:{type:ne(Array),default:()=>Wn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:ne(String)}}),wie={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Xe(e),close:()=>!0,show:()=>!0},_ie=$e({urlList:{type:ne(Array),default:()=>Wn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:ne(String)}}),Sie={close:()=>!0,error:e=>e instanceof Event,switch:e=>Xe(e),rotate:e=>Xe(e)},Cie=["src","crossorigin"];var xie=de({name:"ElImageViewer",__name:"image-viewer",props:_ie,emits:Sie,setup(e,{expose:t,emit:n}){var r;const s={CONTAIN:{name:"contain",icon:to(JO)},ORIGINAL:{name:"original",icon:to(oY)}},a=e,i=n;let o;const{t:l}=Mt(),u=Se("image-viewer"),{nextZIndex:c}=Jp(),d=L(),h=L(),p=BF(),m=E(()=>{const{scale:oe,minScale:X,maxScale:H}=a;return PO(oe,X,H)}),g=L(!0),v=L(!1),y=L(!1),b=L(a.initialIndex),w=wn(s.CONTAIN),_=L({scale:m.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),S=L((r=a.zIndex)!=null?r:c());jy(y,{ns:u});const C=E(()=>{const{urlList:oe}=a;return oe.length<=1}),T=E(()=>b.value===0),x=E(()=>b.value===a.urlList.length-1),N=E(()=>a.urlList[b.value]),k=E(()=>[u.e("btn"),u.e("prev"),u.is("disabled",!a.infinite&&T.value)]),A=E(()=>[u.e("btn"),u.e("next"),u.is("disabled",!a.infinite&&x.value)]),O=E(()=>{const{scale:oe,deg:X,offsetX:H,offsetY:te,enableTransition:ue}=_.value;let ye=H/oe,he=te/oe;const _e=X*Math.PI/180,Re=Math.cos(_e),De=Math.sin(_e);ye=ye*Re+he*De,he=he*Re-H/oe*De;const pe={transform:`scale(${oe}) rotate(${X}deg) translate(${ye}px, ${he}px)`,transition:ue?"transform .3s":""};return w.value.name===s.CONTAIN.name&&(pe.maxWidth=pe.maxHeight="100%"),pe}),F=E(()=>`${b.value+1} / ${a.urlList.length}`);function j(){G(),o==null||o(),y.value=!1,i("close")}function V(){const oe=Bl(H=>{switch(hn(H)){case Ne.esc:a.closeOnPressEscape&&j();break;case Ne.space:Y();break;case Ne.left:Q();break;case Ne.up:B("zoomIn");break;case Ne.right:J();break;case Ne.down:B("zoomOut");break}}),X=Bl(H=>{const te=H.deltaY||H.deltaX;B(te<0?"zoomIn":"zoomOut",{zoomRate:a.zoomRate,enableTransition:!1})});p.run(()=>{nn(document,"keydown",oe),nn(d,"wheel",X)})}function G(){p.stop()}function R(){g.value=!1}function $(oe){v.value=!0,g.value=!1,i("error",oe),oe.target.alt=l("el.image.error")}function D(oe){if(g.value||oe.button!==0||!d.value)return;_.value.enableTransition=!1;const{offsetX:X,offsetY:H}=_.value,te=oe.pageX,ue=oe.pageY,ye=Bl(Re=>{_.value={..._.value,offsetX:X+Re.pageX-te,offsetY:H+Re.pageY-ue}}),he=nn(document,"mousemove",ye),_e=nn(document,"mouseup",()=>{he(),_e()});oe.preventDefault()}function z(oe){if(g.value||!d.value||oe.touches.length!==1)return;_.value.enableTransition=!1;const{offsetX:X,offsetY:H}=_.value,{pageX:te,pageY:ue}=oe.touches[0],ye=Bl(Re=>{const De=Re.touches[0];_.value={..._.value,offsetX:X+De.pageX-te,offsetY:H+De.pageY-ue}}),he=nn(document,"touchmove",ye),_e=nn(document,"touchend",()=>{he(),_e()});oe.preventDefault()}function W(){_.value={scale:m.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Y(){if(g.value||v.value)return;const oe=tp(s),X=Object.values(s),H=w.value.name,ue=(X.findIndex(ye=>ye.name===H)+1)%oe.length;w.value=s[oe[ue]],W()}function U(oe){v.value=!1;const X=a.urlList.length;b.value=(oe+X)%X}function Q(){T.value&&!a.infinite||U(b.value-1)}function J(){x.value&&!a.infinite||U(b.value+1)}function B(oe,X={}){if(g.value||v.value)return;const{minScale:H,maxScale:te}=a,{zoomRate:ue,rotateDeg:ye,enableTransition:he}={zoomRate:a.zoomRate,rotateDeg:90,enableTransition:!0,...X};switch(oe){case"zoomOut":_.value.scale>H&&(_.value.scale=Number.parseFloat((_.value.scale/ue).toFixed(3)));break;case"zoomIn":_.value.scale<te&&(_.value.scale=Number.parseFloat((_.value.scale*ue).toFixed(3)));break;case"clockwise":_.value.deg+=ye,i("rotate",_.value.deg);break;case"anticlockwise":_.value.deg-=ye,i("rotate",_.value.deg);break}_.value.enableTransition=he}function P(oe){var X;((X=oe.detail)==null?void 0:X.focusReason)==="pointer"&&oe.preventDefault()}function ae(){a.closeOnPressEscape&&j()}function ee(oe){if(oe.ctrlKey){if(oe.deltaY<0)return oe.preventDefault(),!1;if(oe.deltaY>0)return oe.preventDefault(),!1}}return fe(()=>m.value,oe=>{_.value.scale=oe}),fe(N,()=>{Fe(()=>{const oe=h.value;oe!=null&&oe.complete||(g.value=!0)})}),fe(b,oe=>{W(),i("switch",oe)}),_t(()=>{y.value=!0,V(),o=nn("wheel",ee,{passive:!1})}),t({setActiveItem:U}),(oe,X)=>(I(),ce(f(_f),{to:"body",disabled:!e.teleported},{default:re(()=>[q(Gr,{name:"viewer-fade",appear:""},{default:re(()=>[Z("div",{ref_key:"wrapper",ref:d,tabindex:-1,class:M(f(u).e("wrapper")),style:qe({zIndex:S.value})},[q(f(Sf),{loop:"",trapped:"","focus-trap-el":d.value,"focus-start-el":"container",onFocusoutPrevented:P,onReleaseRequested:ae},{default:re(()=>[Z("div",{class:M(f(u).e("mask")),onClick:X[0]||(X[0]=at(H=>e.hideOnClickModal&&j(),["self"]))},null,2),le(" CLOSE "),Z("span",{class:M([f(u).e("btn"),f(u).e("close")]),onClick:j},[q(f(We),null,{default:re(()=>[q(f(ja))]),_:1})],2),le(" ARROW "),C.value?le("v-if",!0):(I(),K(Ge,{key:0},[Z("span",{class:M(k.value),onClick:Q},[q(f(We),null,{default:re(()=>[q(f(el))]),_:1})],2),Z("span",{class:M(A.value),onClick:J},[q(f(We),null,{default:re(()=>[q(f(_s))]),_:1})],2)],64)),oe.$slots.progress||e.showProgress?(I(),K("div",{key:1,class:M([f(u).e("btn"),f(u).e("progress")])},[ie(oe.$slots,"progress",{activeIndex:b.value,total:e.urlList.length},()=>[gt(Ie(F.value),1)])],2)):le("v-if",!0),le(" ACTIONS "),Z("div",{class:M([f(u).e("btn"),f(u).e("actions")])},[Z("div",{class:M(f(u).e("actions__inner"))},[ie(oe.$slots,"toolbar",{actions:B,prev:Q,next:J,reset:Y,activeIndex:b.value,setActiveItem:U},()=>[q(f(We),{onClick:X[1]||(X[1]=H=>B("zoomOut"))},{default:re(()=>[q(f(e$))]),_:1}),q(f(We),{onClick:X[2]||(X[2]=H=>B("zoomIn"))},{default:re(()=>[q(f(h6))]),_:1}),Z("i",{class:M(f(u).e("actions__divider"))},null,2),q(f(We),{onClick:Y},{default:re(()=>[(I(),ce(yt(w.value.icon)))]),_:1}),Z("i",{class:M(f(u).e("actions__divider"))},null,2),q(f(We),{onClick:X[3]||(X[3]=H=>B("anticlockwise"))},{default:re(()=>[q(f(rY))]),_:1}),q(f(We),{onClick:X[4]||(X[4]=H=>B("clockwise"))},{default:re(()=>[q(f(aY))]),_:1})])],2)],2),le(" CANVAS "),Z("div",{class:M(f(u).e("canvas"))},[v.value&&oe.$slots["viewer-error"]?ie(oe.$slots,"viewer-error",{key:0,activeIndex:b.value,src:N.value}):(I(),K("img",{ref_key:"imgRef",ref:h,key:N.value,src:N.value,style:qe(O.value),class:M(f(u).e("img")),crossorigin:e.crossorigin,onLoad:R,onError:$,onMousedown:D,onTouchstart:z},null,46,Cie))],2),ie(oe.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});const v7=dt(xie),Eie=["src","loading","crossorigin"],Tie={key:0};var kie=de({name:"ElImage",inheritAttrs:!1,__name:"image",props:bie,emits:wie,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:a}=Mt(),i=Se("image"),o=dl(),l=E(()=>ep(Object.entries(o).filter(([R])=>/^(data-|on[A-Z])/i.test(R)||["id","style"].includes(R)))),u=My({excludeListeners:!0,excludeKeys:E(()=>Object.keys(l.value))}),c=L(),d=L(!1),h=L(!0),p=L(!1),m=L(),g=L(),v=Yt&&"loading"in HTMLImageElement.prototype;let y;const b=E(()=>[i.e("inner"),_.value&&i.e("preview"),h.value&&i.is("loading")]),w=E(()=>{const{fit:R}=r;return Yt&&R?{objectFit:R}:{}}),_=E(()=>{const{previewSrcList:R}=r;return ke(R)&&R.length>0}),S=E(()=>{const{previewSrcList:R,initialIndex:$}=r;let D=$;return $>R.length-1&&(D=0),D}),C=E(()=>r.loading==="eager"?!1:!v&&r.loading==="lazy"||r.lazy),T=()=>{Yt&&(h.value=!0,d.value=!1,c.value=r.src)};function x(R){h.value=!1,d.value=!1,s("load",R)}function N(R){h.value=!1,d.value=!0,s("error",R)}function k(R){R&&(T(),F())}const A=DO(k,200,!0);async function O(){var R;if(!Yt)return;await Fe();const{scrollContainer:$}=r;if(Ys($))g.value=$;else if(Ke($)&&$!=="")g.value=(R=document.querySelector($))!=null?R:void 0;else if(m.value){const z=o6(m.value);g.value=Yp(z)?void 0:z}const{stop:D}=KG(m,([z])=>{A(z.isIntersecting)},{root:g});y=D}function F(){!Yt||!A||(y==null||y(),g.value=void 0,y=void 0)}function j(){_.value&&(p.value=!0,s("show"))}function V(){p.value=!1,s("close")}function G(R){s("switch",R)}return fe(()=>r.src,()=>{C.value?(h.value=!0,d.value=!1,F(),O()):T()}),_t(()=>{C.value?O():T()}),t({showPreview:j}),(R,$)=>(I(),K("div",bt({ref_key:"container",ref:m},l.value,{class:[f(i).b(),R.$attrs.class]}),[d.value?ie(R.$slots,"error",{key:0},()=>[Z("div",{class:M(f(i).e("error"))},Ie(f(a)("el.image.error")),3)]):(I(),K(Ge,{key:1},[c.value!==void 0?(I(),K("img",bt({key:0},f(u),{src:c.value,loading:e.loading,style:w.value,class:b.value,crossorigin:e.crossorigin,onClick:j,onLoad:x,onError:N}),null,16,Eie)):le("v-if",!0),h.value?(I(),K("div",{key:1,class:M(f(i).e("wrapper"))},[ie(R.$slots,"placeholder",{},()=>[Z("div",{class:M(f(i).e("placeholder"))},null,2)])],2)):le("v-if",!0)],64)),_.value?(I(),K(Ge,{key:2},[p.value?(I(),ce(f(v7),{key:0,"z-index":e.zIndex,"initial-index":S.value,infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"show-progress":e.showProgress,"url-list":e.previewSrcList,scale:e.scale,crossorigin:e.crossorigin,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:V,onSwitch:G},Bs({toolbar:re(D=>[ie(R.$slots,"toolbar",Ho(Uo(D)))]),default:re(()=>[R.$slots.viewer?(I(),K("div",Tie,[ie(R.$slots,"viewer")])):le("v-if",!0)]),_:2},[R.$slots.progress?{name:"progress",fn:re(D=>[ie(R.$slots,"progress",Ho(Uo(D)))]),key:"0"}:void 0,R.$slots["viewer-error"]?{name:"viewer-error",fn:re(D=>[ie(R.$slots,"viewer-error",Ho(Uo(D)))]),key:"1"}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","scale","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):le("v-if",!0)],64)):le("v-if",!0)],16))}});const Nie=dt(kie),Iie=$e({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.MAX_SAFE_INTEGER},min:{type:Number,default:Number.MIN_SAFE_INTEGER},modelValue:{type:[Number,null]},readonly:Boolean,disabled:{type:Boolean,default:void 0},size:wr,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:ne([String,Number,null]),validator:e=>e===null||Xe(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...Ts(["ariaLabel"]),inputmode:{type:ne(String),default:void 0},align:{type:ne(String),default:"center"},disabledScientific:Boolean}),Oie={[It]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[mr]:e=>Xe(e)||or(e),[it]:e=>Xe(e)||or(e)},$ie=["aria-label"],Aie=["aria-label"];var Rie=de({name:"ElInputNumber",__name:"input-number",props:Iie,emits:Oie,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:a}=Mt(),i=Se("input-number"),o=L(),l=Xt({currentValue:r.modelValue,userInput:null}),{formItem:u}=Br(),c=E(()=>Xe(r.modelValue)&&r.modelValue<=r.min),d=E(()=>Xe(r.modelValue)&&r.modelValue>=r.max),h=E(()=>{const R=b(r.step);return Vt(r.precision)?Math.max(b(r.modelValue),R):(R>r.precision,r.precision)}),p=E(()=>r.controls&&r.controlsPosition==="right"),m=gr(),g=Zn(),v=E(()=>{if(l.userInput!==null)return l.userInput;let R=l.currentValue;if(or(R))return"";if(Xe(R)){if(Number.isNaN(R))return"";Vt(r.precision)||(R=R.toFixed(r.precision))}return R}),y=(R,$)=>{if(Vt($)&&($=h.value),$===0)return Math.round(R);let D=String(R);const z=D.indexOf(".");if(z===-1||!D.replace(".","").split("")[z+$])return R;const U=D.length;return D.charAt(U-1)==="5"&&(D=`${D.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(D).toFixed($))},b=R=>{if(or(R))return 0;const $=R.toString(),D=$.indexOf(".");let z=0;return D!==-1&&(z=$.length-D-1),z},w=(R,$=1)=>Xe(R)?R>=Number.MAX_SAFE_INTEGER&&$===1||R<=Number.MIN_SAFE_INTEGER&&$===-1?R:y(R+r.step*$):l.currentValue,_=R=>{const $=hn(R),D=A$(R);if(r.disabledScientific&&["e","E"].includes(D)){R.preventDefault();return}switch($){case Ne.up:{R.preventDefault(),S();break}case Ne.down:{R.preventDefault(),C();break}}},S=()=>{if(r.readonly||g.value||d.value)return;const R=Number(v.value)||0,$=w(R);x($),s(mr,l.currentValue),V()},C=()=>{if(r.readonly||g.value||c.value)return;const R=Number(v.value)||0,$=w(R,-1);x($),s(mr,l.currentValue),V()},T=(R,$)=>{const{max:D,min:z,step:W,precision:Y,stepStrictly:U,valueOnClear:Q}=r;D<z&&fr("InputNumber","min should not be greater than max.");let J=Number(R);if(or(R)||Number.isNaN(J))return null;if(R===""){if(Q===null)return null;J=Ke(Q)?{min:z,max:D}[Q]:Q}return U&&(J=y(Math.round(y(J/W))*W,Y),J!==R&&$&&s(it,J)),Vt(Y)||(J=y(J,Y)),(J>D||J<z)&&(J=J>D?D:z,$&&s(it,J)),J},x=(R,$=!0)=>{var D;const z=l.currentValue,W=T(R);if(!$){s(it,W);return}l.userInput=null,!(z===W&&R)&&(s(it,W),z!==W&&s(It,W,z),r.validateEvent&&((D=u==null?void 0:u.validate)==null||D.call(u,"change").catch(Y=>void 0)),l.currentValue=W)},N=R=>{l.userInput=R;const $=R===""?null:Number(R);s(mr,$),x($,!1)},k=R=>{const $=R!==""?Number(R):"";(Xe($)&&!Number.isNaN($)||R==="")&&x($),V(),l.userInput=null},A=()=>{var R,$;($=(R=o.value)==null?void 0:R.focus)==null||$.call(R)},O=()=>{var R,$;($=(R=o.value)==null?void 0:R.blur)==null||$.call(R)},F=R=>{s("focus",R)},j=R=>{var $,D;l.userInput=null,l.currentValue===null&&(($=o.value)!=null&&$.input)&&(o.value.input.value=""),s("blur",R),r.validateEvent&&((D=u==null?void 0:u.validate)==null||D.call(u,"blur").catch(z=>void 0))},V=()=>{l.currentValue!==r.modelValue&&(l.currentValue=r.modelValue)},G=R=>{document.activeElement===R.target&&R.preventDefault()};return fe(()=>r.modelValue,(R,$)=>{const D=T(R,!0);l.userInput===null&&D!==$&&(l.currentValue=D)},{immediate:!0}),fe(()=>r.precision,()=>{l.currentValue=T(r.modelValue)}),_t(()=>{var R;const{min:$,max:D,modelValue:z}=r,W=(R=o.value)==null?void 0:R.input;if(W.setAttribute("role","spinbutton"),Number.isFinite(D)?W.setAttribute("aria-valuemax",String(D)):W.removeAttribute("aria-valuemax"),Number.isFinite($)?W.setAttribute("aria-valuemin",String($)):W.removeAttribute("aria-valuemin"),W.setAttribute("aria-valuenow",l.currentValue||l.currentValue===0?String(l.currentValue):""),W.setAttribute("aria-disabled",String(g.value)),!Xe(z)&&z!=null){let Y=Number(z);Number.isNaN(Y)&&(Y=null),s(it,Y)}W.addEventListener("wheel",G,{passive:!1})}),Ni(()=>{var R,$;const D=(R=o.value)==null?void 0:R.input;D==null||D.setAttribute("aria-valuenow",`${($=l.currentValue)!=null?$:""}`)}),t({focus:A,blur:O}),(R,$)=>(I(),K("div",{class:M([f(i).b(),f(i).m(f(m)),f(i).is("disabled",f(g)),f(i).is("without-controls",!e.controls),f(i).is("controls-right",p.value),f(i).is(e.align,!!e.align)]),onDragstart:$[0]||($[0]=at(()=>{},["prevent"]))},[e.controls?vt((I(),K("span",{key:0,role:"button","aria-label":f(a)("el.inputNumber.decrease"),class:M([f(i).e("decrease"),f(i).is("disabled",c.value)]),onKeydown:zn(C,["enter"])},[ie(R.$slots,"decrease-icon",{},()=>[q(f(We),null,{default:re(()=>[p.value?(I(),ce(f(Ri),{key:0})):(I(),ce(f(WZ),{key:1}))]),_:1})])],42,$ie)),[[f(Jv),C]]):le("v-if",!0),e.controls?vt((I(),K("span",{key:1,role:"button","aria-label":f(a)("el.inputNumber.increase"),class:M([f(i).e("increase"),f(i).is("disabled",d.value)]),onKeydown:zn(S,["enter"])},[ie(R.$slots,"increase-icon",{},()=>[q(f(We),null,{default:re(()=>[p.value?(I(),ce(f(Iy),{key:0})):(I(),ce(f(Oy),{key:1}))]),_:1})])],42,Aie)),[[f(Jv),S]]):le("v-if",!0),q(f(ys),{id:e.id,ref_key:"input",ref:o,type:"number",step:e.step,"model-value":v.value,placeholder:e.placeholder,readonly:e.readonly,disabled:f(g),size:f(m),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,inputmode:e.inputmode,onKeydown:_,onBlur:j,onFocus:F,onInput:N,onChange:k},Bs({_:2},[R.$slots.prefix?{name:"prefix",fn:re(()=>[ie(R.$slots,"prefix")]),key:"0"}:void 0,R.$slots.suffix?{name:"suffix",fn:re(()=>[ie(R.$slots,"suffix")]),key:"1"}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","inputmode"])],34))}});const y7=dt(Rie),Mie=$e({modelValue:{type:ne(Array)},max:Number,tagType:{...nl.type,default:"info"},tagEffect:nl.effect,effect:{type:ne(String),default:"light"},trigger:{type:ne(String),default:Ne.enter},draggable:Boolean,delimiter:{type:[String,RegExp],default:""},size:wr,clearable:Boolean,clearIcon:{type:dn,default:_o},disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:ne(String),default:"off"},saveOnBlur:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},ariaLabel:String}),Pie={[it]:e=>ke(e)||Vt(e),[It]:e=>ke(e)||Vt(e),[mr]:e=>Ke(e),"add-tag":e=>Ke(e)||ke(e),"remove-tag":(e,t)=>Ke(e)&&Xe(t),"drag-tag":(e,t,n)=>Xe(e)&&Xe(t)&&Ke(n),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function Lie({props:e,emit:t,formItem:n}){const r=Zn(),s=gr(),a=wn(),i=L(),o=L(),l=E(()=>["small"].includes(s.value)?"small":"default"),u=E(()=>{var V;return(V=e.modelValue)!=null&&V.length?void 0:e.placeholder}),c=E(()=>!(e.readonly||r.value)),d=E(()=>{var V,G;return Vt(e.max)?!1:((G=(V=e.modelValue)==null?void 0:V.length)!=null?G:0)>=e.max}),h=E(()=>{var V;return e.collapseTags?(V=e.modelValue)==null?void 0:V.slice(0,e.maxCollapseTags):e.modelValue}),p=E(()=>{var V;return e.collapseTags?(V=e.modelValue)==null?void 0:V.slice(e.maxCollapseTags):[]}),m=V=>{var G;const R=[...(G=e.modelValue)!=null?G:[],...Dr(V)];t(it,R),t(It,R),t("add-tag",V),i.value=void 0},g=V=>{var G,R;const $=V.split(e.delimiter).filter(D=>D&&D!==V);if(e.max){const D=e.max-((R=(G=e.modelValue)==null?void 0:G.length)!=null?R:0);$.splice(D)}return $.length===1?$[0]:$},v=V=>{if(d.value){i.value=void 0;return}if(!A.value){if(e.delimiter&&i.value){const G=g(i.value);G.length&&m(G)}t(mr,V.target.value)}},y=V=>{var G;if(A.value)return;switch(hn(V)){case e.trigger:V.preventDefault(),V.stopPropagation(),w();break;case Ne.numpadEnter:e.trigger===Ne.enter&&(V.preventDefault(),V.stopPropagation(),w());break;case Ne.backspace:!i.value&&((G=e.modelValue)!=null&&G.length)&&(V.preventDefault(),V.stopPropagation(),_(e.modelValue.length-1));break}},b=V=>{if(A.value||!v$())return;switch(hn(V)){case Ne.space:e.trigger===Ne.space&&(V.preventDefault(),V.stopPropagation(),w());break}},w=()=>{var V;const G=(V=i.value)==null?void 0:V.trim();!G||d.value||m(G)},_=V=>{var G;const R=((G=e.modelValue)!=null?G:[]).slice(),[$]=R.splice(V,1);t(it,R),t(It,R),t("remove-tag",$,V)},S=()=>{i.value=void 0,t(it,void 0),t(It,void 0),t("clear")},C=(V,G,R)=>{var $;const D=(($=e.modelValue)!=null?$:[]).slice(),[z]=D.splice(V,1),W=G>V&&R==="before"?-1:G<V&&R==="after"?1:0;D.splice(G+W,0,z),t(it,D),t(It,D),t("drag-tag",V,G+W,z)},T=()=>{var V;(V=a.value)==null||V.focus()},x=()=>{var V;(V=a.value)==null||V.blur()},{wrapperRef:N,isFocused:k}=pl(a,{disabled:r,beforeBlur(V){var G;return(G=o.value)==null?void 0:G.isFocusInsideContent(V)},afterBlur(){var V;e.saveOnBlur?w():i.value=void 0,e.validateEvent&&((V=n==null?void 0:n.validate)==null||V.call(n,"blur").catch(G=>void 0))}}),{isComposing:A,handleCompositionStart:O,handleCompositionUpdate:F,handleCompositionEnd:j}=im({afterComposition:v});return fe(()=>e.modelValue,()=>{var V;e.validateEvent&&((V=n==null?void 0:n.validate)==null||V.call(n,It).catch(G=>void 0))}),{inputRef:a,wrapperRef:N,tagTooltipRef:o,isFocused:k,isComposing:A,inputValue:i,size:s,tagSize:l,placeholder:u,closable:c,disabled:r,inputLimit:d,showTagList:h,collapseTagList:p,handleDragged:C,handleInput:v,handleKeydown:y,handleKeyup:b,handleAddTag:w,handleRemoveTag:_,handleClear:S,handleCompositionStart:O,handleCompositionUpdate:F,handleCompositionEnd:j,focus:T,blur:x}}function Die(){const e=L(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}function zie({wrapperRef:e,handleDragged:t,afterDragged:n}){const r=Se("input-tag"),s=wn(),a=L(!1);let i,o,l,u;function c(m){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${m+1})`}function d(m,g){i=g,o=e.value.querySelector(c(g)),o&&(o.style.opacity="0.5"),m.dataTransfer.effectAllowed="move"}function h(m,g){if(l=g,m.preventDefault(),m.dataTransfer.dropEffect="move",Vt(i)||i===g){a.value=!1;return}const v=e.value.querySelector(c(g)).getBoundingClientRect(),y=i+1!==g,b=i-1!==g,w=m.clientX-v.left,_=y?b?.5:1:-1,S=b?y?.5:0:1;w<=v.width*_?u="before":w>v.width*S?u="after":u=void 0;const C=e.value.querySelector(`.${r.e("inner")}`),T=C.getBoundingClientRect(),x=Number.parseFloat(Bo(C,"gap"))/2,N=v.top-T.top;let k=-9999;if(u==="before")k=Math.max(v.left-T.left-x,Math.floor(-x/2));else if(u==="after"){const A=v.right-T.left;k=A+(T.width===A?Math.floor(x/2):x)}ZO(s.value,{top:`${N}px`,left:`${k}px`}),a.value=!!u}function p(m){m.preventDefault(),o&&(o.style.opacity=""),u&&!Vt(i)&&!Vt(l)&&i!==l&&t(i,l,u),a.value=!1,i=void 0,o=null,l=void 0,u=void 0,n==null||n()}return{dropIndicatorRef:s,showDropIndicator:a,handleDragStart:d,handleDragOver:h,handleDragEnd:p}}function Fie({props:e,isFocused:t,hovering:n,disabled:r,inputValue:s,size:a,validateState:i,validateIcon:o,needStatusIcon:l}){const u=dl(),c=nr(),d=Se("input-tag"),h=Se("input"),p=L(),m=L(),g=E(()=>[d.b(),d.is("focused",t.value),d.is("hovering",n.value),d.is("disabled",r.value),d.m(a.value),d.e("wrapper"),u.class]),v=E(()=>[u.style]),y=E(()=>{var N,k;return[d.e("inner"),d.is("draggable",e.draggable),d.is("left-space",!((N=e.modelValue)!=null&&N.length)&&!c.prefix),d.is("right-space",!((k=e.modelValue)!=null&&k.length)&&!w.value)]}),b=E(()=>{var N;return e.clearable&&!r.value&&!e.readonly&&(((N=e.modelValue)==null?void 0:N.length)||s.value)&&(t.value||n.value)}),w=E(()=>c.suffix||b.value||i.value&&o.value&&l.value),_=Xt({innerWidth:0,collapseItemWidth:0}),S=()=>{if(!m.value)return 0;const N=window.getComputedStyle(m.value);return Number.parseFloat(N.gap||"6px")},C=()=>{_.innerWidth=Number.parseFloat(window.getComputedStyle(m.value).width)},T=()=>{_.collapseItemWidth=p.value.getBoundingClientRect().width},x=E(()=>{if(!e.collapseTags)return{};const N=S(),k=N+Ly,A=p.value&&e.maxCollapseTags===1?_.innerWidth-_.collapseItemWidth-N-k:_.innerWidth-k;return{maxWidth:`${Math.max(A,0)}px`}});return $n(m,C),$n(p,T),{ns:d,nsInput:h,containerKls:g,containerStyle:v,innerKls:y,showClear:b,showSuffix:w,tagStyle:x,collapseItemRef:p,innerRef:m}}const Bie=["id","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel"],jie=["textContent"];var Vie=de({name:"ElInputTag",inheritAttrs:!1,__name:"input-tag",props:Mie,emits:Pie,setup(e,{expose:t,emit:n}){const r=e,s=n,a=My(),i=nr(),{form:o,formItem:l}=Br(),{inputId:u}=Ta(r,{formItemContext:l}),c=E(()=>{var pe;return(pe=o==null?void 0:o.statusIcon)!=null?pe:!1}),d=E(()=>(l==null?void 0:l.validateState)||""),h=E(()=>d.value&&Ay[d.value]),{inputRef:p,wrapperRef:m,tagTooltipRef:g,isFocused:v,inputValue:y,size:b,tagSize:w,placeholder:_,closable:S,disabled:C,showTagList:T,collapseTagList:x,handleDragged:N,handleInput:k,handleKeydown:A,handleKeyup:O,handleRemoveTag:F,handleClear:j,handleCompositionStart:V,handleCompositionUpdate:G,handleCompositionEnd:R,focus:$,blur:D}=Lie({props:r,emit:s,formItem:l}),{hovering:z,handleMouseEnter:W,handleMouseLeave:Y}=Die(),{calculatorRef:U,inputStyle:Q}=R6(),{dropIndicatorRef:J,showDropIndicator:B,handleDragStart:P,handleDragOver:ae,handleDragEnd:ee}=zie({wrapperRef:m,handleDragged:N,afterDragged:$}),{ns:oe,nsInput:X,containerKls:H,containerStyle:te,innerKls:ue,showClear:ye,showSuffix:he,tagStyle:_e,collapseItemRef:Re,innerRef:De}=Fie({props:r,hovering:z,isFocused:v,inputValue:y,disabled:C,size:b,validateState:d,validateIcon:h,needStatusIcon:c});return t({focus:$,blur:D}),(pe,ve)=>(I(),K("div",{ref_key:"wrapperRef",ref:m,class:M(f(H)),style:qe(f(te)),onMouseenter:ve[8]||(ve[8]=(...be)=>f(W)&&f(W)(...be)),onMouseleave:ve[9]||(ve[9]=(...be)=>f(Y)&&f(Y)(...be))},[f(i).prefix?(I(),K("div",{key:0,class:M(f(oe).e("prefix"))},[ie(pe.$slots,"prefix")],2)):le("v-if",!0),Z("div",{ref_key:"innerRef",ref:De,class:M(f(ue))},[(I(!0),K(Ge,null,Ot(f(T),(be,me)=>(I(),ce(f(Ko),{key:me,size:f(w),closable:f(S),type:e.tagType,effect:e.tagEffect,draggable:f(S)&&e.draggable,style:qe(f(_e)),"disable-transitions":"",onClose:Te=>f(F)(me),onDragstart:Te=>f(P)(Te,me),onDragover:Te=>f(ae)(Te,me),onDragend:f(ee),onDrop:ve[0]||(ve[0]=at(()=>{},["stop"]))},{default:re(()=>[ie(pe.$slots,"tag",{value:be,index:me},()=>[gt(Ie(be),1)])]),_:2},1032,["size","closable","type","effect","draggable","style","onClose","onDragstart","onDragover","onDragend"]))),128)),e.collapseTags&&e.modelValue&&e.modelValue.length>e.maxCollapseTags?(I(),ce(f(zr),{key:0,ref_key:"tagTooltipRef",ref:g,disabled:!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom"},{default:re(()=>[Z("div",{ref_key:"collapseItemRef",ref:Re,class:M(f(oe).e("collapse-tag"))},[q(f(Ko),{closable:!1,size:f(w),type:e.tagType,effect:e.tagEffect,"disable-transitions":""},{default:re(()=>[gt(" + "+Ie(e.modelValue.length-e.maxCollapseTags),1)]),_:1},8,["size","type","effect"])],2)]),content:re(()=>[Z("div",{class:M(f(oe).e("input-tag-list"))},[(I(!0),K(Ge,null,Ot(f(x),(be,me)=>(I(),ce(f(Ko),{key:me,size:f(w),closable:f(S),type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:Te=>f(F)(me+e.maxCollapseTags)},{default:re(()=>[ie(pe.$slots,"tag",{value:be,index:me+e.maxCollapseTags},()=>[gt(Ie(be),1)])]),_:2},1032,["size","closable","type","effect","onClose"]))),128))],2)]),_:3},8,["disabled","effect"])):le("v-if",!0),Z("div",{class:M(f(oe).e("input-wrapper"))},[vt(Z("input",bt({id:f(u),ref_key:"inputRef",ref:p,"onUpdate:modelValue":ve[1]||(ve[1]=be=>Cn(y)?y.value=be:null)},f(a),{type:"text",minlength:e.minlength,maxlength:e.maxlength,disabled:f(C),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,placeholder:f(_),autofocus:e.autofocus,ariaLabel:e.ariaLabel,class:f(oe).e("input"),style:f(Q),onCompositionstart:ve[2]||(ve[2]=(...be)=>f(V)&&f(V)(...be)),onCompositionupdate:ve[3]||(ve[3]=(...be)=>f(G)&&f(G)(...be)),onCompositionend:ve[4]||(ve[4]=(...be)=>f(R)&&f(R)(...be)),onInput:ve[5]||(ve[5]=(...be)=>f(k)&&f(k)(...be)),onKeydown:ve[6]||(ve[6]=(...be)=>f(A)&&f(A)(...be)),onKeyup:ve[7]||(ve[7]=(...be)=>f(O)&&f(O)(...be))}),null,16,Bie),[[jv,f(y)]]),Z("span",{ref_key:"calculatorRef",ref:U,"aria-hidden":"true",class:M(f(oe).e("input-calculator")),textContent:Ie(f(y))},null,10,jie)],2),vt(Z("div",{ref_key:"dropIndicatorRef",ref:J,class:M(f(oe).e("drop-indicator"))},null,2),[[Kt,f(B)]])],2),f(he)?(I(),K("div",{key:1,class:M(f(oe).e("suffix"))},[ie(pe.$slots,"suffix"),f(ye)?(I(),ce(f(We),{key:0,class:M([f(oe).e("icon"),f(oe).e("clear")]),onMousedown:at(f(tn),["prevent"]),onClick:f(j)},{default:re(()=>[(I(),ce(yt(e.clearIcon)))]),_:1},8,["class","onMousedown","onClick"])):le("v-if",!0),d.value&&h.value&&c.value?(I(),ce(f(We),{key:1,class:M([f(X).e("icon"),f(X).e("validateIcon"),f(X).is("loading",d.value==="validating")])},{default:re(()=>[(I(),ce(yt(h.value)))]),_:1},8,["class"])):le("v-if",!0)],2)):le("v-if",!0)],38))}});const Hie=dt(Vie),Uie=$e({type:{type:String,values:["primary","success","warning","info","danger","default"],default:void 0},underline:{type:[Boolean,String],values:[!0,!1,"always","never","hover"],default:void 0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:dn}}),Wie={click:e=>e instanceof MouseEvent},Kie=["href","target"];var Gie=de({name:"ElLink",__name:"link",props:Uie,emits:Wie,setup(e,{emit:t}){const n=e,r=t,s=wf("link");ao({scope:"el-link",from:"The underline option (boolean)",replacement:"'always' | 'hover' | 'never'",version:"3.0.0",ref:"https://element-plus.org/en-US/component/link.html#underline"},E(()=>cn(n.underline)));const a=Se("link"),i=E(()=>{var u,c,d;return[a.b(),a.m((d=(c=n.type)!=null?c:(u=s.value)==null?void 0:u.type)!=null?d:"default"),a.is("disabled",n.disabled),a.is("underline",o.value==="always"),a.is("hover-underline",o.value==="hover"&&!n.disabled)]}),o=E(()=>{var u,c,d;return cn(n.underline)?n.underline?"hover":"never":(d=(c=n.underline)!=null?c:(u=s.value)==null?void 0:u.underline)!=null?d:"hover"});function l(u){n.disabled||r("click",u)}return(u,c)=>(I(),K("a",{class:M(i.value),href:e.disabled||!e.href?void 0:e.href,target:e.disabled||!e.href?void 0:e.target,onClick:l},[e.icon?(I(),ce(f(We),{key:0},{default:re(()=>[(I(),ce(yt(e.icon)))]),_:1})):le("v-if",!0),u.$slots.default?(I(),K("span",{key:1,class:M(f(a).e("inner"))},[ie(u.$slots,"default")],2)):le("v-if",!0),u.$slots.icon?ie(u.$slots,"icon",{key:2}):le("v-if",!0)],10,Kie))}});const Zie=dt(Gie);var Yie=Object.defineProperty,qie=(e,t,n)=>t in e?Yie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nT=(e,t,n)=>qie(e,typeof t!="symbol"?t+"":t,n);let Xie=class{constructor(t,n){this.parent=t,this.domNode=n,nT(this,"subMenuItems"),nT(this,"subIndex",0),this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{const s=hn(r);let a=!1;switch(s){case Ne.down:{this.gotoSubIndex(this.subIndex+1),a=!0;break}case Ne.up:{this.gotoSubIndex(this.subIndex-1),a=!0;break}case Ne.tab:{nv(t,"mouseleave");break}case Ne.enter:case Ne.numpadEnter:case Ne.space:{a=!0,r.currentTarget.click();break}}return a&&(r.preventDefault(),r.stopPropagation()),!1})})}};var Jie=Object.defineProperty,Qie=(e,t,n)=>t in e?Jie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eoe=(e,t,n)=>Qie(e,t+"",n);class toe{constructor(t,n){this.domNode=t,eoe(this,"submenu",null),this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new Xie(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{const n=hn(t);let r=!1;switch(n){case Ne.down:{nv(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case Ne.up:{nv(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case Ne.tab:{nv(t.currentTarget,"mouseleave");break}case Ne.enter:case Ne.numpadEnter:case Ne.space:{r=!0,t.currentTarget.click();break}}r&&t.preventDefault()})}}let noe=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new toe(r,t)})}};var roe=de({name:"ElMenuCollapseTransition",__name:"menu-collapse-transition",setup(e){const t=Se("menu"),n={onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,s){Da(r,`${t.namespace.value}-opacity-transition`),r.style.opacity="1",s()},onAfterEnter(r){ws(r,`${t.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),no(r,t.m("collapse"))?(ws(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Da(r,t.m("collapse"))):(Da(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),ws(r,t.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){Da(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}};return(r,s)=>(I(),ce(Gr,bt({mode:"out-in"},n),{default:re(()=>[ie(r.$slots,"default")]),_:3},16))}});function b7(e,t){const n=E(()=>{let s=e.parent;const a=[t.value];for(;s.type.name!=="ElMenu";)s.props.index&&a.unshift(s.props.index),s=s.parent;return a});return{parentMenu:E(()=>{let s=e.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),indexPath:n}}function soe(e){return E(()=>{const n=e.backgroundColor;return n?new id(n).shade(20).toString():""})}const w7=(e,t)=>{const n=Se("menu");return E(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":soe(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},J6="rootMenu",r0="subMenu:",aoe=$e({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,popperStyle:{type:ne([String,Object])},disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:dn},expandOpenIcon:{type:dn},collapseCloseIcon:{type:dn},collapseOpenIcon:{type:dn}}),_b="ElSubMenu";var Q6=de({name:_b,props:aoe,setup(e,{slots:t,expose:n}){const r=wt(),{indexPath:s,parentMenu:a}=b7(r,E(()=>e.index)),i=Se("menu"),o=Se("sub-menu"),l=Ve(J6);l||fr(_b,"can not inject root menu");const u=Ve(`${r0}${a.value.uid}`);u||fr(_b,"can not inject sub menu");const c=L({}),d=L({});let h;const p=L(!1),m=L(),g=L(),v=E(()=>u.level===0),y=E(()=>x.value==="horizontal"&&v.value?"bottom-start":"right-start"),b=E(()=>x.value==="horizontal"&&v.value||x.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?C.value?e.expandOpenIcon:e.expandCloseIcon:Ri:e.collapseCloseIcon&&e.collapseOpenIcon?C.value?e.collapseOpenIcon:e.collapseCloseIcon:_s),w=E(()=>{const Y=e.teleported;return Vt(Y)?v.value:Y}),_=E(()=>l.props.collapse?`${i.namespace.value}-zoom-in-left`:`${i.namespace.value}-zoom-in-top`),S=E(()=>x.value==="horizontal"&&v.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),C=E(()=>l.openedMenus.includes(e.index)),T=E(()=>[...Object.values(c.value),...Object.values(d.value)].some(({active:Y})=>Y)),x=E(()=>l.props.mode),N=E(()=>l.props.persistent),k=Xt({index:e.index,indexPath:s,active:T}),A=w7(l.props,u.level+1),O=E(()=>{var Y;return(Y=e.popperOffset)!=null?Y:l.props.popperOffset}),F=E(()=>{var Y;return(Y=e.popperClass)!=null?Y:l.props.popperClass}),j=E(()=>{var Y;return(Y=e.popperStyle)!=null?Y:l.props.popperStyle}),V=E(()=>{var Y;return(Y=e.showTimeout)!=null?Y:l.props.showTimeout}),G=E(()=>{var Y;return(Y=e.hideTimeout)!=null?Y:l.props.hideTimeout}),R=()=>{var Y,U,Q;return(Q=(U=(Y=g.value)==null?void 0:Y.popperRef)==null?void 0:U.popperInstanceRef)==null?void 0:Q.destroy()},$=Y=>{Y||R()},D=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:s.value,active:T.value})},z=(Y,U=V.value)=>{var Q;if(Y.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,h==null||h(),{stop:h}=Bd(()=>{l.openMenu(e.index,s.value)},U),w.value&&((Q=a.value.vnode.el)==null||Q.dispatchEvent(new MouseEvent("mouseenter"))),Y.type==="mouseenter"&&Y.target&&Fe(()=>{am(Y.target,{preventScroll:!0})})}},W=(Y=!1)=>{var U;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}h==null||h(),u.mouseInChild.value=!1,{stop:h}=Bd(()=>!p.value&&l.closeMenu(e.index,s.value),G.value),w.value&&Y&&((U=u.handleMouseleave)==null||U.call(u,!0))};fe(()=>l.props.collapse,Y=>$(!!Y));{const Y=Q=>{d.value[Q.index]=Q},U=Q=>{delete d.value[Q.index]};At(`${r0}${r.uid}`,{addSubMenu:Y,removeSubMenu:U,handleMouseleave:W,mouseInChild:p,level:u.level+1})}return n({opened:C}),_t(()=>{l.addSubMenu(k),u.addSubMenu(k)}),en(()=>{u.removeSubMenu(k),l.removeSubMenu(k)}),()=>{var Y;const U=[(Y=t.title)==null?void 0:Y.call(t),nt(We,{class:o.e("icon-arrow"),style:{transform:C.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Ke(b.value)?nt(r.appContext.components[b.value]):nt(b.value)})],Q=l.isMenuPopup?nt(zr,{ref:g,visible:C.value,effect:"light",pure:!0,offset:O.value,showArrow:!1,persistent:N.value,popperClass:F.value,popperStyle:j.value,placement:y.value,teleported:w.value,fallbackPlacements:S.value,transition:_.value,gpuAcceleration:!1},{content:()=>{var J;return nt("div",{class:[i.m(x.value),i.m("popup-container"),F.value],onMouseenter:B=>z(B,100),onMouseleave:()=>W(!0),onFocus:B=>z(B,100)},[nt("ul",{class:[i.b(),i.m("popup"),i.m(`popup-${y.value}`)],style:A.value},[(J=t.default)==null?void 0:J.call(t)])])},default:()=>nt("div",{class:o.e("title"),onClick:D},U)}):nt(Ge,{},[nt("div",{class:o.e("title"),ref:m,onClick:D},U),nt(Fy,{},{default:()=>{var J;return vt(nt("ul",{role:"menu",class:[i.b(),i.m("inline")],style:A.value},[(J=t.default)==null?void 0:J.call(t)]),[[Kt,C.value]])}})]);return nt("li",{class:[o.b(),o.is("active",T.value),o.is("opened",C.value),o.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:C.value,onMouseenter:z,onMouseleave:()=>W(),onFocus:z},[Q])}}});const ioe=$e({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ne(Array),default:()=>Wn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:dn,default:()=>ZZ},popperEffect:{type:ne(String),default:"dark"},popperClass:String,popperStyle:{type:ne([String,Object])},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),Sb=e=>ke(e)&&e.every(t=>Ke(t)),ooe={close:(e,t)=>Ke(e)&&Sb(t),open:(e,t)=>Ke(e)&&Sb(t),select:(e,t,n,r)=>Ke(e)&&Sb(t)&&ht(n)&&(Vt(r)||r instanceof Promise)},rT=64;var loe=de({name:"ElMenu",props:ioe,emits:ooe,setup(e,{emit:t,slots:n,expose:r}){const s=wt(),a=s.appContext.config.globalProperties.$router,i=L(),o=L(),l=Se("menu"),u=Se("sub-menu");let c=rT;const d=L(-1),h=L(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),p=L(e.defaultActive),m=L({}),g=L({}),v=E(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),y=()=>{const R=p.value&&m.value[p.value];if(!R||e.mode==="horizontal"||e.collapse)return;R.indexPath.forEach(D=>{const z=g.value[D];z&&b(D,z.indexPath)})},b=(R,$)=>{h.value.includes(R)||(e.uniqueOpened&&(h.value=h.value.filter(D=>$.includes(D))),h.value.push(R),t("open",R,$))},w=R=>{const $=h.value.indexOf(R);$!==-1&&h.value.splice($,1)},_=(R,$)=>{w(R),t("close",R,$)},S=({index:R,indexPath:$})=>{h.value.includes(R)?_(R,$):b(R,$)},C=R=>{(e.mode==="horizontal"||e.collapse)&&(h.value=[]);const{index:$,indexPath:D}=R;if(!(or($)||or(D)))if(e.router&&a){const z=R.route||$,W=a.push(z).then(Y=>(Y||(p.value=$),Y));t("select",$,D,{index:$,indexPath:D,route:z},W)}else p.value=$,t("select",$,D,{index:$,indexPath:D})},T=R=>{var $;const D=m.value,z=D[R]||p.value&&D[p.value]||D[e.defaultActive];p.value=($=z==null?void 0:z.index)!=null?$:R},x=R=>{const $=getComputedStyle(R),D=Number.parseInt($.marginLeft,10),z=Number.parseInt($.marginRight,10);return R.offsetWidth+D+z||0},N=()=>{if(!i.value)return-1;const R=Array.from(i.value.childNodes).filter(Q=>Q.nodeName!=="#comment"&&(Q.nodeName!=="#text"||Q.nodeValue)),$=getComputedStyle(i.value),D=Number.parseInt($.paddingLeft,10),z=Number.parseInt($.paddingRight,10),W=i.value.clientWidth-D-z;let Y=0,U=0;return R.forEach((Q,J)=>{Y+=x(Q),Y<=W-c&&(U=J+1)}),U===R.length?-1:U},k=R=>g.value[R].indexPath,A=(R,$=33.34)=>{let D;return()=>{D&&clearTimeout(D),D=setTimeout(()=>{R()},$)}};let O=!0;const F=()=>{const R=br(o);if(R&&(c=x(R)||rT),d.value===N())return;const $=()=>{d.value=-1,Fe(()=>{d.value=N()})};O?$():A($)(),O=!1};fe(()=>e.defaultActive,R=>{m.value[R]||(p.value=""),T(R)}),fe(()=>e.collapse,R=>{R&&(h.value=[])}),fe(m.value,y);let j;ea(()=>{e.mode==="horizontal"&&e.ellipsis?j=$n(i,F).stop:j==null||j()});const V=L(!1);{const R=W=>{g.value[W.index]=W},$=W=>{delete g.value[W.index]};At(J6,Xt({props:e,openedMenus:h,items:m,subMenus:g,activeIndex:p,isMenuPopup:v,addMenuItem:W=>{m.value[W.index]=W},removeMenuItem:W=>{delete m.value[W.index]},addSubMenu:R,removeSubMenu:$,openMenu:b,closeMenu:_,handleMenuItemClick:C,handleSubMenuClick:S})),At(`${r0}${s.uid}`,{addSubMenu:R,removeSubMenu:$,mouseInChild:V,level:0})}_t(()=>{e.mode==="horizontal"&&new noe(s.vnode.el,l.namespace.value)}),r({open:$=>{const{indexPath:D}=g.value[$];D.forEach(z=>b(z,D))},close:w,updateActiveIndex:T,handleResize:F});const G=w7(e,0);return()=>{var R,$;let D=($=(R=n.default)==null?void 0:R.call(n))!=null?$:[];const z=[];if(e.mode==="horizontal"&&i.value){const U=ha(D).filter(B=>(B==null?void 0:B.shapeFlag)!==8),Q=d.value===-1?U:U.slice(0,d.value),J=d.value===-1?[]:U.slice(d.value);J!=null&&J.length&&e.ellipsis&&(D=Q,z.push(nt(Q6,{ref:o,index:"sub-menu-more",class:u.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>nt(We,{class:u.e("icon-more")},{default:()=>nt(e.ellipsisIcon)}),default:()=>J})))}const W=e.closeOnClickOutside?[[tu,()=>{h.value.length&&(V.value||(h.value.forEach(U=>t("close",U,k(U))),h.value=[]))}]]:[],Y=vt(nt("ul",{key:String(e.collapse),role:"menubar",ref:i,style:G.value,class:{[l.b()]:!0,[l.m(e.mode)]:!0,[l.m("collapse")]:e.collapse}},[...D,...z]),W);return e.collapseTransition&&e.mode==="vertical"?nt(roe,()=>Y):Y}}});const uoe=$e({index:{type:ne([String,null]),default:null},route:{type:ne([String,Object])},disabled:Boolean}),coe={click:e=>Ke(e.index)&&ke(e.indexPath)},Cb="ElMenuItem";var _7=de({name:Cb,__name:"menu-item",props:uoe,emits:coe,setup(e,{expose:t,emit:n}){const r=e,s=n;qs(r.index)&&void 0;const a=wt(),i=Ve(J6),o=Se("menu"),l=Se("menu-item");i||fr(Cb,"can not inject root menu");const{parentMenu:u,indexPath:c}=b7(a,rn(r,"index")),d=Ve(`${r0}${u.value.uid}`);d||fr(Cb,"can not inject sub menu");const h=E(()=>r.index===i.activeIndex),p=Xt({index:r.index,indexPath:c,active:h}),m=()=>{r.disabled||(i.handleMenuItemClick({index:r.index,indexPath:c.value,route:r.route}),s("click",p))};return _t(()=>{d.addSubMenu(p),i.addMenuItem(p)}),en(()=>{d.removeSubMenu(p),i.removeMenuItem(p)}),t({parentMenu:u,rootMenu:i,active:h,nsMenu:o,nsMenuItem:l,handleClick:m}),(g,v)=>(I(),K("li",{class:M([f(l).b(),f(l).is("active",h.value),f(l).is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:m},[f(u).type.name==="ElMenu"&&f(i).props.collapse&&g.$slots.title?(I(),ce(f(zr),{key:0,effect:f(i).props.popperEffect,placement:"right","fallback-placements":["left"],"popper-class":f(i).props.popperClass,"popper-style":f(i).props.popperStyle,persistent:f(i).props.persistent,"focus-on-target":""},{content:re(()=>[ie(g.$slots,"title")]),default:re(()=>[Z("div",{class:M(f(o).be("tooltip","trigger"))},[ie(g.$slots,"default")],2)]),_:3},8,["effect","popper-class","popper-style","persistent"])):(I(),K(Ge,{key:1},[ie(g.$slots,"default"),ie(g.$slots,"title")],64))],2))}});const doe={title:String};var S7=de({name:"ElMenuItemGroup",__name:"menu-item-group",props:doe,setup(e){const t=Se("menu-item-group");return(n,r)=>(I(),K("li",{class:M(f(t).b())},[Z("div",{class:M(f(t).e("title"))},[n.$slots.title?ie(n.$slots,"title",{key:1}):(I(),K(Ge,{key:0},[gt(Ie(e.title),1)],64))],2),Z("ul",null,[ie(n.$slots,"default")])],2))}});const foe=dt(loe,{MenuItem:_7,MenuItemGroup:S7,SubMenu:Q6}),hoe=Bn(_7),poe=Bn(S7),moe=Bn(Q6),goe=$e({icon:{type:dn,default:()=>pZ},title:String,content:{type:String,default:""}}),voe={back:()=>!0},yoe=["aria-label"];var boe=de({name:"ElPageHeader",__name:"page-header",props:goe,emits:voe,setup(e,{emit:t}){const n=t,{t:r}=Mt(),s=Se("page-header");function a(){n("back")}return(i,o)=>(I(),K("div",{class:M([f(s).b(),f(s).is("contentful",!!i.$slots.default),{[f(s).m("has-breadcrumb")]:!!i.$slots.breadcrumb,[f(s).m("has-extra")]:!!i.$slots.extra}])},[i.$slots.breadcrumb?(I(),K("div",{key:0,class:M(f(s).e("breadcrumb"))},[ie(i.$slots,"breadcrumb")],2)):le("v-if",!0),Z("div",{class:M(f(s).e("header"))},[Z("div",{class:M(f(s).e("left"))},[Z("div",{class:M(f(s).e("back")),role:"button",tabindex:"0",onClick:a},[e.icon||i.$slots.icon?(I(),K("div",{key:0,"aria-label":e.title||f(r)("el.pageHeader.title"),class:M(f(s).e("icon"))},[ie(i.$slots,"icon",{},()=>[e.icon?(I(),ce(f(We),{key:0},{default:re(()=>[(I(),ce(yt(e.icon)))]),_:1})):le("v-if",!0)])],10,yoe)):le("v-if",!0),Z("div",{class:M(f(s).e("title"))},[ie(i.$slots,"title",{},()=>[gt(Ie(e.title||f(r)("el.pageHeader.title")),1)])],2)],2),q(f(a7),{direction:"vertical"}),Z("div",{class:M(f(s).e("content"))},[ie(i.$slots,"content",{},()=>[gt(Ie(e.content),1)])],2)],2),i.$slots.extra?(I(),K("div",{key:0,class:M(f(s).e("extra"))},[ie(i.$slots,"extra")],2)):le("v-if",!0)],2),i.$slots.default?(I(),K("div",{key:1,class:M(f(s).e("main"))},[ie(i.$slots,"default")],2)):le("v-if",!0)],2))}});const woe=dt(boe),C7=Symbol("elPaginationKey"),_oe=$e({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:dn}}),Soe={click:e=>e instanceof MouseEvent},Coe=["disabled","aria-label","aria-disabled"],xoe={key:0};var Eoe=de({name:"ElPaginationPrev",__name:"prev",props:_oe,emits:Soe,setup(e){const t=e,{t:n}=Mt(),r=E(()=>t.disabled||t.currentPage<=1);return(s,a)=>(I(),K("button",{type:"button",class:"btn-prev",disabled:r.value,"aria-label":s.prevText||f(n)("el.pagination.prev"),"aria-disabled":r.value,onClick:a[0]||(a[0]=i=>s.$emit("click",i))},[s.prevText?(I(),K("span",xoe,Ie(s.prevText),1)):(I(),ce(f(We),{key:1},{default:re(()=>[(I(),ce(yt(s.prevIcon)))]),_:1}))],8,Coe))}});const Toe=$e({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:dn}}),koe=["disabled","aria-label","aria-disabled"],Noe={key:0};var Ioe=de({name:"ElPaginationNext",__name:"next",props:Toe,emits:["click"],setup(e){const t=e,{t:n}=Mt(),r=E(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(s,a)=>(I(),K("button",{type:"button",class:"btn-next",disabled:r.value,"aria-label":s.nextText||f(n)("el.pagination.next"),"aria-disabled":r.value,onClick:a[0]||(a[0]=i=>s.$emit("click",i))},[s.nextText?(I(),K("span",Noe,Ie(s.nextText),1)):(I(),ce(f(We),{key:1},{default:re(()=>[(I(),ce(yt(s.nextIcon)))]),_:1}))],8,koe))}});const eS=()=>Ve(C7,{}),Ooe=$e({pageSize:{type:Number,required:!0},pageSizes:{type:ne(Array),default:()=>Wn([10,20,30,40,50,100])},popperClass:{type:String},popperStyle:{type:ne([String,Object])},disabled:Boolean,teleported:Boolean,size:{type:String,values:Ai},appendSizeTo:String});var $oe=de({name:"ElPaginationSizes",__name:"sizes",props:Ooe,emits:["page-size-change"],setup(e,{emit:t}){const n=e,r=t,{t:s}=Mt(),a=Se("pagination"),i=eS(),o=L(n.pageSize);fe(()=>n.pageSizes,(c,d)=>{if(!Yn(c,d)&&ke(c)){const h=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];r("page-size-change",h)}}),fe(()=>n.pageSize,c=>{o.value=c});const l=E(()=>n.pageSizes);function u(c){var d;c!==o.value&&(o.value=c,(d=i.handleSizeChange)==null||d.call(i,Number(c)))}return(c,d)=>(I(),K("span",{class:M(f(a).e("sizes"))},[q(f(nu),{"model-value":o.value,disabled:c.disabled,"popper-class":c.popperClass,"popper-style":c.popperStyle,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:u},{default:re(()=>[(I(!0),K(Ge,null,Ot(l.value,h=>(I(),ce(f(qv),{key:h,value:h,label:h+f(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","popper-style","size","teleported","append-to"])],2))}});const Aoe=$e({size:{type:String,values:Ai}}),Roe=["disabled"];var Moe=de({name:"ElPaginationJumper",__name:"jumper",props:Aoe,setup(e){const{t}=Mt(),n=Se("pagination"),{pageCount:r,disabled:s,currentPage:a,changeEvent:i}=eS(),o=L(),l=E(()=>{var d;return(d=o.value)!=null?d:a==null?void 0:a.value});function u(d){o.value=d?+d:""}function c(d){d=Math.trunc(+d),i==null||i(d),o.value=void 0}return(d,h)=>(I(),K("span",{class:M(f(n).e("jump")),disabled:f(s)},[Z("span",{class:M([f(n).e("goto")])},Ie(f(t)("el.pagination.goto")),3),q(f(ys),{size:d.size,class:M([f(n).e("editor"),f(n).is("in-pagination")]),min:1,max:f(r),disabled:f(s),"model-value":l.value,"validate-event":!1,"aria-label":f(t)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","aria-label"]),Z("span",{class:M([f(n).e("classifier")])},Ie(f(t)("el.pagination.pageClassifier")),3)],10,Roe))}});const Poe=$e({total:{type:Number,default:1e3}}),Loe=["disabled"];var Doe=de({name:"ElPaginationTotal",__name:"total",props:Poe,setup(e){const{t}=Mt(),n=Se("pagination"),{disabled:r}=eS();return(s,a)=>(I(),K("span",{class:M(f(n).e("total")),disabled:f(r)},Ie(f(t)("el.pagination.total",{total:s.total})),11,Loe))}});const zoe=$e({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Foe=["aria-current","aria-label","tabindex"],Boe=["tabindex","aria-label"],joe=["aria-current","aria-label","tabindex"],Voe=["tabindex","aria-label"],Hoe=["aria-current","aria-label","tabindex"];var Uoe=de({name:"ElPaginationPager",__name:"pager",props:zoe,emits:[It],setup(e,{emit:t}){const n=e,r=t,s=Se("pager"),a=Se("icon"),{t:i}=Mt(),o=L(!1),l=L(!1),u=L(!1),c=L(!1),d=L(!1),h=L(!1),p=E(()=>{const S=n.pagerCount,C=(S-1)/2,T=Number(n.currentPage),x=Number(n.pageCount);let N=!1,k=!1;x>S&&(T>S-C&&(N=!0),T<x-C&&(k=!0));const A=[];if(N&&!k){const O=x-(S-2);for(let F=O;F<x;F++)A.push(F)}else if(!N&&k)for(let O=2;O<S;O++)A.push(O);else if(N&&k){const O=Math.floor(S/2)-1;for(let F=T-O;F<=T+O;F++)A.push(F)}else for(let O=2;O<x;O++)A.push(O);return A}),m=E(()=>["more","btn-quickprev",a.b(),s.is("disabled",n.disabled)]),g=E(()=>["more","btn-quicknext",a.b(),s.is("disabled",n.disabled)]),v=E(()=>n.disabled?-1:0);fe(()=>[n.pageCount,n.pagerCount,n.currentPage],([S,C,T])=>{const x=(C-1)/2;let N=!1,k=!1;S>C&&(N=T>C-x,k=T<S-x),u.value&&(u.value=N),c.value&&(c.value=k),o.value=N,l.value=k},{immediate:!0});function y(S=!1){n.disabled||(S?u.value=!0:c.value=!0)}function b(S=!1){S?d.value=!0:h.value=!0}function w(S){const C=S.target;if(C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("number")){const T=Number(C.textContent);T!==n.currentPage&&r(It,T)}else C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("more")&&_(S)}function _(S){const C=S.target;if(C.tagName.toLowerCase()==="ul"||n.disabled)return;let T=Number(C.textContent);const x=n.pageCount,N=n.currentPage,k=n.pagerCount-2;C.className.includes("more")&&(C.className.includes("quickprev")?T=N-k:C.className.includes("quicknext")&&(T=N+k)),Number.isNaN(+T)||(T<1&&(T=1),T>x&&(T=x)),T!==N&&r(It,T)}return(S,C)=>(I(),K("ul",{class:M(f(s).b()),onClick:_,onKeyup:zn(w,["enter"])},[S.pageCount>0?(I(),K("li",{key:0,class:M([[f(s).is("active",S.currentPage===1),f(s).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===1,"aria-label":f(i)("el.pagination.currentPage",{pager:1}),tabindex:v.value}," 1 ",10,Foe)):le("v-if",!0),o.value?(I(),K("li",{key:1,class:M(m.value),tabindex:v.value,"aria-label":f(i)("el.pagination.prevPages",{pager:S.pagerCount-2}),onMouseenter:C[0]||(C[0]=T=>y(!0)),onMouseleave:C[1]||(C[1]=T=>u.value=!1),onFocus:C[2]||(C[2]=T=>b(!0)),onBlur:C[3]||(C[3]=T=>d.value=!1)},[(u.value||d.value)&&!S.disabled?(I(),ce(f(Jl),{key:0})):(I(),ce(f(Yx),{key:1}))],42,Boe)):le("v-if",!0),(I(!0),K(Ge,null,Ot(p.value,T=>(I(),K("li",{key:T,class:M([[f(s).is("active",S.currentPage===T),f(s).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===T,"aria-label":f(i)("el.pagination.currentPage",{pager:T}),tabindex:v.value},Ie(T),11,joe))),128)),l.value?(I(),K("li",{key:2,class:M(g.value),tabindex:v.value,"aria-label":f(i)("el.pagination.nextPages",{pager:S.pagerCount-2}),onMouseenter:C[4]||(C[4]=T=>y()),onMouseleave:C[5]||(C[5]=T=>c.value=!1),onFocus:C[6]||(C[6]=T=>b()),onBlur:C[7]||(C[7]=T=>h.value=!1)},[(c.value||h.value)&&!S.disabled?(I(),ce(f(Ql),{key:0})):(I(),ce(f(Yx),{key:1}))],42,Voe)):le("v-if",!0),S.pageCount>1?(I(),K("li",{key:3,class:M([[f(s).is("active",S.currentPage===S.pageCount),f(s).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===S.pageCount,"aria-label":f(i)("el.pagination.currentPage",{pager:S.pageCount}),tabindex:v.value},Ie(S.pageCount),11,Hoe)):le("v-if",!0)],34))}});const Ns=e=>typeof e!="number",Woe=$e({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>Xe(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:ne(Array),default:()=>Wn([10,20,30,40,50,100])},popperClass:{type:String,default:""},popperStyle:{type:ne([String,Object])},prevText:{type:String,default:""},prevIcon:{type:dn,default:()=>el},nextText:{type:String,default:""},nextIcon:{type:dn,default:()=>_s},teleported:{type:Boolean,default:!0},small:Boolean,size:wr,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),Koe={"update:current-page":e=>Xe(e),"update:page-size":e=>Xe(e),"size-change":e=>Xe(e),change:(e,t)=>Xe(e)&&Xe(t),"current-change":e=>Xe(e),"prev-click":e=>Xe(e),"next-click":e=>Xe(e)},sT="ElPagination";var Goe=de({name:sT,props:Woe,emits:Koe,setup(e,{emit:t,slots:n}){const{t:r}=Mt(),s=Se("pagination"),a=wt().vnode.props||{},i=HO(),o=E(()=>{var S;return e.small?"small":(S=e.size)!=null?S:i.value});ao({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},E(()=>!!e.small));const l="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,u="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,c=E(()=>{if(Ns(e.total)&&Ns(e.pageCount)||!Ns(e.currentPage)&&!l)return!1;if(e.layout.includes("sizes")){if(Ns(e.pageCount)){if(!Ns(e.total)&&!Ns(e.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),d=L(Ns(e.defaultPageSize)?10:e.defaultPageSize),h=L(Ns(e.defaultCurrentPage)?1:e.defaultCurrentPage),p=E({get(){return Ns(e.pageSize)?d.value:e.pageSize},set(S){Ns(e.pageSize)&&(d.value=S),u&&(t("update:page-size",S),t("size-change",S))}}),m=E(()=>{let S=0;return Ns(e.pageCount)?Ns(e.total)||(S=Math.max(1,Math.ceil(e.total/p.value))):S=e.pageCount,S}),g=E({get(){return Ns(e.currentPage)?h.value:e.currentPage},set(S){let C=S;S<1?C=1:S>m.value&&(C=m.value),Ns(e.currentPage)&&(h.value=C),l&&(t("update:current-page",C),t("current-change",C))}});fe(m,S=>{g.value>S&&(g.value=S)}),fe([g,p],S=>{t(It,...S)},{flush:"post"});function v(S){g.value=S}function y(S){p.value=S;const C=m.value;g.value>C&&(g.value=C)}function b(){e.disabled||(g.value-=1,t("prev-click",g.value))}function w(){e.disabled||(g.value+=1,t("next-click",g.value))}function _(S,C){S&&(S.props||(S.props={}),S.props.class=[S.props.class,C].join(" "))}return At(C7,{pageCount:m,disabled:E(()=>e.disabled),currentPage:g,changeEvent:v,handleSizeChange:y}),()=>{var S,C;if(!c.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&m.value<=1)return null;const T=[],x=[],N=nt("div",{class:s.e("rightwrapper")},x),k={prev:nt(Eoe,{disabled:e.disabled,currentPage:g.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:b}),jumper:nt(Moe,{size:o.value}),pager:nt(Uoe,{currentPage:g.value,pageCount:m.value,pagerCount:e.pagerCount,onChange:v,disabled:e.disabled}),next:nt(Ioe,{disabled:e.disabled,currentPage:g.value,pageCount:m.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:w}),sizes:nt($oe,{pageSize:p.value,pageSizes:e.pageSizes,popperClass:e.popperClass,popperStyle:e.popperStyle,disabled:e.disabled,teleported:e.teleported,size:o.value,appendSizeTo:e.appendSizeTo}),slot:(C=(S=n==null?void 0:n.default)==null?void 0:S.call(n))!=null?C:null,total:nt(Doe,{total:Ns(e.total)?0:e.total})},A=e.layout.split(",").map(F=>F.trim());let O=!1;return A.forEach(F=>{if(F==="->"){O=!0;return}O?x.push(k[F]):T.push(k[F])}),_(T[0],s.is("first")),_(T[T.length-1],s.is("last")),O&&x.length>0&&(_(x[0],s.is("first")),_(x[x.length-1],s.is("last")),T.push(N)),nt("div",{class:[s.b(),s.is("background",e.background),s.m(o.value)]},T)}}});const Zoe=dt(Goe),Yoe=$e({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:nw,default:"primary"},cancelButtonType:{type:String,values:nw,default:"text"},icon:{type:dn,default:()=>tY},iconColor:{type:String,default:"#f90"},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...un.effect,default:"light"},teleported:un.teleported,persistent:un.persistent,width:{type:[String,Number],default:150},virtualTriggering:so.virtualTriggering,virtualRef:so.virtualRef}),qoe={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent};var Xoe=de({name:"ElPopconfirm",__name:"popconfirm",props:Yoe,emits:qoe,setup(e,{expose:t,emit:n}){const r=e,s=n,{t:a}=Mt(),i=Se("popconfirm"),o=L(),l=L(),u=E(()=>{var y;return(y=f(o))==null?void 0:y.popperRef}),c=()=>{var y,b;(b=(y=l.value)==null?void 0:y.focus)==null||b.call(y)},d=()=>{var y,b;(b=(y=o.value)==null?void 0:y.onClose)==null||b.call(y)},h=E(()=>({width:Gn(r.width)})),p=y=>{s("confirm",y),d()},m=y=>{s("cancel",y),d()},g=E(()=>r.confirmButtonText||a("el.popconfirm.confirmButtonText")),v=E(()=>r.cancelButtonText||a("el.popconfirm.cancelButtonText"));return t({popperRef:u,hide:d}),(y,b)=>(I(),ce(f(zr),bt({ref_key:"tooltipRef",ref:o,trigger:"click",effect:e.effect},y.$attrs,{"virtual-triggering":e.virtualTriggering,"virtual-ref":e.virtualRef,"popper-class":`${f(i).namespace.value}-popover`,"popper-style":h.value,teleported:e.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":e.hideAfter,persistent:e.persistent,loop:"",onShow:c}),{content:re(()=>[Z("div",{ref_key:"rootRef",ref:l,tabindex:"-1",class:M(f(i).b())},[Z("div",{class:M(f(i).e("main"))},[!e.hideIcon&&e.icon?(I(),ce(f(We),{key:0,class:M(f(i).e("icon")),style:qe({color:e.iconColor})},{default:re(()=>[(I(),ce(yt(e.icon)))]),_:1},8,["class","style"])):le("v-if",!0),gt(" "+Ie(e.title),1)],2),Z("div",{class:M(f(i).e("action"))},[ie(y.$slots,"actions",{confirm:p,cancel:m},()=>[q(f(Nr),{size:"small",type:e.cancelButtonType==="text"?"":e.cancelButtonType,text:e.cancelButtonType==="text",onClick:m},{default:re(()=>[gt(Ie(v.value),1)]),_:1},8,["type","text"]),q(f(Nr),{size:"small",type:e.confirmButtonType==="text"?"":e.confirmButtonType,text:e.confirmButtonType==="text",onClick:p},{default:re(()=>[gt(Ie(g.value),1)]),_:1},8,["type","text"])])],2)],2)]),default:re(()=>[y.$slots.reference?ie(y.$slots,"reference",{key:0}):le("v-if",!0)]),_:3},16,["effect","virtual-triggering","virtual-ref","popper-class","popper-style","teleported","hide-after","persistent"]))}});const Joe=dt(Xoe),Qoe=$e({trigger:so.trigger,triggerKeys:so.triggerKeys,placement:av.placement,disabled:so.disabled,visible:un.visible,transition:un.transition,popperOptions:av.popperOptions,tabindex:av.tabindex,content:un.content,popperStyle:un.popperStyle,popperClass:un.popperClass,enterable:{...un.enterable,default:!0},effect:{...un.effect,default:"light"},teleported:un.teleported,appendTo:un.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),ele={"update:visible":e=>cn(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},tle="onUpdate:visible";var nle=de({name:"ElPopover",__name:"popover",props:Qoe,emits:ele,setup(e,{expose:t,emit:n}){const r=e,s=n,a=E(()=>r[tle]),i=Se("popover"),o=L(),l=E(()=>{var y;return(y=f(o))==null?void 0:y.popperRef}),u=E(()=>[{width:Gn(r.width)},r.popperStyle]),c=E(()=>[i.b(),r.popperClass,{[i.m("plain")]:!!r.content}]),d=E(()=>r.transition===`${i.namespace.value}-fade-in-linear`),h=()=>{var y;(y=o.value)==null||y.hide()},p=()=>{s("before-enter")},m=()=>{s("before-leave")},g=()=>{s("after-enter")},v=()=>{s("update:visible",!1),s("after-leave")};return t({popperRef:l,hide:h}),(y,b)=>(I(),ce(f(zr),bt({ref_key:"tooltipRef",ref:o},y.$attrs,{trigger:e.trigger,"trigger-keys":e.triggerKeys,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":c.value,"popper-style":u.value,teleported:e.teleported,"append-to":e.appendTo,persistent:e.persistent,"gpu-acceleration":d.value,"onUpdate:visible":a.value,onBeforeShow:p,onBeforeHide:m,onShow:g,onHide:v}),{content:re(()=>[e.title?(I(),K("div",{key:0,class:M(f(i).e("title")),role:"title"},Ie(e.title),3)):le("v-if",!0),ie(y.$slots,"default",{},()=>[gt(Ie(e.content),1)])]),default:re(()=>[y.$slots.reference?ie(y.$slots,"reference",{key:0}):le("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});const aT=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var rle={mounted(e,t){aT(e,t)},updated(e,t){aT(e,t)}};const sle="popover",x7=rZ(rle,sle),ale=dt(nle,{directive:x7}),ile=$e({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ne(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ne([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:ne(Function),default:e=>`${e}%`}}),ole=["aria-valuenow"],lle={viewBox:"0 0 100 100"},ule=["d","stroke","stroke-linecap","stroke-width"],cle=["d","stroke","opacity","stroke-linecap","stroke-width"],dle={key:0};var fle=de({name:"ElProgress",__name:"progress",props:ile,setup(e){const t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=e,r=Se("progress"),s=E(()=>{const w={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},_=b(n.percentage);return _.includes("gradient")?w.background=_:w.backgroundColor=_,w}),a=E(()=>(n.strokeWidth/n.width*100).toFixed(1)),i=E(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),o=E(()=>{const w=i.value,_=n.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${w}
          a ${w} ${w} 0 1 1 0 ${_?"-":""}${w*2}
          a ${w} ${w} 0 1 1 0 ${_?"":"-"}${w*2}
          `}),l=E(()=>2*Math.PI*i.value),u=E(()=>n.type==="dashboard"?.75:1),c=E(()=>`${-1*l.value*(1-u.value)/2}px`),d=E(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),h=E(()=>({strokeDasharray:`${l.value*u.value*(n.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),p=E(()=>{let w;return n.color?w=b(n.percentage):w=t[n.status]||t.default,w}),m=E(()=>n.status==="warning"?$y:n.type==="line"?n.status==="success"?u6:_o:n.status==="success"?tm:ja),g=E(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),v=E(()=>n.format(n.percentage));function y(w){const _=100/w.length;return w.map((C,T)=>Ke(C)?{color:C,percentage:(T+1)*_}:C).sort((C,T)=>C.percentage-T.percentage)}const b=w=>{var _;const{color:S}=n;if(Ye(S))return S(w);if(Ke(S))return S;{const C=y(S);for(const T of C)if(T.percentage>w)return T.color;return(_=C[C.length-1])==null?void 0:_.color}};return(w,_)=>(I(),K("div",{class:M([f(r).b(),f(r).m(e.type),f(r).is(e.status),{[f(r).m("without-text")]:!e.showText,[f(r).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(I(),K("div",{key:0,class:M(f(r).b("bar"))},[Z("div",{class:M(f(r).be("bar","outer")),style:qe({height:`${e.strokeWidth}px`})},[Z("div",{class:M([f(r).be("bar","inner"),{[f(r).bem("bar","inner","indeterminate")]:e.indeterminate},{[f(r).bem("bar","inner","striped")]:e.striped},{[f(r).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:qe(s.value)},[(e.showText||w.$slots.default)&&e.textInside?(I(),K("div",{key:0,class:M(f(r).be("bar","innerText"))},[ie(w.$slots,"default",{percentage:e.percentage},()=>[Z("span",null,Ie(v.value),1)])],2)):le("v-if",!0)],6)],6)],2)):(I(),K("div",{key:1,class:M(f(r).b("circle")),style:qe({height:`${e.width}px`,width:`${e.width}px`})},[(I(),K("svg",lle,[Z("path",{class:M(f(r).be("circle","track")),d:o.value,stroke:`var(${f(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":a.value,fill:"none",style:qe(d.value)},null,14,ule),Z("path",{class:M(f(r).be("circle","path")),d:o.value,stroke:p.value,fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":a.value,style:qe(h.value)},null,14,cle)]))],6)),(e.showText||w.$slots.default)&&!e.textInside?(I(),K("div",{key:2,class:M(f(r).e("text")),style:qe({fontSize:`${g.value}px`})},[ie(w.$slots,"default",{percentage:e.percentage},()=>[e.status?(I(),ce(f(We),{key:1},{default:re(()=>[(I(),ce(yt(m.value)))]),_:1})):(I(),K("span",dle,Ie(v.value),1))])],6)):le("v-if",!0)],10,ole))}});const E7=dt(fle),hle=$e({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:ne([Array,Object]),default:()=>Wn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:ne([Array,Object]),default:()=>[Jm,Jm,Jm]},voidIcon:{type:dn,default:()=>gY},disabledVoidIcon:{type:dn,default:()=>Jm},disabled:{type:Boolean,default:void 0},allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:ne(Array),default:()=>Wn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:wr,clearable:Boolean,...Ts(["ariaLabel"])}),ple={[It]:e=>Xe(e),[it]:e=>Xe(e)},mle=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],gle=["onMousemove","onClick"];var vle=de({name:"ElRate",__name:"rate",props:hle,emits:ple,setup(e,{expose:t,emit:n}){function r($,D){const z=U=>ht(U),W=Object.keys(D).map(U=>+U).filter(U=>{const Q=D[U];return(z(Q)?Q.excluded:!1)?$<U:$<=U}).sort((U,Q)=>U-Q),Y=D[W[0]];return z(Y)&&Y.value||Y}const s=e,a=n,i=Ve(go,void 0),o=gr(),l=Se("rate"),{inputId:u,isLabeledByFormItem:c}=Ta(s,{formItemContext:i}),d=L(zu(s.modelValue,0,s.max)),h=L(-1),p=L(!0),m=L([]),g=E(()=>m.value.map($=>$.$el.clientWidth)),v=E(()=>[l.b(),l.m(o.value)]),y=Zn(),b=E(()=>l.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":C.value})),w=E(()=>{let $="";return s.showScore?$=s.scoreTemplate.replace(/\{\s*value\s*\}/,y.value?`${s.modelValue}`:`${d.value}`):s.showText&&($=s.texts[Math.ceil(d.value)-1]),$}),_=E(()=>s.modelValue*100-Math.floor(s.modelValue)*100),S=E(()=>ke(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),C=E(()=>{const $=r(d.value,S.value);return ht($)?"":$}),T=E(()=>{let $="";return y.value?$=`${_.value}%`:s.allowHalf&&($="50%"),{color:C.value,width:$}}),x=E(()=>{let $=ke(s.icons)?[...s.icons]:{...s.icons};return $=to($),ke($)?{[s.lowThreshold]:$[0],[s.highThreshold]:{value:$[1],excluded:!0},[s.max]:$[2]}:$}),N=E(()=>r(s.modelValue,x.value)),k=E(()=>y.value?Ke(s.disabledVoidIcon)?s.disabledVoidIcon:to(s.disabledVoidIcon):Ke(s.voidIcon)?s.voidIcon:to(s.voidIcon)),A=E(()=>r(d.value,x.value));function O($){const D=y.value&&_.value>0&&$-1<s.modelValue&&$>s.modelValue,z=s.allowHalf&&p.value&&$-.5<=d.value&&$>d.value;return D||z}function F($){s.clearable&&$===s.modelValue&&($=0),a(it,$),s.modelValue!==$&&a(It,$)}function j($){y.value||(s.allowHalf&&p.value?F(d.value):F($))}function V($){if(y.value)return;const D=hn($),z=s.allowHalf?.5:1;let W=d.value;switch(D){case Ne.up:case Ne.right:W+=z;break;case Ne.left:case Ne.down:W-=z;break}if(W=zu(W,0,s.max),W!==d.value)return $.stopPropagation(),$.preventDefault(),a(it,W),a(It,W),W}function G($,D){y.value||(s.allowHalf&&D?(p.value=D.offsetX*2<=g.value[$-1],d.value=p.value?$-.5:$):d.value=$,h.value=$)}function R(){y.value||(s.allowHalf&&(p.value=s.modelValue!==Math.floor(s.modelValue)),d.value=zu(s.modelValue,0,s.max),h.value=-1)}return fe(()=>s.modelValue,$=>{d.value=zu($,0,s.max),p.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||a(it,0),t({setCurrentValue:G,resetCurrentValue:R}),($,D)=>{var z;return I(),K("div",{id:f(u),class:M([v.value,f(l).is("disabled",f(y))]),role:"slider","aria-label":f(c)?void 0:e.ariaLabel||"rating","aria-labelledby":f(c)?(z=f(i))==null?void 0:z.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":w.value||void 0,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0",style:qe(b.value),onKeydown:V},[(I(!0),K(Ge,null,Ot(e.max,(W,Y)=>(I(),K("span",{key:Y,class:M(f(l).e("item")),onMousemove:U=>G(W,U),onMouseleave:R,onClick:U=>j(W)},[q(f(We),{ref_for:!0,ref_key:"iconRefs",ref:m,class:M([f(l).e("icon"),{hover:h.value===W},f(l).is("active",W<=d.value),f(l).is("focus-visible",W===Math.ceil(d.value||1))])},{default:re(()=>[vt((I(),ce(yt(A.value),null,null,512)),[[Kt,!O(W)&&W<=d.value]]),vt((I(),ce(yt(k.value),null,null,512)),[[Kt,!O(W)&&W>d.value]]),vt((I(),ce(yt(k.value),{class:M([f(l).em("decimal","box")])},null,8,["class"])),[[Kt,O(W)]]),vt(q(f(We),{style:qe(T.value),class:M([f(l).e("icon"),f(l).e("decimal")])},{default:re(()=>[(I(),ce(yt(N.value)))]),_:1},8,["style","class"]),[[Kt,O(W)]])]),_:2},1032,["class"])],42,gle))),128)),e.showText||e.showScore?(I(),K("span",{key:0,class:M(f(l).e("text")),style:qe({color:e.textColor})},Ie(w.value),7)):le("v-if",!0)],46,mle)}}});const yle=dt(vle),Ru={primary:"icon-primary",success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},iT={[Ru.primary]:np,[Ru.success]:xZ,[Ru.warning]:$y,[Ru.error]:c6,[Ru.info]:np},ble=$e({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["primary","success","warning","info","error"],default:"info"}});var wle=de({name:"ElResult",__name:"result",props:ble,setup(e){const t=e,n=Se("result"),r=E(()=>{const s=t.icon,a=s&&Ru[s]?Ru[s]:"icon-info",i=iT[a]||iT["icon-info"];return{class:a,component:i}});return(s,a)=>(I(),K("div",{class:M(f(n).b())},[Z("div",{class:M(f(n).e("icon"))},[ie(s.$slots,"icon",{},()=>[r.value.component?(I(),ce(yt(r.value.component),{key:0,class:M(r.value.class)},null,8,["class"])):le("v-if",!0)])],2),e.title||s.$slots.title?(I(),K("div",{key:0,class:M(f(n).e("title"))},[ie(s.$slots,"title",{},()=>[Z("p",null,Ie(e.title),1)])],2)):le("v-if",!0),e.subTitle||s.$slots["sub-title"]?(I(),K("div",{key:1,class:M(f(n).e("subtitle"))},[ie(s.$slots,"sub-title",{},()=>[Z("p",null,Ie(e.subTitle),1)])],2)):le("v-if",!0),s.$slots.extra?(I(),K("div",{key:2,class:M(f(n).e("extra"))},[ie(s.$slots,"extra")],2)):le("v-if",!0)],2))}});const _le=dt(wle),Sle=["start","center","end","space-around","space-between","space-evenly"],Cle=["top","middle","bottom"],xle=$e({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Sle,default:"start"},align:{type:String,values:Cle}});var Ele=de({name:"ElRow",__name:"row",props:xle,setup(e){const t=e,n=Se("row"),r=E(()=>t.gutter);At(yA,{gutter:r});const s=E(()=>{const i={};return t.gutter&&(i.marginRight=i.marginLeft=`-${t.gutter/2}px`),i}),a=E(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,!!t.align)]);return(i,o)=>(I(),ce(yt(e.tag),{class:M(a.value),style:qe(s.value)},{default:re(()=>[ie(i.$slots,"default")]),_:3},8,["class","style"]))}});const Tle=dt(Ele);var kle=de({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Se("select")}}});function Nle(e,t,n,r,s,a){return I(),K("div",{class:M(e.ns.be("group","title")),style:qe({...e.style,lineHeight:`${e.height}px`})},Ie(e.item.label),7)}var Ile=_r(kle,[["render",Nle]]);function Ole(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const $le=$e({allowCreate:Boolean,autocomplete:{type:ne(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:dn,default:_o},effect:{type:ne(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:{type:Boolean,default:void 0},estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:{type:ne(Function)},height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:ne([Array,String,Number,Boolean,Object]),default:void 0},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:{type:ne(Function)},reserveKeyword:{type:Boolean,default:!0},options:{type:ne(Array),required:!0},placeholder:{type:String},teleported:un.teleported,persistent:{type:Boolean,default:!0},popperClass:un.popperClass,popperStyle:un.popperStyle,popperOptions:{type:ne(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},size:wr,props:{type:ne(Object),default:()=>Yv},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},placement:{type:ne(String),values:So,default:"bottom-start"},fallbackPlacements:{type:ne(Array),default:["bottom-start","top-start","right","left"]},tagType:{...nl.type,default:"info"},tagEffect:{...nl.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:un.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return cn(e)||Xe(e)}},suffixIcon:{type:dn,default:Ri},...Ec,...Ts(["ariaLabel"])}),Ale=$e({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ne(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Rle={[it]:e=>!0,[It]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},Mle={hover:e=>Xe(e),select:(e,t)=>!0},tS=Symbol("ElSelectV2Injection");var Ple=de({props:Ale,emits:Mle,setup(e,{emit:t}){const n=Ve(tS),r=Se("select"),{hoverItem:s,selectOptionClick:a}=Ole(e,{emit:t}),{getLabel:i}=om(n.props),o=n.contentId;return{ns:r,contentId:o,hoverItem:s,selectOptionClick:a,getLabel:i}}});const Lle=["id","aria-selected","aria-disabled"];function Dle(e,t,n,r,s,a){return I(),K("li",{id:`${e.contentId}-${e.index}`,role:"option","aria-selected":e.selected,"aria-disabled":e.disabled||void 0,style:qe(e.style),class:M([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:t[0]||(t[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:t[1]||(t[1]=at((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"]))},[ie(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Z("span",null,Ie(e.getLabel(e.item)),1)])],46,Lle)}var zle=_r(Ple,[["render",Dle]]),oT=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Fle(e,t){return!!(e===t||oT(e)&&oT(t))}function Ble(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Fle(e[n],t[n]))return!1;return!0}function jle(e,t){t===void 0&&(t=Ble);var n=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}const T7=()=>{const t=wt().proxy.$props;return E(()=>{const n=(r,s,a)=>({});return t.perfMode?Cy(n):jle(n)})},bw=50,s0="itemRendered",a0="scroll",od="forward",i0="backward",za="auto",Hy="smart",dp="start",Xi="center",fp="end",Zd="horizontal",k7="vertical",Vle="ltr",kd="rtl",hp="negative",nS="positive-ascending",rS="positive-descending",Hle={[Zd]:"left",[k7]:"top"},Ule=20,N7=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let s,a=0;const i=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:i,onWheel:l=>{Qo(s);let{deltaX:u,deltaY:c}=l;l.shiftKey&&c!==0&&(u=c,c=0);const d=n.value===Zd?u:c;i(d)||(a+=d,!C6()&&d!==0&&l.preventDefault(),s=ho(()=>{r(a),a=0}))}}},ww=$i({type:ne([Number,Function]),required:!0}),_w=$i({type:Number}),Sw=$i({type:Number,default:2}),Wle=$i({type:String,values:["ltr","rtl"],default:"ltr"}),Cw=$i({type:Number,default:0}),o0=$i({type:Number,required:!0}),I7=$i({type:String,values:["horizontal","vertical"],default:k7}),O7=$e({className:{type:String,default:""},containerElement:{type:ne([String,Object]),default:"div"},data:{type:ne(Array),default:()=>Wn([])},direction:Wle,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},innerProps:{type:ne(Object),default:()=>({})},style:{type:ne([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),$7=$e({cache:Sw,estimatedItemSize:_w,layout:I7,initScrollOffset:Cw,total:o0,itemSize:ww,...O7}),xw={type:Number,default:6},A7={type:Number,default:0},R7={type:Number,default:2},Xu=$e({columnCache:Sw,columnWidth:ww,estimatedColumnWidth:_w,estimatedRowHeight:_w,initScrollLeft:Cw,initScrollTop:Cw,itemKey:{type:ne(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:Sw,rowHeight:ww,totalColumn:o0,totalRow:o0,hScrollbarSize:xw,vScrollbarSize:xw,scrollbarStartGap:A7,scrollbarEndGap:R7,role:String,...O7}),M7=$e({alwaysOn:Boolean,class:String,layout:I7,total:o0,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:xw,startGap:A7,endGap:R7,visible:Boolean}),ju=(e,t)=>e<t?od:i0,pp=e=>e===Vle||e===kd||e===Zd,lT=e=>e===kd;let jc=null;function l0(e=!1){if(jc===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?jc=rS:(t.scrollLeft=1,t.scrollLeft===0?jc=hp:jc=nS),document.body.removeChild(t),jc}return jc}function Kle({move:e,size:t,bar:n},r){const s={},a=`translate${n.axis}(${e}px)`;return s[n.size]=t,s.transform=a,r==="horizontal"?s.height="100%":s.width="100%",s}const Ew=de({name:"ElVirtualScrollBar",props:M7,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=E(()=>e.startGap+e.endGap),r=Se("virtual-scrollbar"),s=Se("scrollbar"),a=L(),i=L();let o=null,l=null;const u=Xt({isDragging:!1,traveled:0}),c=E(()=>S$[e.layout]),d=E(()=>e.clientSize-f(n)),h=E(()=>({position:"absolute",width:`${Zd===e.layout?d.value:e.scrollbarSize}px`,height:`${Zd===e.layout?e.scrollbarSize:d.value}px`,[Hle[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),p=E(()=>{const C=e.ratio;if(C>=100)return Number.POSITIVE_INFINITY;if(C>=50)return C*d.value/100;const T=d.value/3;return Math.floor(Math.min(Math.max(C*d.value/100,Ule),T))}),m=E(()=>{if(!Number.isFinite(p.value))return{display:"none"};const C=`${p.value}px`;return Kle({bar:c.value,size:C,move:u.traveled},e.layout)}),g=E(()=>Math.ceil(e.clientSize-p.value-f(n))),v=()=>{window.addEventListener("mousemove",_),window.addEventListener("mouseup",w);const C=f(i);C&&(l=document.onselectstart,document.onselectstart=()=>!1,C.addEventListener("touchmove",_,{passive:!0}),C.addEventListener("touchend",w))},y=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",w),document.onselectstart=l,l=null;const C=f(i);C&&(C.removeEventListener("touchmove",_),C.removeEventListener("touchend",w))},b=C=>{C.stopImmediatePropagation(),!(C.ctrlKey||[1,2].includes(C.button))&&(u.isDragging=!0,u[c.value.axis]=C.currentTarget[c.value.offset]-(C[c.value.client]-C.currentTarget.getBoundingClientRect()[c.value.direction]),t("start-move"),v())},w=()=>{u.isDragging=!1,u[c.value.axis]=0,t("stop-move"),y()},_=C=>{const{isDragging:T}=u;if(!T||!i.value||!a.value)return;const x=u[c.value.axis];if(!x)return;Qo(o);const N=(a.value.getBoundingClientRect()[c.value.direction]-C[c.value.client])*-1,k=i.value[c.value.offset]-x,A=N-k;o=ho(()=>{u.traveled=Math.max(0,Math.min(A,g.value)),t("scroll",A,g.value)})},S=C=>{const T=Math.abs(C.target.getBoundingClientRect()[c.value.direction]-C[c.value.client]),x=i.value[c.value.offset]/2,N=T-x;u.traveled=Math.max(0,Math.min(N,g.value)),t("scroll",N,g.value)};return fe(()=>e.scrollFrom,C=>{u.isDragging||(u.traveled=Math.ceil(C*g.value))}),en(()=>{y()}),()=>nt("div",{role:"presentation",ref:a,class:[r.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:h.value,onMousedown:at(S,["stop","prevent"]),onTouchstartPrevent:b},nt("div",{ref:i,class:s.e("thumb"),style:m.value,onMousedown:b},[]))}}),P7=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:s,getStartIndexForOffset:a,getStopIndexForStartIndex:i,initCache:o,clearCache:l,validateProps:u})=>de({name:e??"ElVirtualList",props:$7,emits:[s0,a0],setup(c,{emit:d,expose:h}){u(c);const p=wt(),m=Se("vl"),g=L(o(c,p)),v=T7(),y=L(),b=L(),w=L(),_=L({isScrolling:!1,scrollDir:"forward",scrollOffset:Xe(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),S=E(()=>{const{total:U,cache:Q}=c,{isScrolling:J,scrollDir:B,scrollOffset:P}=f(_);if(U===0)return[0,0,0,0];const ae=a(c,P,f(g)),ee=i(c,ae,P,f(g)),oe=!J||B===i0?Math.max(1,Q):1,X=!J||B===od?Math.max(1,Q):1;return[Math.max(0,ae-oe),Math.max(0,Math.min(U-1,ee+X)),ae,ee]}),C=E(()=>s(c,f(g))),T=E(()=>pp(c.layout)),x=E(()=>[{position:"relative",[`overflow-${T.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:Xe(c.height)?`${c.height}px`:c.height,width:Xe(c.width)?`${c.width}px`:c.width},c.style]),N=E(()=>{const U=f(C),Q=f(T);return{height:Q?"100%":`${U}px`,pointerEvents:f(_).isScrolling?"none":void 0,width:Q?`${U}px`:"100%",margin:0,boxSizing:"border-box"}}),k=E(()=>T.value?c.width:c.height),{onWheel:A}=N7({atStartEdge:E(()=>_.value.scrollOffset<=0),atEndEdge:E(()=>_.value.scrollOffset>=C.value),layout:E(()=>c.layout)},U=>{var Q,J;(J=(Q=w.value).onMouseUp)==null||J.call(Q),R(Math.min(_.value.scrollOffset+U,C.value-k.value))});nn(y,"wheel",A,{passive:!1});const O=()=>{const{total:U}=c;if(U>0){const[P,ae,ee,oe]=f(S);d(s0,P,ae,ee,oe)}const{scrollDir:Q,scrollOffset:J,updateRequested:B}=f(_);d(a0,Q,J,B)},F=U=>{const{clientHeight:Q,scrollHeight:J,scrollTop:B}=U.currentTarget,P=f(_);if(P.scrollOffset===B)return;const ae=Math.max(0,Math.min(B,J-Q));_.value={...P,isScrolling:!0,scrollDir:ju(P.scrollOffset,ae),scrollOffset:ae,updateRequested:!1},Fe(z)},j=U=>{const{clientWidth:Q,scrollLeft:J,scrollWidth:B}=U.currentTarget,P=f(_);if(P.scrollOffset===J)return;const{direction:ae}=c;let ee=J;if(ae===kd)switch(l0()){case hp:{ee=-J;break}case rS:{ee=B-Q-J;break}}ee=Math.max(0,Math.min(ee,B-Q)),_.value={...P,isScrolling:!0,scrollDir:ju(P.scrollOffset,ee),scrollOffset:ee,updateRequested:!1},Fe(z)},V=U=>{f(T)?j(U):F(U),O()},G=(U,Q)=>{const J=(C.value-k.value)/Q*U;R(Math.min(C.value-k.value,J))},R=U=>{U=Math.max(U,0),U!==f(_).scrollOffset&&(_.value={...f(_),scrollOffset:U,scrollDir:ju(f(_).scrollOffset,U),updateRequested:!0},Fe(z))},$=(U,Q=za)=>{const{scrollOffset:J}=f(_);U=Math.max(0,Math.min(U,c.total-1)),R(t(c,U,Q,J,f(g)))},D=U=>{const{direction:Q,itemSize:J,layout:B}=c,P=v.value(l&&J,l&&B,l&&Q);let ae;if(Zt(P,String(U)))ae=P[U];else{const ee=r(c,U,f(g)),oe=n(c,U,f(g)),X=f(T),H=Q===kd,te=X?ee:0;P[U]=ae={position:"absolute",left:H?void 0:`${te}px`,right:H?`${te}px`:void 0,top:X?0:`${ee}px`,height:X?"100%":`${oe}px`,width:X?`${oe}px`:"100%"}}return ae},z=()=>{_.value.isScrolling=!1,Fe(()=>{v.value(-1,null,null)})},W=()=>{const U=y.value;U&&(U.scrollTop=0)};_t(()=>{if(!Yt)return;const{initScrollOffset:U}=c,Q=f(y);Xe(U)&&Q&&(f(T)?Q.scrollLeft=U:Q.scrollTop=U),O()}),Ni(()=>{const{direction:U,layout:Q}=c,{scrollOffset:J,updateRequested:B}=f(_),P=f(y);if(B&&P)if(Q===Zd)if(U===kd)switch(l0()){case hp:{P.scrollLeft=-J;break}case nS:{P.scrollLeft=J;break}default:{const{clientWidth:ae,scrollWidth:ee}=P;P.scrollLeft=ee-ae-J;break}}else P.scrollLeft=J;else P.scrollTop=J}),Vp(()=>{f(y).scrollTop=f(_).scrollOffset});const Y={ns:m,clientSize:k,estimatedTotalSize:C,windowStyle:x,windowRef:y,innerRef:b,innerStyle:N,itemsToRender:S,scrollbarRef:w,states:_,getItemStyle:D,onScroll:V,onScrollbarScroll:G,onWheel:A,scrollTo:R,scrollToItem:$,resetScrollTop:W};return h({windowRef:y,innerRef:b,getItemStyleCache:v,scrollTo:R,scrollToItem:$,resetScrollTop:W,states:_}),Y},render(c){var d;const{$slots:h,className:p,clientSize:m,containerElement:g,data:v,getItemStyle:y,innerElement:b,itemsToRender:w,innerStyle:_,layout:S,total:C,onScroll:T,onScrollbarScroll:x,states:N,useIsScrolling:k,windowStyle:A,ns:O}=c,[F,j]=w,V=yt(g),G=yt(b),R=[];if(C>0)for(let W=F;W<=j;W++)R.push(nt(Ge,{key:W},(d=h.default)==null?void 0:d.call(h,{data:v,index:W,isScrolling:k?N.isScrolling:void 0,style:y(W)})));const $=[nt(G,bt(c.innerProps,{style:_,ref:"innerRef"}),Ke(G)?R:{default:()=>R})],D=nt(Ew,{ref:"scrollbarRef",clientSize:m,layout:S,onScroll:x,ratio:m*100/this.estimatedTotalSize,scrollFrom:N.scrollOffset/(this.estimatedTotalSize-m),total:C,alwaysOn:N.scrollbarAlwaysOn}),z=nt(V,{class:[O.e("window"),p],style:A,onScroll:T,ref:"windowRef",key:0},Ke(V)?[$]:{default:()=>[$]});return nt("div",{key:0,class:[O.e("wrapper"),N.scrollbarAlwaysOn?"always-on":""]},[z,D])}}),L7=P7({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:s},a,i,o)=>{const l=pp(r)?s:e,u=Math.max(0,t*n-l),c=Math.min(u,a*n),d=Math.max(0,(a+1)*n-l);switch(i===Hy&&(o>=d-l&&o<=c+l?i=za:i=Xi),i){case dp:return c;case fp:return d;case Xi:{const h=Math.round(d+(c-d)/2);return h<Math.ceil(l/2)?0:h>u+Math.floor(l/2)?u:h}case za:default:return o>=d&&o<=c?o:o<d?d:c}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:s},a,i)=>{const o=a*n,l=pp(r)?s:e,u=Math.ceil((l+i-o)/n);return Math.max(0,Math.min(t-1,a+u-1))},initCache(){},clearCache:!0,validateProps(){}}),ld=(e,t,n)=>{const{itemSize:r}=e,{items:s,lastVisitedIndex:a}=n;if(t>a){let i=0;if(a>=0){const o=s[a];i=o.offset+o.size}for(let o=a+1;o<=t;o++){const l=r(o);s[o]={offset:i,size:l},i+=l}n.lastVisitedIndex=t}return s[t]},Gle=(e,t,n)=>{const{items:r,lastVisitedIndex:s}=t;return(s>0?r[s].offset:0)>=n?D7(e,t,0,s,n):Zle(e,t,Math.max(0,s),n)},D7=(e,t,n,r,s)=>{for(;n<=r;){const a=n+Math.floor((r-n)/2),i=ld(e,a,t).offset;if(i===s)return a;i<s?n=a+1:i>s&&(r=a-1)}return Math.max(0,n-1)},Zle=(e,t,n,r)=>{const{total:s}=e;let a=1;for(;n<s&&ld(e,n,t).offset<r;)n+=a,a*=2;return D7(e,t,Math.floor(n/2),Math.min(n,s-1),r)},uT=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let s=0;if(r>=e&&(r=e-1),r>=0){const o=t[r];s=o.offset+o.size}const i=(e-r-1)*n;return s+i},Yle=P7({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>ld(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:uT,getOffset:(e,t,n,r,s)=>{const{height:a,layout:i,width:o}=e,l=pp(i)?o:a,u=ld(e,t,s),c=uT(e,s),d=Math.max(0,Math.min(c-l,u.offset)),h=Math.max(0,u.offset-l+u.size);switch(n===Hy&&(r>=h-l&&r<=d+l?n=za:n=Xi),n){case dp:return d;case fp:return h;case Xi:return Math.round(h+(d-h)/2);case za:default:return r>=h&&r<=d?r:r<h?h:d}},getStartIndexForOffset:(e,t,n)=>Gle(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:s,total:a,layout:i,width:o}=e,l=pp(i)?o:s,u=ld(e,t,r),c=n+l;let d=u.offset+u.size,h=t;for(;h<a-1&&d<c;)h++,d+=ld(e,h,r).size;return h},initCache({estimatedItemSize:e=bw},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,s=!0)=>{var a,i;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(a=t.exposed)==null||a.getItemStyleCache(-1),s&&((i=t.proxy)==null||i.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),qle={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number,id:String,ariaLabel:String};var Xle=de({name:"ElSelectDropdown",props:qle,setup(e,{slots:t,expose:n}){const r=Ve(tS),s=Se("select"),{getLabel:a,getValue:i,getDisabled:o}=om(r.props),l=L([]),u=L(),c=E(()=>e.data.length);fe(()=>c.value,()=>{var A,O;(O=(A=r.tooltipRef.value)==null?void 0:A.updatePopper)==null||O.call(A)});const d=E(()=>Vt(r.props.estimatedOptionHeight)),h=E(()=>d.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:A=>l.value[A]}),p=(A=[],O)=>{const{props:{valueKey:F}}=r;return ht(O)?A&&A.some(j=>yn(dr(j,F))===dr(O,F)):A.includes(O)},m=(A,O)=>{if(ht(O)){const{valueKey:F}=r.props;return dr(A,F)===dr(O,F)}else return A===O},g=(A,O)=>r.props.multiple?p(A,i(O)):m(A,i(O)),v=(A,O)=>{const{disabled:F,multiple:j,multipleLimit:V}=r.props;return F||!O&&(j?V>0&&A.length>=V:!1)},y=A=>e.hoveringIndex===A;n({listRef:u,isSized:d,isItemDisabled:v,isItemHovering:y,isItemSelected:g,scrollToItem:A=>{const O=u.value;O&&O.scrollToItem(A)},resetScrollTop:()=>{const A=u.value;A&&A.resetScrollTop()}});const S=A=>{const{index:O,data:F,style:j}=A,V=f(d),{itemSize:G,estimatedSize:R}=f(h),{modelValue:$}=r.props,{onSelect:D,onHover:z}=r,W=F[O];if(W.type==="Group")return q(Ile,{item:W,style:j,height:V?G:R},null);const Y=g($,W),U=v($,Y),Q=y(O);return q(zle,bt(A,{selected:Y,disabled:o(W)||U,created:!!W.created,hovering:Q,item:W,onSelect:D,onHover:z}),{default:J=>{var B;return((B=t.default)==null?void 0:B.call(t,J))||q("span",null,[a(W)])}})},{onKeyboardNavigate:C,onKeyboardSelect:T}=r,x=()=>{C("forward")},N=()=>{C("backward")},k=A=>{const O=hn(A),{tab:F,esc:j,down:V,up:G,enter:R,numpadEnter:$}=Ne;switch([j,V,G,R,$].includes(O)&&(A.preventDefault(),A.stopPropagation()),O){case F:case j:break;case V:x();break;case G:N();break;case R:case $:T();break}};return()=>{var A,O,F,j;const{data:V,width:G}=e,{height:R,multiple:$,scrollbarAlwaysOn:D}=r.props,z=E(()=>Kv?!0:D),W=f(d)?L7:Yle;return q("div",{class:[s.b("dropdown"),s.is("multiple",$)],style:{width:`${G}px`}},[(A=t.header)==null?void 0:A.call(t),((O=t.loading)==null?void 0:O.call(t))||((F=t.empty)==null?void 0:F.call(t))||q(W,bt({ref:u},f(h),{className:s.be("dropdown","list"),scrollbarAlwaysOn:z.value,data:V,height:R,width:G,total:V.length,innerElement:"ul",innerProps:{id:e.id,role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},onKeydown:k}),{default:Y=>q(S,Y,null)}),(j=t.footer)==null?void 0:j.call(t)])}}});function Jle(e,t){const{aliasProps:n,getLabel:r,getValue:s}=om(e),a=L(0),i=L(),o=E(()=>e.allowCreate&&e.filterable);fe(()=>e.options,p=>{const m=new Set(p.map(g=>r(g)));t.createdOptions=t.createdOptions.filter(g=>!m.has(r(g)))});function l(p){const m=g=>r(g)===p;return e.options&&e.options.some(m)||t.createdOptions.some(m)}function u(p){o.value&&(e.multiple&&p.created?a.value++:i.value=p)}function c(p){if(o.value)if(p&&p.length>0){if(l(p)){t.createdOptions=t.createdOptions.filter(g=>r(g)!==t.previousQuery);return}const m={[n.value.value]:p,[n.value.label]:p,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=a.value?t.createdOptions[a.value]=m:t.createdOptions.push(m)}else if(e.multiple)t.createdOptions.length=a.value;else{const m=i.value;t.createdOptions.length=0,m&&m.created&&t.createdOptions.push(m)}}function d(p){if(!o.value||!p||!p.created||p.created&&e.reserveKeyword&&t.inputValue===r(p))return;const m=t.createdOptions.findIndex(g=>s(g)===s(p));~m&&(t.createdOptions.splice(m,1),a.value--)}function h(){o.value&&(t.createdOptions.length=0,a.value=0)}return{createNewOption:c,removeNewOption:d,selectNewOption:u,clearAllNewOption:h}}const Qle=(e,t)=>{const{t:n}=Mt(),r=nr(),s=Se("select"),a=Se("input"),{form:i,formItem:o}=Br(),{inputId:l}=Ta(e,{formItemContext:o}),{aliasProps:u,getLabel:c,getValue:d,getDisabled:h,getOptions:p}=om(e),{valueOnClear:m,isEmptyValue:g}=Qp(e),v=Xt({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),y=L(-1),b=L(!1),w=L(),_=L(),S=L(),C=L(),T=L(),x=L(),N=L(),k=L(),A=L(),O=L(),{isComposing:F,handleCompositionStart:j,handleCompositionEnd:V,handleCompositionUpdate:G}=im({afterComposition:Me=>Pn(Me)}),R=Zn(),{wrapperRef:$,isFocused:D,handleBlur:z}=pl(T,{disabled:R,afterFocus(){e.automaticDropdown&&!Q.value&&(Q.value=!0,v.menuVisibleOnFocus=!0)},beforeBlur(Me){var ut,Et;return((ut=S.value)==null?void 0:ut.isFocusInsideContent(Me))||((Et=C.value)==null?void 0:Et.isFocusInsideContent(Me))},afterBlur(){var Me;Q.value=!1,v.menuVisibleOnFocus=!1,e.validateEvent&&((Me=o==null?void 0:o.validate)==null||Me.call(o,"blur").catch(ut=>void 0))}}),W=E(()=>Re("")),Y=E(()=>e.loading?!1:e.options.length>0||v.createdOptions.length>0),U=L([]),Q=L(!1),J=E(()=>{var Me;return(Me=i==null?void 0:i.statusIcon)!=null?Me:!1}),B=E(()=>{const Me=U.value.length*e.itemHeight;return Me>e.height?e.height:Me}),P=E(()=>e.multiple?ke(e.modelValue)&&e.modelValue.length>0:!g(e.modelValue)),ae=E(()=>e.clearable&&!R.value&&P.value&&(D.value||v.inputHovering)),ee=E(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),oe=E(()=>ee.value&&s.is("reverse",Q.value)),X=E(()=>(o==null?void 0:o.validateState)||""),H=E(()=>{if(X.value)return Ay[X.value]}),te=E(()=>e.remote?e.debounce:0),ue=E(()=>e.remote&&!v.inputValue&&!Y.value),ye=E(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&v.inputValue&&Y.value&&U.value.length===0?e.noMatchText||n("el.select.noMatch"):Y.value?null:e.noDataText||n("el.select.noData")),he=E(()=>e.filterable&&Ye(e.filterMethod)),_e=E(()=>e.filterable&&e.remote&&Ye(e.remoteMethod)),Re=Me=>{const ut=new RegExp(O6(Me),"i"),Et=Lt=>he.value||_e.value?!0:Me?ut.test(c(Lt)||""):!0;return e.loading?[]:[...v.createdOptions,...e.options].reduce((Lt,Rr)=>{const Ia=p(Rr);if(ke(Ia)){const Mf=Ia.filter(Et);Mf.length>0&&Lt.push({label:c(Rr),type:"Group"},...Mf)}else(e.remote||Et(Rr))&&Lt.push(Rr);return Lt},[])},De=()=>{U.value=Re(v.inputValue)},pe=E(()=>{const Me=new Map;return W.value.forEach((ut,Et)=>{Me.set(rt(d(ut)),{option:ut,index:Et})}),Me}),ve=E(()=>{const Me=new Map;return U.value.forEach((ut,Et)=>{Me.set(rt(d(ut)),{option:ut,index:Et})}),Me}),be=E(()=>U.value.every(Me=>h(Me))),me=gr(),Te=E(()=>me.value==="small"?"small":"default"),xe=()=>{var Me;if(Xe(e.fitInputWidth)){y.value=e.fitInputWidth;return}const ut=((Me=w.value)==null?void 0:Me.offsetWidth)||200;!e.fitInputWidth&&Y.value?Fe(()=>{y.value=Math.max(ut,Oe())}):y.value=ut},Oe=()=>{var Me,ut;const Lt=document.createElement("canvas").getContext("2d"),Rr=s.be("dropdown","item"),Mf=(((ut=(Me=k.value)==null?void 0:Me.listRef)==null?void 0:ut.innerRef)||document).querySelector(`.${Rr}`);if(Mf===null||Lt===null)return 0;const Um=getComputedStyle(Mf),_F=Number.parseFloat(Um.paddingLeft)+Number.parseFloat(Um.paddingRight);return Lt.font=`bold ${Um.font.replace(new RegExp(`\\b${Um.fontWeight}\\b`),"")}`,U.value.reduce((SF,CF)=>{const xF=Lt.measureText(c(CF));return Math.max(xF.width,SF)},0)+_F},Ce=()=>{if(!_.value)return 0;const Me=window.getComputedStyle(_.value);return Number.parseFloat(Me.gap||"6px")},Ee=E(()=>{const Me=Ce(),ut=e.filterable?Me+Ly:0;return{maxWidth:`${O.value&&e.maxCollapseTags===1?v.selectionWidth-v.collapseItemWidth-Me-ut:v.selectionWidth-ut}px`}}),Be=E(()=>({maxWidth:`${v.selectionWidth}px`})),Bt=E(()=>ke(e.modelValue)?e.modelValue.length===0&&!v.inputValue:e.filterable?!v.inputValue:!0),Gt=E(()=>{var Me;const ut=(Me=e.placeholder)!=null?Me:n("el.select.placeholder");return e.multiple||!P.value?ut:v.selectedLabel}),tt=E(()=>{var Me,ut;return(ut=(Me=S.value)==null?void 0:Me.popperRef)==null?void 0:ut.contentRef}),mt=E(()=>{if(e.multiple){const Me=e.modelValue.length;if(Me>0&&ve.value.has(e.modelValue[Me-1])){const{index:ut}=ve.value.get(e.modelValue[Me-1]);return ut}}else if(!g(e.modelValue)&&ve.value.has(e.modelValue)){const{index:Me}=ve.value.get(e.modelValue);return Me}return-1}),kt=E({get(){return Q.value&&(e.loading||!ue.value||e.remote&&!!r.empty)&&(!b.value||!Ds(v.previousQuery))},set(Me){Q.value=Me}}),we=E(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(0,e.maxCollapseTags):v.cachedOptions:[]),He=E(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:ge,removeNewOption:Ue,selectNewOption:St,clearAllNewOption:sn}=Jle(e,v),Ln=Me=>{var ut;R.value||e.filterable&&Q.value&&Me&&!((ut=N.value)!=null&&ut.contains(Me.target))||(v.menuVisibleOnFocus?v.menuVisibleOnFocus=!1:Q.value=!Q.value)},jn=()=>{v.inputValue.length>0&&!Q.value&&(Q.value=!0),ge(v.inputValue),Fe(()=>{Je(v.inputValue)})},ze=qp(()=>{jn(),b.value=!1},te),Je=Me=>{v.previousQuery===Me||F.value||(v.previousQuery=Me,e.filterable&&Ye(e.filterMethod)?e.filterMethod(Me):e.filterable&&e.remote&&Ye(e.remoteMethod)&&e.remoteMethod(Me),e.defaultFirstOption&&(e.filterable||e.remote)&&U.value.length?Fe(pt):Fe(jt))},pt=()=>{const Me=U.value.filter(Lt=>!Lt.disabled&&Lt.type!=="Group"),ut=Me.find(Lt=>Lt.created),Et=Me[0];v.hoveringIndex=Qe(U.value,ut||Et)},Mn=Me=>{Yn(e.modelValue,Me)||t(It,Me)},Jt=Me=>{t(it,Me),Mn(Me),v.previousValue=e.multiple?String(Me):Me,Fe(()=>{if(e.multiple&&ke(e.modelValue)){const ut=v.cachedOptions.slice(),Et=e.modelValue.map(Lt=>Li(Lt,ut));Yn(v.cachedOptions,Et)||(v.cachedOptions=Et)}else Pc(!0)})},Qe=(Me=[],ut)=>{if(!ht(ut))return Me.indexOf(ut);const Et=e.valueKey;let Lt=-1;return Me.some((Rr,Ia)=>dr(Rr,Et)===dr(ut,Et)?(Lt=Ia,!0):!1),Lt},rt=Me=>ht(Me)?dr(Me,e.valueKey):Me,xt=()=>{xe()},jr=()=>{v.selectionWidth=Number.parseFloat(window.getComputedStyle(_.value).width)},ks=()=>{v.collapseItemWidth=O.value.getBoundingClientRect().width},Ga=()=>{var Me,ut;(ut=(Me=S.value)==null?void 0:Me.updatePopper)==null||ut.call(Me)},jm=()=>{var Me,ut;(ut=(Me=C.value)==null?void 0:Me.updatePopper)==null||ut.call(Me)},gu=Me=>{const ut=d(Me);if(e.multiple){let Et=e.modelValue.slice();const Lt=Qe(Et,ut);Lt>-1?(Et=[...Et.slice(0,Lt),...Et.slice(Lt+1)],v.cachedOptions.splice(Lt,1),Ue(Me)):(e.multipleLimit<=0||Et.length<e.multipleLimit)&&(Et=[...Et,ut],v.cachedOptions.push(Me),St(Me)),Jt(Et),Me.created&&Je(""),e.filterable&&!e.reserveKeyword&&(v.inputValue="")}else v.selectedLabel=c(Me),!Yn(e.modelValue,ut)&&Jt(ut),Q.value=!1,St(Me),Me.created||sn();To()},Vm=(Me,ut)=>{let Et=e.modelValue.slice();const Lt=Qe(Et,d(ut));Lt>-1&&!R.value&&(Et=[...e.modelValue.slice(0,Lt),...e.modelValue.slice(Lt+1)],v.cachedOptions.splice(Lt,1),Jt(Et),t("remove-tag",d(ut)),Ue(ut)),Me.stopPropagation(),To()},To=()=>{var Me;(Me=T.value)==null||Me.focus()},B1=()=>{var Me;if(Q.value){Q.value=!1,Fe(()=>{var ut;return(ut=T.value)==null?void 0:ut.blur()});return}(Me=T.value)==null||Me.blur()},j1=()=>{v.inputValue.length>0?v.inputValue="":Q.value=!1},V1=Me=>kO(Me,ut=>!v.cachedOptions.some(Et=>d(Et)===ut&&h(Et))),H1=Me=>{const ut=hn(Me);if(e.multiple&&ut!==Ne.delete&&v.inputValue.length===0){Me.preventDefault();const Et=e.modelValue.slice(),Lt=V1(Et);if(Lt<0)return;const Rr=Et[Lt];Et.splice(Lt,1);const Ia=v.cachedOptions[Lt];v.cachedOptions.splice(Lt,1),Ue(Ia),Jt(Et),t("remove-tag",Rr)}},U1=()=>{let Me;ke(e.modelValue)?Me=[]:Me=m.value,v.selectedLabel="",Q.value=!1,Jt(Me),t("clear"),sn(),To()},vu=(Me,ut=void 0)=>{const Et=U.value;if(!["forward","backward"].includes(Me)||R.value||Et.length<=0||be.value||F.value)return;if(!Q.value)return Ln();Vt(ut)&&(ut=v.hoveringIndex);let Lt=-1;Me==="forward"?(Lt=ut+1,Lt>=Et.length&&(Lt=0)):Me==="backward"&&(Lt=ut-1,(Lt<0||Lt>=Et.length)&&(Lt=Et.length-1));const Rr=Et[Lt];if(h(Rr)||Rr.type==="Group")return vu(Me,Lt);v.hoveringIndex=Lt,Yr(Lt)},Ae=()=>{if(Q.value)~v.hoveringIndex&&U.value[v.hoveringIndex]&&gu(U.value[v.hoveringIndex]);else return Ln()},ot=Me=>{v.hoveringIndex=Me??-1},jt=()=>{if(!e.multiple)v.hoveringIndex=U.value.findIndex(Me=>rt(d(Me))===rt(e.modelValue));else{const Me=e.modelValue.length;if(Me>0){const ut=e.modelValue[Me-1];v.hoveringIndex=U.value.findIndex(Et=>rt(ut)===rt(d(Et)))}else v.hoveringIndex=-1}},Pn=Me=>{if(v.inputValue=Me.target.value,e.remote)b.value=!0,ze();else return jn()},Xn=Me=>{if(Q.value=!1,D.value){const ut=new FocusEvent("blur",Me);z(ut)}},us=()=>(v.isBeforeHide=!1,Fe(()=>{~mt.value&&Yr(mt.value)})),Yr=Me=>{k.value.scrollToItem(Me)},Li=(Me,ut)=>{const Et=rt(Me);if(pe.value.has(Et)){const{option:Lt}=pe.value.get(Et);return Lt}if(ut&&ut.length){const Lt=ut.find(Rr=>rt(d(Rr))===Et);if(Lt)return Lt}return{[u.value.value]:Me,[u.value.label]:Me}},ko=Me=>{var ut,Et;return(Et=(ut=pe.value.get(d(Me)))==null?void 0:ut.index)!=null?Et:-1},Pc=(Me=!1)=>{if(e.multiple)if(e.modelValue.length>0){const ut=v.cachedOptions.slice();v.cachedOptions.length=0,v.previousValue=e.modelValue.toString();for(const Et of e.modelValue){const Lt=Li(Et,ut);v.cachedOptions.push(Lt)}}else v.cachedOptions=[],v.previousValue=void 0;else if(P.value){v.previousValue=e.modelValue;const ut=U.value,Et=ut.findIndex(Lt=>rt(d(Lt))===rt(e.modelValue));~Et?v.selectedLabel=c(ut[Et]):(!v.selectedLabel||Me)&&(v.selectedLabel=rt(e.modelValue))}else v.selectedLabel="",v.previousValue=void 0;sn(),xe()};fe(()=>e.fitInputWidth,()=>{xe()}),fe(Q,Me=>{Me?(e.persistent||xe(),Je("")):(v.inputValue="",v.previousQuery=null,v.isBeforeHide=!0,v.menuVisibleOnFocus=!1,ge(""))}),fe(()=>e.modelValue,(Me,ut)=>{var Et;(!Me||ke(Me)&&Me.length===0||e.multiple&&!Yn(Me.toString(),v.previousValue)||!e.multiple&&rt(Me)!==rt(v.previousValue))&&Pc(!0),!Yn(Me,ut)&&e.validateEvent&&((Et=o==null?void 0:o.validate)==null||Et.call(o,"change").catch(Rr=>void 0))},{deep:!0}),fe(()=>e.options,()=>{const Me=T.value;(!Me||Me&&document.activeElement!==Me)&&Pc()},{deep:!0,flush:"post"}),fe(()=>U.value,()=>(xe(),k.value&&Fe(k.value.resetScrollTop))),ea(()=>{v.isBeforeHide||De()}),ea(()=>{const{valueKey:Me,options:ut}=e,Et=new Map;for(const Lt of ut){const Rr=d(Lt);let Ia=Rr;if(ht(Ia)&&(Ia=dr(Rr,Me)),Et.get(Ia))break;Et.set(Ia,!0)}}),_t(()=>{Pc()}),$n(w,xt),$n(_,jr),$n($,Ga),$n(A,jm),$n(O,ks);let Hm;return fe(()=>kt.value,Me=>{Me?Hm=$n(k,Ga).stop:(Hm==null||Hm(),Hm=void 0),t("visible-change",Me)}),{inputId:l,collapseTagSize:Te,currentPlaceholder:Gt,expanded:Q,emptyText:ye,popupHeight:B,debounce:te,allOptions:W,allOptionsValueMap:pe,filteredOptions:U,iconComponent:ee,iconReverse:oe,tagStyle:Ee,collapseTagStyle:Be,popperSize:y,dropdownMenuVisible:kt,hasModelValue:P,shouldShowPlaceholder:Bt,selectDisabled:R,selectSize:me,needStatusIcon:J,showClearBtn:ae,states:v,isFocused:D,nsSelect:s,nsInput:a,inputRef:T,menuRef:k,tagMenuRef:A,tooltipRef:S,tagTooltipRef:C,selectRef:w,wrapperRef:$,selectionRef:_,prefixRef:x,suffixRef:N,collapseItemRef:O,popperRef:tt,validateState:X,validateIcon:H,showTagList:we,collapseTagList:He,debouncedOnInputChange:ze,deleteTag:Vm,getLabel:c,getValue:d,getDisabled:h,getValueKey:rt,getIndex:ko,handleClear:U1,handleClickOutside:Xn,handleDel:H1,handleEsc:j1,focus:To,blur:B1,handleMenuEnter:us,handleResize:xt,resetSelectionWidth:jr,updateTooltip:Ga,updateTagTooltip:jm,updateOptions:De,toggleMenu:Ln,scrollTo:Yr,onInput:Pn,onKeyboardNavigate:vu,onKeyboardSelect:Ae,onSelect:gu,onHover:ot,handleCompositionStart:j,handleCompositionEnd:V,handleCompositionUpdate:G}};var eue=de({name:"ElSelectV2",components:{ElSelectMenu:Xle,ElTag:Ko,ElTooltip:zr,ElIcon:We},directives:{ClickOutside:tu},props:$le,emits:Rle,setup(e,{emit:t}){const n=E(()=>{const{modelValue:l,multiple:u}=e,c=u?[]:void 0;return ke(l)?u?l:c:u?c:l}),r=Qle(Xt({...Or(e),modelValue:n}),t),{calculatorRef:s,inputStyle:a}=R6(),i=Zr();At(tS,{props:Xt({...Or(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,contentId:i,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const o=E(()=>e.multiple?r.states.cachedOptions.map(l=>r.getLabel(l)):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:o,calculatorRef:s,inputStyle:a,contentId:i,BORDER_HORIZONTAL_WIDTH:J$}}});const tue=["id","value","autocomplete","tabindex","aria-expanded","aria-label","disabled","aria-controls","aria-activedescendant","readonly","name"],nue=["textContent"],rue={key:1};function sue(e,t,n,r,s,a){const i=Rt("el-tag"),o=Rt("el-tooltip"),l=Rt("el-icon"),u=Rt("el-select-menu"),c=P3("click-outside");return vt((I(),K("div",{ref:"selectRef",class:M([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t[14]||(t[14]=d=>e.states.inputHovering=!0),onMouseleave:t[15]||(t[15]=d=>e.states.inputHovering=!1)},[q(o,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t[13]||(t[13]=d=>e.states.isBeforeHide=!1)},{default:re(()=>{var d,h;return[Z("div",{ref:"wrapperRef",class:M([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:t[10]||(t[10]=at((...p)=>e.toggleMenu&&e.toggleMenu(...p),["prevent"]))},[e.$slots.prefix?(I(),K("div",{key:0,ref:"prefixRef",class:M(e.nsSelect.e("prefix"))},[ie(e.$slots,"prefix")],2)):le("v-if",!0),Z("div",{ref:"selectionRef",class:M([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?ie(e.$slots,"tag",{key:0,data:e.states.cachedOptions,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(I(!0),K(Ge,null,Ot(e.showTagList,p=>(I(),K("div",{key:e.getValueKey(e.getValue(p)),class:M(e.nsSelect.e("selected-item"))},[q(i,{closable:!e.selectDisabled&&!e.getDisabled(p),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:qe(e.tagStyle),onClose:m=>e.deleteTag(m,p)},{default:re(()=>[Z("span",{class:M(e.nsSelect.e("tags-text"))},[ie(e.$slots,"label",{index:e.getIndex(p),label:e.getLabel(p),value:e.getValue(p)},()=>[gt(Ie(e.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(I(),ce(o,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported,"popper-options":e.popperOptions},{default:re(()=>[Z("div",{ref:"collapseItemRef",class:M(e.nsSelect.e("selected-item"))},[q(i,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:qe(e.collapseTagStyle),"disable-transitions":""},{default:re(()=>[Z("span",{class:M(e.nsSelect.e("tags-text"))}," + "+Ie(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:re(()=>[Z("div",{ref:"tagMenuRef",class:M(e.nsSelect.e("selection"))},[(I(!0),K(Ge,null,Ot(e.collapseTagList,p=>(I(),K("div",{key:e.getValueKey(e.getValue(p)),class:M(e.nsSelect.e("selected-item"))},[q(i,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(p),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:m=>e.deleteTag(m,p)},{default:re(()=>[Z("span",{class:M(e.nsSelect.e("tags-text"))},[ie(e.$slots,"label",{index:e.getIndex(p),label:e.getLabel(p),value:e.getValue(p)},()=>[gt(Ie(e.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported","popper-options"])):le("v-if",!0)]):le("v-if",!0),Z("div",{class:M([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[Z("input",{id:e.inputId,ref:"inputRef",value:e.states.inputValue,style:qe(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"none","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:M([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox","aria-controls":e.contentId,"aria-activedescendant":e.states.hoveringIndex>=0?`${e.contentId}-${e.states.hoveringIndex}`:"",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:t[0]||(t[0]=(...p)=>e.onInput&&e.onInput(...p)),onCompositionstart:t[1]||(t[1]=(...p)=>e.handleCompositionStart&&e.handleCompositionStart(...p)),onCompositionupdate:t[2]||(t[2]=(...p)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...p)),onCompositionend:t[3]||(t[3]=(...p)=>e.handleCompositionEnd&&e.handleCompositionEnd(...p)),onKeydown:[t[4]||(t[4]=zn(at(p=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[5]||(t[5]=zn(at(p=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[6]||(t[6]=zn(at((...p)=>e.onKeyboardSelect&&e.onKeyboardSelect(...p),["stop","prevent"]),["enter"])),t[7]||(t[7]=zn(at((...p)=>e.handleEsc&&e.handleEsc(...p),["stop","prevent"]),["esc"])),t[8]||(t[8]=zn(at((...p)=>e.handleDel&&e.handleDel(...p),["stop"]),["delete"]))],onClick:t[9]||(t[9]=at((...p)=>e.toggleMenu&&e.toggleMenu(...p),["stop"]))},null,46,tue),e.filterable?(I(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:M(e.nsSelect.e("input-calculator")),textContent:Ie(e.states.inputValue)},null,10,nue)):le("v-if",!0)],2),e.shouldShowPlaceholder?(I(),K("div",{key:1,class:M([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?ie(e.$slots,"label",{key:0,index:(h=(d=e.allOptionsValueMap.get(e.modelValue))==null?void 0:d.index)!=null?h:-1,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,Ie(e.currentPlaceholder),1)]):(I(),K("span",rue,Ie(e.currentPlaceholder),1))],2)):le("v-if",!0)],2),Z("div",{ref:"suffixRef",class:M(e.nsSelect.e("suffix"))},[e.iconComponent?vt((I(),ce(l,{key:0,class:M([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:re(()=>[(I(),ce(yt(e.iconComponent)))]),_:1},8,["class"])),[[Kt,!e.showClearBtn]]):le("v-if",!0),e.showClearBtn&&e.clearIcon?(I(),ce(l,{key:1,class:M([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:at(e.handleClear,["prevent","stop"])},{default:re(()=>[(I(),ce(yt(e.clearIcon)))]),_:1},8,["class","onClick"])):le("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(I(),ce(l,{key:2,class:M([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:re(()=>[(I(),ce(yt(e.validateIcon)))]),_:1},8,["class"])):le("v-if",!0)],2)],2)]}),content:re(()=>[q(u,{id:e.contentId,ref:"menuRef",data:e.filteredOptions,width:e.popperSize-e.BORDER_HORIZONTAL_WIDTH,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn,"aria-label":e.ariaLabel},Bs({default:re(d=>[ie(e.$slots,"default",Ho(Uo(d)))]),_:2},[e.$slots.header?{name:"header",fn:re(()=>[Z("div",{class:M(e.nsSelect.be("dropdown","header")),onClick:t[11]||(t[11]=at(()=>{},["stop"]))},[ie(e.$slots,"header")],2)]),key:"0"}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:re(()=>[Z("div",{class:M(e.nsSelect.be("dropdown","loading"))},[ie(e.$slots,"loading")],2)]),key:"1"}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:re(()=>[Z("div",{class:M(e.nsSelect.be("dropdown","empty"))},[ie(e.$slots,"empty",{},()=>[Z("span",null,Ie(e.emptyText),1)])],2)]),key:"2"}:void 0,e.$slots.footer?{name:"footer",fn:re(()=>[Z("div",{class:M(e.nsSelect.be("dropdown","footer")),onClick:t[12]||(t[12]=at(()=>{},["stop"]))},[ie(e.$slots,"footer")],2)]),key:"3"}:void 0]),1032,["id","data","width","hovering-index","scrollbar-always-on","aria-label"])]),_:3},8,["visible","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],34)),[[c,e.handleClickOutside,e.popperRef]])}var aue=_r(eue,[["render",sue]]);const iue=dt(aue),oue=$e({animated:Boolean,count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:ne([Number,Object])}}),lue=$e({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}});var u0=de({name:"ElSkeletonItem",__name:"skeleton-item",props:lue,setup(e){const t=Se("skeleton");return(n,r)=>(I(),K("div",{class:M([f(t).e("item"),f(t).e(e.variant)])},[e.variant==="image"?(I(),ce(f(qZ),{key:0})):le("v-if",!0)],2))}});const uue=(e,t=0)=>{if(t===0)return e;const n=ht(t)&&!!t.initVal,r=L(n);let s=null;const a=o=>{if(Vt(o)){r.value=e.value;return}s&&clearTimeout(s),s=setTimeout(()=>{r.value=e.value},o)},i=o=>{o==="leading"?Xe(t)?a(t):a(t.leading):ht(t)?a(t.trailing):r.value=!1};return _t(()=>i("leading")),fe(()=>e.value,o=>{i(o?"leading":"trailing")}),r};var cue=de({name:"ElSkeleton",__name:"skeleton",props:oue,setup(e,{expose:t}){const n=e,r=Se("skeleton"),s=uue(rn(n,"loading"),n.throttle);return t({uiLoading:s}),(a,i)=>f(s)?(I(),K("div",bt({key:0,class:[f(r).b(),f(r).is("animated",e.animated)]},a.$attrs),[(I(!0),K(Ge,null,Ot(e.count,o=>(I(),K(Ge,{key:o},[f(s)?ie(a.$slots,"template",{key:o},()=>[q(u0,{class:M(f(r).is("first")),variant:"p"},null,8,["class"]),(I(!0),K(Ge,null,Ot(e.rows,l=>(I(),ce(u0,{key:l,class:M([f(r).e("paragraph"),f(r).is("last",l===e.rows&&e.rows>1)]),variant:"p"},null,8,["class"]))),128))]):le("v-if",!0)],64))),128))],16)):ie(a.$slots,"default",Ho(bt({key:1},a.$attrs)))}});const due=dt(cue,{SkeletonItem:u0}),fue=Bn(u0),z7=Symbol("sliderContextKey"),hue=$e({modelValue:{type:ne([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:wr,inputSize:wr,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ne(Function),default:void 0},disabled:{type:Boolean,default:void 0},range:Boolean,vertical:Boolean,height:String,rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ne(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:So,default:"top"},marks:{type:ne(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Ts(["ariaLabel"])}),xb=e=>Xe(e)||ke(e)&&e.every(Xe),pue={[it]:xb,[mr]:xb,[It]:xb},mue=$e({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:So,default:"top"}}),gue={[it]:e=>Xe(e)},vue=(e,t,n)=>{const r=L(),s=L(!1),a=E(()=>t.value instanceof Function),i=E(()=>a.value&&t.value(e.modelValue)||e.modelValue),o=fo(()=>{n.value&&(s.value=!0)},50),l=fo(()=>{n.value&&(s.value=!1)},50);return{tooltip:r,tooltipVisible:s,formatValue:i,displayTooltip:o,hideTooltip:l}},yue=(e,t,n)=>{const{disabled:r,min:s,max:a,step:i,showTooltip:o,persistent:l,precision:u,sliderSize:c,formatTooltip:d,emitChange:h,resetSize:p,updateDragging:m}=Ve(z7),{tooltip:g,tooltipVisible:v,formatValue:y,displayTooltip:b,hideTooltip:w}=vue(e,d,o),_=L(),S=E(()=>`${(e.modelValue-s.value)/(a.value-s.value)*100}%`),C=E(()=>e.vertical?{bottom:S.value}:{left:S.value}),T=()=>{t.hovering=!0,b()},x=()=>{t.hovering=!1,t.dragging||w()},N=U=>{r.value||(U.preventDefault(),D(U),window.addEventListener("mousemove",z),window.addEventListener("touchmove",z),window.addEventListener("mouseup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W),_.value.focus())},k=U=>{r.value||(t.newPosition=Number.parseFloat(S.value)+U/(a.value-s.value)*100,Y(t.newPosition),h())},A=()=>{k(-i.value)},O=()=>{k(i.value)},F=()=>{k(-i.value*4)},j=()=>{k(i.value*4)},V=()=>{r.value||(Y(0),h())},G=()=>{r.value||(Y(100),h())},R=U=>{const Q=hn(U);let J=!0;switch(Q){case Ne.left:case Ne.down:A();break;case Ne.right:case Ne.up:O();break;case Ne.home:V();break;case Ne.end:G();break;case Ne.pageDown:F();break;case Ne.pageUp:j();break;default:J=!1;break}J&&U.preventDefault()},$=U=>{let Q,J;return U.type.startsWith("touch")?(J=U.touches[0].clientY,Q=U.touches[0].clientX):(J=U.clientY,Q=U.clientX),{clientX:Q,clientY:J}},D=U=>{t.dragging=!0,t.isClick=!0;const{clientX:Q,clientY:J}=$(U);e.vertical?t.startY=J:t.startX=Q,t.startPosition=Number.parseFloat(S.value),t.newPosition=t.startPosition},z=U=>{if(t.dragging){t.isClick=!1,b(),p();let Q;const{clientX:J,clientY:B}=$(U);e.vertical?(t.currentY=B,Q=(t.startY-t.currentY)/c.value*100):(t.currentX=J,Q=(t.currentX-t.startX)/c.value*100),t.newPosition=t.startPosition+Q,Y(t.newPosition)}},W=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||w(),t.isClick||Y(t.newPosition),h()},0),window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",z),window.removeEventListener("mouseup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W))},Y=async U=>{if(U===null||Number.isNaN(+U))return;U=zu(U,0,100);const Q=Math.floor((a.value-s.value)/i.value),J=Q*i.value/(a.value-s.value)*100,B=J+(100-J)/2;let P;if(U<J){const ae=J/Q,ee=Math.round(U/ae);P=s.value+ee*i.value}else U<B?P=s.value+Q*i.value:P=a.value;P=Number.parseFloat(P.toFixed(u.value)),P!==e.modelValue&&n(it,P),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Fe(),t.dragging&&b(),g.value.updatePopper()};return fe(()=>t.dragging,U=>{m(U)}),nn(_,"touchstart",N,{passive:!1}),{disabled:r,button:_,tooltip:g,tooltipVisible:v,showTooltip:o,persistent:l,wrapperStyle:C,formatValue:y,handleMouseEnter:T,handleMouseLeave:x,onButtonDown:N,onKeyDown:R,setPosition:Y}},bue=["tabindex"];var cT=de({name:"ElSliderButton",__name:"button",props:mue,emits:gue,setup(e,{expose:t,emit:n}){const r=e,s=n,a=Se("slider"),i=Xt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),o=E(()=>d.value?h.value:!1),{disabled:l,button:u,tooltip:c,showTooltip:d,persistent:h,tooltipVisible:p,wrapperStyle:m,formatValue:g,handleMouseEnter:v,handleMouseLeave:y,onButtonDown:b,onKeyDown:w,setPosition:_}=yue(r,i,s),{hovering:S,dragging:C}=Or(i);return t({onButtonDown:b,onKeyDown:w,setPosition:_,hovering:S,dragging:C}),(T,x)=>(I(),K("div",{ref_key:"button",ref:u,class:M([f(a).e("button-wrapper"),{hover:f(S),dragging:f(C)}]),style:qe(f(m)),tabindex:f(l)?void 0:0,onMouseenter:x[0]||(x[0]=(...N)=>f(v)&&f(v)(...N)),onMouseleave:x[1]||(x[1]=(...N)=>f(y)&&f(y)(...N)),onMousedown:x[2]||(x[2]=(...N)=>f(b)&&f(b)(...N)),onFocus:x[3]||(x[3]=(...N)=>f(v)&&f(v)(...N)),onBlur:x[4]||(x[4]=(...N)=>f(y)&&f(y)(...N)),onKeydown:x[5]||(x[5]=(...N)=>f(w)&&f(w)(...N))},[q(f(zr),{ref_key:"tooltip",ref:c,visible:f(p),placement:T.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":T.tooltipClass,disabled:!f(d),persistent:o.value},{content:re(()=>[Z("span",null,Ie(f(g)),1)]),default:re(()=>[Z("div",{class:M([f(a).e("button"),{hover:f(S),dragging:f(C)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,bue))}});const wue=$e({mark:{type:ne([String,Object]),default:void 0}});var _ue=de({name:"ElSliderMarker",props:wue,setup(e){const t=Se("slider"),n=E(()=>Ke(e.mark)?e.mark:e.mark.label),r=E(()=>Ke(e.mark)?void 0:e.mark.style);return()=>nt("div",{class:t.e("marks-text"),style:r.value},n.value)}});const Sue=(e,t,n)=>{const{formItem:r}=Br(),s=wn(),a=L(),i=L(),o={firstButton:a,secondButton:i},l=Zn(),u=E(()=>Math.min(t.firstValue,t.secondValue)),c=E(()=>Math.max(t.firstValue,t.secondValue)),d=E(()=>e.range?`${100*(c.value-u.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),h=E(()=>e.range?`${100*(u.value-e.min)/(e.max-e.min)}%`:"0%"),p=E(()=>e.vertical?{height:e.height}:{}),m=E(()=>e.vertical?{height:d.value,bottom:h.value}:{width:d.value,left:h.value}),g=()=>{if(s.value){const A=s.value.getBoundingClientRect();t.sliderSize=A[e.vertical?"height":"width"]}},v=A=>{const O=e.min+A*(e.max-e.min)/100;if(!e.range)return a;let F;return Math.abs(u.value-O)<Math.abs(c.value-O)?F=t.firstValue<t.secondValue?"firstButton":"secondButton":F=t.firstValue>t.secondValue?"firstButton":"secondButton",o[F]},y=A=>{const O=v(A);return O.value.setPosition(A),O},b=A=>{t.firstValue=A??e.min,_(e.range?[u.value,c.value]:A??e.min)},w=A=>{t.secondValue=A,e.range&&_([u.value,c.value])},_=A=>{n(it,A),n(mr,A)},S=async()=>{await Fe(),n(It,e.range?[u.value,c.value]:e.modelValue)},C=A=>{var O,F,j,V,G,R;if(l.value||t.dragging)return;g();let $=0;if(e.vertical){const D=(j=(F=(O=A.touches)==null?void 0:O.item(0))==null?void 0:F.clientY)!=null?j:A.clientY;$=(s.value.getBoundingClientRect().bottom-D)/t.sliderSize*100}else{const D=(R=(G=(V=A.touches)==null?void 0:V.item(0))==null?void 0:G.clientX)!=null?R:A.clientX,z=s.value.getBoundingClientRect().left;$=(D-z)/t.sliderSize*100}if(!($<0||$>100))return y($)};return{elFormItem:r,slider:s,firstButton:a,secondButton:i,sliderDisabled:l,minValue:u,maxValue:c,runwayStyle:p,barStyle:m,resetSize:g,setPosition:y,emitChange:S,onSliderWrapperPrevent:A=>{var O,F;((O=o.firstButton.value)!=null&&O.dragging||(F=o.secondButton.value)!=null&&F.dragging)&&A.preventDefault()},onSliderClick:A=>{C(A)&&S()},onSliderDown:async A=>{const O=C(A);O&&(await Fe(),O.value.onButtonDown(A))},onSliderMarkerDown:A=>{if(l.value||t.dragging)return;y(A)&&S()},setFirstValue:b,setSecondValue:w}},Cue=(e,t,n,r)=>({stops:E(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const i=Math.ceil((e.max-e.min)/e.step),o=100*e.step/(e.max-e.min),l=Array.from({length:i-1}).map((u,c)=>(c+1)*o);return e.range?l.filter(u=>u<100*(n.value-e.min)/(e.max-e.min)||u>100*(r.value-e.min)/(e.max-e.min)):l.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:i=>e.vertical?{bottom:`${i}%`}:{left:`${i}%`}}),xue=e=>E(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),Eue=(e,t,n,r,s,a)=>{const i=u=>{s(it,u),s(mr,u)},o=()=>e.range?![n.value,r.value].every((u,c)=>u===t.oldValue[c]):e.modelValue!==t.oldValue,l=()=>{var u,c;e.min>e.max&&fr("Slider","min should not be greater than max.");const d=e.modelValue;e.range&&ke(d)?d[1]<e.min?i([e.min,e.min]):d[0]>e.max?i([e.max,e.max]):d[0]<e.min?i([e.min,d[1]]):d[1]>e.max?i([d[0],e.max]):(t.firstValue=d[0],t.secondValue=d[1],o()&&(e.validateEvent&&((u=a==null?void 0:a.validate)==null||u.call(a,"change").catch(h=>void 0)),t.oldValue=d.slice())):!e.range&&Xe(d)&&!Number.isNaN(d)&&(d<e.min?i(e.min):d>e.max?i(e.max):(t.firstValue=d,o()&&(e.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(h=>void 0)),t.oldValue=d)))};l(),fe(()=>t.dragging,u=>{u||l()}),fe(()=>e.modelValue,(u,c)=>{t.dragging||ke(u)&&ke(c)&&u.every((d,h)=>d===c[h])&&t.firstValue===u[0]&&t.secondValue===u[1]||l()},{deep:!0}),fe(()=>[e.min,e.max],()=>{l()})},Tue=(e,t,n)=>{const r=L();return _t(async()=>{e.range?(ke(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!Xe(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),nn(window,"resize",n),await Fe(),n()}),{sliderWrapper:r}},kue=["id","role","aria-label","aria-labelledby"],Nue={key:1};var Iue=de({name:"ElSlider",__name:"slider",props:hue,emits:pue,setup(e,{expose:t,emit:n}){const r=e,s=n,a=Se("slider"),{t:i}=Mt(),o=Xt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:l,slider:u,firstButton:c,secondButton:d,sliderDisabled:h,minValue:p,maxValue:m,runwayStyle:g,barStyle:v,resetSize:y,emitChange:b,onSliderWrapperPrevent:w,onSliderClick:_,onSliderDown:S,onSliderMarkerDown:C,setFirstValue:T,setSecondValue:x}=Sue(r,o,s),{stops:N,getStopStyle:k}=Cue(r,o,p,m),{inputId:A,isLabeledByFormItem:O}=Ta(r,{formItemContext:l}),F=gr(),j=E(()=>r.inputSize||F.value),V=E(()=>r.ariaLabel||i("el.slider.defaultLabel",{min:r.min,max:r.max})),G=E(()=>r.range?r.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):V.value),R=E(()=>r.formatValueText?r.formatValueText(Q.value):`${Q.value}`),$=E(()=>r.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),D=E(()=>r.formatValueText?r.formatValueText(J.value):`${J.value}`),z=E(()=>[a.b(),a.m(F.value),a.is("vertical",r.vertical),{[a.m("with-input")]:r.showInput}]),W=xue(r);Eue(r,o,p,m,s,l);const Y=E(()=>{const ae=[r.min,r.max,r.step].map(ee=>{const oe=`${ee}`.split(".")[1];return oe?oe.length:0});return Math.max.apply(null,ae)}),{sliderWrapper:U}=Tue(r,o,y),{firstValue:Q,secondValue:J,sliderSize:B}=Or(o),P=ae=>{o.dragging=ae};return nn(U,"touchstart",w,{passive:!1}),nn(U,"touchmove",w,{passive:!1}),At(z7,{...Or(r),sliderSize:B,disabled:h,precision:Y,emitChange:b,resetSize:y,updateDragging:P}),t({onSliderClick:_}),(ae,ee)=>{var oe,X;return I(),K("div",{id:ae.range?f(A):void 0,ref_key:"sliderWrapper",ref:U,class:M(z.value),role:ae.range?"group":void 0,"aria-label":ae.range&&!f(O)?V.value:void 0,"aria-labelledby":ae.range&&f(O)?(oe=f(l))==null?void 0:oe.labelId:void 0},[Z("div",{ref_key:"slider",ref:u,class:M([f(a).e("runway"),{"show-input":ae.showInput&&!ae.range},f(a).is("disabled",f(h))]),style:qe(f(g)),onMousedown:ee[0]||(ee[0]=(...H)=>f(S)&&f(S)(...H)),onTouchstartPassive:ee[1]||(ee[1]=(...H)=>f(S)&&f(S)(...H))},[Z("div",{class:M(f(a).e("bar")),style:qe(f(v))},null,6),q(cT,{id:ae.range?void 0:f(A),ref_key:"firstButton",ref:c,"model-value":f(Q),vertical:ae.vertical,"tooltip-class":ae.tooltipClass,placement:ae.placement,role:"slider","aria-label":ae.range||!f(O)?G.value:void 0,"aria-labelledby":!ae.range&&f(O)?(X=f(l))==null?void 0:X.labelId:void 0,"aria-valuemin":ae.min,"aria-valuemax":ae.range?f(J):ae.max,"aria-valuenow":f(Q),"aria-valuetext":R.value,"aria-orientation":ae.vertical?"vertical":"horizontal","aria-disabled":f(h),"onUpdate:modelValue":f(T)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),ae.range?(I(),ce(cT,{key:0,ref_key:"secondButton",ref:d,"model-value":f(J),vertical:ae.vertical,"tooltip-class":ae.tooltipClass,placement:ae.placement,role:"slider","aria-label":$.value,"aria-valuemin":f(Q),"aria-valuemax":ae.max,"aria-valuenow":f(J),"aria-valuetext":D.value,"aria-orientation":ae.vertical?"vertical":"horizontal","aria-disabled":f(h),"onUpdate:modelValue":f(x)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):le("v-if",!0),ae.showStops?(I(),K("div",Nue,[(I(!0),K(Ge,null,Ot(f(N),(H,te)=>(I(),K("div",{key:te,class:M(f(a).e("stop")),style:qe(f(k)(H))},null,6))),128))])):le("v-if",!0),f(W).length>0?(I(),K(Ge,{key:2},[Z("div",null,[(I(!0),K(Ge,null,Ot(f(W),(H,te)=>(I(),K("div",{key:te,style:qe(f(k)(H.position)),class:M([f(a).e("stop"),f(a).e("marks-stop")])},null,6))),128))]),Z("div",{class:M(f(a).e("marks"))},[(I(!0),K(Ge,null,Ot(f(W),(H,te)=>(I(),ce(f(_ue),{key:te,mark:H.mark,style:qe(f(k)(H.position)),onMousedown:at(ue=>f(C)(H.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):le("v-if",!0)],38),ae.showInput&&!ae.range?(I(),ce(f(y7),{key:0,ref:"input","model-value":f(Q),class:M(f(a).e("input")),step:ae.step,disabled:f(h),controls:ae.showInputControls,min:ae.min,max:ae.max,precision:Y.value,size:j.value,"onUpdate:modelValue":f(T),onChange:f(b)},null,8,["model-value","class","step","disabled","controls","min","max","precision","size","onUpdate:modelValue","onChange"])):le("v-if",!0)],10,kue)}}});const Oue=dt(Iue),$ue=$e({prefixCls:{type:String}}),dT=de({name:"ElSpaceItem",props:$ue,setup(e,{slots:t}){const n=Se("space"),r=E(()=>`${e.prefixCls||n.b()}__item`);return()=>nt("div",{class:r.value},ie(t,"default"))}}),fT={small:8,default:12,large:16};function Aue(e){const t=Se("space"),n=E(()=>[t.b(),t.m(e.direction),e.class]),r=L(0),s=L(0),a=E(()=>{const o=e.wrap||e.fill?{flexWrap:"wrap"}:{},l={alignItems:e.alignment},u={rowGap:`${s.value}px`,columnGap:`${r.value}px`};return[o,l,u,e.style]}),i=E(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return ea(()=>{const{size:o="small",wrap:l,direction:u,fill:c}=e;if(ke(o)){const[d=0,h=0]=o;r.value=d,s.value=h}else{let d;Xe(o)?d=o:d=fT[o||"small"]||fT.small,(l||c)&&u==="horizontal"?r.value=s.value=d:u==="horizontal"?(r.value=d,s.value=0):(s.value=d,r.value=0)}}),{classes:n,containerStyle:a,itemStyle:i}}const Rue=$e({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:ne([String,Object,Array]),default:""},style:{type:ne([String,Array,Object]),default:""},alignment:{type:ne(String),default:"center"},prefixCls:{type:String},spacer:{type:ne([Object,String,Number,Array]),default:null,validator:e=>vn(e)||Xe(e)||Ke(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Ai,validator:e=>Xe(e)||ke(e)&&e.length===2&&e.every(Xe)}}),Mue=de({name:"ElSpace",props:Rue,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:s}=Aue(e);function a(i,o="",l=[]){const{prefixCls:u}=e;return i.forEach((c,d)=>{J2(c)?ke(c.children)&&c.children.forEach((h,p)=>{J2(h)&&ke(h.children)?a(h.children,`${o+p}-`,l):vn(h)&&(h==null?void 0:h.type)===ir?l.push(h):l.push(q(dT,{style:s.value,prefixCls:u,key:`nested-${o+p}`},{default:()=>[h]},Ma.PROPS|Ma.STYLE,["style","prefixCls"]))}):OY(c)&&l.push(q(dT,{style:s.value,prefixCls:u,key:`LoopKey${o+d}`},{default:()=>[c]},Ma.PROPS|Ma.STYLE,["style","prefixCls"]))}),l}return()=>{var i;const{spacer:o,direction:l}=e,u=ie(t,"default",{key:0},()=>[]);if(((i=u.children)!=null?i:[]).length===0)return null;if(ke(u.children)){let c=a(u.children);if(o){const d=c.length-1;c=c.reduce((h,p,m)=>{const g=[...h,p];return m!==d&&g.push(q("span",{style:[s.value,l==="vertical"?"width: 100%":null],key:m},[vn(o)?o:gt(o,Ma.TEXT)],Ma.STYLE)),g},[])}return q("div",{class:n.value,style:r.value},c,Ma.STYLE|Ma.CLASS)}return u.children}}}),Pue=dt(Mue),Lue=$e({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:ne([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:ne([String,Object,Array])}});var Due=de({name:"ElStatistic",__name:"statistic",props:Lue,setup(e,{expose:t}){const n=e,r=Se("statistic"),s=E(()=>{const{value:a,formatter:i,precision:o,decimalSeparator:l,groupSeparator:u}=n;if(Ye(i))return i(a);if(!Xe(a)||Number.isNaN(a))return a;let[c,d=""]=String(a).split(".");return d=d.padEnd(o,"0").slice(0,o>0?o:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),[c,d].join(d?l:"")});return t({displayValue:s}),(a,i)=>(I(),K("div",{class:M(f(r).b())},[a.$slots.title||e.title?(I(),K("div",{key:0,class:M(f(r).e("head"))},[ie(a.$slots,"title",{},()=>[gt(Ie(e.title),1)])],2)):le("v-if",!0),Z("div",{class:M(f(r).e("content"))},[a.$slots.prefix||e.prefix?(I(),K("div",{key:0,class:M(f(r).e("prefix"))},[ie(a.$slots,"prefix",{},()=>[Z("span",null,Ie(e.prefix),1)])],2)):le("v-if",!0),Z("span",{class:M(f(r).e("number")),style:qe(e.valueStyle)},Ie(s.value),7),a.$slots.suffix||e.suffix?(I(),K("div",{key:1,class:M(f(r).e("suffix"))},[ie(a.$slots,"suffix",{},()=>[Z("span",null,Ie(e.suffix),1)])],2)):le("v-if",!0)],2)],2))}});const F7=dt(Due),zue=$e({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:ne([Number,Object]),default:0},valueStyle:{type:ne([String,Object,Array])}}),Fue={finish:()=>!0,[It]:e=>Xe(e)},Bue=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],hT=e=>Xe(e)?new Date(e).getTime():e.valueOf(),pT=(e,t)=>{let n=e;const r=/\[([^\]]*)]/g;return Bue.reduce((a,[i,o])=>{const l=new RegExp(`${i}+(?![^\\[\\]]*\\])`,"g");if(l.test(a)){const u=Math.floor(n/o);return n-=u*o,a.replace(l,c=>String(u).padStart(c.length,"0"))}return a},t).replace(r,"$1")};var jue=de({name:"ElCountdown",__name:"countdown",props:zue,emits:Fue,setup(e,{expose:t,emit:n}){const r=e,s=n;let a;const i=L(0),o=E(()=>pT(i.value,r.format)),l=d=>pT(d,r.format),u=()=>{a&&(Qo(a),a=void 0)},c=()=>{const d=hT(r.value),h=()=>{let p=d-Date.now();s(It,p),p<=0?(p=0,u(),s("finish")):a=ho(h),i.value=p};a=ho(h)};return _t(()=>{i.value=hT(r.value)-Date.now(),fe(()=>[r.value,r.format],()=>{u(),c()},{immediate:!0})}),en(()=>{u()}),t({displayValue:o}),(d,h)=>(I(),ce(f(F7),{value:i.value,title:e.title,prefix:e.prefix,suffix:e.suffix,"value-style":e.valueStyle,formatter:l},Bs({_:2},[Ot(d.$slots,(p,m)=>({name:m,fn:re(()=>[ie(d.$slots,m)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});const Vue=dt(jue),Hue=$e({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Uue={[It]:(e,t)=>[e,t].every(Xe)},B7="ElSteps";var Wue=de({name:"ElSteps",__name:"steps",props:Hue,emits:Uue,setup(e,{emit:t}){const n=e,r=t,s=Se("steps"),{children:a,addChild:i,removeChild:o,ChildrenSorter:l}=Dy(wt(),"ElStep");return fe(a,()=>{a.value.forEach((u,c)=>{u.setIndex(c)})}),At(B7,{props:n,steps:a,addStep:i,removeStep:o}),fe(()=>n.active,(u,c)=>{r(It,u,c)}),(u,c)=>(I(),K("div",{class:M([f(s).b(),f(s).m(e.simple?"simple":e.direction)])},[ie(u.$slots,"default"),q(f(l))],2))}});const Kue=$e({title:{type:String,default:""},icon:{type:dn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}});var j7=de({name:"ElStep",__name:"item",props:Kue,setup(e){const t=e,n=Se("step"),r=L(-1),s=L({}),a=L(""),i=Ve(B7),o=wt();let l=0,u=0;_t(()=>{fe([()=>i.props.active,()=>i.props.processStatus,()=>i.props.finishStatus],([x],[N])=>{u=N||0,l=x-u,C(x)},{immediate:!0})});const c=E(()=>t.status||a.value),d=E(()=>{const x=i.steps.value[r.value-1];return x?x.internalStatus.value:"wait"}),h=E(()=>i.props.alignCenter),p=E(()=>i.props.direction==="vertical"),m=E(()=>i.props.simple),g=E(()=>i.steps.value.length),v=E(()=>{var x;return((x=i.steps.value[g.value-1])==null?void 0:x.uid)===o.uid}),y=E(()=>m.value?"":i.props.space),b=E(()=>[n.b(),n.is(m.value?"simple":i.props.direction),n.is("flex",v.value&&!y.value&&!h.value),n.is("center",h.value&&!p.value&&!m.value)]),w=E(()=>{const x={flexBasis:Xe(y.value)?`${y.value}px`:y.value?y.value:`${100/(g.value-(h.value?0:1))}%`};return p.value||v.value&&(x.maxWidth=`${100/g.value}%`),x}),_=x=>{r.value=x},S=x=>{const N=x==="wait",A={transitionDelay:`${Math.abs(l)===1?0:l>0?(r.value+1-u)*150:-(r.value+1-i.props.active)*150}ms`},O=x===i.props.processStatus||N?0:100;A.borderWidth=O&&!m.value?"1px":0,A[i.props.direction==="vertical"?"height":"width"]=`${O}%`,s.value=A},C=x=>{x>r.value?a.value=i.props.finishStatus:x===r.value&&d.value!=="error"?a.value=i.props.processStatus:a.value="wait";const N=i.steps.value[r.value-1];N&&N.calcProgress(a.value)},T={uid:o.uid,getVnode:()=>o.vnode,currentStatus:c,internalStatus:a,setIndex:_,calcProgress:S};return i.addStep(T),en(()=>{i.removeStep(T)}),(x,N)=>(I(),K("div",{style:qe(w.value),class:M(b.value)},[le(" icon & line "),Z("div",{class:M([f(n).e("head"),f(n).is(c.value)])},[m.value?le("v-if",!0):(I(),K("div",{key:0,class:M(f(n).e("line"))},[Z("i",{class:M(f(n).e("line-inner")),style:qe(s.value)},null,6)],2)),Z("div",{class:M([f(n).e("icon"),f(n).is(e.icon||x.$slots.icon?"icon":"text")])},[ie(x.$slots,"icon",{},()=>[e.icon?(I(),ce(f(We),{key:0,class:M(f(n).e("icon-inner"))},{default:re(()=>[(I(),ce(yt(e.icon)))]),_:1},8,["class"])):c.value==="success"?(I(),ce(f(We),{key:1,class:M([f(n).e("icon-inner"),f(n).is("status")])},{default:re(()=>[q(f(tm))]),_:1},8,["class"])):c.value==="error"?(I(),ce(f(We),{key:2,class:M([f(n).e("icon-inner"),f(n).is("status")])},{default:re(()=>[q(f(ja))]),_:1},8,["class"])):m.value?le("v-if",!0):(I(),K("div",{key:3,class:M(f(n).e("icon-inner"))},Ie(r.value+1),3))])],2)],2),le(" title & description "),Z("div",{class:M(f(n).e("main"))},[Z("div",{class:M([f(n).e("title"),f(n).is(c.value)])},[ie(x.$slots,"title",{},()=>[gt(Ie(e.title),1)])],2),m.value?(I(),K("div",{key:0,class:M(f(n).e("arrow"))},null,2)):(I(),K("div",{key:1,class:M([f(n).e("description"),f(n).is(c.value)])},[ie(x.$slots,"description",{},()=>[gt(Ie(e.description),1)])],2))],2)],6))}});const Gue=dt(Wue,{Step:j7}),Zue=Bn(j7),V7=e=>["",...Ai].includes(e),Yue=$e({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:V7},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:dn},activeActionIcon:{type:dn},activeIcon:{type:dn},inactiveIcon:{type:dn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ne(Function)},id:String,tabindex:{type:[String,Number]},...Ts(["ariaLabel"])}),que={[it]:e=>cn(e)||Ke(e)||Xe(e),[It]:e=>cn(e)||Ke(e)||Xe(e),[mr]:e=>cn(e)||Ke(e)||Xe(e)},Xue=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex"],Jue=["aria-hidden"],Que={key:1},ece={key:1},tce=["aria-hidden"],mT="ElSwitch";var nce=de({name:mT,__name:"switch",props:Yue,emits:que,setup(e,{expose:t,emit:n}){const r=e,s=n,{formItem:a}=Br(),i=gr(),o=Se("switch"),{inputId:l}=Ta(r,{formItemContext:a}),u=Zn(E(()=>{if(r.loading)return!0})),c=L(r.modelValue!==!1),d=wn(),h=E(()=>[o.b(),o.m(i.value),o.is("disabled",u.value),o.is("checked",y.value)]),p=E(()=>[o.e("label"),o.em("label","left"),o.is("active",!y.value)]),m=E(()=>[o.e("label"),o.em("label","right"),o.is("active",y.value)]),g=E(()=>({width:Gn(r.width)}));fe(()=>r.modelValue,()=>{c.value=!0});const v=E(()=>c.value?r.modelValue:!1),y=E(()=>v.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(v.value)||(s(it,r.inactiveValue),s(It,r.inactiveValue),s(mr,r.inactiveValue)),fe(y,S=>{var C;d.value.checked=S,r.validateEvent&&((C=a==null?void 0:a.validate)==null||C.call(a,"change").catch(T=>void 0))});const b=()=>{const S=y.value?r.inactiveValue:r.activeValue;s(it,S),s(It,S),s(mr,S),Fe(()=>{d.value.checked=y.value})},w=()=>{if(u.value)return;const{beforeChange:S}=r;if(!S){b();return}const C=S();[ac(C),cn(C)].includes(!0)||fr(mT,"beforeChange must return type `Promise<boolean>` or `boolean`"),ac(C)?C.then(x=>{x&&b()}).catch(x=>{}):C&&b()},_=()=>{var S,C;(C=(S=d.value)==null?void 0:S.focus)==null||C.call(S)};return _t(()=>{d.value.checked=y.value}),t({focus:_,checked:y}),(S,C)=>(I(),K("div",{class:M(h.value),onClick:at(w,["prevent"])},[Z("input",{id:f(l),ref_key:"input",ref:d,class:M(f(o).e("input")),type:"checkbox",role:"switch","aria-checked":y.value,"aria-disabled":f(u),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:f(u),tabindex:e.tabindex,onChange:b,onKeydown:zn(w,["enter"])},null,42,Xue),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText||S.$slots.inactive)?(I(),K("span",{key:0,class:M(p.value)},[ie(S.$slots,"inactive",{},()=>[e.inactiveIcon?(I(),ce(f(We),{key:0},{default:re(()=>[(I(),ce(yt(e.inactiveIcon)))]),_:1})):le("v-if",!0),!e.inactiveIcon&&e.inactiveText?(I(),K("span",{key:1,"aria-hidden":y.value},Ie(e.inactiveText),9,Jue)):le("v-if",!0)])],2)):le("v-if",!0),Z("span",{class:M(f(o).e("core")),style:qe(g.value)},[e.inlinePrompt?(I(),K("div",{key:0,class:M(f(o).e("inner"))},[y.value?(I(),K("div",{key:1,class:M(f(o).e("inner-wrapper"))},[ie(S.$slots,"active",{},()=>[e.activeIcon?(I(),ce(f(We),{key:0},{default:re(()=>[(I(),ce(yt(e.activeIcon)))]),_:1})):le("v-if",!0),!e.activeIcon&&e.activeText?(I(),K("span",ece,Ie(e.activeText),1)):le("v-if",!0)])],2)):(I(),K("div",{key:0,class:M(f(o).e("inner-wrapper"))},[ie(S.$slots,"inactive",{},()=>[e.inactiveIcon?(I(),ce(f(We),{key:0},{default:re(()=>[(I(),ce(yt(e.inactiveIcon)))]),_:1})):le("v-if",!0),!e.inactiveIcon&&e.inactiveText?(I(),K("span",Que,Ie(e.inactiveText),1)):le("v-if",!0)])],2))],2)):le("v-if",!0),Z("div",{class:M(f(o).e("action"))},[e.loading?(I(),ce(f(We),{key:0,class:M(f(o).is("loading"))},{default:re(()=>[q(f(po))]),_:1},8,["class"])):y.value?ie(S.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(I(),ce(f(We),{key:0},{default:re(()=>[(I(),ce(yt(e.activeActionIcon)))]),_:1})):le("v-if",!0)]):y.value?le("v-if",!0):ie(S.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(I(),ce(f(We),{key:0},{default:re(()=>[(I(),ce(yt(e.inactiveActionIcon)))]),_:1})):le("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText||S.$slots.active)?(I(),K("span",{key:1,class:M(m.value)},[ie(S.$slots,"active",{},()=>[e.activeIcon?(I(),ce(f(We),{key:0},{default:re(()=>[(I(),ce(yt(e.activeIcon)))]),_:1})):le("v-if",!0),!e.activeIcon&&e.activeText?(I(),K("span",{key:1,"aria-hidden":!y.value},Ie(e.activeText),9,tce)):le("v-if",!0)])],2)):le("v-if",!0)],2))}});const rce=dt(nce),Eb=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},sce=function(e,t,n,r,s){if(!t&&!r&&(!s||ke(s)&&!s.length))return e;Ke(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const a=r?null:function(o,l){return s?NO(Dr(s),u=>Ke(u)?dr(o,u):u(o,l,e)):(t!=="$key"&&ht(o)&&"$value"in o&&(o=o.$value),[ht(o)?t?dr(o,t):null:o])},i=function(o,l){var u,c,d,h,p,m;if(r)return r(o.value,l.value);for(let g=0,v=(c=(u=o.key)==null?void 0:u.length)!=null?c:0;g<v;g++){if(((d=o.key)==null?void 0:d[g])<((h=l.key)==null?void 0:h[g]))return-1;if(((p=o.key)==null?void 0:p[g])>((m=l.key)==null?void 0:m[g]))return 1}return 0};return e.map((o,l)=>({value:o,index:l,key:a?a(o,l):null})).sort((o,l)=>{let u=i(o,l);return u||(u=o.index-l.index),u*+n}).map(o=>o.value)},H7=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},ace=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const s=e.columns[r];if(s.columnKey===t){n=s;break}}return n||fr("ElTable",`No column matching with column-key: ${t}`),n},gT=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?H7(e,r[0]):null},ns=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(Ke(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const s of n)r=r[s];return`${r}`}else if(Ye(t))return t.call(null,e);return""},Nd=function(e,t,n=!1,r="children"){const s=e||[],a={};return s.forEach((i,o)=>{if(a[ns(i,t)]={row:i,index:o},n){const l=i[r];ke(l)&&Object.assign(a,Nd(l,t,!0,r))}}),a};function ice(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(Zt(t,r)){const s=t[r];Vt(s)||(n[r]=s)}return n}function sS(e){return e===""||Vt(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function U7(e){return e===""||Vt(e)||(e=sS(e),Number.isNaN(e)&&(e=80)),e}function oce(e){return Xe(e)?e:Ke(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function lce(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function c0(e,t,n,r,s,a,i){let o=a??0,l=!1;const c=(()=>{if(!i)return e.indexOf(t);const g=ns(t,i);return e.findIndex(v=>ns(v,i)===g)})(),d=c!==-1,h=s==null?void 0:s.call(null,t,o),p=g=>{g==="add"?e.push(t):e.splice(c,1),l=!0},m=g=>{let v=0;const y=(r==null?void 0:r.children)&&g[r.children];return y&&ke(y)&&(v+=y.length,y.forEach(b=>{v+=m(b)})),v};return(!s||h)&&(cn(n)?n&&!d?p("add"):!n&&d&&p("remove"):p(d?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&ke(t[r.children])&&t[r.children].forEach(g=>{const v=c0(e,g,n??!d,r,s,o+1,i);o+=m(g)+1,v&&(l=v)}),l}function uce(e,t,n="children",r="hasChildren",s=!1){const a=o=>!(ke(o)&&o.length);function i(o,l,u){t(o,l,u),l.forEach(c=>{if(c[r]&&s){t(c,null,u+1);return}const d=c[n];a(d)||i(c,d,u+1)})}e.forEach(o=>{if(o[r]&&s){t(o,null,0);return}const l=o[n];a(l)||i(o,l,0)})}const cce=(e,t,n,r)=>{const s={strategy:"fixed",...e.popperOptions},a=Ye(r==null?void 0:r.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:Td(n,r.property).value}):void 0;return vn(a)?{slotContent:a,content:null,...e,popperOptions:s}:{slotContent:null,content:a??t,...e,popperOptions:s}};let fs=null;function dce(e,t,n,r,s,a){var i;const o=cce(e,t,n,r),l={...o,slotContent:void 0};if((fs==null?void 0:fs.trigger)===s){const m=(i=fs.vm)==null?void 0:i.component;IO(m==null?void 0:m.props,l),m&&o.slotContent&&(m.slots.content=()=>[o.slotContent]);return}fs==null||fs();const u=a==null?void 0:a.refs.tableWrapper,c=u==null?void 0:u.dataset.prefix,d=q(zr,{virtualTriggering:!0,virtualRef:s,appendTo:u,placement:"top",transition:"none",offset:0,hideAfter:0,...l},o.slotContent?{content:()=>o.slotContent}:void 0);d.appContext={...a.appContext,...a};const h=document.createElement("div");Xl(d,h),d.component.exposed.onOpen();const p=u==null?void 0:u.querySelector(`.${c}-scrollbar__wrap`);fs=()=>{var m,g;(g=(m=d.component)==null?void 0:m.exposed)!=null&&g.onClose&&d.component.exposed.onClose(),Xl(null,h);const v=fs;p==null||p.removeEventListener("scroll",v),v.trigger=void 0,v.vm=void 0,fs=null},fs.trigger=s??void 0,fs.vm=d,p==null||p.addEventListener("scroll",fs)}function W7(e){return e.children?NO(e.children,W7):[e]}function vT(e,t){return e+t.colSpan}const K7=(e,t,n,r)=>{let s=0,a=e;const i=n.states.columns.value;if(r){const l=W7(r[e]);s=i.slice(0,i.indexOf(l[0])).reduce(vT,0),a=s+l.reduce(vT,0)-1}else s=e;let o;switch(t){case"left":a<n.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:a<n.states.fixedLeafColumnsLength.value?o="left":s>=i.length-n.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:s,after:a}:{}},aS=(e,t,n,r,s,a=0)=>{const i=[],{direction:o,start:l,after:u}=K7(t,n,r,s);if(o){const c=o==="left";i.push(`${e}-fixed-column--${o}`),c&&u+a===r.states.fixedLeafColumnsLength.value-1?i.push("is-last-column"):!c&&l-a===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&i.push("is-first-column")}return i};function yT(e,t){return e+(Ty(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const iS=(e,t,n,r)=>{const{direction:s,start:a=0,after:i=0}=K7(e,t,n,r);if(!s)return;const o={},l=s==="left",u=n.states.columns.value;return l?o.left=u.slice(0,a).reduce(yT,0):o.right=u.slice(i+1).reverse().reduce(yT,0),o},Yd=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function G7(e){return e.some(t=>vn(t)?!(t.type===ir||t.type===Ge&&!G7(t.children)):!0)?e:null}function fce(e){const t=wt(),n=L(!1),r=L([]),s=(u,c)=>{var d;const h=t.store.states.rowExpandable.value;return(d=h==null?void 0:h(u,c))!=null?d:!0};return{updateExpandRows:()=>{const u=e.data.value||[],c=e.rowKey.value;if(n.value)r.value=t.store.states.rowExpandable.value?u.filter(s):u.slice();else if(c){const d=Nd(r.value,c);r.value=u.filter((h,p)=>{const m=ns(h,c);return!!d[m]&&s(h,p)})}else r.value=[]},toggleRowExpansion:(u,c)=>{const h=(e.data.value||[]).indexOf(u);if(h>-1&&!s(u,h))return;c0(r.value,u,c,void 0,void 0,void 0,e.rowKey.value)&&t.emit("expand-change",u,r.value.slice())},setExpandRowKeys:u=>{t.store.assertRowKey();const c=e.data.value||[],d=e.rowKey.value,h=Nd(c,d);r.value=u.reduce((p,m)=>{const g=h[m];return g&&s(g.row,g.index)&&p.push(g.row),p},[])},isRowExpanded:u=>{const c=e.rowKey.value;return c?!!Nd(r.value,c)[ns(u,c)]:r.value.includes(u)},states:{expandRows:r,defaultExpandAll:n}}}function hce(e){const t=wt(),n=L(null),r=L(null),s=u=>{t.store.assertRowKey(),n.value=u,i(u)},a=()=>{n.value=null},i=u=>{var c;const{data:d,rowKey:h}=e,p=r.value;let m=null;h.value&&(m=(c=(f(d)||[]).find(g=>ns(g,h.value)===u))!=null?c:null),r.value=m??null,t.emit("current-change",r.value,p)};return{setCurrentRowKey:s,restoreCurrentRowKey:a,setCurrentRowByKey:i,updateCurrentRow:u=>{const c=r.value;if(u&&u!==c){r.value=u,t.emit("current-change",r.value,c);return}!u&&c&&(r.value=null,t.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=e.rowKey.value,c=e.data.value||[],d=r.value;if(d&&!c.includes(d))if(u){const h=ns(d,u);i(h)}else r.value=null,t.emit("current-change",null,d);else n.value&&(i(n.value),a())},states:{_currentRowKey:n,currentRow:r}}}function pce(e){const t=L([]),n=L({}),r=L(16),s=L(!1),a=L({}),i=L("hasChildren"),o=L("children"),l=L(!1),u=wt(),c=E(()=>{if(!e.rowKey.value)return{};const _=e.data.value||[];return h(_)}),d=E(()=>{const _=e.rowKey.value,S=Object.keys(a.value),C={};return S.length&&S.forEach(T=>{if(a.value[T].length){const x={children:[]};a.value[T].forEach(N=>{const k=ns(N,_);x.children.push(k),N[i.value]&&!C[k]&&(C[k]={children:[]})}),C[T]=x}}),C}),h=_=>{const S=e.rowKey.value,C={};return uce(_,(T,x,N)=>{const k=ns(T,S);ke(x)?C[k]={children:x.map(A=>ns(A,S)),level:N}:s.value&&(C[k]={children:[],lazy:!0,level:N})},o.value,i.value,s.value),C},p=(_=!1,S)=>{var C,T;S||(S=(C=u.store)==null?void 0:C.states.defaultExpandAll.value);const x=c.value,N=d.value,k=Object.keys(x),A={};if(k.length){const O=f(n),F=[],j=(G,R)=>{if(_)return t.value?S||t.value.includes(R):!!(S||G!=null&&G.expanded);{const $=S||t.value&&t.value.includes(R);return!!(G!=null&&G.expanded||$)}};k.forEach(G=>{const R=O[G],$={...x[G]};if($.expanded=j(R,G),$.lazy){const{loaded:D=!1,loading:z=!1}=R||{};$.loaded=!!D,$.loading=!!z,F.push(G)}A[G]=$});const V=Object.keys(N);s.value&&V.length&&F.length&&V.forEach(G=>{var R;const $=O[G],D=N[G].children;if(F.includes(G)){if(((R=A[G].children)==null?void 0:R.length)!==0)throw new Error("[ElTable]children must be an empty array.");A[G].children=D}else{const{loaded:z=!1,loading:W=!1}=$||{};A[G]={lazy:!0,loaded:!!z,loading:!!W,expanded:j($,G),children:D,level:void 0}}})}n.value=A,(T=u.store)==null||T.updateTableScrollY()};fe(()=>t.value,()=>{p(!0)}),fe(()=>c.value,()=>{p()}),fe(()=>d.value,()=>{p()});const m=_=>{t.value=_,p()},g=_=>s.value&&_&&"loaded"in _&&!_.loaded,v=(_,S)=>{u.store.assertRowKey();const C=e.rowKey.value,T=ns(_,C),x=T&&n.value[T];if(T&&x&&"expanded"in x){const N=x.expanded;S=Vt(S)?!x.expanded:S,n.value[T].expanded=S,N!==S&&u.emit("expand-change",_,S),S&&g(x)&&b(_,T,x),u.store.updateTableScrollY()}},y=_=>{u.store.assertRowKey();const S=e.rowKey.value,C=ns(_,S),T=n.value[C];g(T)?b(_,C,T):v(_,void 0)},b=(_,S,C)=>{const{load:T}=u.props;T&&!n.value[S].loaded&&(n.value[S].loading=!0,T(_,C,x=>{if(!ke(x))throw new TypeError("[ElTable] data must be an array");n.value[S].loading=!1,n.value[S].loaded=!0,n.value[S].expanded=!0,x.length&&(a.value[S]=x),u.emit("expand-change",_,!0)}))};return{loadData:b,loadOrToggle:y,toggleTreeExpansion:v,updateTreeExpandKeys:m,updateTreeData:p,updateKeyChildren:(_,S)=>{const{lazy:C,rowKey:T}=u.props;if(C){if(!T)throw new Error("[Table] rowKey is required in updateKeyChild");a.value[_]&&(a.value[_]=S)}},normalize:h,states:{expandRowKeys:t,treeData:n,indent:r,lazy:s,lazyTreeNodeMap:a,lazyColumnIdentifier:i,childrenColumnName:o,checkStrictly:l}}}const mce=(e,t)=>{const n=t.sortingColumn;return!n||Ke(n.sortable)?e:sce(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},ov=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,ov(n.children)):t.push(n)}),t};function gce(){var e;const t=wt(),{size:n}=Or((e=t.proxy)==null?void 0:e.$props),r=L(null),s=L([]),a=L([]),i=L(!1),o=L([]),l=L([]),u=L([]),c=L([]),d=L([]),h=L([]),p=L([]),m=L([]),g=[],v=L(0),y=L(0),b=L(0),w=L(!1),_=L([]),S=L(!1),C=L(!1),T=L(null),x=L(null),N=L({}),k=L(null),A=L(null),O=L(null),F=L(null),j=L(null),V=E(()=>r.value?Nd(_.value,r.value):void 0);fe(s,()=>{var tt;t.state&&(D(!1),t.props.tableLayout==="auto"&&((tt=t.refs.tableHeaderRef)==null||tt.updateFixedColumnStyle()))},{deep:!0});const G=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},R=tt=>{var mt;(mt=tt.children)==null||mt.forEach(kt=>{kt.fixed=tt.fixed,R(kt)})},$=()=>{o.value.forEach(Ue=>{R(Ue)}),c.value=o.value.filter(Ue=>[!0,"left"].includes(Ue.fixed));const tt=o.value.find(Ue=>Ue.type==="selection");let mt;tt&&tt.fixed!=="right"&&!c.value.includes(tt)&&o.value.indexOf(tt)===0&&c.value.length&&(c.value.unshift(tt),mt=!0),d.value=o.value.filter(Ue=>Ue.fixed==="right");const kt=o.value.filter(Ue=>(mt?Ue.type!=="selection":!0)&&!Ue.fixed);l.value=Array.from(c.value).concat(kt).concat(d.value);const we=ov(kt),He=ov(c.value),ge=ov(d.value);v.value=we.length,y.value=He.length,b.value=ge.length,u.value=Array.from(He).concat(we).concat(ge),i.value=c.value.length>0||d.value.length>0},D=(tt,mt=!1)=>{tt&&$(),mt?t.state.doLayout():t.state.debouncedUpdateLayout()},z=tt=>V.value?!!V.value[ns(tt,r.value)]:_.value.includes(tt),W=()=>{w.value=!1;const tt=_.value;_.value=[],tt.length&&t.emit("selection-change",[])},Y=()=>{var tt,mt;let kt;if(r.value){kt=[];const we=(mt=(tt=t==null?void 0:t.store)==null?void 0:tt.states)==null?void 0:mt.childrenColumnName.value,He=Nd(s.value,r.value,!0,we);for(const ge in V.value)Zt(V.value,ge)&&!He[ge]&&kt.push(V.value[ge].row)}else kt=_.value.filter(we=>!s.value.includes(we));if(kt.length){const we=_.value.filter(He=>!kt.includes(He));_.value=we,t.emit("selection-change",we.slice())}},U=()=>(_.value||[]).slice(),Q=(tt,mt,kt=!0,we=!1)=>{var He,ge,Ue,St;const sn={children:(ge=(He=t==null?void 0:t.store)==null?void 0:He.states)==null?void 0:ge.childrenColumnName.value,checkStrictly:(St=(Ue=t==null?void 0:t.store)==null?void 0:Ue.states)==null?void 0:St.checkStrictly.value};if(c0(_.value,tt,mt,sn,we?void 0:T.value,s.value.indexOf(tt),r.value)){const jn=(_.value||[]).slice();kt&&t.emit("select",jn,tt),t.emit("selection-change",jn)}},J=()=>{var tt,mt;const kt=C.value?!w.value:!(w.value||_.value.length);w.value=kt;let we=!1,He=0;const ge=(mt=(tt=t==null?void 0:t.store)==null?void 0:tt.states)==null?void 0:mt.rowKey.value,{childrenColumnName:Ue}=t.store.states,St={children:Ue.value,checkStrictly:!1};s.value.forEach((sn,Ln)=>{const jn=Ln+He;c0(_.value,sn,kt,St,T.value,jn,ge)&&(we=!0),He+=P(ns(sn,ge))}),we&&t.emit("selection-change",_.value?_.value.slice():[]),t.emit("select-all",(_.value||[]).slice())},B=()=>{var tt;if(((tt=s.value)==null?void 0:tt.length)===0){w.value=!1;return}const{childrenColumnName:mt}=t.store.states;let kt=0,we=0;const He=Ue=>{var St;for(const sn of Ue){const Ln=T.value&&T.value.call(null,sn,kt);if(z(sn))we++;else if(!T.value||Ln)return!1;if(kt++,(St=sn[mt.value])!=null&&St.length&&!He(sn[mt.value]))return!1}return!0},ge=He(s.value||[]);w.value=we===0?!1:ge},P=tt=>{var mt;if(!t||!t.store)return 0;const{treeData:kt}=t.store.states;let we=0;const He=(mt=kt.value[tt])==null?void 0:mt.children;return He&&(we+=He.length,He.forEach(ge=>{we+=P(ge)})),we},ae=(tt,mt)=>{const kt={};return Dr(tt).forEach(we=>{N.value[we.id]=mt,kt[we.columnKey||we.id]=mt}),kt},ee=(tt,mt,kt)=>{A.value&&A.value!==tt&&(A.value.order=null),A.value=tt,O.value=mt,F.value=kt},oe=()=>{let tt=f(a);Object.keys(N.value).forEach(mt=>{const kt=N.value[mt];if(!kt||kt.length===0)return;const we=H7({columns:u.value},mt);we&&we.filterMethod&&(tt=tt.filter(He=>kt.some(ge=>we.filterMethod.call(null,ge,He,we))))}),k.value=tt},X=()=>{var tt;s.value=mce((tt=k.value)!=null?tt:[],{sortingColumn:A.value,sortProp:O.value,sortOrder:F.value})},H=(tt=void 0)=>{tt!=null&&tt.filter||oe(),X()},te=tt=>{const{tableHeaderRef:mt}=t.refs;if(!mt)return;const kt=Object.assign({},mt.filterPanels),we=Object.keys(kt);if(we.length)if(Ke(tt)&&(tt=[tt]),ke(tt)){const He=tt.map(ge=>ace({columns:u.value},ge));we.forEach(ge=>{const Ue=He.find(St=>St.id===ge);Ue&&(Ue.filteredValue=[])}),t.store.commit("filterChange",{column:He,values:[],silent:!0,multi:!0})}else we.forEach(He=>{const ge=u.value.find(Ue=>Ue.id===He);ge&&(ge.filteredValue=[])}),N.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},ue=()=>{A.value&&(ee(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:ye,toggleRowExpansion:he,updateExpandRows:_e,states:Re,isRowExpanded:De}=fce({data:s,rowKey:r}),{updateTreeExpandKeys:pe,toggleTreeExpansion:ve,updateTreeData:be,updateKeyChildren:me,loadOrToggle:Te,states:xe}=pce({data:s,rowKey:r}),{updateCurrentRowData:Oe,updateCurrentRow:Ce,setCurrentRowKey:Ee,states:Be}=hce({data:s,rowKey:r});return{assertRowKey:G,updateColumns:$,scheduleLayout:D,isSelected:z,clearSelection:W,cleanSelection:Y,getSelectionRows:U,toggleRowSelection:Q,_toggleAllSelection:J,toggleAllSelection:null,updateAllSelected:B,updateFilters:ae,updateCurrentRow:Ce,updateSort:ee,execFilter:oe,execSort:X,execQuery:H,clearFilter:te,clearSort:ue,toggleRowExpansion:he,setExpandRowKeysAdapter:tt=>{ye(tt),pe(tt)},setCurrentRowKey:Ee,toggleRowExpansionAdapter:(tt,mt)=>{u.value.some(({type:we})=>we==="expand")?he(tt,mt):ve(tt,mt)},isRowExpanded:De,updateExpandRows:_e,updateCurrentRowData:Oe,loadOrToggle:Te,updateTreeData:be,updateKeyChildren:me,states:{tableSize:n,rowKey:r,data:s,_data:a,isComplex:i,_columns:o,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:d,leafColumns:h,fixedLeafColumns:p,rightFixedLeafColumns:m,updateOrderFns:g,leafColumnsLength:v,fixedLeafColumnsLength:y,rightFixedLeafColumnsLength:b,isAllSelected:w,selection:_,reserveSelection:S,selectOnIndeterminate:C,selectable:T,rowExpandable:x,filters:N,filteredData:k,sortingColumn:A,sortProp:O,sortOrder:F,hoverRow:j,...Re,...xe,...Be}}}function Tw(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=Tw(n.children,t)),n)})}function kw(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&kw(t.children)}),e.sort((t,n)=>t.no-n.no)}function vce(){const e=wt(),t=gce(),n=Se("table"),{t:r}=Mt();return{ns:n,t:r,...t,mutations:{setData(o,l){const u=f(o._data)!==l;o.data.value=l,o._data.value=l,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),f(o.reserveSelection)?e.store.assertRowKey():u?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(o,l,u,c){var d;const h=f(o._columns);let p=[];u?(u&&!u.children&&(u.children=[]),(d=u.children)==null||d.push(l),p=Tw(h,u)):(h.push(l),p=h),kw(p),o._columns.value=p,o.updateOrderFns.push(c),l.type==="selection"&&(o.selectable.value=l.selectable,o.reserveSelection.value=l.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(o,l){var u;((u=l.getColumnIndex)==null?void 0:u.call(l))!==l.no&&(kw(o._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(o,l,u,c){var d;const h=f(o._columns)||[];if(u)(d=u.children)==null||d.splice(u.children.findIndex(m=>m.id===l.id),1),Fe(()=>{var m;((m=u.children)==null?void 0:m.length)===0&&delete u.children}),o._columns.value=Tw(h,u);else{const m=h.indexOf(l);m>-1&&(h.splice(m,1),o._columns.value=h)}const p=o.updateOrderFns.indexOf(c);p>-1&&o.updateOrderFns.splice(p,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(o,l){const{prop:u,order:c,init:d}=l;if(u){const h=f(o.columns).find(p=>p.property===u);h&&(h.order=c,e.store.updateSort(h,u,c),e.store.commit("changeSortCondition",{init:d}))}},changeSortCondition(o,l){const{sortingColumn:u,sortProp:c,sortOrder:d}=o,h=f(u),p=f(c),m=f(d);Ty(m)&&(o.sortingColumn.value=null,o.sortProp.value=null);const g={filter:!0};e.store.execQuery(g),(!l||!(l.silent||l.init))&&e.emit("sort-change",{column:h,prop:p,order:m}),e.store.updateTableScrollY()},filterChange(o,l){const{column:u,values:c,silent:d}=l,h=e.store.updateFilters(u,c);e.store.execQuery(),d||e.emit("filter-change",h),e.store.updateTableScrollY()},toggleAllSelection(){var o,l;(l=(o=e.store).toggleAllSelection)==null||l.call(o)},rowSelectedChanged(o,l){e.store.toggleRowSelection(l),e.store.updateAllSelected()},setHoverRow(o,l){o.hoverRow.value=l},setCurrentRow(o,l){e.store.updateCurrentRow(l)}},commit:function(o,...l){const u=e.store.mutations;if(u[o])u[o].apply(e,[e.store.states,...l]);else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){Fe(()=>e.layout.updateScrollY.apply(e.layout))}}}const oS={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",rowExpandable:"rowExpandable",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function yce(e,t){if(!e)throw new Error("Table is required.");const n=vce();return n.toggleAllSelection=fo(n._toggleAllSelection,10),Object.keys(oS).forEach(r=>{Z7(Y7(t,r),r,n)}),bce(n,t),n}function bce(e,t){Object.keys(oS).forEach(n=>{fe(()=>Y7(t,n),r=>{Z7(r,n,e)})})}function Z7(e,t,n){let r=e,s=oS[t];ht(s)&&(r=r||s.default,s=s.key),n.states[s].value=r}function Y7(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(s=>{r=r[s]}),r}else return e[t]}var wce=Object.defineProperty,_ce=(e,t,n)=>t in e?wce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qr=(e,t,n)=>_ce(e,typeof t!="symbol"?t+"":t,n);class Sce{constructor(t){qr(this,"observers"),qr(this,"table"),qr(this,"store"),qr(this,"columns"),qr(this,"fit"),qr(this,"showHeader"),qr(this,"height"),qr(this,"scrollX"),qr(this,"scrollY"),qr(this,"bodyWidth"),qr(this,"fixedWidth"),qr(this,"rightFixedWidth"),qr(this,"tableHeight"),qr(this,"headerHeight"),qr(this,"appendHeight"),qr(this,"footerHeight"),qr(this,"gutterWidth"),this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=L(null),this.scrollX=L(!1),this.scrollY=L(!1),this.bodyWidth=L(null),this.fixedWidth=L(null),this.rightFixedWidth=L(null),this.gutterWidth=0;for(const n in t)Zt(t,n)&&(Cn(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const t=this.height.value;if(Ty(t))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const s=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,s!==r}return!1}setHeight(t,n="height"){if(!Yt)return;const r=this.table.vnode.el;if(t=oce(t),this.height.value=Number(t),!r&&(t||t===0)){Fe(()=>this.setHeight(t,n));return}r&&Xe(t)?(r.style[n]=`${t}px`,this.updateElsHeight()):r&&Ke(t)&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){var t;if(!Yt)return;const n=this.fit,r=(t=this.table.vnode.el)==null?void 0:t.clientWidth;let s=0;const a=this.getFlattenColumns(),i=a.filter(u=>!Xe(u.width));if(a.forEach(u=>{Xe(u.width)&&u.realWidth&&(u.realWidth=null)}),i.length>0&&n){if(a.forEach(u=>{s+=Number(u.width||u.minWidth||80)}),s<=r){this.scrollX.value=!1;const u=r-s;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+u;else{const c=i.reduce((p,m)=>p+Number(m.minWidth||80),0),d=u/c;let h=0;i.forEach((p,m)=>{if(m===0)return;const g=Math.floor(Number(p.minWidth||80)*d);h+=g,p.realWidth=Number(p.minWidth||80)+g}),i[0].realWidth=Number(i[0].minWidth||80)+u-h}}else this.scrollX.value=!0,i.forEach(u=>{u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(s,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else a.forEach(u=>{!u.width&&!u.minWidth?u.realWidth=80:u.realWidth=Number(u.width||u.minWidth),s+=u.realWidth}),this.scrollX.value=s>r,this.bodyWidth.value=s;const o=this.store.states.fixedColumns.value;if(o.length>0){let u=0;o.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.fixedWidth.value=u}const l=this.store.states.rightFixedColumns.value;if(l.length>0){let u=0;l.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=u}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var s,a;switch(t){case"columns":(s=r.state)==null||s.onColumnsChange(this);break;case"scrollable":(a=r.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}var Cce=de({name:"ElTableFilterPanel",components:{ElCheckbox:wi,ElCheckboxGroup:P6,ElScrollbar:bi,ElTooltip:zr,ElIcon:We,ArrowDown:Ri,ArrowUp:Iy},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:un.appendTo},setup(e){const t=wt(),{t:n}=Mt(),r=Se("table-filter"),s=t==null?void 0:t.parent;e.column&&!s.filterPanels.value[e.column.id]&&(s.filterPanels.value[e.column.id]=t);const a=L(null),i=L(null),o=L(0),l=E(()=>e.column&&e.column.filters),u=E(()=>e.column&&e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),c=E({get:()=>{var T;return(((T=e.column)==null?void 0:T.filteredValue)||[])[0]},set:T=>{d.value&&(qs(T)?d.value.splice(0,1):d.value.splice(0,1,T))}}),d=E({get(){return e.column?e.column.filteredValue||[]:[]},set(T){var x;e.column&&((x=e.upDataColumn)==null||x.call(e,"filteredValue",T))}}),h=E(()=>e.column?e.column.filterMultiple:!0),p=T=>T.value===c.value,m=()=>{var T;(T=a.value)==null||T.onClose()},g=()=>{b(d.value),m()},v=()=>{d.value=[],b(d.value),m()},y=(T,x)=>{c.value=T,o.value=x,qs(T)?b([]):b(d.value),m()},b=T=>{var x,N;(x=e.store)==null||x.commit("filterChange",{column:e.column,values:T}),(N=e.store)==null||N.updateAllSelected()},w=()=>{var T,x;(T=i.value)==null||T.focus(),!h.value&&S(),e.column&&((x=e.upDataColumn)==null||x.call(e,"filterOpened",!0))},_=()=>{var T;e.column&&((T=e.upDataColumn)==null||T.call(e,"filterOpened",!1))},S=()=>{if(qs(c)){o.value=0;return}const T=(l.value||[]).findIndex(x=>x.value===c.value);o.value=T>=0?T+1:0};return{multiple:h,filterClassName:u,filteredValue:d,filterValue:c,filters:l,handleConfirm:g,handleReset:v,handleSelect:y,isPropAbsent:qs,isActive:p,t:n,ns:r,tooltipRef:a,rootRef:i,checkedIndex:o,handleShowTooltip:w,handleHideTooltip:_,handleKeydown:T=>{var x,N;const k=hn(T),A=(l.value?l.value.length:0)+1;let O=o.value,F=!0;switch(k){case Ne.down:case Ne.right:O=(O+1)%A;break;case Ne.up:case Ne.left:O=(O-1+A)%A;break;case Ne.tab:m(),F=!1;break;case Ne.enter:case Ne.space:if(O===0)y(null,0);else{const j=(l.value||[])[O-1];j.value&&y(j.value,O)}break;default:F=!1;break}F&&T.preventDefault(),o.value=O,(N=(x=i.value)==null?void 0:x.querySelector(`.${r.e("list-item")}:nth-child(${O+1})`))==null||N.focus()}}}});const xce=["disabled"],Ece=["tabindex","aria-checked"],Tce=["tabindex","aria-checked","onClick"],kce=["aria-label"];function Nce(e,t,n,r,s,a){const i=Rt("el-checkbox"),o=Rt("el-checkbox-group"),l=Rt("el-scrollbar"),u=Rt("arrow-up"),c=Rt("arrow-down"),d=Rt("el-icon"),h=Rt("el-tooltip");return I(),ce(h,{ref:"tooltipRef",offset:0,placement:e.placement,"show-arrow":!1,trigger:"click",role:"dialog",teleported:"",effect:"light",pure:"",loop:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo,onShow:e.handleShowTooltip,onHide:e.handleHideTooltip},{content:re(()=>[e.multiple?(I(),K("div",{key:0,ref:"rootRef",tabindex:"-1",class:M(e.ns.e("multiple"))},[Z("div",{class:M(e.ns.e("content"))},[q(l,{"wrap-class":e.ns.e("wrap")},{default:re(()=>[q(o,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=p=>e.filteredValue=p),class:M(e.ns.e("checkbox-group"))},{default:re(()=>[(I(!0),K(Ge,null,Ot(e.filters,p=>(I(),ce(i,{key:p.value,value:p.value},{default:re(()=>[gt(Ie(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Z("div",{class:M(e.ns.e("bottom"))},[Z("button",{class:M(e.ns.is("disabled",e.filteredValue.length===0)),disabled:e.filteredValue.length===0,type:"button",onClick:t[1]||(t[1]=(...p)=>e.handleConfirm&&e.handleConfirm(...p))},Ie(e.t("el.table.confirmFilter")),11,xce),Z("button",{type:"button",onClick:t[2]||(t[2]=(...p)=>e.handleReset&&e.handleReset(...p))},Ie(e.t("el.table.resetFilter")),1)],2)],2)):(I(),K("ul",{key:1,ref:"rootRef",tabindex:"-1",role:"radiogroup",class:M(e.ns.e("list")),onKeydown:t[4]||(t[4]=(...p)=>e.handleKeydown&&e.handleKeydown(...p))},[Z("li",{role:"radio",class:M([e.ns.e("list-item"),e.ns.is("active",e.isPropAbsent(e.filterValue))]),tabindex:e.checkedIndex===0?0:-1,"aria-checked":e.isPropAbsent(e.filterValue),onClick:t[3]||(t[3]=p=>e.handleSelect(null,0))},Ie(e.t("el.table.clearFilter")),11,Ece),(I(!0),K(Ge,null,Ot(e.filters,(p,m)=>(I(),K("li",{key:p.value,role:"radio",class:M([e.ns.e("list-item"),e.ns.is("active",e.isActive(p))]),tabindex:e.checkedIndex===m+1?0:-1,"aria-checked":e.isActive(p),onClick:g=>e.handleSelect(p.value,m+1)},Ie(p.text),11,Tce))),128))],34))]),default:re(()=>{var p;return[Z("button",{type:"button",class:M(`${e.ns.namespace.value}-table__column-filter-trigger`),"aria-label":e.t("el.table.filterLabel",{column:((p=e.column)==null?void 0:p.label)||""})},[q(d,null,{default:re(()=>[ie(e.$slots,"filter-icon",{},()=>{var m;return[(m=e.column)!=null&&m.filterOpened?(I(),ce(u,{key:0})):(I(),ce(c,{key:1}))]})]),_:3})],10,kce)]}),_:3},8,["placement","popper-class","append-to","onShow","onHide"])}var Ice=_r(Cce,[["render",Nce]]);function lS(e){const t=wt();gy(()=>{n.value.addObserver(t)}),_t(()=>{r(n.value),s(n.value)}),Ni(()=>{r(n.value),s(n.value)}),wc(()=>{n.value.removeObserver(t)});const n=E(()=>{const a=e.layout;if(!a)throw new Error("Can not find table layout.");return a}),r=a=>{var i;const o=((i=e.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const l=a.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,d=o.length;c<d;c++){const h=o[c],p=h.getAttribute("name"),m=u[p];m&&h.setAttribute("width",m.realWidth||m.width)}},s=a=>{var i,o;const l=((i=e.vnode.el)==null?void 0:i.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,d=l.length;c<d;c++)l[c].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const u=((o=e.vnode.el)==null?void 0:o.querySelectorAll("th.gutter"))||[];for(let c=0,d=u.length;c<d;c++){const h=u[c];h.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",h.style.display=a.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:s}}const Mi=Symbol("ElTable");function Oce(e,t){const n=wt(),r=Ve(Mi),s=g=>{g.stopPropagation()},a=(g,v)=>{!v.filters&&v.sortable?m(g,v,!1):v.filterable&&!v.sortable&&s(g),r==null||r.emit("header-click",v,g)},i=(g,v)=>{r==null||r.emit("header-contextmenu",v,g)},o=L(null),l=L(!1),u=L(),c=(g,v)=>{var y,b;if(Yt&&!(v.children&&v.children.length>0)&&o.value&&e.border&&o.value.id===v.id){l.value=!0;const w=r;t("set-drag-visible",!0);const _=w==null?void 0:w.vnode.el,S=_==null?void 0:_.getBoundingClientRect().left,C=(b=(y=n==null?void 0:n.vnode)==null?void 0:y.el)==null?void 0:b.querySelector(`th.${v.id}`),T=C.getBoundingClientRect(),x=T.left-S+30;Da(C,"noclick"),u.value={startMouseLeft:g.clientX,startLeft:T.right-S,startColumnLeft:T.left-S,tableLeft:S};const N=w==null?void 0:w.refs.resizeProxy;N.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const k=O=>{const F=O.clientX-u.value.startMouseLeft,j=u.value.startLeft+F;N.style.left=`${Math.max(x,j)}px`},A=()=>{if(l.value){const{startColumnLeft:O,startLeft:F}=u.value,V=Number.parseInt(N.style.left,10)-O;v.width=v.realWidth=V,w==null||w.emit("header-dragend",v.width,F-O,v,g),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,o.value=null,u.value=void 0,t("set-drag-visible",!1)}document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",A),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{ws(C,"noclick")},0)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",A)}},d=(g,v)=>{var y;if(!e.border||v.children&&v.children.length>0)return;const b=g.target,w=Ys(b)?b.closest("th"):null;if(!w)return;const _=no(w,"is-sortable");if(_){const k=l.value?"col-resize":"";w.style.cursor=k;const A=w.querySelector(".caret-wrapper");A&&(A.style.cursor=k)}if(!v.resizable||l.value){o.value=null;return}const S=w.getBoundingClientRect(),C=((y=w.parentNode)==null?void 0:y.lastElementChild)===w,T=e.allowDragLastColumn||!C,x=S.width>12&&S.right-g.clientX<8&&T,N=x?"col-resize":"";document.body.style.cursor=N,o.value=x?v:null,_&&(w.style.cursor=N)},h=()=>{!Yt||l.value||(document.body.style.cursor="")},p=({order:g,sortOrders:v})=>{if(g==="")return v[0];const y=v.indexOf(g||null);return v[y>v.length-2?0:y+1]},m=(g,v,y)=>{var b;g.stopPropagation();const w=v.order===y?null:y||p(v),_=(b=g.target)==null?void 0:b.closest("th");if(_&&no(_,"noclick")){ws(_,"noclick");return}if(!v.sortable)return;const S=g.currentTarget;if(["ascending","descending"].some(k=>no(S,k)&&!v.sortOrders.includes(k)))return;const C=e.store.states;let T=C.sortProp.value,x;const N=C.sortingColumn.value;(N!==v||N===v&&Ty(N.order))&&(N&&(N.order=null),C.sortingColumn.value=v,T=v.property),w?x=v.order=w:x=v.order=null,C.sortProp.value=T,C.sortOrder.value=x,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:i,handleMouseDown:c,handleMouseMove:d,handleMouseOut:h,handleSortClick:m,handleFilterClick:s}}function $ce(e){const t=Ve(Mi),n=Se("table");return{getHeaderRowStyle:o=>{const l=t==null?void 0:t.props.headerRowStyle;return Ye(l)?l.call(null,{rowIndex:o}):l},getHeaderRowClass:o=>{const l=[],u=t==null?void 0:t.props.headerRowClassName;return Ke(u)?l.push(u):Ye(u)&&l.push(u.call(null,{rowIndex:o})),l.join(" ")},getHeaderCellStyle:(o,l,u,c)=>{var d;let h=(d=t==null?void 0:t.props.headerCellStyle)!=null?d:{};Ye(h)&&(h=h.call(null,{rowIndex:o,columnIndex:l,row:u,column:c}));const p=iS(l,c.fixed,e.store,u);return Yd(p,"left"),Yd(p,"right"),Object.assign({},h,p)},getHeaderCellClass:(o,l,u,c)=>{const d=aS(n.b(),l,c.fixed,e.store,u),h=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...d];c.children||h.push("is-leaf"),c.sortable&&h.push("is-sortable");const p=t==null?void 0:t.props.headerCellClassName;return Ke(p)?h.push(p):Ye(p)&&h.push(p.call(null,{rowIndex:o,columnIndex:l,row:u,column:c})),h.push(n.e("cell")),h.filter(m=>!!m).join(" ")}}}const q7=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,q7(n.children))):t.push(n)}),t},X7=e=>{let t=1;const n=(a,i)=>{if(i&&(a.level=i.level+1,t<a.level&&(t=a.level)),a.children){let o=0;a.children.forEach(l=>{n(l,a),o+=l.colSpan}),a.colSpan=o}else a.colSpan=1};e.forEach(a=>{a.level=1,n(a,void 0)});const r=[];for(let a=0;a<t;a++)r.push([]);return q7(e).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(i=>i.isSubColumn=!0)):a.rowSpan=t-a.level+1,r[a.level-1].push(a)}),r};function Ace(e){const t=Ve(Mi),n=E(()=>X7(e.store.states.originColumns.value));return{isGroup:E(()=>{const a=n.value.length>1;return a&&t&&(t.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:n}}var Rce=de({name:"ElTableHeader",components:{ElCheckbox:wi},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:t}){const n=wt(),r=Ve(Mi),s=Se("table"),a=L({}),{onColumnsChange:i,onScrollableChange:o}=lS(r),l=(r==null?void 0:r.props.tableLayout)==="auto",u=Xt(new Map),c=L();let d;const h=()=>{d=setTimeout(()=>{u.size>0&&(u.forEach((O,F)=>{const j=c.value.querySelector(`.${F.replace(/\s/g,".")}`);if(j){const V=j.getBoundingClientRect().width;O.width=V||O.width}}),u.clear())})};fe(u,h),en(()=>{d&&(clearTimeout(d),d=void 0)}),_t(async()=>{await Fe(),await Fe();const{prop:O,order:F}=e.defaultSort;r==null||r.store.commit("sort",{prop:O,order:F,init:!0}),h()});const{handleHeaderClick:p,handleHeaderContextMenu:m,handleMouseDown:g,handleMouseMove:v,handleMouseOut:y,handleSortClick:b,handleFilterClick:w}=Oce(e,t),{getHeaderRowStyle:_,getHeaderRowClass:S,getHeaderCellStyle:C,getHeaderCellClass:T}=$ce(e),{isGroup:x,toggleAllSelection:N,columnRows:k}=Ace(e),{t:A}=Mt();return n.state={onColumnsChange:i,onScrollableChange:o},n.filterPanels=a,{ns:s,t:A,filterPanels:a,onColumnsChange:i,onScrollableChange:o,columnRows:k,getHeaderRowClass:S,getHeaderRowStyle:_,getHeaderCellClass:T,getHeaderCellStyle:C,handleHeaderClick:p,handleHeaderContextMenu:m,handleMouseDown:g,handleMouseMove:v,handleMouseOut:y,handleSortClick:b,handleFilterClick:w,isGroup:x,toggleAllSelection:N,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:c,updateFixedColumnStyle:h}},render(){const{ns:e,t,isGroup:n,columnRows:r,getHeaderCellStyle:s,getHeaderCellClass:a,getHeaderRowClass:i,getHeaderRowStyle:o,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleSortClick:h,handleMouseOut:p,store:m,$parent:g,saveIndexSelection:v,isTableLayoutAuto:y}=this;let b=1;return nt("thead",{ref:"theadRef",class:e.is("group",n)},r.map((w,_)=>nt("tr",{class:i(_),key:_,style:o(_)},w.map((S,C)=>{S.rowSpan>b&&(b=S.rowSpan);const T=a(_,C,w,S);return y&&S.fixed&&v.set(T,S),nt("th",{class:T,colspan:S.colSpan,key:`${S.id}-thead`,rowspan:S.rowSpan,scope:S.colSpan>1?"colgroup":"col",ariaSort:S.sortable?S.order:void 0,style:s(_,C,w,S),onClick:x=>{var N;(N=x.currentTarget)!=null&&N.classList.contains("noclick")||l(x,S)},onContextmenu:x=>u(x,S),onMousedown:x=>c(x,S),onMousemove:x=>d(x,S),onMouseout:p},[nt("div",{class:["cell",S.filteredValue&&S.filteredValue.length>0?"highlight":""]},[S.renderHeader?S.renderHeader({column:S,$index:C,store:m,_self:g}):S.label,S.sortable&&nt("button",{type:"button",class:"caret-wrapper","aria-label":t("el.table.sortLabel",{column:S.label||""}),onClick:x=>h(x,S)},[nt("i",{onClick:x=>h(x,S,"ascending"),class:"sort-caret ascending"}),nt("i",{onClick:x=>h(x,S,"descending"),class:"sort-caret descending"})]),S.filterable&&nt(Ice,{store:m,placement:S.filterPlacement||"bottom-start",appendTo:g==null?void 0:g.appendFilterPanelTo,column:S,upDataColumn:(x,N)=>{S[x]=N}},{"filter-icon":()=>S.renderFilterIcon?S.renderFilterIcon({filterOpened:S.filterOpened}):null})])])}))))}});function Tb(e,t,n=.03){return e-t>n}function Mce(e){const t=Ve(Mi),n=L(""),r=L(nt("div")),s=(m,g,v)=>{var y,b,w;const _=t,S=Eb(m);let C=null;const T=(y=_==null?void 0:_.vnode.el)==null?void 0:y.dataset.prefix;S&&(C=gT({columns:(w=(b=e.store)==null?void 0:b.states.columns.value)!=null?w:[]},S,T),C&&(_==null||_.emit(`cell-${v}`,g,C,S,m))),_==null||_.emit(`row-${v}`,g,C,m)},a=(m,g)=>{s(m,g,"dblclick")},i=(m,g)=>{var v;(v=e.store)==null||v.commit("setCurrentRow",g),s(m,g,"click")},o=(m,g)=>{s(m,g,"contextmenu")},l=fo(m=>{var g;(g=e.store)==null||g.commit("setHoverRow",m)},30),u=fo(()=>{var m;(m=e.store)==null||m.commit("setHoverRow",null)},30),c=m=>{const g=window.getComputedStyle(m,null),v=Number.parseInt(g.paddingLeft,10)||0,y=Number.parseInt(g.paddingRight,10)||0,b=Number.parseInt(g.paddingTop,10)||0,w=Number.parseInt(g.paddingBottom,10)||0;return{left:v,right:y,top:b,bottom:w}},d=(m,g,v)=>{var y;let b=(y=g==null?void 0:g.target)==null?void 0:y.parentNode;for(;m>1&&(b=b==null?void 0:b.nextSibling,!(!b||b.nodeName!=="TR"));)v(b,"hover-row hover-fixed-row"),m--};return{handleDoubleClick:a,handleClick:i,handleContextMenu:o,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(m,g,v)=>{var y,b,w,_,S,C,T,x,N;if(!t)return;const k=t,A=Eb(m),O=(y=k==null?void 0:k.vnode.el)==null?void 0:y.dataset.prefix;let F=null;if(A){if(F=gT({columns:(w=(b=e.store)==null?void 0:b.states.columns.value)!=null?w:[]},A,O),!F)return;A.rowSpan>1&&d(A.rowSpan,m,Da);const B=k.hoverState={cell:A,column:F,row:g};k==null||k.emit("cell-mouse-enter",B.row,B.column,B.cell,m)}if(!v){((_=fs)==null?void 0:_.trigger)===A&&((S=fs)==null||S());return}const j=m.target.querySelector(".cell");if(!(no(j,`${O}-tooltip`)&&j.childNodes.length&&((C=j.textContent)!=null&&C.trim())))return;const V=document.createRange();V.setStart(j,0),V.setEnd(j,j.childNodes.length);const{width:G,height:R}=V.getBoundingClientRect(),{width:$,height:D}=j.getBoundingClientRect(),{top:z,left:W,right:Y,bottom:U}=c(j),Q=W+Y,J=z+U;Tb(G+Q,$)||Tb(R+J,D)||Tb(j.scrollWidth,$)?dce(v,(T=(A==null?void 0:A.innerText)||(A==null?void 0:A.textContent))!=null?T:"",g,F,A,k):((x=fs)==null?void 0:x.trigger)===A&&((N=fs)==null||N())},handleCellMouseLeave:m=>{const g=Eb(m);if(!g)return;g.rowSpan>1&&d(g.rowSpan,m,ws);const v=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",v==null?void 0:v.row,v==null?void 0:v.column,v==null?void 0:v.cell,m)},tooltipContent:n,tooltipTrigger:r}}function Pce(e){const t=Ve(Mi),n=Se("table");return{getRowStyle:(u,c)=>{const d=t==null?void 0:t.props.rowStyle;return Ye(d)?d.call(null,{row:u,rowIndex:c}):d||null},getRowClass:(u,c,d)=>{var h;const p=[n.e("row")];t!=null&&t.props.highlightCurrentRow&&u===((h=e.store)==null?void 0:h.states.currentRow.value)&&p.push("current-row"),e.stripe&&d%2===1&&p.push(n.em("row","striped"));const m=t==null?void 0:t.props.rowClassName;return Ke(m)?p.push(m):Ye(m)&&p.push(m.call(null,{row:u,rowIndex:c})),p},getCellStyle:(u,c,d,h)=>{const p=t==null?void 0:t.props.cellStyle;let m=p??{};Ye(p)&&(m=p.call(null,{rowIndex:u,columnIndex:c,row:d,column:h}));const g=iS(c,e==null?void 0:e.fixed,e.store);return Yd(g,"left"),Yd(g,"right"),Object.assign({},m,g)},getCellClass:(u,c,d,h,p)=>{const m=aS(n.b(),c,e==null?void 0:e.fixed,e.store,void 0,p),g=[h.id,h.align,h.className,...m],v=t==null?void 0:t.props.cellClassName;return Ke(v)?g.push(v):Ye(v)&&g.push(v.call(null,{rowIndex:u,columnIndex:c,row:d,column:h})),g.push(n.e("cell")),g.filter(y=>!!y).join(" ")},getSpan:(u,c,d,h)=>{let p=1,m=1;const g=t==null?void 0:t.props.spanMethod;if(Ye(g)){const v=g({row:u,column:c,rowIndex:d,columnIndex:h});ke(v)?(p=v[0],m=v[1]):ht(v)&&(p=v.rowspan,m=v.colspan)}return{rowspan:p,colspan:m}},getColspanRealWidth:(u,c,d)=>{if(c<1)return u[d].realWidth;const h=u.map(({realWidth:p,width:m})=>p||m).slice(d,d+c);return Number(h.reduce((p,m)=>Number(p)+Number(m),-1))}}}const Lce=["colspan","rowspan"];var Dce=de({name:"TableTdWrapper",__name:"td-wrapper",props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(I(),K("td",{colspan:e.colspan,rowspan:e.rowspan},[ie(t.$slots,"default")],8,Lce))}});function zce(e){const t=Ve(Mi),n=Se("table"),{handleDoubleClick:r,handleClick:s,handleContextMenu:a,handleMouseEnter:i,handleMouseLeave:o,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:d}=Mce(e),{getRowStyle:h,getRowClass:p,getCellStyle:m,getCellClass:g,getSpan:v,getColspanRealWidth:y}=Pce(e);let b=-1;const w=E(()=>{var x;return(x=e.store)==null?void 0:x.states.columns.value.findIndex(({type:N})=>N==="default")}),_=(x,N)=>{var k;const A=(k=t==null?void 0:t.props)==null?void 0:k.rowKey;return A?ns(x,A):N},S=(x,N,k,A=!1)=>{const{tooltipEffect:O,tooltipOptions:F,store:j}=e,{indent:V,columns:G}=j.states,R=[];let $=!0;return k&&(R.push(n.em("row",`level-${k.level}`)),$=!!k.display),N===0&&(b=-1),e.stripe&&$&&b++,R.push(...p(x,N,b)),nt("tr",{style:[$?null:{display:"none"},h(x,N)],class:R,key:_(x,N),onDblclick:z=>r(z,x),onClick:z=>s(z,x),onContextmenu:z=>a(z,x),onMouseenter:()=>i(N),onMouseleave:o},G.value.map((z,W)=>{const{rowspan:Y,colspan:U}=v(x,z,N,W);if(!Y||!U)return null;const Q=Object.assign({},z);Q.realWidth=y(G.value,U,W);const J={store:j,_self:e.context||t,column:Q,row:x,$index:N,cellIndex:W,expanded:A};W===w.value&&k&&(J.treeNode={indent:k.level&&k.level*V.value,level:k.level},cn(k.expanded)&&(J.treeNode.expanded=k.expanded,"loading"in k&&(J.treeNode.loading=k.loading),"noLazyChildren"in k&&(J.treeNode.noLazyChildren=k.noLazyChildren)));const B=`${_(x,N)},${W}`,P=Q.columnKey||Q.rawColumnKey||"",ae=z.showOverflowTooltip&&IO({effect:O},F,z.showOverflowTooltip);return nt(Dce,{style:m(N,W,x,z),class:g(N,W,x,z,U-1),key:`${P}${B}`,rowspan:Y,colspan:U,onMouseenter:ee=>l(ee,x,ae),onMouseleave:u},{default:()=>C(W,z,J)})}))},C=(x,N,k)=>N.renderCell(k);return{wrappedRowRender:(x,N)=>{const k=e.store,{isRowExpanded:A,assertRowKey:O}=k,{treeData:F,lazyTreeNodeMap:j,childrenColumnName:V,rowKey:G}=k.states,R=k.states.columns.value;if(R.some(({type:D})=>D==="expand")){const D=A(x),z=S(x,N,void 0,D),W=t==null?void 0:t.renderExpanded;if(!W)return console.error("[Element Error]renderExpanded is required."),z;const Y=[[z]];return(t.props.preserveExpandedContent||D)&&Y[0].push(nt("tr",{key:`expanded-row__${z.key}`,style:{display:D?"":"none"}},[nt("td",{colspan:R.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[W({row:x,$index:N,store:k,expanded:D})])])),Y}else if(Object.keys(F.value).length){O();const D=ns(x,G.value);let z=F.value[D],W=null;z&&(W={expanded:z.expanded,level:z.level,display:!0,noLazyChildren:void 0,loading:void 0},cn(z.lazy)&&(W&&cn(z.loaded)&&z.loaded&&(W.noLazyChildren=!(z.children&&z.children.length)),W.loading=z.loading));const Y=[S(x,N,W??void 0)];if(z){let U=0;const Q=(B,P)=>{B&&B.length&&P&&B.forEach(ae=>{const ee={display:P.display&&P.expanded,level:P.level+1,expanded:!1,noLazyChildren:!1,loading:!1},oe=ns(ae,G.value);if(qs(oe))throw new Error("For nested data item, row-key is required.");if(z={...F.value[oe]},z&&(ee.expanded=z.expanded,z.level=z.level||ee.level,z.display=!!(z.expanded&&ee.display),cn(z.lazy)&&(cn(z.loaded)&&z.loaded&&(ee.noLazyChildren=!(z.children&&z.children.length)),ee.loading=z.loading)),U++,Y.push(S(ae,N+U,ee)),z){const X=j.value[oe]||ae[V.value];Q(X,z)}})};z.display=!0;const J=j.value[D]||x[V.value];Q(J,z)}return Y}else return S(x,N,void 0)},tooltipContent:c,tooltipTrigger:d}}const Fce={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Bce=de({name:"ElTableBody",props:Fce,setup(e){var t;const n=wt(),r=Ve(Mi),s=Se("table"),{wrappedRowRender:a,tooltipContent:i,tooltipTrigger:o}=zce(e),{onColumnsChange:l,onScrollableChange:u}=lS(r),c=[];return fe((t=e.store)==null?void 0:t.states.hoverRow,(d,h)=>{var p,m;const g=n==null?void 0:n.vnode.el,v=Array.from((g==null?void 0:g.children)||[]).filter(w=>w==null?void 0:w.classList.contains(`${s.e("row")}`));let y=d;const b=(p=v[y])==null?void 0:p.childNodes;if(b!=null&&b.length){let w=0;Array.from(b).reduce((S,C,T)=>{var x,N;return((x=b[T])==null?void 0:x.colSpan)>1&&(w=(N=b[T])==null?void 0:N.colSpan),C.nodeName!=="TD"&&w===0&&S.push(T),w>0&&w--,S},[]).forEach(S=>{var C;for(y=d;y>0;){const T=(C=v[y-1])==null?void 0:C.childNodes;if(T[S]&&T[S].nodeName==="TD"&&T[S].rowSpan>1){Da(T[S],"hover-cell"),c.push(T[S]);break}y--}})}else c.forEach(w=>ws(w,"hover-cell")),c.length=0;!((m=e.store)!=null&&m.states.isComplex.value)||!Yt||ho(()=>{const w=v[h],_=v[d];w&&!w.classList.contains("hover-fixed-row")&&ws(w,"hover-row"),_&&Da(_,"hover-row")})}),wc(()=>{var d;(d=fs)==null||d()}),{ns:s,onColumnsChange:l,onScrollableChange:u,wrappedRowRender:a,tooltipContent:i,tooltipTrigger:o}},render(){const{wrappedRowRender:e,store:t}=this,n=(t==null?void 0:t.states.data.value)||[];return nt("tbody",{tabIndex:-1},[n.reduce((r,s)=>r.concat(e(s,r.length)),[])])}});function jce(){const e=Ve(Mi),t=e==null?void 0:e.store,n=E(()=>{var o;return(o=t==null?void 0:t.states.fixedLeafColumnsLength.value)!=null?o:0}),r=E(()=>{var o;return(o=t==null?void 0:t.states.rightFixedColumns.value.length)!=null?o:0}),s=E(()=>{var o;return(o=t==null?void 0:t.states.columns.value.length)!=null?o:0}),a=E(()=>{var o;return(o=t==null?void 0:t.states.fixedColumns.value.length)!=null?o:0}),i=E(()=>{var o;return(o=t==null?void 0:t.states.rightFixedColumns.value.length)!=null?o:0});return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:s,leftFixedCount:a,rightFixedCount:i,columns:E(()=>{var o;return(o=t==null?void 0:t.states.columns.value)!=null?o:[]})}}function Vce(e){const{columns:t}=jce(),n=Se("table");return{getCellClasses:(a,i)=>{const o=a[i],l=[n.e("cell"),o.id,o.align,o.labelClassName,...aS(n.b(),i,o.fixed,e.store)];return o.className&&l.push(o.className),o.children||l.push(n.is("leaf")),l},getCellStyles:(a,i)=>{const o=iS(i,a.fixed,e.store);return Yd(o,"left"),Yd(o,"right"),o},columns:t}}var Hce=de({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const t=Ve(Mi),n=Se("table"),{getCellClasses:r,getCellStyles:s,columns:a}=Vce(e),{onScrollableChange:i,onColumnsChange:o}=lS(t);return{ns:n,onScrollableChange:i,onColumnsChange:o,getCellClasses:r,getCellStyles:s,columns:a}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:s}=this,a=this.store.states.data.value;let i=[];return r?i=r({columns:e,data:a}):e.forEach((o,l)=>{if(l===0){i[l]=s;return}const u=a.map(p=>Number(p[o.property])),c=[];let d=!0;u.forEach(p=>{if(!Number.isNaN(+p)){d=!1;const m=`${p}`.split(".")[1];c.push(m?m.length:0)}});const h=Math.max.apply(null,c);d?i[l]="":i[l]=u.reduce((p,m)=>{const g=Number(m);return Number.isNaN(+g)?p:Number.parseFloat((p+m).toFixed(Math.min(h,20)))},0)}),nt(nt("tfoot",[nt("tr",{},[...e.map((o,l)=>nt("td",{key:l,colspan:o.colSpan,rowspan:o.rowSpan,class:n(e,l),style:t(o,l)},[nt("div",{class:["cell",o.labelClassName]},[i[l]])]))])]))}});function Uce(e){return{setCurrentRow:d=>{e.commit("setCurrentRow",d)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(d,h,p=!0)=>{e.toggleRowSelection(d,h,!1,p),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:d=>{e.clearFilter(d)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(d,h)=>{e.toggleRowExpansionAdapter(d,h)},clearSort:()=>{e.clearSort()},sort:(d,h)=>{e.commit("sort",{prop:d,order:h})},updateKeyChildren:(d,h)=>{e.updateKeyChildren(d,h)}}}function Wce(e,t,n,r){const s=L(!1),a=L(null),i=L(!1),o=R=>{i.value=R},l=L({width:null,height:null,headerHeight:null}),u=L(!1),c={display:"inline-block",verticalAlign:"middle"},d=L(),h=L(0),p=L(0),m=L(0),g=L(0),v=L(0);fe(()=>e.height,R=>{t.setHeight(R??null)},{immediate:!0}),fe(()=>e.maxHeight,R=>{t.setMaxHeight(R??null)},{immediate:!0}),fe(()=>[e.currentRowKey,n.states.rowKey],([R,$])=>{!f($)||!f(R)||n.setCurrentRowKey(`${R}`)},{immediate:!0}),fe(()=>e.data,R=>{r.store.commit("setData",R)},{immediate:!0,deep:!0}),ea(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const y=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},b=(R,$)=>{const{pixelX:D,pixelY:z}=$;Math.abs(D)>=Math.abs(z)&&(r.refs.bodyWrapper.scrollLeft+=$.pixelX/5)},w=E(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),_=E(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),S=()=>{w.value&&t.updateElsHeight(),t.updateColumnsWidth(),!(typeof window>"u")&&requestAnimationFrame(N)};_t(async()=>{await Fe(),n.updateColumns(),k(),requestAnimationFrame(S);const R=r.vnode.el,$=r.refs.headerWrapper;e.flexible&&R&&R.parentElement&&(R.parentElement.style.minWidth="0"),l.value={width:d.value=R.offsetWidth,height:R.offsetHeight,headerHeight:e.showHeader&&$?$.offsetHeight:null},n.states.columns.value.forEach(D=>{D.filteredValue&&D.filteredValue.length&&r.store.commit("filterChange",{column:D,values:D.filteredValue,silent:!0})}),r.$ready=!0});const C=(R,$)=>{if(!R)return;const D=Array.from(R.classList).filter(z=>!z.startsWith("is-scrolling-"));D.push(t.scrollX.value?$:"is-scrolling-none"),R.className=D.join(" ")},T=R=>{const{tableWrapper:$}=r.refs;C($,R)},x=R=>{const{tableWrapper:$}=r.refs;return!!($&&$.classList.contains(R))},N=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const Q="is-scrolling-none";x(Q)||T(Q);return}const R=r.refs.scrollBarRef.wrapRef;if(!R)return;const{scrollLeft:$,offsetWidth:D,scrollWidth:z}=R,{headerWrapper:W,footerWrapper:Y}=r.refs;W&&(W.scrollLeft=$),Y&&(Y.scrollLeft=$);const U=z-D-1;$>=U?T("is-scrolling-right"):T($===0?"is-scrolling-left":"is-scrolling-middle")},k=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&nn(r.refs.scrollBarRef.wrapRef,"scroll",N,{passive:!0}),e.fit?$n(r.vnode.el,A):nn(window,"resize",A),$n(r.refs.tableInnerWrapper,()=>{var R,$;A(),($=(R=r.refs)==null?void 0:R.scrollBarRef)==null||$.update()}))},A=()=>{var R,$,D,z;const W=r.vnode.el;if(!r.$ready||!W)return;let Y=!1;const{width:U,height:Q,headerHeight:J}=l.value,B=d.value=W.offsetWidth;U!==B&&(Y=!0);const P=W.offsetHeight;(e.height||w.value)&&Q!==P&&(Y=!0);const ae=e.tableLayout==="fixed"?r.refs.headerWrapper:(R=r.refs.tableHeaderRef)==null?void 0:R.$el;e.showHeader&&(ae==null?void 0:ae.offsetHeight)!==J&&(Y=!0),h.value=(($=r.refs.tableWrapper)==null?void 0:$.scrollHeight)||0,m.value=(ae==null?void 0:ae.scrollHeight)||0,g.value=((D=r.refs.footerWrapper)==null?void 0:D.offsetHeight)||0,v.value=((z=r.refs.appendWrapper)==null?void 0:z.offsetHeight)||0,p.value=h.value-m.value-g.value-v.value,Y&&(l.value={width:B,height:P,headerHeight:e.showHeader&&(ae==null?void 0:ae.offsetHeight)||0},S())},O=gr(),F=E(()=>{const{bodyWidth:R,scrollY:$,gutterWidth:D}=t;return R.value?`${R.value-($.value?D:0)}px`:""}),j=E(()=>e.maxHeight?"fixed":e.tableLayout),V=E(()=>{if(e.data&&e.data.length)return;let R="100%";e.height&&p.value&&(R=`${p.value}px`);const $=d.value;return{width:$?`${$}px`:"",height:R}}),G=E(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${m.value+g.value}px)`}:{maxHeight:`${+e.maxHeight-m.value-g.value}px`}:{});return{isHidden:s,renderExpanded:a,setDragVisible:o,isGroup:u,handleMouseLeave:y,handleHeaderFooterMousewheel:b,tableSize:O,emptyBlockStyle:V,resizeProxyVisible:i,bodyWidth:F,resizeState:l,doLayout:S,tableBodyStyles:_,tableLayout:j,scrollbarViewStyle:c,scrollbarStyle:G}}function Kce(e){let t;const n=()=>{const s=e.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},i=e.store.states.updateOrderFns;t=new MutationObserver(()=>{i.forEach(o=>o())}),t.observe(s,a)};_t(()=>{n()}),wc(()=>{t==null||t.disconnect()})}var Gce={data:{type:Array,default:()=>[]},size:wr,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,rowExpandable:{type:Function},defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:[String,Object,Array],default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:Boolean,nativeScrollbar:Boolean};function J7(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(({width:s})=>Vt(s))&&(n=[]);const r=s=>{const a={key:`${e.tableLayout}_${s.id}`,style:{},name:void 0};return t?a.style={width:`${s.width}px`}:a.name=s.id,a};return nt("colgroup",{},n.map(s=>nt("col",r(s))))}J7.props=["columns","tableLayout"];const Zce=()=>{const e=L(),t=(a,i)=>{const o=e.value;o&&o.scrollTo(a,i)},n=(a,i)=>{const o=e.value;o&&Xe(i)&&["Top","Left"].includes(a)&&o[`setScroll${a}`](i)};return{scrollBarRef:e,scrollTo:t,setScrollTop:a=>n("Top",a),setScrollLeft:a=>n("Left",a)}};var bT=!1,Mu,Nw,Iw,lv,uv,Q7,cv,Ow,$w,Aw,eR,Rw,Mw,tR,nR;function Ws(){if(!bT){bT=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Rw=/\b(iPhone|iP[ao]d)/.exec(e),Mw=/\b(iP[ao]d)/.exec(e),Aw=/Android/i.exec(e),tR=/FBAN\/\w+;/i.exec(e),nR=/Mobile/i.exec(e),eR=!!/Win64/.exec(e),t){Mu=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Mu&&document&&document.documentMode&&(Mu=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);Q7=r?parseFloat(r[1])+4:Mu,Nw=t[2]?parseFloat(t[2]):NaN,Iw=t[3]?parseFloat(t[3]):NaN,lv=t[4]?parseFloat(t[4]):NaN,lv?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),uv=t&&t[1]?parseFloat(t[1]):NaN):uv=NaN}else Mu=Nw=Iw=uv=lv=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);cv=s?parseFloat(s[1].replace("_",".")):!0}else cv=!1;Ow=!!n[2],$w=!!n[3]}else cv=Ow=$w=!1}}var Pw={ie:function(){return Ws()||Mu},ieCompatibilityMode:function(){return Ws()||Q7>Mu},ie64:function(){return Pw.ie()&&eR},firefox:function(){return Ws()||Nw},opera:function(){return Ws()||Iw},webkit:function(){return Ws()||lv},safari:function(){return Pw.webkit()},chrome:function(){return Ws()||uv},windows:function(){return Ws()||Ow},osx:function(){return Ws()||cv},linux:function(){return Ws()||$w},iphone:function(){return Ws()||Rw},mobile:function(){return Ws()||Rw||Mw||Aw||nR},nativeApp:function(){return Ws()||tR},android:function(){return Ws()||Aw},ipad:function(){return Ws()||Mw}},Yce=Pw,qce=!!(typeof window<"u"&&window.document&&window.document.createElement),Xce={canUseDOM:qce},rR=Xce,sR;rR.canUseDOM&&(sR=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Jce(e,t){if(!rR.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&sR&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Qce=Jce,wT=10,_T=40,ST=800;function aR(e){var t=0,n=0,r=0,s=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*wT,s=n*wT,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||s)&&e.deltaMode&&(e.deltaMode==1?(r*=_T,s*=_T):(r*=ST,s*=ST)),r&&!t&&(t=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:s}}aR.getEventType=function(){return Yce.firefox()?"DOMMouseScroll":Qce("wheel")?"wheel":"mousewheel"};var ede=aR;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const dv="_Mousewheel",CT=function(e,t){if(e&&e.addEventListener){iR(e);const n=function(r){const s=ede(r);t&&Reflect.apply(t,this,[r,s])};e[dv]={wheelHandler:n},e.addEventListener("wheel",n,{passive:!0})}},iR=e=>{var t;(t=e[dv])!=null&&t.wheelHandler&&(e.removeEventListener("wheel",e[dv].wheelHandler),e[dv]=null)},tde={beforeMount(e,t){CT(e,t.value)},unmounted(e){iR(e)},updated(e,t){t.value!==t.oldValue&&CT(e,t.value)}};let nde=1;var rde=de({name:"ElTable",directives:{Mousewheel:tde},components:{TableHeader:Rce,TableBody:Bce,TableFooter:Hce,ElScrollbar:bi,hColgroup:J7},props:Gce,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=Mt(),n=Se("table"),r=wt();At(Mi,r);const s=yce(r,e);r.store=s;const a=new Sce({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=a;const i=E(()=>(s.states.data.value||[]).length===0),{setCurrentRow:o,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:p,clearSort:m,sort:g,updateKeyChildren:v}=Uce(s),{isHidden:y,renderExpanded:b,setDragVisible:w,isGroup:_,handleMouseLeave:S,handleHeaderFooterMousewheel:C,tableSize:T,emptyBlockStyle:x,resizeProxyVisible:N,bodyWidth:k,resizeState:A,doLayout:O,tableBodyStyles:F,tableLayout:j,scrollbarViewStyle:V,scrollbarStyle:G}=Wce(e,a,s,r),{scrollBarRef:R,scrollTo:$,setScrollLeft:D,setScrollTop:z}=Zce(),W=fo(O,50),Y=`${n.namespace.value}-table_${nde++}`;r.tableId=Y,r.state={isGroup:_,resizeState:A,doLayout:O,debouncedUpdateLayout:W};const U=E(()=>{var B;return(B=e.sumText)!=null?B:t("el.table.sumText")}),Q=E(()=>{var B;return(B=e.emptyText)!=null?B:t("el.table.emptyText")}),J=E(()=>X7(s.states.originColumns.value)[0]);return Kce(r),en(()=>{W.cancel()}),{ns:n,layout:a,store:s,columns:J,handleHeaderFooterMousewheel:C,handleMouseLeave:S,tableId:Y,tableSize:T,isHidden:y,isEmpty:i,renderExpanded:b,resizeProxyVisible:N,resizeState:A,isGroup:_,bodyWidth:k,tableBodyStyles:F,emptyBlockStyle:x,debouncedUpdateLayout:W,setCurrentRow:o,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:p,clearSort:m,doLayout:O,sort:g,updateKeyChildren:v,t,setDragVisible:w,context:r,computedSumText:U,computedEmptyText:Q,tableLayout:j,scrollbarViewStyle:V,scrollbarStyle:G,scrollBarRef:R,scrollTo:$,setScrollLeft:D,setScrollTop:z,allowDragLastColumn:e.allowDragLastColumn}}});const sde=["data-prefix"],ade={ref:"hiddenColumns",class:"hidden-columns"};function ide(e,t,n,r,s,a){const i=Rt("hColgroup"),o=Rt("table-header"),l=Rt("table-body"),u=Rt("table-footer"),c=Rt("el-scrollbar"),d=P3("mousewheel");return I(),K("div",{ref:"tableWrapper",class:M([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:qe(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[1]||(t[1]=(...h)=>e.handleMouseLeave&&e.handleMouseLeave(...h))},[Z("div",{ref:"tableInnerWrapper",class:M(e.ns.e("inner-wrapper"))},[Z("div",ade,[ie(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?vt((I(),K("div",{key:0,ref:"headerWrapper",class:M(e.ns.e("header-wrapper"))},[Z("table",{ref:"tableHeader",class:M(e.ns.e("header")),style:qe(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[q(i,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),q(o,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[d,e.handleHeaderFooterMousewheel]]):le("v-if",!0),Z("div",{ref:"bodyWrapper",class:M(e.ns.e("body-wrapper"))},[q(c,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,native:e.nativeScrollbar,onScroll:t[0]||(t[0]=h=>e.$emit("scroll",h))},{default:re(()=>[Z("table",{ref:"tableBody",class:M(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:qe({width:e.bodyWidth,tableLayout:e.tableLayout})},[q(i,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(I(),ce(o,{key:0,ref:"tableHeaderRef",class:M(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):le("v-if",!0),q(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(I(),ce(u,{key:1,class:M(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):le("v-if",!0)],6),e.isEmpty?(I(),K("div",{key:0,ref:"emptyBlock",style:qe(e.emptyBlockStyle),class:M(e.ns.e("empty-block"))},[Z("span",{class:M(e.ns.e("empty-text"))},[ie(e.$slots,"empty",{},()=>[gt(Ie(e.computedEmptyText),1)])],2)],6)):le("v-if",!0),e.$slots.append?(I(),K("div",{key:1,ref:"appendWrapper",class:M(e.ns.e("append-wrapper"))},[ie(e.$slots,"append")],2)):le("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","native"])],2),e.showSummary&&e.tableLayout==="fixed"?vt((I(),K("div",{key:1,ref:"footerWrapper",class:M(e.ns.e("footer-wrapper"))},[Z("table",{class:M(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:qe(e.tableBodyStyles)},[q(i,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),q(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Kt,!e.isEmpty],[d,e.handleHeaderFooterMousewheel]]):le("v-if",!0),e.border||e.isGroup?(I(),K("div",{key:2,class:M(e.ns.e("border-left-patch"))},null,2)):le("v-if",!0)],2),vt(Z("div",{ref:"resizeProxy",class:M(e.ns.e("column-resize-proxy"))},null,2),[[Kt,e.resizeProxyVisible]])],46,sde)}var ode=_r(rde,[["render",ide]]);const lde={selection:"table-column--selection",expand:"table__expand-column"},ude={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},cde=e=>lde[e]||"",dde={selection:{renderHeader({store:e}){var t;function n(){return e.states.data.value&&e.states.data.value.length===0}return nt(wi,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":(t=e.toggleAllSelection)!=null?t:void 0,modelValue:e.states.isAllSelected.value,ariaLabel:e.t("el.table.selectAllLabel")})},renderCell({row:e,column:t,store:n,$index:r}){return nt(wi,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:s=>s.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:n.t("el.table.selectRowLabel")})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return Xe(r)?n=t+r:Ye(r)&&(n=r(t)),nt("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({column:e,row:t,store:n,expanded:r,$index:s}){var a,i,o;const{ns:l}=n,u=[l.e("expand-icon")];!e.renderExpand&&r&&u.push(l.em("expand-icon","expanded"));const c=function(h){h.stopPropagation(),n.toggleRowExpansion(t)},d=(o=(i=(a=n.states.rowExpandable).value)==null?void 0:i.call(a,t,s))!=null?o:!0;return d||u.push(l.is("disabled")),nt("button",{type:"button",disabled:!d,"aria-label":n.t(r?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":r,class:u,onClick:c},{default:()=>e.renderExpand?[e.renderExpand({expanded:r,expandable:d})]:[nt(We,null,{default:()=>[nt(_s)]})]})},sortable:!1,resizable:!1}};function fde({row:e,column:t,$index:n}){var r;const s=t.property,a=s&&Td(e,s).value;return t&&t.formatter?t.formatter(e,t,a,n):((r=a==null?void 0:a.toString)==null?void 0:r.call(a))||""}function hde({row:e,treeNode:t,store:n},r=!1){const{ns:s}=n;if(!t)return r?[nt("span",{class:s.e("placeholder")})]:null;const a=[],i=function(o){o.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&a.push(nt("span",{class:s.e("indent"),style:{"padding-left":`${t.indent}px`}})),cn(t.expanded)&&!t.noLazyChildren){const o=[s.e("expand-icon"),t.expanded?s.em("expand-icon","expanded"):""];let l=_s;t.loading&&(l=po),a.push(nt("button",{type:"button","aria-label":n.t(t.expanded?"el.table.collapseRowLabel":"el.table.expandRowLabel"),"aria-expanded":t.expanded,class:o,onClick:i},{default:()=>[nt(We,{class:s.is("loading",t.loading)},{default:()=>[nt(l)]})]}))}else a.push(nt("span",{class:s.e("placeholder")}));return a}function xT(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function pde(e,t){const n=wt();return{registerComplexWatchers:()=>{const a=["fixed"],i={realWidth:"width",realMinWidth:"minWidth"},o=xT(a,i);Object.keys(o).forEach(l=>{const u=i[l];Zt(t,u)&&fe(()=>t[u],c=>{let d=c;u==="width"&&l==="realWidth"&&(d=sS(c)),u==="minWidth"&&l==="realMinWidth"&&(d=U7(c)),n.columnConfig.value[u]=d,n.columnConfig.value[l]=d;const h=u==="fixed";e.value.store.scheduleLayout(h)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter","resizable"],i=["showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},l=xT(a,o);Object.keys(l).forEach(u=>{const c=o[u];Zt(t,c)&&fe(()=>t[c],d=>{n.columnConfig.value[u]=d,(u==="filters"||u==="filterMethod")&&(n.columnConfig.value.filterable=!!(n.columnConfig.value.filters||n.columnConfig.value.filterMethod))})}),i.forEach(u=>{Zt(e.value.props,u)&&fe(()=>e.value.props[u],c=>{n.columnConfig.value.type!=="selection"&&Vt(t[u])&&(n.columnConfig.value[u]=c)})})}}}function mde(e,t,n){const r=wt(),s=L(""),a=L(!1),i=L(),o=L(),l=Se("table");ea(()=>{i.value=e.align?`is-${e.align}`:null,i.value}),ea(()=>{o.value=e.headerAlign?`is-${e.headerAlign}`:i.value,o.value});const u=E(()=>{let _=r.vnode.vParent||r.parent;for(;_&&!_.tableId&&!_.columnId;)_=_.vnode.vParent||_.parent;return _}),c=E(()=>{const{store:_}=r.parent;if(!_)return!1;const{treeData:S}=_.states,C=S.value;return C&&Object.keys(C).length>0}),d=L(sS(e.width)),h=L(U7(e.minWidth)),p=_=>(d.value&&(_.width=d.value),h.value&&(_.minWidth=h.value),!d.value&&h.value&&(_.width=void 0),_.minWidth||(_.minWidth=80),_.realWidth=Number(Vt(_.width)?_.minWidth:_.width),_),m=_=>{const S=_.type,C=dde[S]||{};Object.keys(C).forEach(x=>{const N=C[x];x!=="className"&&!Vt(N)&&(_[x]=N)});const T=cde(S);if(T){const x=`${f(l.namespace)}-${T}`;_.className=_.className?`${_.className} ${x}`:x}return _},g=_=>{ke(_)?_.forEach(C=>S(C)):S(_);function S(C){var T;((T=C==null?void 0:C.type)==null?void 0:T.name)==="ElTableColumn"&&(C.vParent=r)}};return{columnId:s,realAlign:i,isSubColumn:a,realHeaderAlign:o,columnOrTableParent:u,setColumnWidth:p,setColumnForcedProps:m,setColumnRenders:_=>{e.renderHeader||_.type!=="selection"&&(_.renderHeader=C=>{if(r.columnConfig.value.label,t.header){const T=t.header(C);if(G7(T))return nt(Ge,T)}return gt(_.label)}),t["filter-icon"]&&(_.renderFilterIcon=C=>ie(t,"filter-icon",C)),t.expand&&(_.renderExpand=C=>ie(t,"expand",C));let S=_.renderCell;return _.type==="expand"?(_.renderCell=C=>nt("div",{class:"cell"},[S(C)]),n.value.renderExpanded=C=>t.default?t.default(C):t.default):(S=S||fde,_.renderCell=C=>{let T=null;if(t.default){const F=t.default(C);T=F.some(j=>j.type!==ir)?F:S(C)}else T=S(C);const{columns:x}=n.value.store.states,N=x.value.findIndex(F=>F.type==="default"),k=c.value&&C.cellIndex===N,A=hde(C,k),O={class:"cell",style:{}};return _.showOverflowTooltip&&(O.class=`${O.class} ${f(l.namespace)}-tooltip`,O.style={width:`${(C.column.realWidth||Number(C.column.width))-1}px`}),g(T),nt("div",O,[A,T])}),_},getPropsData:(..._)=>_.reduce((S,C)=>(ke(C)&&C.forEach(T=>{S[T]=e[T]}),S),{}),getColumnElIndex:(_,S)=>Array.prototype.indexOf.call(_,S),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var gde={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let vde=1;var oR=de({name:"ElTableColumn",components:{ElCheckbox:wi},props:gde,setup(e,{slots:t}){const n=wt(),r=L({}),s=E(()=>{let w=n.parent;for(;w&&!w.tableId;)w=w.parent;return w}),{registerNormalWatchers:a,registerComplexWatchers:i}=pde(s,e),{columnId:o,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:d,setColumnForcedProps:h,setColumnRenders:p,getPropsData:m,getColumnElIndex:g,realAlign:v,updateColumnOrder:y}=mde(e,t,s),b=c.value;o.value=`${"tableId"in b&&b.tableId||"columnId"in b&&b.columnId}_column_${vde++}`,gy(()=>{l.value=s.value!==b;const w=e.type||"default",_=e.sortable===""?!0:e.sortable,S=w==="selection"?!1:Vt(e.showOverflowTooltip)?b.props.showOverflowTooltip:e.showOverflowTooltip,C=Vt(e.tooltipFormatter)?b.props.tooltipFormatter:e.tooltipFormatter,T={...ude[w],id:o.value,type:w,property:e.prop||e.property,align:v,headerAlign:u,showOverflowTooltip:S,tooltipFormatter:C,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:_,index:e.index,rawColumnKey:n.vnode.key};let O=m(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);O=ice(T,O),O=lce(p,d,h)(O),r.value=O,a(),i()}),_t(()=>{var w,_;const S=c.value,C=l.value?(w=S.vnode.el)==null?void 0:w.children:(_=S.refs.hiddenColumns)==null?void 0:_.children,T=()=>g(C||[],n.vnode.el);r.value.getColumnIndex=T,T()>-1&&s.value.store.commit("insertColumn",r.value,l.value?"columnConfig"in S&&S.columnConfig.value:null,y)}),en(()=>{const w=r.value.getColumnIndex;(w?w():-1)>-1&&s.value.store.commit("removeColumn",r.value,l.value?"columnConfig"in b&&b.columnConfig.value:null,y)}),n.columnId=o.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),s=[];if(ke(r))for(const i of r)((n=i.type)==null?void 0:n.name)==="ElTableColumn"||i.shapeFlag&2?s.push(i):i.type===Ge&&ke(i.children)&&i.children.forEach(o=>{(o==null?void 0:o.patchFlag)!==1024&&!Ke(o==null?void 0:o.children)&&s.push(o)});return nt("div",s)}catch{return nt("div",[])}}});const yde=dt(ode,{TableColumn:oR}),bde=Bn(oR);var Vu=(e=>(e.ASC="asc",e.DESC="desc",e))(Vu||{}),mp=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(mp||{}),lR=(e=>(e.LEFT="left",e.RIGHT="right",e))(lR||{});const Lw={asc:"desc",desc:"asc"},gp=Symbol("placeholder"),wde=(e,t,n)=>{var r,s,a;const i={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:(r=e.flexGrow)!=null?r:0,flexShrink:(s=e.flexShrink)!=null?s:1}},o={...(a=e.style)!=null?a:{},...i,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(o.maxWidth=e.maxWidth),e.minWidth&&(o.minWidth=e.minWidth)),o};function _de(e,t,n){const r=E(()=>f(t).map((v,y)=>{var b,w;return{...v,key:(w=(b=v.key)!=null?b:v.dataKey)!=null?w:y}})),s=E(()=>f(r).filter(v=>!v.hidden)),a=E(()=>f(s).filter(v=>v.fixed==="left"||v.fixed===!0)),i=E(()=>f(s).filter(v=>v.fixed==="right")),o=E(()=>f(s).filter(v=>!v.fixed)),l=E(()=>{const v=[];return f(a).forEach(y=>{v.push({...y,placeholderSign:gp})}),f(o).forEach(y=>{v.push(y)}),f(i).forEach(y=>{v.push({...y,placeholderSign:gp})}),v}),u=E(()=>f(a).length||f(i).length),c=E(()=>f(r).reduce((v,y)=>(v[y.key]=wde(y,f(n),e.fixed),v),{})),d=E(()=>f(s).reduce((v,y)=>v+y.width,0)),h=v=>f(r).find(y=>y.key===v),p=v=>f(c)[v],m=(v,y)=>{v.width=y};function g(v){var y;const{key:b}=v.currentTarget.dataset;if(!b)return;const{sortState:w,sortBy:_}=e;let S=Vu.ASC;ht(w)?S=Lw[w[b]]:S=Lw[_.order],(y=e.onColumnSort)==null||y.call(e,{column:h(b),key:b,order:S})}return{columns:r,columnsStyles:c,columnsTotalWidth:d,fixedColumnsOnLeft:a,fixedColumnsOnRight:i,hasFixedColumns:u,mainColumns:l,normalColumns:o,visibleColumns:s,getColumn:h,getColumnStyle:p,updateColumnWidth:m,onColumnSorted:g}}const Sde=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:s})=>{const a=L({scrollLeft:0,scrollTop:0});function i(p){var m,g,v;const{scrollTop:y}=p;(m=t.value)==null||m.scrollTo(p),(g=n.value)==null||g.scrollToTop(y),(v=r.value)==null||v.scrollToTop(y)}function o(p){a.value=p,i(p)}function l(p){a.value.scrollTop=p,i(f(a))}function u(p){var m,g;a.value.scrollLeft=p,(g=(m=t.value)==null?void 0:m.scrollTo)==null||g.call(m,f(a))}function c(p){var m;o(p),(m=e.onScroll)==null||m.call(e,p)}function d({scrollTop:p}){const{scrollTop:m}=f(a);p!==m&&l(p)}function h(p,m="auto"){var g;(g=t.value)==null||g.scrollToRow(p,m)}return fe(()=>f(a).scrollTop,(p,m)=>{p>m&&s()}),{scrollPos:a,scrollTo:o,scrollToLeft:u,scrollToTop:l,scrollToRow:h,onScroll:c,onVerticalScroll:d}},Cde=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:s,ns:a,isScrolling:i})=>{const o=wt(),{emit:l}=o,u=wn(!1),c=L(e.defaultExpandedRowKeys||[]),d=L(-1),h=wn(null),p=L({}),m=L({}),g=wn({}),v=wn({}),y=wn({}),b=E(()=>Xe(e.estimatedRowHeight));function w(k){var A;(A=e.onRowsRendered)==null||A.call(e,k),k.rowCacheEnd>f(d)&&(d.value=k.rowCacheEnd)}function _({hovered:k,rowKey:A}){if(i.value)return;s.vnode.el.querySelectorAll(`[rowkey="${String(A)}"]`).forEach(j=>{k?j.classList.add(a.is("hovered")):j.classList.remove(a.is("hovered"))})}function S({expanded:k,rowData:A,rowIndex:O,rowKey:F}){var j,V;const G=[...f(c)],R=G.indexOf(F);k?R===-1&&G.push(F):R>-1&&G.splice(R,1),c.value=G,l("update:expandedRowKeys",G),(j=e.onRowExpand)==null||j.call(e,{expanded:k,rowData:A,rowIndex:O,rowKey:F}),(V=e.onExpandedRowsChange)==null||V.call(e,G),s.vnode.el.querySelector(`.${a.is("hovered")}[rowkey="${String(F)}"]`)&&Fe(()=>_({hovered:!0,rowKey:F}))}const C=fo(()=>{var k,A,O,F;u.value=!0,p.value={...f(p),...f(m)},T(f(h),!1),m.value={},h.value=null,(k=t.value)==null||k.forceUpdate(),(A=n.value)==null||A.forceUpdate(),(O=r.value)==null||O.forceUpdate(),(F=o.proxy)==null||F.$forceUpdate(),u.value=!1},0);function T(k,A=!1){f(b)&&[t,n,r].forEach(O=>{const F=f(O);F&&F.resetAfterRowIndex(k,A)})}function x(k,A,O){const F=f(h);(F===null||F>O)&&(h.value=O),m.value[k]=A}function N({rowKey:k,height:A,rowIndex:O},F){F?F===lR.RIGHT?y.value[k]=A:g.value[k]=A:v.value[k]=A;const j=Math.max(...[g,y,v].map(V=>V.value[k]||0));f(p)[k]!==j&&(x(k,j,O),C())}return{expandedRowKeys:c,lastRenderedRowIndex:d,isDynamic:b,isResetting:u,rowHeights:p,resetAfterIndex:T,onRowExpanded:S,onRowHovered:_,onRowsRendered:w,onRowHeightChange:N}},xde=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const s=L({}),a=E(()=>{const o={},{data:l,rowKey:u}=e,c=f(t);if(!c||!c.length)return l;const d=[],h=new Set;c.forEach(m=>h.add(m));let p=l.slice();for(p.forEach(m=>o[m[u]]=0);p.length>0;){const m=p.shift();d.push(m),h.has(m[u])&&ke(m.children)&&m.children.length>0&&(p=[...m.children,...p],m.children.forEach(g=>o[g[u]]=o[m[u]]+1))}return s.value=o,d}),i=E(()=>{const{data:o,expandColumnKey:l}=e;return l?f(a):o});return fe(i,(o,l)=>{o!==l&&(n.value=-1,r(0,!0))}),{data:i,depthMap:s}},Ede=(e,t)=>e+t,fv=e=>ke(e)?e.reduce(Ede,0):e,cc=(e,t,n={})=>Ye(e)?e(t):e??n,Vl=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Gn(e[t])}),e),uR=e=>vn(e)?t=>nt(e,t):e,Tde=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:s})=>{const a=E(()=>{const{fixed:y,width:b,vScrollbarSize:w}=e,_=b-w;return y?Math.max(Math.round(f(t)),_):_}),i=E(()=>{const{height:y=0,maxHeight:b=0,footerHeight:w,hScrollbarSize:_}=e;if(b>0){const S=f(h),C=f(n),x=f(d)+S+C+_;return Math.min(x,b-w)}return y-w}),o=E(()=>{const{maxHeight:y}=e,b=f(i);if(Xe(y)&&y>0)return b;const w=f(n)+f(d)+f(h);return Math.min(b,w)}),l=y=>y.width,u=E(()=>fv(f(r).map(l))),c=E(()=>fv(f(s).map(l))),d=E(()=>fv(e.headerHeight)),h=E(()=>{var y;return(((y=e.fixedData)==null?void 0:y.length)||0)*e.rowHeight}),p=E(()=>f(i)-f(d)-f(h)),m=E(()=>{const{style:y={},height:b,width:w}=e;return Vl({...y,height:b,width:w})}),g=E(()=>Vl({height:e.footerHeight})),v=E(()=>({top:Gn(f(d)),bottom:Gn(e.footerHeight),width:Gn(e.width)}));return{bodyWidth:a,fixedTableHeight:o,mainTableHeight:i,leftTableWidth:u,rightTableWidth:c,windowHeight:p,footerHeight:g,emptyStyle:v,rootStyle:m,headerHeight:d}};function kde(e){const t=L(),n=L(),r=L(),{columns:s,columnsStyles:a,columnsTotalWidth:i,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:d}=_de(e,rn(e,"columns"),rn(e,"fixed")),{scrollTo:h,scrollToLeft:p,scrollToTop:m,scrollToRow:g,onScroll:v,onVerticalScroll:y,scrollPos:b}=Sde(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:te}),w=Se("table-v2"),_=wt(),S=wn(!1),{expandedRowKeys:C,lastRenderedRowIndex:T,isDynamic:x,isResetting:N,rowHeights:k,resetAfterIndex:A,onRowExpanded:O,onRowHeightChange:F,onRowHovered:j,onRowsRendered:V}=Cde(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:_,ns:w,isScrolling:S}),{data:G,depthMap:R}=xde(e,{expandedRowKeys:C,lastRenderedRowIndex:T,resetAfterIndex:A}),$=E(()=>{const{estimatedRowHeight:ue,rowHeight:ye}=e,he=f(G);return Xe(ue)?Object.values(f(k)).reduce((_e,Re)=>_e+Re,0):he.length*ye}),{bodyWidth:D,fixedTableHeight:z,mainTableHeight:W,leftTableWidth:Y,rightTableWidth:U,windowHeight:Q,footerHeight:J,emptyStyle:B,rootStyle:P,headerHeight:ae}=Tde(e,{columnsTotalWidth:i,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,rowsHeight:$}),ee=L(),oe=E(()=>{const ue=f(G).length===0;return ke(e.fixedData)?e.fixedData.length===0&&ue:ue});function X(ue){const{estimatedRowHeight:ye,rowHeight:he,rowKey:_e}=e;return ye?f(k)[f(G)[ue][_e]]||ye:he}const H=L(!1);function te(){const{onEndReached:ue}=e;if(!ue)return;const{scrollTop:ye}=f(b),he=f($),_e=f(Q),Re=he-(ye+_e)+e.hScrollbarSize;!H.value&&f(T)>=0&&he<=ye+f(W)-f(ae)?(H.value=!0,ue(Re)):H.value=!1}return fe(()=>f($),()=>H.value=!1),fe(()=>e.expandedRowKeys,ue=>C.value=ue,{deep:!0}),{columns:s,containerRef:ee,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:x,isResetting:N,isScrolling:S,hasFixedColumns:u,columnsStyles:a,columnsTotalWidth:i,data:G,expandedRowKeys:C,depthMap:R,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:D,emptyStyle:B,rootStyle:P,footerHeight:J,mainTableHeight:W,fixedTableHeight:z,leftTableWidth:Y,rightTableWidth:U,showEmpty:oe,getRowHeight:X,onColumnSorted:d,onRowHovered:j,onRowExpanded:O,onRowsRendered:V,onRowHeightChange:F,scrollTo:h,scrollToLeft:p,scrollToTop:m,scrollToRow:g,onScroll:v,onVerticalScroll:y}}const uS=Symbol("tableV2"),cR="tableV2GridScrollLeft",dR=String,dm={type:ne(Array),required:!0},cS={type:ne(Array)},fR={...cS,required:!0},Nde=String,ET={type:ne(Array),default:()=>Wn([])},Pu={type:Number,required:!0},hR={type:ne([String,Number,Symbol]),default:"id"},TT={type:ne(Object)},Hu=$e({class:String,columns:dm,columnsStyles:{type:ne(Object),required:!0},depth:Number,expandColumnKey:Nde,estimatedRowHeight:{...Xu.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:ne(Function)},onRowHover:{type:ne(Function)},onRowHeightChange:{type:ne(Function)},rowData:{type:ne(Object),required:!0},rowEventHandlers:{type:ne(Object)},rowIndex:{type:Number,required:!0},rowKey:hR,style:{type:ne(Object)}}),kb={type:Number,required:!0},dS=$e({class:String,columns:dm,fixedHeaderData:{type:ne(Array)},headerData:{type:ne(Array),required:!0},headerHeight:{type:ne([Number,Array]),default:50},rowWidth:kb,rowHeight:{type:Number,default:50},height:kb,width:kb}),hv=$e({columns:dm,data:fR,fixedData:cS,estimatedRowHeight:Hu.estimatedRowHeight,width:Pu,height:Pu,headerWidth:Pu,headerHeight:dS.headerHeight,bodyWidth:Pu,rowHeight:Pu,cache:$7.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Xu.scrollbarAlwaysOn,scrollbarStartGap:Xu.scrollbarStartGap,scrollbarEndGap:Xu.scrollbarEndGap,class:dR,style:TT,containerStyle:TT,getRowHeight:{type:ne(Function),required:!0},rowKey:Hu.rowKey,onRowsRendered:{type:ne(Function)},onScroll:{type:ne(Function)}}),Ide=$e({cache:hv.cache,estimatedRowHeight:Hu.estimatedRowHeight,rowKey:hR,headerClass:{type:ne([String,Function])},headerProps:{type:ne([Object,Function])},headerCellProps:{type:ne([Object,Function])},headerHeight:dS.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:ne([String,Function])},rowProps:{type:ne([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:ne([Object,Function])},columns:dm,data:fR,dataGetter:{type:ne(Function)},fixedData:cS,expandColumnKey:Hu.expandColumnKey,expandedRowKeys:ET,defaultExpandedRowKeys:ET,class:dR,fixed:Boolean,style:{type:ne(Object)},width:Pu,height:Pu,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Xu.hScrollbarSize,vScrollbarSize:Xu.vScrollbarSize,scrollbarAlwaysOn:M7.alwaysOn,sortBy:{type:ne(Object),default:()=>({})},sortState:{type:ne(Object),default:void 0},onColumnSort:{type:ne(Function)},onExpandedRowsChange:{type:ne(Function)},onEndReached:{type:ne(Function)},onRowExpand:Hu.onRowExpand,onScroll:hv.onScroll,onRowsRendered:hv.onRowsRendered,rowEventHandlers:Hu.rowEventHandlers}),Ode=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},s)=>{let a=null,i=0,o=0;const l=(c,d)=>{const h=c<0&&t.value||c>0&&e.value,p=d<0&&r.value||d>0&&n.value;return h||p};return{hasReachedEdge:l,onWheel:c=>{Qo(a);let d=c.deltaX,h=c.deltaY;Math.abs(d)>Math.abs(h)?h=0:d=0,c.shiftKey&&h!==0&&(d=h,h=0),!l(d,h)&&(i+=d,o+=h,c.preventDefault(),a=ho(()=>{s(i,o),i=0,o=0}))}}},$de=(e,t,n,r,s,a,i)=>{const o=L(0),l=L(0);let u,c=0,d=0;const h=m=>{Qo(u),o.value=m.touches[0].clientX,l.value=m.touches[0].clientY,c=0,d=0},p=m=>{m.preventDefault(),Qo(u),c+=o.value-m.touches[0].clientX,d+=l.value-m.touches[0].clientY,o.value=m.touches[0].clientX,l.value=m.touches[0].clientY,u=ho(()=>{const g=r.value-f(a),v=s.value-f(i),y=Math.min(t.value.scrollLeft+c,g),b=Math.min(t.value.scrollTop+d,v);n({scrollLeft:y,scrollTop:b}),c=0,d=0})};return nn(e,"touchstart",h,{passive:!0}),nn(e,"touchmove",p,{passive:!1}),{touchStartX:o,touchStartY:l,handleTouchStart:h,handleTouchMove:p}},pR=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:s,getEstimatedTotalHeight:a,getEstimatedTotalWidth:i,getColumnOffset:o,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:d,initCache:h,injectToInstance:p,validateProps:m})=>de({name:e??"ElVirtualList",props:Xu,emits:[s0,a0],setup(g,{emit:v,expose:y,slots:b}){const w=Se("vl");m(g);const _=wt(),S=L(h(g,_));p==null||p(_,S);const C=L(),T=L(),x=L(),N=L(),k=L({isScrolling:!1,scrollLeft:Xe(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:Xe(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:od,yAxisScrollDir:od}),A=T7(),O=E(()=>Number.parseInt(`${g.height}`,10)),F=E(()=>Number.parseInt(`${g.width}`,10)),j=E(()=>{const{totalColumn:ve,totalRow:be,columnCache:me}=g,{isScrolling:Te,xAxisScrollDir:xe,scrollLeft:Oe}=f(k);if(ve===0||be===0)return[0,0,0,0];const Ce=r(g,Oe,f(S)),Ee=s(g,Ce,Oe,f(S)),Be=!Te||xe===i0?Math.max(1,me):1,Bt=!Te||xe===od?Math.max(1,me):1;return[Math.max(0,Ce-Be),Math.max(0,Math.min(ve-1,Ee+Bt)),Ce,Ee]}),V=E(()=>{const{totalColumn:ve,totalRow:be,rowCache:me}=g,{isScrolling:Te,yAxisScrollDir:xe,scrollTop:Oe}=f(k);if(ve===0||be===0)return[0,0,0,0];const Ce=c(g,Oe,f(S)),Ee=d(g,Ce,Oe,f(S)),Be=!Te||xe===i0?Math.max(1,me):1,Bt=!Te||xe===od?Math.max(1,me):1;return[Math.max(0,Ce-Be),Math.max(0,Math.min(be-1,Ee+Bt)),Ce,Ee]}),G=E(()=>a(g,f(S))),R=E(()=>i(g,f(S))),$=E(()=>{var ve;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:Xe(g.height)?`${g.height}px`:g.height,width:Xe(g.width)?`${g.width}px`:g.width},(ve=g.style)!=null?ve:{}]}),D=E(()=>{const ve=`${f(R)}px`;return{height:`${f(G)}px`,pointerEvents:f(k).isScrolling?"none":void 0,width:ve,margin:0,boxSizing:"border-box"}}),z=()=>{const{totalColumn:ve,totalRow:be}=g;if(ve>0&&be>0){const[Ee,Be,Bt,Gt]=f(j),[tt,mt,kt,we]=f(V);v(s0,{columnCacheStart:Ee,columnCacheEnd:Be,rowCacheStart:tt,rowCacheEnd:mt,columnVisibleStart:Bt,columnVisibleEnd:Gt,rowVisibleStart:kt,rowVisibleEnd:we})}const{scrollLeft:me,scrollTop:Te,updateRequested:xe,xAxisScrollDir:Oe,yAxisScrollDir:Ce}=f(k);v(a0,{xAxisScrollDir:Oe,scrollLeft:me,yAxisScrollDir:Ce,scrollTop:Te,updateRequested:xe})},W=ve=>{const{clientHeight:be,clientWidth:me,scrollHeight:Te,scrollLeft:xe,scrollTop:Oe,scrollWidth:Ce}=ve.currentTarget,Ee=f(k);if(Ee.scrollTop===Oe&&Ee.scrollLeft===xe)return;let Be=xe;if(lT(g.direction))switch(l0()){case hp:Be=-xe;break;case rS:Be=Ce-me-xe;break}k.value={...Ee,isScrolling:!0,scrollLeft:Be,scrollTop:Math.max(0,Math.min(Oe,Te-be)),updateRequested:!0,xAxisScrollDir:ju(Ee.scrollLeft,Be),yAxisScrollDir:ju(Ee.scrollTop,Oe)},Fe(()=>H()),te(),z()},Y=(ve,be)=>{const me=f(O),Te=(G.value-me)/be*ve;J({scrollTop:Math.min(G.value-me,Te)})},U=(ve,be)=>{const me=f(F),Te=(R.value-me)/be*ve;J({scrollLeft:Math.min(R.value-me,Te)})},{onWheel:Q}=Ode({atXStartEdge:E(()=>k.value.scrollLeft<=0),atXEndEdge:E(()=>k.value.scrollLeft>=R.value-f(F)),atYStartEdge:E(()=>k.value.scrollTop<=0),atYEndEdge:E(()=>k.value.scrollTop>=G.value-f(O))},(ve,be)=>{var me,Te,xe,Oe;(Te=(me=T.value)==null?void 0:me.onMouseUp)==null||Te.call(me),(Oe=(xe=x.value)==null?void 0:xe.onMouseUp)==null||Oe.call(xe);const Ce=f(F),Ee=f(O);J({scrollLeft:Math.min(k.value.scrollLeft+ve,R.value-Ce),scrollTop:Math.min(k.value.scrollTop+be,G.value-Ee)})});nn(C,"wheel",Q,{passive:!1});const J=({scrollLeft:ve=k.value.scrollLeft,scrollTop:be=k.value.scrollTop})=>{ve=Math.max(ve,0),be=Math.max(be,0);const me=f(k);be===me.scrollTop&&ve===me.scrollLeft||(k.value={...me,xAxisScrollDir:ju(me.scrollLeft,ve),yAxisScrollDir:ju(me.scrollTop,be),scrollLeft:ve,scrollTop:be,updateRequested:!0},Fe(()=>H()),te(),z())},{touchStartX:B,touchStartY:P,handleTouchStart:ae,handleTouchMove:ee}=$de(C,k,J,R,G,F,O),oe=(ve=0,be=0,me=za)=>{const Te=f(k);be=Math.max(0,Math.min(be,g.totalColumn-1)),ve=Math.max(0,Math.min(ve,g.totalRow-1));const xe=YO(w.namespace.value),Oe=f(S),Ce=a(g,Oe),Ee=i(g,Oe);J({scrollLeft:o(g,be,me,Te.scrollLeft,Oe,Ee>g.width?xe:0),scrollTop:l(g,ve,me,Te.scrollTop,Oe,Ce>g.height?xe:0)})},X=(ve,be)=>{const{columnWidth:me,direction:Te,rowHeight:xe}=g,Oe=A.value(t&&me,t&&xe,t&&Te),Ce=`${ve},${be}`;if(Zt(Oe,Ce))return Oe[Ce];{const[,Ee]=n(g,be,f(S)),Be=f(S),Bt=lT(Te),[Gt,tt]=u(g,ve,Be),[mt]=n(g,be,Be);return Oe[Ce]={position:"absolute",left:Bt?void 0:`${Ee}px`,right:Bt?`${Ee}px`:void 0,top:`${tt}px`,height:`${Gt}px`,width:`${mt}px`},Oe[Ce]}},H=()=>{k.value.isScrolling=!1,Fe(()=>{A.value(-1,null,null)})};_t(()=>{if(!Yt)return;const{initScrollLeft:ve,initScrollTop:be}=g,me=f(C);me&&(Xe(ve)&&(me.scrollLeft=ve),Xe(be)&&(me.scrollTop=be)),z()});const te=()=>{const{direction:ve}=g,{scrollLeft:be,scrollTop:me,updateRequested:Te}=f(k),xe=f(C);if(Te&&xe){if(ve===kd)switch(l0()){case hp:{xe.scrollLeft=-be;break}case nS:{xe.scrollLeft=be;break}default:{const{clientWidth:Oe,scrollWidth:Ce}=xe;xe.scrollLeft=Ce-Oe-be;break}}else xe.scrollLeft=Math.max(0,be);xe.scrollTop=Math.max(0,me)}},{resetAfterColumnIndex:ue,resetAfterRowIndex:ye,resetAfter:he}=_.proxy;y({windowRef:C,innerRef:N,getItemStyleCache:A,touchStartX:B,touchStartY:P,handleTouchStart:ae,handleTouchMove:ee,scrollTo:J,scrollToItem:oe,states:k,resetAfterColumnIndex:ue,resetAfterRowIndex:ye,resetAfter:he});const _e=()=>{const{scrollbarAlwaysOn:ve,scrollbarStartGap:be,scrollbarEndGap:me,totalColumn:Te,totalRow:xe}=g,Oe=f(F),Ce=f(O),Ee=f(R),Be=f(G),{scrollLeft:Bt,scrollTop:Gt}=f(k),tt=nt(Ew,{ref:T,alwaysOn:ve,startGap:be,endGap:me,class:w.e("horizontal"),clientSize:Oe,layout:"horizontal",onScroll:U,ratio:Oe*100/Ee,scrollFrom:Bt/(Ee-Oe),total:xe,visible:!0}),mt=nt(Ew,{ref:x,alwaysOn:ve,startGap:be,endGap:me,class:w.e("vertical"),clientSize:Ce,layout:"vertical",onScroll:Y,ratio:Ce*100/Be,scrollFrom:Gt/(Be-Ce),total:Te,visible:!0});return{horizontalScrollbar:tt,verticalScrollbar:mt}},Re=()=>{var ve;const[be,me]=f(j),[Te,xe]=f(V),{data:Oe,totalColumn:Ce,totalRow:Ee,useIsScrolling:Be,itemKey:Bt}=g,Gt=[];if(Ee>0&&Ce>0)for(let tt=Te;tt<=xe;tt++)for(let mt=be;mt<=me;mt++){const kt=Bt({columnIndex:mt,data:Oe,rowIndex:tt});Gt.push(nt(Ge,{key:kt},(ve=b.default)==null?void 0:ve.call(b,{columnIndex:mt,data:Oe,isScrolling:Be?f(k).isScrolling:void 0,style:X(tt,mt),rowIndex:tt})))}return Gt},De=()=>{const ve=yt(g.innerElement),be=Re();return[nt(ve,bt(g.innerProps,{style:f(D),ref:N}),Ke(ve)?be:{default:()=>be})]};return()=>{const ve=yt(g.containerElement),{horizontalScrollbar:be,verticalScrollbar:me}=_e(),Te=De();return nt("div",{key:0,class:w.e("wrapper"),role:g.role},[nt(ve,{class:g.className,style:f($),onScroll:W,ref:C},Ke(ve)?Te:{default:()=>Te}),be,me])}}}),{max:d0,min:mR,floor:gR}=Math,Ade={column:"columnWidth",row:"rowHeight"},Dw={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Po=(e,t,n,r)=>{const[s,a,i]=[n[r],e[Ade[r]],n[Dw[r]]];if(t>i){let o=0;if(i>=0){const l=s[i];o=l.offset+l.size}for(let l=i+1;l<=t;l++){const u=a(l);s[l]={offset:o,size:u},o+=u}n[Dw[r]]=t}return s[t]},vR=(e,t,n,r,s,a)=>{for(;n<=r;){const i=n+gR((r-n)/2),o=Po(e,i,t,a).offset;if(o===s)return i;o<s?n=i+1:r=i-1}return d0(0,n-1)},Rde=(e,t,n,r,s)=>{const a=s==="column"?e.totalColumn:e.totalRow;let i=1;for(;n<a&&Po(e,n,t,s).offset<r;)n+=i,i*=2;return vR(e,t,gR(n/2),mR(n,a-1),r,s)},kT=(e,t,n,r)=>{const[s,a]=[t[r],t[Dw[r]]];return(a>0?s[a].offset:0)>=n?vR(e,t,0,a,n,r):Rde(e,t,d0(0,a),n,r)},yR=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let s=0;if(n>=e&&(n=e-1),n>=0){const o=r[n];s=o.offset+o.size}const i=(e-n-1)*t;return s+i},bR=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let s=0;if(r>e&&(r=e-1),r>=0){const o=t[r];s=o.offset+o.size}const i=(e-r-1)*n;return s+i},Mde={column:bR,row:yR},NT=(e,t,n,r,s,a,i)=>{const[o,l]=[a==="row"?e.height:e.width,Mde[a]],u=Po(e,t,s,a),c=l(e,s),d=d0(0,mR(c-o,u.offset)),h=d0(0,u.offset-o+i+u.size);switch(n===Hy&&(r>=h-o&&r<=d+o?n=za:n=Xi),n){case dp:return d;case fp:return h;case Xi:return Math.round(h+(d-h)/2);case za:default:return r>=h&&r<=d?r:h>d||r<h?h:d}},Pde=pR({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=Po(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=Po(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,s,a)=>NT(e,t,n,r,s,"column",a),getRowOffset:(e,t,n,r,s,a)=>NT(e,t,n,r,s,"row",a),getColumnStartIndexForOffset:(e,t,n)=>kT(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const s=Po(e,t,r,"column"),a=n+e.width;let i=s.offset+s.size,o=t;for(;o<e.totalColumn-1&&i<a;)o++,i+=Po(e,t,r,"column").size;return o},getEstimatedTotalHeight:yR,getEstimatedTotalWidth:bR,getRowStartIndexForOffset:(e,t,n)=>kT(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:s,height:a}=e,i=Po(e,t,r,"row"),o=n+a;let l=i.size+i.offset,u=t;for(;u<s-1&&l<o;)u++,l+=Po(e,u,r,"row").size;return u},injectToInstance:(e,t)=>{const n=({columnIndex:a,rowIndex:i},o)=>{var l,u;o=Vt(o)?!0:o,Xe(a)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,a-1)),Xe(i)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,i-1)),(l=e.exposed)==null||l.getItemStyleCache.value(-1,null,null),o&&((u=e.proxy)==null||u.$forceUpdate())},r=(a,i)=>{n({columnIndex:a},i)},s=(a,i)=>{n({rowIndex:a},i)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:s,resetAfter:n})},initCache:({estimatedColumnWidth:e=bw,estimatedRowHeight:t=bw})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Lde=pR({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,s,a,i,o)=>{n=Number(n);const l=Math.max(0,e*t-n),u=Math.min(l,r*t),c=Math.max(0,r*t-n+o+t);switch(s==="smart"&&(a>=c-n&&a<=u+n?s=za:s=Xi),s){case dp:return u;case fp:return c;case Xi:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(n/2)?0:d>l+Math.floor(n/2)?l:d}case za:default:return a>=c&&a<=u?a:c>u||a<c?c:u}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,s,a,i,o)=>{t=Number(t);const l=Math.max(0,n*e-t),u=Math.min(l,r*e),c=Math.max(0,r*e-t+o+e);switch(s===Hy&&(a>=c-t&&a<=u+t?s=za:s=Xi),s){case dp:return u;case fp:return c;case Xi:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(t/2)?0:d>l+Math.floor(t/2)?l:d}case za:default:return a>=c&&a<=u?a:c>u||a<c?c:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,s)=>{const a=r*e,i=Math.ceil((n+s-a)/e);return Math.max(0,Math.min(t-1,r+i-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,s)=>{const a=r*e,i=Math.ceil((n+s-a)/e);return Math.max(0,Math.min(t-1,r+i-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Dde="ElTableV2Header",zde=de({name:Dde,props:dS,setup(e,{slots:t,expose:n}){const r=Se("table-v2"),s=Ve(cR),a=L(),i=E(()=>Vl({width:e.width,height:e.height})),o=E(()=>Vl({width:e.rowWidth,height:e.height})),l=E(()=>Dr(f(e.headerHeight))),u=h=>{const p=f(a);Fe(()=>{p!=null&&p.scroll&&p.scroll({left:h})})},c=()=>{const h=r.e("fixed-header-row"),{columns:p,fixedHeaderData:m,rowHeight:g}=e;return m==null?void 0:m.map((v,y)=>{var b;const w=Vl({height:g,width:"100%"});return(b=t.fixed)==null?void 0:b.call(t,{class:h,columns:p,rowData:v,rowIndex:-(y+1),style:w})})},d=()=>{const h=r.e("dynamic-header-row"),{columns:p}=e;return f(l).map((m,g)=>{var v;const y=Vl({width:"100%",height:m});return(v=t.dynamic)==null?void 0:v.call(t,{class:h,columns:p,headerIndex:g,style:y})})};return Ni(()=>{s!=null&&s.value&&u(s.value)}),n({scrollToLeft:u}),()=>{if(!(e.height<=0))return q("div",{ref:a,class:e.class,style:f(i),role:"rowgroup"},[q("div",{style:f(o),class:r.e("header")},[d(),c()])])}}}),Fde="ElTableV2Grid",Bde=e=>{const t=L(),n=L(),r=L(0),s=E(()=>{const{data:v,rowHeight:y,estimatedRowHeight:b}=e;if(!b)return v.length*y}),a=E(()=>{const{fixedData:v,rowHeight:y}=e;return((v==null?void 0:v.length)||0)*y}),i=E(()=>fv(e.headerHeight)),o=E(()=>{const{height:v}=e;return Math.max(0,v-f(i)-f(a))}),l=E(()=>f(i)+f(a)>0),u=({data:v,rowIndex:y})=>v[y][e.rowKey];function c({rowCacheStart:v,rowCacheEnd:y,rowVisibleStart:b,rowVisibleEnd:w}){var _;(_=e.onRowsRendered)==null||_.call(e,{rowCacheStart:v,rowCacheEnd:y,rowVisibleStart:b,rowVisibleEnd:w})}function d(v,y){var b;(b=n.value)==null||b.resetAfterRowIndex(v,y)}function h(v,y){const b=f(t),w=f(n);ht(v)?(b==null||b.scrollToLeft(v.scrollLeft),r.value=v.scrollLeft,w==null||w.scrollTo(v)):(b==null||b.scrollToLeft(v),r.value=v,w==null||w.scrollTo({scrollLeft:v,scrollTop:y}))}function p(v){var y;(y=f(n))==null||y.scrollTo({scrollTop:v})}function m(v,y){const b=f(n);if(!b)return;const w=r.value;b.scrollToItem(v,0,y),w&&h({scrollLeft:w})}function g(){var v,y;(v=f(n))==null||v.$forceUpdate(),(y=f(t))==null||y.$forceUpdate()}return fe(()=>e.bodyWidth,()=>{var v;Xe(e.estimatedRowHeight)&&((v=n.value)==null||v.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:g,fixedRowHeight:a,gridHeight:o,hasHeader:l,headerHeight:i,headerRef:t,totalHeight:s,itemKey:u,onItemRendered:c,resetAfterRowIndex:d,scrollTo:h,scrollToTop:p,scrollToRow:m,scrollLeft:r}},fS=de({name:Fde,props:hv,setup(e,{slots:t,expose:n}){const{ns:r}=Ve(uS),{bodyRef:s,fixedRowHeight:a,gridHeight:i,hasHeader:o,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:d,itemKey:h,onItemRendered:p,resetAfterRowIndex:m,scrollTo:g,scrollToTop:v,scrollToRow:y,scrollLeft:b}=Bde(e);At(cR,b),Vp(async()=>{var _;await Fe();const S=(_=s.value)==null?void 0:_.states.scrollTop;S&&v(Math.round(S)+1)}),n({forceUpdate:d,totalHeight:c,scrollTo:g,scrollToTop:v,scrollToRow:y,resetAfterRowIndex:m});const w=()=>e.bodyWidth;return()=>{const{cache:_,columns:S,data:C,fixedData:T,useIsScrolling:x,scrollbarAlwaysOn:N,scrollbarEndGap:k,scrollbarStartGap:A,style:O,rowHeight:F,bodyWidth:j,estimatedRowHeight:V,headerWidth:G,height:R,width:$,getRowHeight:D,onScroll:z}=e,W=Xe(V),Y=W?Pde:Lde,U=f(u);return q("div",{role:"table",class:[r.e("table"),e.class],style:O},[q(Y,{ref:s,data:C,useIsScrolling:x,itemKey:h,columnCache:0,columnWidth:W?w:j,totalColumn:1,totalRow:C.length,rowCache:_,rowHeight:W?D:F,width:$,height:f(i),class:r.e("body"),role:"rowgroup",scrollbarStartGap:A,scrollbarEndGap:k,scrollbarAlwaysOn:N,onScroll:z,onItemRendered:p,perfMode:!1},{default:Q=>{var J;const B=C[Q.rowIndex];return(J=t.row)==null?void 0:J.call(t,{...Q,columns:S,rowData:B})}}),f(o)&&q(zde,{ref:l,class:r.e("header-wrapper"),columns:S,headerData:C,headerHeight:e.headerHeight,fixedHeaderData:T,rowWidth:G,rowHeight:F,width:$,height:Math.min(U+f(a),R)},{dynamic:t.header,fixed:t.row})])}}});function jde(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vn(e)}const Vde=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return q(fS,bt({ref:n},r),jde(t)?t:{default:()=>[t]})};function Hde(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vn(e)}const Ude=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return q(fS,bt({ref:n},r),Hde(t)?t:{default:()=>[t]})};function Wde(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vn(e)}const Kde=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return q(fS,bt({ref:n},r),Wde(t)?t:{default:()=>[t]})},Gde=e=>{const{isScrolling:t}=Ve(uS),n=L(!1),r=L(),s=E(()=>Xe(e.estimatedRowHeight)&&e.rowIndex>=0),a=(l=!1)=>{const u=f(r);if(!u)return;const{columns:c,onRowHeightChange:d,rowKey:h,rowIndex:p,style:m}=e,{height:g}=u.getBoundingClientRect();n.value=!0,Fe(()=>{if(l||g!==Number.parseInt(m.height)){const v=c[0],y=(v==null?void 0:v.placeholderSign)===gp;d==null||d({rowKey:h,height:g,rowIndex:p},v&&!y&&v.fixed)}})},i=E(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:d}=e,h=e.rowEventHandlers||{},p={};return Object.entries(h).forEach(([m,g])=>{Ye(g)&&(p[m]=v=>{g({event:v,rowData:l,rowIndex:u,rowKey:c})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:m,hovered:g})=>{const v=p[m];p[m]=y=>{d({event:y,hovered:g,rowData:l,rowIndex:u,rowKey:c}),v==null||v(y)}}),p}),o=l=>{const{onRowExpand:u,rowData:c,rowIndex:d,rowKey:h}=e;u==null||u({expanded:l,rowData:c,rowIndex:d,rowKey:h})};return _t(()=>{f(s)&&a(!0)}),{isScrolling:t,measurable:s,measured:n,rowRef:r,eventHandlers:i,onExpand:o}},Zde="ElTableV2TableRow",Yde=de({name:Zde,props:Hu,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:s,isScrolling:a,measurable:i,measured:o,rowRef:l,onExpand:u}=Gde(e);return t({onExpand:u}),()=>{const{columns:c,columnsStyles:d,expandColumnKey:h,depth:p,rowData:m,rowIndex:g,style:v}=e;let y=c.map((b,w)=>{const _=ke(m.children)&&m.children.length>0&&b.key===h;return n.cell({column:b,columns:c,columnIndex:w,depth:p,style:d[b.key],rowData:m,rowIndex:g,isScrolling:f(a),expandIconProps:_?{rowData:m,rowIndex:g,onExpand:u}:void 0})});if(n.row&&(y=n.row({cells:y.map(b=>ke(b)&&b.length===1?b[0]:b),style:v,columns:c,depth:p,rowData:m,rowIndex:g,isScrolling:f(a)})),f(i)){const{height:b,...w}=v||{},_=f(o);return q("div",bt({ref:l,class:e.class,style:_?v:w,role:"row"},r,f(s)),[y])}return q("div",bt(r,{ref:l,class:e.class,style:v,role:"row"},f(s)),[y])}}});function qde(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vn(e)}const Xde=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:s,expandColumnKey:a,expandedRowKeys:i,estimatedRowHeight:o,hasFixedColumns:l,rowData:u,rowIndex:c,style:d,isScrolling:h,rowProps:p,rowClass:m,rowKey:g,rowEventHandlers:v,ns:y,onRowHovered:b,onRowExpanded:w}=e,_=cc(m,{columns:n,rowData:u,rowIndex:c},""),S=cc(p,{columns:n,rowData:u,rowIndex:c}),C=u[g],T=s[C]||0,x=!!a,N=c<0,k=[y.e("row"),_,y.is("expanded",x&&i.includes(C)),y.is("fixed",!T&&N),y.is("customized",!!t.row),{[y.e(`row-depth-${T}`)]:x&&c>=0}],A=l?b:void 0,O={...S,columns:n,columnsStyles:r,class:k,depth:T,expandColumnKey:a,estimatedRowHeight:N?void 0:o,isScrolling:h,rowIndex:c,rowData:u,rowKey:C,rowEventHandlers:v,style:d};return q(Yde,bt(O,{onRowExpand:w,onMouseenter:V=>{A==null||A({hovered:!0,rowKey:C,event:V,rowData:u,rowIndex:c})},onMouseleave:V=>{A==null||A({hovered:!1,rowKey:C,event:V,rowData:u,rowIndex:c})},rowkey:C}),qde(t)?t:{default:()=>[t]})},hS=(e,{slots:t})=>{var n;const{cellData:r,style:s}=e,a=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",i=ie(t,"default",e,()=>[a]);return q("div",{class:e.class,title:a,style:s},[i])};hS.displayName="ElTableV2Cell";hS.inheritAttrs=!1;const wR=e=>{const{expanded:t,expandable:n,onExpand:r,style:s,size:a,ariaLabel:i}=e,o={onClick:n?()=>r(!t):void 0,ariaLabel:i,ariaExpanded:t,class:e.class};return q("button",bt(o,{type:"button"}),[q(We,{size:a,style:s},{default:()=>[q(_s,null,null)]})])};wR.inheritAttrs=!1;const zw=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:s,isScrolling:a,rowData:i,rowIndex:o,style:l,expandedRowKeys:u,ns:c,t:d,cellProps:h,expandColumnKey:p,indentSize:m,iconSize:g,rowKey:v},{slots:y})=>{const b=Vl(l);if(t.placeholderSign===gp)return q("div",{class:c.em("row-cell","placeholder"),style:b},null);const{cellRenderer:w,dataKey:_,dataGetter:S}=t,C=Ye(S)?S({columns:e,column:t,columnIndex:n,rowData:i,rowIndex:o}):dr(i,_??""),T=cc(h,{cellData:C,columns:e,column:t,columnIndex:n,rowIndex:o,rowData:i}),x={class:c.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:C,isScrolling:a,rowData:i,rowIndex:o},N=uR(w),k=N?N(x):ie(y,"default",x,()=>[q(hS,x,null)]),A=[c.e("row-cell"),t.class,t.align===mp.CENTER&&c.is("align-center"),t.align===mp.RIGHT&&c.is("align-right")],O=o>=0&&p&&t.key===p,F=o>=0&&u.includes(i[v]);let j;const V=`margin-inline-start: ${r*m}px;`;return O&&(ht(s)?j=q(wR,bt(s,{class:[c.e("expand-icon"),c.is("expanded",F)],size:g,expanded:F,ariaLabel:d(F?"el.table.collapseRowLabel":"el.table.expandRowLabel"),style:V,expandable:!0}),null):j=q("div",{style:[V,`width: ${g}px; height: ${g}px;`].join(" ")},null)),q("div",bt({class:A,style:b},T,{role:"cell"}),[j,k])};zw.inheritAttrs=!1;const Jde=$e({class:String,columns:dm,columnsStyles:{type:ne(Object),required:!0},headerIndex:Number,style:{type:ne(Object)}}),Qde=de({name:"ElTableV2HeaderRow",props:Jde,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:s,style:a}=e;let i=n.map((o,l)=>t.cell({columns:n,column:o,columnIndex:l,headerIndex:s,style:r[o.key]}));return t.header&&(i=t.header({cells:i.map(o=>ke(o)&&o.length===1?o[0]:o),columns:n,headerIndex:s})),q("div",{class:e.class,style:a,role:"row"},[i])}}});function efe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vn(e)}const tfe=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:s,headerProps:a,ns:i},{slots:o})=>{const l={columns:e,headerIndex:n},u=[i.e("header-row"),cc(s,l,""),i.is("customized",!!o.header)],c={...cc(a,l),columnsStyles:t,class:u,columns:e,headerIndex:n,style:r};return q(Qde,c,efe(o)?o:{default:()=>[o]})},pS=(e,{slots:t})=>ie(t,"default",e,()=>{var n,r;return[q("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])]});pS.displayName="ElTableV2HeaderCell";pS.inheritAttrs=!1;const nfe=e=>{const{sortOrder:t}=e;return q("button",{type:"button","aria-label":e.ariaLabel,class:e.class},[q(We,{size:14},{default:()=>[t===Vu.ASC?q(hY,null,null):q(dY,null,null)]})])},IT=(e,{slots:t})=>{const{column:n,ns:r,t:s,style:a,onColumnSorted:i}=e,o=Vl(a);if(n.placeholderSign===gp)return q("div",{class:r.em("header-row-cell","placeholder"),style:o},null);const{headerCellRenderer:l,headerClass:u,sortable:c}=n,d={...e,class:r.e("header-cell-text")},h=uR(l),p=h?h(d):ie(t,"default",d,()=>[q(pS,d,null)]),{sortBy:m,sortState:g,headerCellProps:v}=e;let y,b,w;if(g){const C=g[n.key];y=!!Lw[C],b=y?C:Vu.ASC}else y=n.key===m.key,b=y?m.order:Vu.ASC;b===Vu.ASC?w="ascending":b===Vu.DESC?w="descending":w=void 0;const _=[r.e("header-cell"),cc(u,e,""),n.align===mp.CENTER&&r.is("align-center"),n.align===mp.RIGHT&&r.is("align-right"),c&&r.is("sortable")],S={...cc(v,e),onClick:n.sortable?i:void 0,ariaSort:c?w:void 0,class:_,style:o,"data-key":n.key};return q("div",bt(S,{role:"columnheader"}),[p,c&&q(nfe,{class:[r.e("sort-icon"),y&&r.is("sorting")],sortOrder:b,ariaLabel:s("el.table.sortLabel",{column:n.title||""})},null)])},_R=(e,{slots:t})=>{var n;return q("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};_R.displayName="ElTableV2Footer";const SR=(e,{slots:t})=>{const n=ie(t,"default",{},()=>[q(p7,null,null)]);return q("div",{class:e.class,style:e.style},[n])};SR.displayName="ElTableV2Empty";const CR=(e,{slots:t})=>{var n;return q("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};CR.displayName="ElTableV2Overlay";function Hf(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vn(e)}const rfe="ElTableV2",sfe=de({name:rfe,props:Ide,setup(e,{slots:t,expose:n}){const r=Se("table-v2"),{t:s}=Mt(),{columnsStyles:a,fixedColumnsOnLeft:i,fixedColumnsOnRight:o,mainColumns:l,mainTableHeight:u,fixedTableHeight:c,leftTableWidth:d,rightTableWidth:h,data:p,depthMap:m,expandedRowKeys:g,hasFixedColumns:v,mainTableRef:y,leftTableRef:b,rightTableRef:w,isDynamic:_,isResetting:S,isScrolling:C,bodyWidth:T,emptyStyle:x,rootStyle:N,footerHeight:k,showEmpty:A,scrollTo:O,scrollToLeft:F,scrollToTop:j,scrollToRow:V,getRowHeight:G,onColumnSorted:R,onRowHeightChange:$,onRowHovered:D,onRowExpanded:z,onRowsRendered:W,onScroll:Y,onVerticalScroll:U}=kde(e);return n({scrollTo:O,scrollToLeft:F,scrollToTop:j,scrollToRow:V}),At(uS,{ns:r,isResetting:S,isScrolling:C}),()=>{const{cache:Q,cellProps:J,estimatedRowHeight:B,expandColumnKey:P,fixedData:ae,headerHeight:ee,headerClass:oe,headerProps:X,headerCellProps:H,sortBy:te,sortState:ue,rowHeight:ye,rowClass:he,rowEventHandlers:_e,rowKey:Re,rowProps:De,scrollbarAlwaysOn:pe,indentSize:ve,iconSize:be,useIsScrolling:me,vScrollbarSize:Te,width:xe}=e,Oe=f(p),Ce={cache:Q,class:r.e("main"),columns:f(l),data:Oe,fixedData:ae,estimatedRowHeight:B,bodyWidth:f(T),headerHeight:ee,headerWidth:f(T),height:f(u),mainTableRef:y,rowKey:Re,rowHeight:ye,scrollbarAlwaysOn:pe,scrollbarStartGap:2,scrollbarEndGap:Te,useIsScrolling:me,width:xe,getRowHeight:G,onRowsRendered:W,onScroll:Y},Ee=f(d),Be=f(c),Bt={cache:Q,class:r.e("left"),columns:f(i),data:Oe,fixedData:ae,estimatedRowHeight:B,leftTableRef:b,rowHeight:ye,bodyWidth:Ee,headerWidth:Ee,headerHeight:ee,height:Be,rowKey:Re,scrollbarAlwaysOn:pe,scrollbarStartGap:2,scrollbarEndGap:Te,useIsScrolling:me,width:Ee,getRowHeight:G,onScroll:U},Gt=f(h),tt={cache:Q,class:r.e("right"),columns:f(o),data:Oe,fixedData:ae,estimatedRowHeight:B,rightTableRef:w,rowHeight:ye,bodyWidth:Gt,headerWidth:Gt,headerHeight:ee,height:Be,rowKey:Re,scrollbarAlwaysOn:pe,scrollbarStartGap:2,scrollbarEndGap:Te,width:Gt,style:`${r.cssVarName("table-scrollbar-size")}: ${Te}px`,useIsScrolling:me,getRowHeight:G,onScroll:U},mt=f(a),kt={ns:r,depthMap:f(m),columnsStyles:mt,expandColumnKey:P,expandedRowKeys:f(g),estimatedRowHeight:B,hasFixedColumns:f(v),rowProps:De,rowClass:he,rowKey:Re,rowEventHandlers:_e,onRowHovered:D,onRowExpanded:z,onRowHeightChange:$},we={cellProps:J,expandColumnKey:P,indentSize:ve,iconSize:be,rowKey:Re,expandedRowKeys:f(g),ns:r,t:s},He={ns:r,headerClass:oe,headerProps:X,columnsStyles:mt},ge={ns:r,t:s,sortBy:te,sortState:ue,headerCellProps:H,onColumnSorted:R},Ue={row:Ln=>q(Xde,bt(Ln,kt),{row:t.row,cell:jn=>{let ze;return t.cell?q(zw,bt(jn,we,{style:mt[jn.column.key]}),Hf(ze=t.cell(jn))?ze:{default:()=>[ze]}):q(zw,bt(jn,we,{style:mt[jn.column.key]}),null)}}),header:Ln=>q(tfe,bt(Ln,He),{header:t.header,cell:jn=>{let ze;return t["header-cell"]?q(IT,bt(jn,ge,{style:mt[jn.column.key]}),Hf(ze=t["header-cell"](jn))?ze:{default:()=>[ze]}):q(IT,bt(jn,ge,{style:mt[jn.column.key]}),null)}})},St=[e.class,r.b(),r.e("root"),r.is("dynamic",f(_))],sn={class:r.e("footer"),style:f(k)};return q("div",{class:St,style:f(N)},[q(Vde,Ce,Hf(Ue)?Ue:{default:()=>[Ue]}),q(Ude,Bt,Hf(Ue)?Ue:{default:()=>[Ue]}),q(Kde,tt,Hf(Ue)?Ue:{default:()=>[Ue]}),t.footer&&q(_R,sn,{default:t.footer}),f(A)&&q(SR,{class:r.e("empty"),style:f(x)},{default:t.empty}),t.overlay&&q(CR,{class:r.e("overlay")},{default:t.overlay})])}}}),afe=$e({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:ne(Function)}}),ife=e=>{const t=L(),n=L(0),r=L(0);let s;return _t(()=>{s=$n(t,([a])=>{const{width:i,height:o}=a.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:d}=getComputedStyle(a.target),h=Number.parseInt(l)||0,p=Number.parseInt(u)||0,m=Number.parseInt(c)||0,g=Number.parseInt(d)||0;n.value=i-h-p,r.value=o-m-g}).stop}),en(()=>{s==null||s()}),fe([n,r],([a,i])=>{var o;(o=e.onResize)==null||o.call(e,{width:a,height:i})}),{sizer:t,width:n,height:r}},ofe=de({name:"ElAutoResizer",props:afe,setup(e,{slots:t}){const n=Se("auto-resizer"),{height:r,width:s,sizer:a}=ife(e),i={width:"100%",height:"100%"};return()=>{var o;return q("div",{ref:a,class:n.b(),style:i},[(o=t.default)==null?void 0:o.call(t,{height:r.value,width:s.value})])}}}),lfe=dt(sfe),ufe=dt(ofe),Uy=Symbol("tabsRootContextKey"),cfe=$e({tabs:{type:ne(Array),default:()=>Wn([])},tabRefs:{type:ne(Object),default:()=>Wn({})}}),OT="ElTabBar";var dfe=de({name:OT,__name:"tab-bar",props:cfe,setup(e,{expose:t}){const n=e,r=Ve(Uy);r||fr(OT,"<el-tabs><el-tab-bar /></el-tabs>");const s=Se("tabs"),a=L(),i=L(),o=E(()=>{var p;return Vt(r.props.defaultValue)||!!((p=i.value)!=null&&p.transform)}),l=()=>{let p=0,m=0;const g=["top","bottom"].includes(r.props.tabPosition)?"width":"height",v=g==="width"?"x":"y",y=v==="x"?"left":"top";return n.tabs.every(b=>{if(Vt(b.paneName))return!1;const w=n.tabRefs[b.paneName];if(!w)return!1;if(!b.active)return!0;p=w[`offset${Dl(y)}`],m=w[`client${Dl(g)}`];const _=window.getComputedStyle(w);return g==="width"&&(m-=Number.parseFloat(_.paddingLeft)+Number.parseFloat(_.paddingRight),p+=Number.parseFloat(_.paddingLeft)),!1}),{[g]:`${m}px`,transform:`translate${Dl(v)}(${p}px)`}},u=()=>i.value=l(),c=[],d=()=>{c.forEach(p=>p.stop()),c.length=0,Object.values(n.tabRefs).forEach(p=>{c.push($n(p,u))})};fe(()=>n.tabs,async()=>{await Fe(),u(),d()},{immediate:!0});const h=$n(a,()=>u());return en(()=>{c.forEach(p=>p.stop()),c.length=0,h.stop()}),t({ref:a,update:u}),(p,m)=>o.value?(I(),K("div",{key:0,ref_key:"barRef",ref:a,class:M([f(s).e("active-bar"),f(s).is(f(r).props.tabPosition)]),style:qe(i.value)},null,6)):le("v-if",!0)}});const ffe=$e({panes:{type:ne(Array),default:()=>Wn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean,tabindex:{type:[String,Number],default:void 0}}),hfe={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},$T="ElTabNav",pfe=de({name:$T,props:ffe,emits:hfe,setup(e,{expose:t,emit:n}){const r=Ve(Uy);r||fr($T,"<el-tabs><tab-nav /></el-tabs>");const s=Se("tabs"),a=WG(),i=GG(),o=L(),l=L(),u=L(),c=L({}),d=L(),h=L(!1),p=L(0),m=L(!1),g=L(!0),v=wn(),y=E(()=>["top","bottom"].includes(r.props.tabPosition)),b=E(()=>y.value?"width":"height"),w=E(()=>({transform:`translate${b.value==="width"?"X":"Y"}(-${p.value}px)`})),{width:_,height:S}=X2(o),{width:C,height:T}=X2(l,{width:0,height:0},{box:"border-box"}),x=E(()=>y.value?_.value:S.value),N=E(()=>y.value?C.value:T.value),{onWheel:k}=N7({atStartEdge:E(()=>p.value<=0),atEndEdge:E(()=>N.value-p.value<=x.value),layout:E(()=>y.value?"horizontal":"vertical")},z=>{p.value=zu(p.value+z,0,N.value-x.value)}),A=()=>{if(!o.value)return;const z=o.value[`offset${Dl(b.value)}`],W=p.value;if(!W)return;const Y=W>z?W-z:0;p.value=Y},O=()=>{if(!o.value||!l.value)return;const z=l.value[`offset${Dl(b.value)}`],W=o.value[`offset${Dl(b.value)}`],Y=p.value;if(z-Y<=W)return;const U=z-Y>W*2?Y+W:z-W;p.value=U},F=async()=>{const z=l.value;if(!h.value||!u.value||!o.value||!z)return;await Fe();const W=c.value[e.currentName];if(!W)return;const Y=o.value,U=W.getBoundingClientRect(),Q=Y.getBoundingClientRect(),J=y.value?z.offsetWidth-Q.width:z.offsetHeight-Q.height,B=p.value;let P=B;y.value?(U.left<Q.left&&(P=B-(Q.left-U.left)),U.right>Q.right&&(P=B+U.right-Q.right)):(U.top<Q.top&&(P=B-(Q.top-U.top)),U.bottom>Q.bottom&&(P=B+(U.bottom-Q.bottom))),P=Math.max(P,0),p.value=Math.min(P,J)},j=()=>{var z;if(!l.value||!o.value)return;e.stretch&&((z=d.value)==null||z.update());const W=l.value[`offset${Dl(b.value)}`],Y=o.value[`offset${Dl(b.value)}`],U=p.value;Y<W?(h.value=h.value||{},h.value.prev=U,h.value.next=U+Y<W,W-U<Y&&(p.value=W-Y)):(h.value=!1,U>0&&(p.value=0))},V=z=>{const W=hn(z);let Y=0;switch(W){case Ne.left:case Ne.up:Y=-1;break;case Ne.right:case Ne.down:Y=1;break;default:return}const U=Array.from(z.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let J=U.indexOf(z.target)+Y;J<0?J=U.length-1:J>=U.length&&(J=0),U[J].focus({preventScroll:!0}),U[J].click(),G()},G=()=>{g.value&&(m.value=!0)},R=()=>m.value=!1,$=(z,W)=>{c.value[W]=z},D=async()=>{await Fe();const z=c.value[e.currentName];z==null||z.focus({preventScroll:!0})};return fe(a,z=>{z==="hidden"?g.value=!1:z==="visible"&&setTimeout(()=>g.value=!0,50)}),fe(i,z=>{z?setTimeout(()=>g.value=!0,50):g.value=!1}),$n(u,()=>{ho(j)}),_t(()=>setTimeout(()=>F(),0)),Ni(()=>j()),t({scrollToActiveTab:F,removeFocus:R,focusActiveTab:D,tabListRef:l,tabBarRef:d,scheduleRender:()=>qg(v)}),()=>{const z=h.value?[q("span",{class:[s.e("nav-prev"),s.is("disabled",!h.value.prev)],onClick:A},[q(We,null,{default:()=>[q(el,null,null)]})]),q("span",{class:[s.e("nav-next"),s.is("disabled",!h.value.next)],onClick:O},[q(We,null,{default:()=>[q(_s,null,null)]})])]:null,W=e.panes.map((Y,U)=>{var Q,J,B,P,ae;const ee=Y.uid,oe=Y.props.disabled,X=(J=(Q=Y.props.name)!=null?Q:Y.index)!=null?J:`${U}`,H=!oe&&(Y.isClosable||Y.props.closable!==!1&&e.editable);Y.index=`${U}`;const te=H?q(We,{class:"is-icon-close",onClick:he=>n("tabRemove",Y,he)},{default:()=>[q(ja,null,null)]}):null,ue=((P=(B=Y.slots).label)==null?void 0:P.call(B))||Y.props.label,ye=!oe&&Y.active?(ae=e.tabindex)!=null?ae:r.props.tabindex:-1;return q("div",{ref:he=>$(he,X),class:[s.e("item"),s.is(r.props.tabPosition),s.is("active",Y.active),s.is("disabled",oe),s.is("closable",H),s.is("focus",m.value)],id:`tab-${X}`,key:`tab-${ee}`,"aria-controls":`pane-${X}`,role:"tab","aria-selected":Y.active,tabindex:ye,onFocus:()=>G(),onBlur:()=>R(),onClick:he=>{R(),n("tabClick",Y,X,he)},onKeydown:he=>{const _e=hn(he);H&&(_e===Ne.delete||_e===Ne.backspace)&&n("tabRemove",Y,he)}},[ue,te])});return v.value,q("div",{ref:u,class:[s.e("nav-wrap"),s.is("scrollable",!!h.value),s.is(r.props.tabPosition)]},[z,q("div",{class:s.e("nav-scroll"),ref:o},[e.panes.length>0?q("div",{class:[s.e("nav"),s.is(r.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:w.value,role:"tablist",onKeydown:V,onWheel:k},[e.type?null:q(dfe,{ref:d,tabs:[...e.panes],tabRefs:c.value},null),W]):null])])}}}),mfe=$e({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ne(Function),default:()=>!0},stretch:Boolean,tabindex:{type:[String,Number],default:0}}),Nb=e=>Ke(e)||Xe(e),gfe={[it]:e=>Nb(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>Nb(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>Nb(e),tabAdd:()=>!0},vfe=de({name:"ElTabs",props:mfe,emits:gfe,setup(e,{emit:t,slots:n,expose:r}){var s;const a=Se("tabs"),i=E(()=>["left","right"].includes(e.tabPosition)),{children:o,addChild:l,removeChild:u,ChildrenSorter:c}=Dy(wt(),"ElTabPane"),d=L(),h=L((s=Vt(e.modelValue)?e.defaultValue:e.modelValue)!=null?s:"0"),p=async(w,_=!1)=>{var S,C,T,x;if(!(h.value===w||Vt(w)))try{let N;if(e.beforeLeave){const k=e.beforeLeave(w,h.value);N=k instanceof Promise?await k:k}else N=!0;if(N!==!1){const k=(S=o.value.find(A=>A.paneName===h.value))==null?void 0:S.isFocusInsidePane();h.value=w,_&&(t(it,w),t("tabChange",w)),(T=(C=d.value)==null?void 0:C.removeFocus)==null||T.call(C),k&&((x=d.value)==null||x.focusActiveTab())}}catch{}},m=(w,_,S)=>{w.props.disabled||(t("tabClick",w,S),p(_,!0))},g=(w,_)=>{w.props.disabled||Vt(w.props.name)||(_.stopPropagation(),t("edit",w.props.name,"remove"),t("tabRemove",w.props.name))},v=()=>{t("edit",void 0,"add"),t("tabAdd")},y=w=>{const _=hn(w);[Ne.enter,Ne.numpadEnter].includes(_)&&v()},b=w=>{const _=w.el.firstChild,S=["bottom","right"].includes(e.tabPosition)?w.children[0].el:w.children[1].el;_!==S&&_.before(S)};return fe(()=>e.modelValue,w=>p(w)),fe(h,async()=>{var w;await Fe(),(w=d.value)==null||w.scrollToActiveTab()}),At(Uy,{props:e,currentName:h,registerPane:l,unregisterPane:u,nav$:d}),r({currentName:h,get tabNavRef(){return Zp(d.value,["scheduleRender"])}}),()=>{const w=n["add-icon"],_=e.editable||e.addable?q("div",{class:[a.e("new-tab"),i.value&&a.e("new-tab-vertical")],tabindex:e.tabindex,onClick:v,onKeydown:y},[w?ie(n,"add-icon"):q(We,{class:a.is("icon-plus")},{default:()=>[q(Oy,null,null)]})]):null,S=()=>q(pfe,{ref:d,currentName:h.value,editable:e.editable,type:e.type,panes:o.value,stretch:e.stretch,onTabClick:m,onTabRemove:g},null),C=q("div",{class:[a.e("header"),i.value&&a.e("header-vertical"),a.is(e.tabPosition)]},[q(c,null,{default:S,$stable:!0}),_]),T=q("div",{class:a.e("content")},[ie(n,"default")]);return q("div",{class:[a.b(),a.m(e.tabPosition),{[a.m("card")]:e.type==="card",[a.m("border-card")]:e.type==="border-card"}],onVnodeMounted:b,onVnodeUpdated:b},[T,C])}}}),yfe=$e({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),bfe=["id","aria-hidden","aria-labelledby"],AT="ElTabPane";var xR=de({name:AT,__name:"tab-pane",props:yfe,setup(e){const t=e,n=wt(),r=nr(),s=Ve(Uy);s||fr(AT,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=Se("tab-pane"),i=L(),o=L(),l=E(()=>{var g;return(g=t.closable)!=null?g:s.props.closable}),u=E(()=>{var g;return s.currentName.value===((g=t.name)!=null?g:o.value)}),c=L(u.value),d=E(()=>{var g;return(g=t.name)!=null?g:o.value}),h=E(()=>!t.lazy||c.value||u.value),p=()=>{var g;return(g=i.value)==null?void 0:g.contains(document.activeElement)};fe(u,g=>{g&&(c.value=!0)});const m=Xt({uid:n.uid,getVnode:()=>n.vnode,slots:r,props:t,paneName:d,active:u,index:o,isClosable:l,isFocusInsidePane:p});return s.registerPane(m),en(()=>{s.unregisterPane(m)}),R3(()=>{var g;r.label&&((g=s.nav$.value)==null||g.scheduleRender())}),(g,v)=>h.value?vt((I(),K("div",{key:0,id:`pane-${d.value}`,ref_key:"paneRef",ref:i,class:M(f(a).b()),role:"tabpanel","aria-hidden":!u.value,"aria-labelledby":`tab-${d.value}`},[ie(g.$slots,"default")],10,bfe)),[[Kt,u.value]]):le("v-if",!0)}});const wfe=dt(vfe,{TabPane:xR}),_fe=Bn(xR),Sfe=$e({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Ai,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}});var Cfe=de({name:"ElText",__name:"text",props:Sfe,setup(e){const t=e,n=L(),r=gr(),s=Se("text"),a=E(()=>[s.b(),s.m(t.type),s.m(r.value),s.is("truncated",t.truncated),s.is("line-clamp",!Vt(t.lineClamp))]),i=()=>{var o,l,u,c,d,h,p;if(dl().title)return;let g=!1;const v=((o=n.value)==null?void 0:o.textContent)||"";if(t.truncated){const y=(l=n.value)==null?void 0:l.offsetWidth,b=(u=n.value)==null?void 0:u.scrollWidth;y&&b&&b>y&&(g=!0)}else if(!Vt(t.lineClamp)){const y=(c=n.value)==null?void 0:c.offsetHeight,b=(d=n.value)==null?void 0:d.scrollHeight;y&&b&&b>y&&(g=!0)}g?(h=n.value)==null||h.setAttribute("title",v):(p=n.value)==null||p.removeAttribute("title")};return _t(i),Ni(i),(o,l)=>(I(),ce(yt(e.tag),{ref_key:"textRef",ref:n,class:M(a.value),style:qe({"-webkit-line-clamp":e.lineClamp})},{default:re(()=>[ie(o.$slots,"default")]),_:3},8,["class","style"]))}});const mS=dt(Cfe),xfe=$e({format:{type:String,default:"HH:mm"},modelValue:{type:ne(String)},disabled:{type:Boolean,default:void 0},editable:{type:Boolean,default:!0},effect:{type:ne(String),default:"light"},clearable:{type:Boolean,default:!0},size:wr,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:ne(String)},maxTime:{type:ne(String)},includeEndTime:Boolean,name:String,prefixIcon:{type:ne([String,Object]),default:()=>d6},clearIcon:{type:ne([String,Object]),default:()=>_o},popperClass:{type:String,default:""},popperStyle:{type:ne([String,Object])},...Ec}),jo=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),s=e.toUpperCase();return s.includes("AM")&&n===12?n=0:s.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},Ib=(e,t)=>{const n=jo(e);if(!n)return-1;const r=jo(t);if(!r)return-1;const s=n.minutes+n.hours*60,a=r.minutes+r.hours*60;return s===a?0:s>a?1:-1},RT=e=>`${e}`.padStart(2,"0"),Qc=e=>`${RT(e.hours)}:${RT(e.minutes)}`,Efe=(e,t)=>{const n=jo(e);if(!n)return"";const r=jo(t);if(!r)return"";const s={hours:n.hours,minutes:n.minutes};return s.minutes+=r.minutes,s.hours+=r.hours,s.hours+=Math.floor(s.minutes/60),s.minutes=s.minutes%60,Qc(s)};var Tfe=de({name:"ElTimeSelect",__name:"time-select",props:xfe,emits:[It,"blur","focus","clear",it],setup(e,{expose:t}){ct.extend(D6);const{Option:n}=nu,r=e,s=Se("input"),a=L(),i=Zn(),{lang:o}=Mt(),l=E(()=>r.modelValue),u=E(()=>{const y=jo(r.start);return y?Qc(y):null}),c=E(()=>{const y=jo(r.end);return y?Qc(y):null}),d=E(()=>{const y=jo(r.step);return y?Qc(y):null}),h=E(()=>{const y=jo(r.minTime||"");return y?Qc(y):null}),p=E(()=>{const y=jo(r.maxTime||"");return y?Qc(y):null}),m=E(()=>{var y;const b=[],w=(_,S)=>{b.push({value:_,disabled:Ib(S,h.value||"-1:-1")<=0||Ib(S,p.value||"100:100")>=0})};if(r.start&&r.end&&r.step){let _=u.value,S;for(;_&&c.value&&Ib(_,c.value)<=0;)S=ct(_,"HH:mm").locale(o.value).format(r.format),w(S,_),_=Efe(_,d.value);if(r.includeEndTime&&c.value&&((y=b[b.length-1])==null?void 0:y.value)!==c.value){const C=ct(c.value,"HH:mm").locale(o.value).format(r.format);w(C,c.value)}}return b});return t({blur:()=>{var y,b;(b=(y=a.value)==null?void 0:y.blur)==null||b.call(y)},focus:()=>{var y,b;(b=(y=a.value)==null?void 0:y.focus)==null||b.call(y)}}),(y,b)=>(I(),ce(f(nu),{ref_key:"select",ref:a,"model-value":l.value,disabled:f(i),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"empty-values":e.emptyValues,"value-on-clear":e.valueOnClear,"popper-class":e.popperClass,"popper-style":e.popperStyle,"onUpdate:modelValue":b[0]||(b[0]=w=>y.$emit(f(it),w)),onChange:b[1]||(b[1]=w=>y.$emit(f(It),w)),onBlur:b[2]||(b[2]=w=>y.$emit("blur",w)),onFocus:b[3]||(b[3]=w=>y.$emit("focus",w)),onClear:b[4]||(b[4]=()=>y.$emit("clear"))},{prefix:re(()=>[e.prefixIcon?(I(),ce(f(We),{key:0,class:M(f(s).e("prefix-icon"))},{default:re(()=>[(I(),ce(yt(e.prefixIcon)))]),_:1},8,["class"])):le("v-if",!0)]),default:re(()=>[(I(!0),K(Ge,null,Ot(m.value,w=>(I(),ce(f(n),{key:w.value,label:w.value,value:w.value,disabled:w.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","popper-class","popper-style"]))}});const kfe=dt(Tfe),ER="timeline",Nfe=$e({mode:{type:String,values:["start","alternate","alternate-reverse","end"],default:"start"},reverse:Boolean}),Ife=de({name:"ElTimeline",props:Nfe,setup(e,{slots:t}){const n=Se("timeline");At(ER,{props:e,slots:t});const r=E(()=>[n.b(),n.is(e.mode)]);return()=>{var s,a;const i=ha((a=(s=t.default)==null?void 0:s.call(t))!=null?a:[]);return nt("ul",{class:r.value},e.reverse?i.reverse():i)}}}),Ofe=$e({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:dn},hollow:Boolean});var TR=de({name:"ElTimelineItem",__name:"timeline-item",props:Ofe,setup(e){const t=e,{props:n}=Ve(ER),r=Se("timeline-item"),s=E(()=>[r.e("node"),r.em("node",t.size||""),r.em("node",t.type||""),r.is("hollow",t.hollow)]),a=E(()=>[r.b(),{[r.e("center")]:t.center},r.is(n.mode)]);return(i,o)=>(I(),K("li",{class:M(a.value)},[Z("div",{class:M(f(r).e("tail"))},null,2),i.$slots.dot?le("v-if",!0):(I(),K("div",{key:0,class:M(s.value),style:qe({backgroundColor:e.color})},[e.icon?(I(),ce(f(We),{key:0,class:M(f(r).e("icon"))},{default:re(()=>[(I(),ce(yt(e.icon)))]),_:1},8,["class"])):le("v-if",!0)],6)),i.$slots.dot?(I(),K("div",{key:1,class:M(f(r).e("dot"))},[ie(i.$slots,"dot")],2)):le("v-if",!0),Z("div",{class:M(f(r).e("wrapper"))},[!e.hideTimestamp&&e.placement==="top"?(I(),K("div",{key:0,class:M([f(r).e("timestamp"),f(r).is("top")])},Ie(e.timestamp),3)):le("v-if",!0),Z("div",{class:M(f(r).e("content"))},[ie(i.$slots,"default")],2),!e.hideTimestamp&&e.placement==="bottom"?(I(),K("div",{key:1,class:M([f(r).e("timestamp"),f(r).is("bottom")])},Ie(e.timestamp),3)):le("v-if",!0)],2)],2))}});const $fe=dt(Ife,{TimelineItem:TR}),Afe=Bn(TR),kR="left-check-change",NR="right-check-change",ed=$e({data:{type:ne(Array),default:()=>[]},titles:{type:ne(Array),default:()=>[]},buttonTexts:{type:ne(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:ne(Function)},leftDefaultChecked:{type:ne(Array),default:()=>[]},rightDefaultChecked:{type:ne(Array),default:()=>[]},renderContent:{type:ne(Function)},modelValue:{type:ne(Array),default:()=>[]},format:{type:ne(Object),default:()=>({})},filterable:Boolean,props:{type:ne(Object),default:()=>Wn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),Fw=(e,t)=>[e,t].every(ke)||ke(e)&&or(t),Rfe={[It]:(e,t,n)=>[e,n].every(ke)&&["left","right"].includes(t),[it]:e=>ke(e),[kR]:Fw,[NR]:Fw},Bw="checked-change",Mfe=$e({data:ed.data,optionRender:{type:ne(Function)},placeholder:String,title:String,filterable:Boolean,format:ed.format,filterMethod:ed.filterMethod,defaultChecked:ed.leftDefaultChecked,props:ed.props}),Pfe={[Bw]:Fw},fm=e=>{const t={label:"label",key:"key",disabled:"disabled"};return E(()=>({...t,...e.props}))},Lfe=(e,t,n)=>{const r=fm(e),s=E(()=>e.data.filter(c=>Ye(e.filterMethod)?e.filterMethod(t.query,c):String(c[r.value.label]||c[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),a=E(()=>s.value.filter(c=>!c[r.value.disabled])),i=E(()=>{const c=t.checked.length,d=e.data.length,{noChecked:h,hasChecked:p}=e.format;return h&&p?c>0?p.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,d.toString()):h.replace(/\${total}/g,d.toString()):`${c}/${d}`}),o=E(()=>{const c=t.checked.length;return c>0&&c<a.value.length}),l=()=>{const c=a.value.map(d=>d[r.value.key]);t.allChecked=c.length>0&&c.every(d=>t.checked.includes(d))},u=c=>{t.checked=c?a.value.map(d=>d[r.value.key]):[]};return fe(()=>t.checked,(c,d)=>{if(l(),t.checkChangeByUser){const h=c.concat(d).filter(p=>!c.includes(p)||!d.includes(p));n(Bw,c,h)}else n(Bw,c),t.checkChangeByUser=!0}),fe(a,()=>{l()}),fe(()=>e.data,()=>{const c=[],d=s.value.map(h=>h[r.value.key]);t.checked.forEach(h=>{d.includes(h)&&c.push(h)}),t.checkChangeByUser=!1,t.checked=c}),fe(()=>e.defaultChecked,(c,d)=>{if(d&&c.length===d.length&&c.every(m=>d.includes(m)))return;const h=[],p=a.value.map(m=>m[r.value.key]);c.forEach(m=>{p.includes(m)&&h.push(m)}),t.checkChangeByUser=!1,t.checked=h},{immediate:!0}),{filteredData:s,checkableData:a,checkedSummary:i,isIndeterminate:o,updateAllChecked:l,handleAllCheckedChange:u}};var MT=de({name:"ElTransferPanel",__name:"transfer-panel",props:Mfe,emits:Pfe,setup(e,{expose:t,emit:n}){const r=e,s=n,a=nr(),i=({option:_})=>_,{t:o}=Mt(),l=Se("transfer"),u=Xt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=fm(r),{filteredData:d,checkedSummary:h,isIndeterminate:p,handleAllCheckedChange:m}=Lfe(r,u,s),g=E(()=>!Ds(u.query)&&Ds(d.value)),v=E(()=>!Ds(a.default()[0].children)),{checked:y,allChecked:b,query:w}=Or(u);return t({query:w}),(_,S)=>(I(),K("div",{class:M(f(l).b("panel"))},[Z("p",{class:M(f(l).be("panel","header"))},[q(f(wi),{modelValue:f(b),"onUpdate:modelValue":S[0]||(S[0]=C=>Cn(b)?b.value=C:null),indeterminate:f(p),"validate-event":!1,onChange:f(m)},{default:re(()=>[gt(Ie(e.title)+" ",1),Z("span",null,Ie(f(h)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Z("div",{class:M([f(l).be("panel","body"),f(l).is("with-footer",v.value)])},[e.filterable?(I(),ce(f(ys),{key:0,modelValue:f(w),"onUpdate:modelValue":S[1]||(S[1]=C=>Cn(w)?w.value=C:null),class:M(f(l).be("panel","filter")),size:"default",placeholder:e.placeholder,"prefix-icon":f(uY),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):le("v-if",!0),vt(q(f(P6),{modelValue:f(y),"onUpdate:modelValue":S[2]||(S[2]=C=>Cn(y)?y.value=C:null),"validate-event":!1,class:M([f(l).is("filterable",e.filterable),f(l).be("panel","list")])},{default:re(()=>[(I(!0),K(Ge,null,Ot(f(d),C=>(I(),ce(f(wi),{key:C[f(c).key],class:M(f(l).be("panel","item")),value:C[f(c).key],disabled:C[f(c).disabled],"validate-event":!1},{default:re(()=>{var T;return[q(i,{option:(T=e.optionRender)==null?void 0:T.call(e,C)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Kt,!g.value&&!f(Ds)(e.data)]]),vt(Z("div",{class:M(f(l).be("panel","empty"))},[ie(_.$slots,"empty",{},()=>[gt(Ie(g.value?f(o)("el.transfer.noMatch"):f(o)("el.transfer.noData")),1)])],2),[[Kt,g.value||f(Ds)(e.data)]])],2),v.value?(I(),K("p",{key:0,class:M(f(l).be("panel","footer"))},[ie(_.$slots,"default")],2)):le("v-if",!0)],2))}});const Dfe=e=>{const t=fm(e),n=E(()=>e.data.reduce((a,i)=>(a[i[t.value.key]]=i)&&a,{})),r=E(()=>e.data.filter(a=>!e.modelValue.includes(a[t.value.key]))),s=E(()=>e.targetOrder==="original"?e.data.filter(a=>e.modelValue.includes(a[t.value.key])):e.modelValue.reduce((a,i)=>{const o=n.value[i];return o&&a.push(o),a},[]));return{sourceData:r,targetData:s}},zfe=(e,t,n)=>{const r=fm(e),s=(o,l,u)=>{n(it,o),n(It,o,l,u)};return{addToLeft:()=>{const o=e.modelValue.slice();t.rightChecked.forEach(l=>{const u=o.indexOf(l);u>-1&&o.splice(u,1)}),s(o,"left",t.rightChecked)},addToRight:()=>{let o=e.modelValue.slice();const l=e.data.filter(u=>{const c=u[r.value.key];return t.leftChecked.includes(c)&&!e.modelValue.includes(c)}).map(u=>u[r.value.key]);o=e.targetOrder==="unshift"?l.concat(o):o.concat(l),e.targetOrder==="original"&&(o=e.data.filter(u=>o.includes(u[r.value.key])).map(u=>u[r.value.key])),s(o,"right",t.leftChecked)}}},Ffe=(e,t)=>({onSourceCheckedChange:(s,a)=>{e.leftChecked=s,a&&t(kR,s,a)},onTargetCheckedChange:(s,a)=>{e.rightChecked=s,a&&t(NR,s,a)}}),Bfe={key:0},jfe={key:0};var Vfe=de({name:"ElTransfer",__name:"transfer",props:ed,emits:Rfe,setup(e,{expose:t,emit:n}){const r=e,s=n,a=nr(),{t:i}=Mt(),o=Se("transfer"),{formItem:l}=Br(),u=Xt({leftChecked:[],rightChecked:[]}),c=fm(r),{sourceData:d,targetData:h}=Dfe(r),{onSourceCheckedChange:p,onTargetCheckedChange:m}=Ffe(u,s),{addToLeft:g,addToRight:v}=zfe(r,u,s),y=L(),b=L(),w=N=>{switch(N){case"left":y.value.query="";break;case"right":b.value.query="";break}},_=E(()=>r.buttonTexts.length===2),S=E(()=>r.titles[0]||i("el.transfer.titles.0")),C=E(()=>r.titles[1]||i("el.transfer.titles.1")),T=E(()=>r.filterPlaceholder||i("el.transfer.filterPlaceholder"));fe(()=>r.modelValue,()=>{var N;r.validateEvent&&((N=l==null?void 0:l.validate)==null||N.call(l,"change").catch(k=>void 0))});const x=E(()=>N=>{var k;if(r.renderContent)return r.renderContent(nt,N);const A=(((k=a.default)==null?void 0:k.call(a,{option:N}))||[]).filter(O=>O.type!==ir);return A.length?A:nt("span",N[c.value.label]||N[c.value.key])});return t({clearQuery:w,leftPanel:y,rightPanel:b}),(N,k)=>(I(),K("div",{class:M(f(o).b())},[q(MT,{ref_key:"leftPanel",ref:y,data:f(d),"option-render":x.value,placeholder:T.value,title:S.value,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:r.props,onCheckedChange:f(p)},{empty:re(()=>[ie(N.$slots,"left-empty")]),default:re(()=>[ie(N.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Z("div",{class:M(f(o).e("buttons"))},[q(f(Nr),{type:"primary",class:M([f(o).e("button"),f(o).is("with-texts",_.value)]),disabled:f(Ds)(u.rightChecked),onClick:f(g)},{default:re(()=>[q(f(We),null,{default:re(()=>[q(f(el))]),_:1}),f(Vt)(e.buttonTexts[0])?le("v-if",!0):(I(),K("span",Bfe,Ie(e.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),q(f(Nr),{type:"primary",class:M([f(o).e("button"),f(o).is("with-texts",_.value)]),disabled:f(Ds)(u.leftChecked),onClick:f(v)},{default:re(()=>[f(Vt)(e.buttonTexts[1])?le("v-if",!0):(I(),K("span",jfe,Ie(e.buttonTexts[1]),1)),q(f(We),null,{default:re(()=>[q(f(_s))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),q(MT,{ref_key:"rightPanel",ref:b,data:f(h),"option-render":x.value,placeholder:T.value,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:C.value,"default-checked":e.rightDefaultChecked,props:r.props,onCheckedChange:f(m)},{empty:re(()=>[ie(N.$slots,"right-empty")]),default:re(()=>[ie(N.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});const Hfe=dt(Vfe),Id="$treeNodeId",PT=function(e,t){!t||t[Id]||Object.defineProperty(t,Id,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},gS=(e,t)=>t==null?void 0:t[e||Id],jw=(e,t,n)=>{const r=e.value.currentNode;n();const s=e.value.currentNode;r!==s&&t("current-change",s?s.data:null,s)};var Ufe=Object.defineProperty,Wfe=(e,t,n)=>t in e?Ufe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vr=(e,t,n)=>Wfe(e,typeof t!="symbol"?t+"":t,n);const IR=e=>{let t=!0,n=!0,r=!0,s=!0;for(let a=0,i=e.length;a<i;a++){const o=e[a];(o.checked!==!0||o.indeterminate)&&(t=!1,o.disabled||(r=!1)),(o.checked!==!1||o.indeterminate)&&(n=!1),o.isEffectivelyChecked||(s=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n,isEffectivelyChecked:s}},Xf=function(e){if(e.childNodes.length===0||e.loading){e.isEffectivelyChecked=e.disabled||e.checked;return}const{all:t,none:n,half:r,isEffectivelyChecked:s}=IR(e.childNodes);e.isEffectivelyChecked=s,t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||Xf(a)},cg=function(e,t){const n=e.store.props,r=e.data||{},s=n[t];if(Ye(s))return s(r,e);if(Ke(s))return r[s];if(Vt(s)){const a=r[t];return Vt(a)?"":a}},Vw=function(e,t){e.forEach(n=>{n.canFocus=t,Vw(n.childNodes,t)})};let Kfe=0,Hw=class pv{constructor(t){Vr(this,"id"),Vr(this,"text"),Vr(this,"checked"),Vr(this,"indeterminate"),Vr(this,"data"),Vr(this,"expanded"),Vr(this,"parent"),Vr(this,"visible"),Vr(this,"isCurrent"),Vr(this,"store"),Vr(this,"isLeafByUser"),Vr(this,"isLeaf"),Vr(this,"canFocus"),Vr(this,"level"),Vr(this,"loaded"),Vr(this,"childNodes"),Vr(this,"loading"),Vr(this,"isEffectivelyChecked",!1),this.id=Kfe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)Zt(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var t;const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const r=n.props;if(r&&typeof r.isLeaf<"u"){const i=cg(this,"isLeaf");cn(i)&&(this.isLeafByUser=i)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&!this.isLeafByUser&&this.expand(),ke(this.data)||PT(this,this.data),!this.data)return;const s=n.defaultExpandedKeys,a=n.key;a&&!or(this.key)&&s&&s.includes(this.key)&&this.expand(null,n.autoExpandParent),a&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode&&(n.currentNode.isCurrent=!1),n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((t=this.parent)==null?void 0:t.expanded)===!0)&&(this.canFocus=!0)}setData(t){ke(t)||PT(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&ke(this.data)?n=this.data:n=cg(this,"children")||[];for(let r=0,s=n.length;r<s;r++)this.insertChild({data:n[r]})}get label(){return cg(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return cg(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof pv)){if(!r){const s=this.getChildren(!0);s!=null&&s.includes(t.data)||(Vt(n)||n<0?s==null||s.push(t.data):s==null||s.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Xt(new pv(t)),t instanceof pv&&t.initialize()}t.level=this.level+1,Vt(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const s=this.childNodes.indexOf(t);s>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(s,1)),this.updateLeafState()}removeChildByData(t){const n=this.childNodes.find(r=>r.data===t);n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let s=this.parent;for(;s&&s.level>0;)s.expanded=!0,s=s.parent}this.expanded=!0,t&&t(),Vw(this.childNodes,!0)};this.shouldLoadData()?this.loadData(s=>{ke(s)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Xf(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,Vw(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}this.isLeaf=!1}setChecked(t,n,r,s){if(this.indeterminate=t==="half",this.checked=t===!0,this.isEffectivelyChecked=!this.childNodes.length&&(this.disabled||this.checked),this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const i=()=>{if(n){const o=this.childNodes;for(let d=0,h=o.length;d<h;d++){const p=o[d];s=s||t!==!1;const m=p.disabled&&p.isLeaf?p.checked:s;p.setChecked(m,n,!0,s)}const{half:l,all:u,isEffectivelyChecked:c}=IR(o);u||(this.checked=u,this.indeterminate=l),this.isEffectivelyChecked=this.childNodes.length?c:this.disabled||this.checked}};if(this.shouldLoadData()){this.loadData(()=>{i(),Xf(this)},{checked:t!==!1});return}else i()}const a=this.parent;!a||a.level===0||r||Xf(a)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let s="children";return r&&(s=r.children||"children"),Vt(n[s])&&(n[s]=null),t&&!n[s]&&(n[s]=[]),n[s]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(a=>a.data),r={},s=[];t.forEach((a,i)=>{const o=a[Id];!!o&&n.some(u=>(u==null?void 0:u[Id])===o)?r[o]={index:i,data:a}:s.push({index:i,data:a})}),this.store.lazy||n.forEach(a=>{r[a==null?void 0:a[Id]]||this.removeChildByData(a)}),s.forEach(({index:a,data:i})=>{this.insertChild({data:i},a)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=a=>{this.childNodes=[],this.doCreateChildren(a,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,a)},s=()=>{this.loading=!1};this.store.load(this,r,s)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),t(r)}}reInitChecked(){this.store.checkStrictly||Xf(this)}};var Gfe=Object.defineProperty,Zfe=(e,t,n)=>t in e?Gfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cs=(e,t,n)=>Zfe(e,typeof t!="symbol"?t+"":t,n);class Yfe{constructor(t){cs(this,"currentNode"),cs(this,"currentNodeKey"),cs(this,"nodesMap"),cs(this,"root"),cs(this,"data"),cs(this,"lazy",!1),cs(this,"load"),cs(this,"filterNodeMethod"),cs(this,"key"),cs(this,"defaultCheckedKeys"),cs(this,"checkStrictly",!1),cs(this,"defaultExpandedKeys"),cs(this,"autoExpandParent",!1),cs(this,"defaultExpandAll",!1),cs(this,"checkDescendants",!1),cs(this,"props"),this.currentNode=null,this.currentNodeKey=null;for(const n in t)Zt(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new Hw({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()},tn)}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,s=async function(a){const i=a.root?a.root.childNodes:a.childNodes;for(const[o,l]of i.entries())l.visible=!!(n!=null&&n.call(l,t,l.data,l)),o%80===0&&o>0&&await Fe(),await s(l);if(!a.visible&&i.length){let o=!0;o=!i.some(l=>l.visible),a.root?a.root.visible=o===!1:a.visible=o===!1}t&&a.visible&&!a.isLeaf&&(!r||a.loaded)&&a.expand()};s(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof Hw)return t;const n=ht(t)?gS(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){var r;const s=this.getNode(n);(r=s.parent)==null||r.insertBefore({data:t},s)}insertAfter(t,n){var r;const s=this.getNode(n);(r=s.parent)==null||r.insertAfter({data:t},s)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=qs(n)?this.root:this.getNode(n);r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const s=n[r];s&&s.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){const n=this.defaultCheckedKeys||[];!or(t.key)&&n.includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;if(!(!t||!t.data))if(!n)this.nodesMap[t.id]=t;else{const r=t.key;or(r)||(this.nodesMap[r]=t)}}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],s=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(o=>{(o.checked||n&&o.indeterminate)&&(!t||t&&o.isLeaf)&&r.push(o.data),s(o)})};return s(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(a=>{a.indeterminate&&t.push(a.data),n(a)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)Zt(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const s=r.childNodes;for(let a=s.length-1;a>=0;a--){const i=s[a];this.remove(i.data)}for(let a=0,i=n.length;a<i;a++){const o=n[a];this.append(o,r.data)}}_setCheckedKeys(t,n=!1,r){const s=this._getAllNodes().sort((l,u)=>l.level-u.level),a=Object.create(null),i=Object.keys(r);s.forEach(l=>l.setChecked(!1,!1));const o=l=>{l.childNodes.forEach(u=>{var c;a[u.data[t]]=!0,(c=u.childNodes)!=null&&c.length&&o(u)})};for(let l=0,u=s.length;l<u;l++){const c=s[l],d=c.data[t].toString();if(!i.includes(d)){c.checked&&!a[d]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&o(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const p=function(m){m.childNodes.forEach(v=>{v.isLeaf||v.setChecked(!1,!1),p(v)})};p(c)}}}setCheckedNodes(t,n=!1){const r=this.key,s={};t.forEach(a=>{s[(a||{})[r]]=!0}),this._setCheckedKeys(r,n,s)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,s={};t.forEach(a=>{s[a]=!0}),this._setCheckedKeys(r,n,s)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const s=this.getNode(t);s&&s.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){var r;const s=t[this.key],a=this.nodesMap[s];this.setCurrentNode(a),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0))}setCurrentNodeKey(t,n=!0){var r;if(this.currentNodeKey=t,qs(t)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(t);s&&(this.setCurrentNode(s),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0)))}}const vS="RootTree",OR="NodeInstance",LT="TreeNodeMap";var qfe=de({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=Se("tree"),n=Ve(OR),r=Ve(vS);return()=>{const s=e.node,{data:a,store:i}=s;return e.renderContent?e.renderContent(nt,{_self:n,node:s,data:a,store:i}):ie(r.ctx.slots,"default",{node:s,data:a},()=>[nt(mS,{tag:"span",truncated:!0,class:t.be("node","label")},()=>[s.label])])}}});function $R(e){const t=Ve(LT,null);let n={treeNodeExpand:r=>{var s;e.node!==r&&((s=e.node)==null||s.collapse())},children:new Set};return t&&t.children.add(n),en(()=>{t&&t.children.delete(n),n=null}),At(LT,n),{broadcastExpanded:r=>{if(e.accordion)for(const s of n.children)s.treeNodeExpand(r)}}}const AR=Symbol("dragEvents");function Xfe({props:e,ctx:t,el$:n,dropIndicator$:r,store:s}){const a=Se("tree"),i=L({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return At(AR,{treeNodeDragStart:({event:c,treeNode:d})=>{if(c.dataTransfer){if(Ye(e.allowDrag)&&!e.allowDrag(d.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}i.value.draggingNode=d,t.emit("node-drag-start",d.node,c)}},treeNodeDragOver:({event:c,treeNode:d})=>{if(!c.dataTransfer)return;const h=d,p=i.value.dropNode;p&&p.node.id!==h.node.id&&ws(p.$el,a.is("drop-inner"));const m=i.value.draggingNode;if(!m||!h)return;let g=!0,v=!0,y=!0,b=!0;Ye(e.allowDrop)&&(g=e.allowDrop(m.node,h.node,"prev"),b=v=e.allowDrop(m.node,h.node,"inner"),y=e.allowDrop(m.node,h.node,"next")),c.dataTransfer.dropEffect=v||g||y?"move":"none",(g||v||y)&&(p==null?void 0:p.node.id)!==h.node.id&&(p&&t.emit("node-drag-leave",m.node,p.node,c),t.emit("node-drag-enter",m.node,h.node,c)),g||v||y?i.value.dropNode=h:i.value.dropNode=null,h.node.nextSibling===m.node&&(y=!1),h.node.previousSibling===m.node&&(g=!1),h.node.contains(m.node,!1)&&(v=!1),(m.node===h.node||m.node.contains(h.node))&&(g=!1,v=!1,y=!1);const w=h.$el,_=w.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),S=n.value.getBoundingClientRect(),C=n.value.scrollTop;let T;const x=g?v?.25:y?.45:1:Number.NEGATIVE_INFINITY,N=y?v?.75:g?.55:0:Number.POSITIVE_INFINITY;let k=-9999;const A=c.clientY-_.top;A<_.height*x?T="before":A>_.height*N?T="after":v?T="inner":T="none";const O=w.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),F=r.value;T==="before"?k=O.top-S.top+C:T==="after"&&(k=O.bottom-S.top+C),F.style.top=`${k}px`,F.style.left=`${O.right-S.left}px`,T==="inner"?Da(w,a.is("drop-inner")):ws(w,a.is("drop-inner")),i.value.showDropIndicator=T==="before"||T==="after",i.value.allowDrop=i.value.showDropIndicator||b,i.value.dropType=T,t.emit("node-drag-over",m.node,h.node,c)},treeNodeDragEnd:c=>{var d,h;const{draggingNode:p,dropType:m,dropNode:g}=i.value;if(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move"),p!=null&&p.node.data&&g){const v={data:p.node.data};m!=="none"&&p.node.remove(),m==="before"?(d=g.node.parent)==null||d.insertBefore(v,g.node):m==="after"?(h=g.node.parent)==null||h.insertAfter(v,g.node):m==="inner"&&g.node.insertChild(v),m!=="none"&&(s.value.registerNode(v),s.value.key&&p.node.eachNode(y=>{var b;(b=s.value.nodesMap[y.data[s.value.key]])==null||b.setChecked(y.checked,!s.value.checkStrictly)})),ws(g.$el,a.is("drop-inner")),t.emit("node-drag-end",p.node,g.node,m,c),m!=="none"&&t.emit("node-drop",p.node,g.node,m,c)}p&&!g&&t.emit("node-drag-end",p.node,null,m,c),i.value.showDropIndicator=!1,i.value.draggingNode=null,i.value.dropNode=null,i.value.allowDrop=!0}}),{dragState:i}}var Jfe=de({name:"ElTreeNode",components:{ElCollapseTransition:Fy,ElCheckbox:wi,NodeContent:qfe,ElIcon:We,Loading:po},props:{node:{type:Hw,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(e,t){const n=Se("tree"),{broadcastExpanded:r}=$R(e),s=Ve(vS),a=L(!1),i=L(!1),o=L(),l=L(),u=L(),c=Ve(AR),d=wt();At(OR,d),e.node.expanded&&(a.value=!0,i.value=!0);const h=s.props.props.children||"children";fe(()=>{var N;const k=(N=e.node.data)==null?void 0:N[h];return k&&[...k]},()=>{e.node.updateChildren()}),fe(()=>e.node.indeterminate,N=>{g(e.node.checked,N)}),fe(()=>e.node.checked,N=>{g(N,e.node.indeterminate)}),fe(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),fe(()=>e.node.expanded,N=>{Fe(()=>a.value=N),N&&(i.value=!0)});const p=N=>gS(s.props.nodeKey,N.data),m=N=>{const k=e.props.class;if(!k)return{};let A;if(Ye(k)){const{data:O}=N;A=k(O,N)}else A=k;return Ke(A)?{[A]:!0}:A},g=(N,k)=>{(o.value!==N||l.value!==k)&&s.ctx.emit("check-change",e.node.data,N,k),o.value=N,l.value=k},v=N=>{jw(s.store,s.ctx.emit,()=>{var k;if((k=s==null?void 0:s.props)==null?void 0:k.nodeKey){const O=p(e.node);s.store.value.setCurrentNodeKey(O)}else s.store.value.setCurrentNode(e.node)}),s.currentNode.value=e.node,s.props.expandOnClickNode&&b(),(s.props.checkOnClickNode||e.node.isLeaf&&s.props.checkOnClickLeaf&&e.showCheckbox)&&!e.node.disabled&&w(!e.node.checked),s.ctx.emit("node-click",e.node.data,e.node,d,N)},y=N=>{var k;(k=s.instance.vnode.props)!=null&&k.onNodeContextmenu&&(N.stopPropagation(),N.preventDefault()),s.ctx.emit("node-contextmenu",N,e.node.data,e.node,d)},b=()=>{e.node.isLeaf||(a.value?(s.ctx.emit("node-collapse",e.node.data,e.node,d),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,d)}))},w=N=>{const k=s==null?void 0:s.props.checkStrictly,A=e.node.childNodes;!k&&A.length&&(N=A.some(O=>!O.isEffectivelyChecked)),e.node.setChecked(N,!k),Fe(()=>{const O=s.store.value;s.ctx.emit("check",e.node.data,{checkedNodes:O.getCheckedNodes(),checkedKeys:O.getCheckedKeys(),halfCheckedNodes:O.getHalfCheckedNodes(),halfCheckedKeys:O.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:s,expanded:a,childNodeRendered:i,oldChecked:o,oldIndeterminate:l,getNodeKey:p,getNodeClass:m,handleSelectChange:g,handleClick:v,handleContextMenu:y,handleExpandIconClick:b,handleCheckChange:w,handleChildNodeExpand:(N,k,A)=>{r(k),s.ctx.emit("node-expand",N,k,A)},handleDragStart:N=>{s.props.draggable&&c.treeNodeDragStart({event:N,treeNode:e})},handleDragOver:N=>{N.preventDefault(),s.props.draggable&&c.treeNodeDragOver({event:N,treeNode:{$el:u.value,node:e.node}})},handleDrop:N=>{N.preventDefault()},handleDragEnd:N=>{s.props.draggable&&c.treeNodeDragEnd(N)},CaretRight:qO}}});const Qfe=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],ehe=["aria-expanded"];function the(e,t,n,r,s,a){const i=Rt("el-icon"),o=Rt("el-checkbox"),l=Rt("loading"),u=Rt("node-content"),c=Rt("el-tree-node"),d=Rt("el-collapse-transition");return vt((I(),K("div",{ref:"node$",class:M([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[2]||(t[2]=at((...h)=>e.handleClick&&e.handleClick(...h),["stop"])),onContextmenu:t[3]||(t[3]=(...h)=>e.handleContextMenu&&e.handleContextMenu(...h)),onDragstart:t[4]||(t[4]=at((...h)=>e.handleDragStart&&e.handleDragStart(...h),["stop"])),onDragover:t[5]||(t[5]=at((...h)=>e.handleDragOver&&e.handleDragOver(...h),["stop"])),onDragend:t[6]||(t[6]=at((...h)=>e.handleDragEnd&&e.handleDragEnd(...h),["stop"])),onDrop:t[7]||(t[7]=at((...h)=>e.handleDrop&&e.handleDrop(...h),["stop"]))},[Z("div",{class:M(e.ns.be("node","content")),style:qe({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(I(),ce(i,{key:0,class:M([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:at(e.handleExpandIconClick,["stop"])},{default:re(()=>[(I(),ce(yt(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):le("v-if",!0),e.showCheckbox?(I(),ce(o,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=at(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):le("v-if",!0),e.node.loading?(I(),ce(i,{key:2,class:M([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:re(()=>[q(l)]),_:1},8,["class"])):le("v-if",!0),q(u,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),q(d,null,{default:re(()=>[!e.renderAfterExpand||e.childNodeRendered?vt((I(),K("div",{key:0,class:M(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded,onClick:t[1]||(t[1]=at(()=>{},["stop"]))},[(I(!0),K(Ge,null,Ot(e.node.childNodes,h=>(I(),ce(c,{key:e.getNodeKey(h),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:h,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,ehe)),[[Kt,e.expanded]]):le("v-if",!0)]),_:1})],42,Qfe)),[[Kt,e.node.visible]])}var nhe=_r(Jfe,[["render",the]]);function rhe({el$:e},t){const n=Se("tree");_t(()=>{a()}),Ni(()=>{var i;(i=e.value)==null||i.querySelectorAll("input[type=checkbox]").forEach(o=>{o.setAttribute("tabindex","-1")})});function r(i,o){var l,u;const c=t.value.getNode(i[o].dataset.key);return c.canFocus&&c.visible&&(((l=c.parent)==null?void 0:l.expanded)||((u=c.parent)==null?void 0:u.level)===0)}nn(e,"keydown",i=>{const o=i.target;if(!o.className.includes(n.b("node")))return;const l=hn(i),u=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),c=u.indexOf(o);let d;if([Ne.up,Ne.down].includes(l)){if(i.preventDefault(),l===Ne.up){d=c===-1?0:c!==0?c-1:u.length-1;const p=d;for(;!r(u,d);){if(d--,d===p){d=-1;break}d<0&&(d=u.length-1)}}else{d=c===-1?0:c<u.length-1?c+1:0;const p=d;for(;!r(u,d);){if(d++,d===p){d=-1;break}d>=u.length&&(d=0)}}d!==-1&&u[d].focus()}[Ne.left,Ne.right].includes(l)&&(i.preventDefault(),o.click());const h=o.querySelector('[type="checkbox"]');[Ne.enter,Ne.numpadEnter,Ne.space].includes(l)&&h&&(i.preventDefault(),h.click())});const a=()=>{var i;if(!e.value)return;const o=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(c=>{c.setAttribute("tabindex","-1")});const u=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(u.length){u[0].setAttribute("tabindex","0");return}(i=o[0])==null||i.setAttribute("tabindex","0")}}const RR=$e({data:{type:ne(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:{type:Array},defaultExpandedKeys:{type:Array},currentNodeKey:{type:[String,Number]},renderContent:{type:ne(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:ne(Function)},allowDrop:{type:ne(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:{type:Function},filterNodeMethod:{type:Function},accordion:Boolean,indent:{type:Number,default:18},icon:{type:dn}}),she={"check-change":(e,t,n)=>e&&cn(t)&&cn(n),"current-change":(e,t)=>!0,"node-click":(e,t,n,r)=>e&&t&&r instanceof Event,"node-contextmenu":(e,t,n,r)=>e instanceof Event&&t&&n,"node-collapse":(e,t,n)=>e&&t,"node-expand":(e,t,n)=>e&&t,check:(e,t)=>e&&t,"node-drag-start":(e,t)=>e&&t,"node-drag-end":(e,t,n,r)=>e&&r,"node-drop":(e,t,n,r)=>e&&t&&r,"node-drag-leave":(e,t,n)=>e&&t&&n,"node-drag-enter":(e,t,n)=>e&&t&&n,"node-drag-over":(e,t,n)=>e&&t&&n};var ahe=de({name:"ElTree",components:{ElTreeNode:nhe},props:RR,emits:she,setup(e,t){const{t:n}=Mt(),r=Se("tree"),s=L(new Yfe({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));s.value.initialize();const a=L(s.value.root),i=L(null),o=L(null),l=L(null),{broadcastExpanded:u}=$R(e),{dragState:c}=Xfe({props:e,ctx:t,el$:o,dropIndicator$:l,store:s});rhe({el$:o},s);const d=wt(),h=E(()=>{let z=d==null?void 0:d.parent;for(;z;){if(z.type.name==="ElTreeSelect")return!0;z=z.parent}return!1}),p=E(()=>{const{childNodes:z}=a.value;return(!z||z.length===0||z.every(({visible:W})=>!W))&&!h.value});fe(()=>e.currentNodeKey,z=>{s.value.setCurrentNodeKey(z??null)}),fe(()=>e.defaultCheckedKeys,(z,W)=>{Yn(z,W)||s.value.setDefaultCheckedKey(z??[])}),fe(()=>e.defaultExpandedKeys,z=>{s.value.setDefaultExpandedKeys(z??[])}),fe(()=>e.data,z=>{s.value.setData(z)},{deep:!0}),fe(()=>e.checkStrictly,z=>{s.value.checkStrictly=z});const m=z=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(z)},g=z=>gS(e.nodeKey,z.data),v=z=>{if(!e.nodeKey)throw new Error(`[Tree] nodeKey is required in ${z}`)},y=z=>{v("getNodePath");const W=s.value.getNode(z);if(!W)return[];const Y=[W.data];let U=W.parent;for(;U&&U!==a.value;)Y.push(U.data),U=U.parent;return Y.reverse()},b=(z,W)=>s.value.getCheckedNodes(z,W),w=z=>s.value.getCheckedKeys(z),_=()=>{const z=s.value.getCurrentNode();return z?z.data:null},S=()=>{v("getCurrentKey");const z=_();return z?z[e.nodeKey]:null},C=(z,W)=>{v("setCheckedNodes"),s.value.setCheckedNodes(z,W)},T=(z,W)=>{v("setCheckedKeys"),s.value.setCheckedKeys(z,W)},x=(z,W,Y)=>{s.value.setChecked(z,W,Y)},N=()=>s.value.getHalfCheckedNodes(),k=()=>s.value.getHalfCheckedKeys(),A=(z,W=!0)=>{v("setCurrentNode"),jw(s,t.emit,()=>{u(z),s.value.setUserCurrentNode(z,W)})},O=(z=null,W=!0)=>{v("setCurrentKey"),jw(s,t.emit,()=>{u(),s.value.setCurrentNodeKey(z,W)})},F=z=>s.value.getNode(z),j=z=>{s.value.remove(z)},V=(z,W)=>{s.value.append(z,W)},G=(z,W)=>{s.value.insertBefore(z,W)},R=(z,W)=>{s.value.insertAfter(z,W)},$=(z,W,Y)=>{u(W),t.emit("node-expand",z,W,Y)},D=(z,W)=>{v("updateKeyChild"),s.value.updateChildren(z,W)};return At(vS,{ctx:t,props:e,store:s,root:a,currentNode:i,instance:d}),At(go,void 0),{ns:r,store:s,root:a,currentNode:i,dragState:c,el$:o,dropIndicator$:l,isEmpty:p,filter:m,getNodeKey:g,getNodePath:y,getCheckedNodes:b,getCheckedKeys:w,getCurrentNode:_,getCurrentKey:S,setCheckedNodes:C,setCheckedKeys:T,setChecked:x,getHalfCheckedNodes:N,getHalfCheckedKeys:k,setCurrentNode:A,setCurrentKey:O,t:n,getNode:F,remove:j,append:V,insertBefore:G,insertAfter:R,handleNodeExpand:$,updateKeyChildren:D}}});function ihe(e,t,n,r,s,a){const i=Rt("el-tree-node");return I(),K("div",{ref:"el$",class:M([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(I(!0),K(Ge,null,Ot(e.root.childNodes,o=>(I(),ce(i,{key:e.getNodeKey(o),node:o,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(I(),K("div",{key:0,class:M(e.ns.e("empty-block"))},[ie(e.$slots,"empty",{},()=>{var o;return[Z("span",{class:M(e.ns.e("empty-text"))},Ie((o=e.emptyText)!=null?o:e.t("el.tree.emptyText")),3)]})],2)):le("v-if",!0),vt(Z("div",{ref:"dropIndicator$",class:M(e.ns.e("drop-indicator"))},null,2),[[Kt,e.dragState.showDropIndicator]])],2)}var ohe=_r(ahe,[["render",ihe]]);const yS=dt(ohe),lhe=(e,{attrs:t,emit:n},{select:r,tree:s,key:a})=>{const i=Se("tree-select");fe(()=>e.data,()=>{e.filterable&&Fe(()=>{var u,c;(c=s.value)==null||c.filter((u=r.value)==null?void 0:u.states.inputValue)})},{flush:"post"});const o=u=>{var c;const d=u.at(-1);if(d.expanded&&d.childNodes.at(-1))o([d.childNodes.at(-1)]);else{const h=(c=s.value.el$)==null?void 0:c.querySelector(`[data-key="${u.at(-1).key}"]`);h==null||h.focus({preventScroll:!0});return}};return _t(()=>{nn(()=>{var u;return(u=r.value)==null?void 0:u.$el},"keydown",async u=>{const c=hn(u),{dropdownMenuVisible:d}=r.value;[Ne.down,Ne.up].includes(c)&&d&&(await Fe(),setTimeout(()=>{var h,p,m;if(Ne.up===c){const g=s.value.store.root.childNodes;o(g);return}(m=(p=(h=r.value.optionsArray[r.value.states.hoveringIndex].$el)==null?void 0:h.parentNode)==null?void 0:p.parentNode)==null||m.focus({preventScroll:!0})}))},{capture:!0})}),{...Jo(Or(e),Object.keys(nu.props)),...t,class:E(()=>t.class),style:E(()=>t.style),"onUpdate:modelValue":u=>n(it,u),valueKey:a,popperClass:E(()=>{const u=[i.e("popper")];return e.popperClass&&u.push(e.popperClass),u.join(" ")}),filterMethod:(u="")=>{var c;e.filterMethod?e.filterMethod(u):e.remoteMethod?e.remoteMethod(u):(c=s.value)==null||c.filter(u)}}},uhe=de({extends:qv,setup(e,t){const n=qv.setup(e,t);delete n.selectOptionClick;const r=wt().proxy;return Fe(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),fe(()=>t.attrs.visible,s=>{Fe(()=>{n.states.visible=s})},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Uw(e){return e||e===0}function bS(e){return ke(e)&&e.length}function Vc(e){return ke(e)?e:Uw(e)?[e]:[]}function mv(e,t,n,r,s){for(let a=0;a<e.length;a++){const i=e[a];if(t(i,a,e,s))return r?r(i,a,e,s):i;{const o=n(i);if(bS(o)){const l=mv(o,t,n,r,i);if(l)return l}}}}function gv(e,t,n,r){for(let s=0;s<e.length;s++){const a=e[s];t(a,s,e,r);const i=n(a);bS(i)&&gv(i,t,n,a)}}const che=(e,{attrs:t,slots:n,emit:r},{select:s,tree:a,key:i})=>{fe([()=>e.modelValue,a],()=>{e.showCheckbox&&Fe(()=>{const h=a.value;h&&!Yn(h.getCheckedKeys(),Vc(e.modelValue))&&h.setCheckedKeys(Vc(e.modelValue))})},{immediate:!0,deep:!0});const o=E(()=>({value:i.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),l=(h,p)=>{var m;const g=o.value[h];return Ye(g)?g(p,(m=a.value)==null?void 0:m.getNode(l("value",p))):p[g]},u=Vc(e.modelValue).map(h=>mv(e.data||[],p=>l("value",p)===h,p=>l("children",p),(p,m,g,v)=>v&&l("value",v))).filter(h=>Uw(h)),c=E(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const h=[];return gv(e.data.concat(e.cacheData),p=>{const m=l("value",p);h.push({value:m,currentLabel:l("label",p),isDisabled:l("disabled",p)})},p=>l("children",p)),h}),d=()=>{var h;return(h=a.value)==null?void 0:h.getCheckedKeys().filter(p=>{var m;const g=(m=a.value)==null?void 0:m.getNode(p);return!or(g)&&Ds(g.childNodes)})};return{...Jo(Or(e),Object.keys(yS.props)),...t,nodeKey:i,expandOnClickNode:E(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:E(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(u):u),renderContent:(h,{node:p,data:m,store:g})=>h(uhe,{value:l("value",m),label:l("label",m),disabled:l("disabled",m),visible:p.visible},e.renderContent?()=>e.renderContent(h,{node:p,data:m,store:g}):n.default?()=>n.default({node:p,data:m,store:g}):void 0),filterNodeMethod:(h,p,m)=>e.filterNodeMethod?e.filterNodeMethod(h,p,m):h?new RegExp(O6(h),"i").test(l("label",p)||""):!0,onNodeClick:(h,p,m)=>{var g,v,y;if((g=t.onNodeClick)==null||g.call(t,h,p,m),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||p.isLeaf)){if(!l("disabled",h)){const b=(v=s.value)==null?void 0:v.states.options.get(l("value",h));(y=s.value)==null||y.handleOptionSelect(b)}}else e.expandOnClickNode&&m.proxy.handleExpandIconClick()},onCheck:(h,p)=>{var m;if(!e.showCheckbox)return;const g=l("value",h),v={};gv([a.value.store.root],_=>v[_.key]=_,_=>_.childNodes);const y=p.checkedKeys,b=e.multiple?Vc(e.modelValue).filter(_=>!(_ in v)&&!y.includes(_)):[],w=b.concat(y);if(e.checkStrictly)r(it,e.multiple?w:w.includes(g)?g:void 0);else if(e.multiple){const _=d();r(it,b.concat(_))}else{const _=mv([h],T=>!bS(l("children",T))&&!l("disabled",T),T=>l("children",T)),S=_?l("value",_):void 0,C=Uw(e.modelValue)&&!!mv([h],T=>l("value",T)===e.modelValue,T=>l("children",T));r(it,S===e.modelValue||C?void 0:S)}Fe(()=>{var _;const S=Vc(e.modelValue);a.value.setCheckedKeys(S),(_=t.onCheck)==null||_.call(t,h,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(m=s.value)==null||m.focus()},onNodeExpand:(h,p,m)=>{var g;(g=t.onNodeExpand)==null||g.call(t,h,p,m),Fe(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&p.checked){const v={},y=a.value.getCheckedKeys();gv([a.value.store.root],_=>v[_.key]=_,_=>_.childNodes);const b=Vc(e.modelValue).filter(_=>!(_ in v)&&!y.includes(_)),w=d();r(it,b.concat(w))}})},cacheOptions:c}};var dhe=de({props:{data:{type:Array,default:()=>[]}},setup(e){const t=Ve(lm);return fe(()=>e.data,()=>{var n;e.data.forEach(s=>{t.states.cachedOptions.has(s.value)||t.states.cachedOptions.set(s.value,s)});const r=((n=t.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Yt&&!Array.from(r).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}}),fhe=de({name:"ElTreeSelect",inheritAttrs:!1,props:{...Q$,...RR,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,s=L(),a=L(),i=E(()=>e.nodeKey||e.valueKey||"value"),o=lhe(e,t,{select:s,tree:a,key:i}),{cacheOptions:l,...u}=che(e,t,{select:s,tree:a,key:i}),c=Xt({});return r(c),_t(()=>{Object.assign(c,{...Jo(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Jo(s.value,["focus","blur","selectedLabel"]),treeRef:a.value,selectRef:s.value})}),()=>nt(nu,Xt({...o,ref:d=>s.value=d}),{...n,default:()=>[nt(dhe,{data:l.value}),nt(yS,Xt({...u,ref:d=>a.value=d}))]})}});const hhe=dt(fhe),wS=Symbol(),phe={key:-1,level:-1,data:{}};var Jf=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e.CLASS="",e))(Jf||{}),Ww=(e=>(e.ADD="add",e.DELETE="delete",e))(Ww||{});const MR={type:Number,default:26},mhe=$e({data:{type:ne(Array),default:()=>Wn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:ne(Object),default:()=>Wn({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:Boolean,showCheckbox:Boolean,defaultCheckedKeys:{type:ne(Array),default:()=>Wn([])},checkStrictly:Boolean,defaultExpandedKeys:{type:ne(Array),default:()=>Wn([])},indent:{type:Number,default:16},itemSize:MR,icon:{type:dn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:ne([String,Number])},accordion:Boolean,filterMethod:{type:ne(Function)},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),ghe=$e({node:{type:ne(Object),default:()=>Wn(phe)},expanded:Boolean,checked:Boolean,indeterminate:Boolean,showCheckbox:Boolean,disabled:Boolean,current:Boolean,hiddenExpandIcon:Boolean,itemSize:MR}),vhe=$e({node:{type:ne(Object),required:!0}}),PR="node-click",LR="node-drop",DR="node-expand",zR="node-collapse",FR="current-change",BR="check",jR="check-change",VR="node-contextmenu",yhe={[PR]:(e,t,n)=>e&&t&&n,[LR]:(e,t,n)=>e&&t&&n,[DR]:(e,t)=>e&&t,[zR]:(e,t)=>e&&t,[FR]:(e,t)=>e&&t,[BR]:(e,t)=>e&&t,[jR]:(e,t)=>e&&cn(t),[VR]:(e,t,n)=>e&&t&&n},bhe={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&cn(t)};function whe(e,t){const n=L(new Set),r=L(new Set),{emit:s}=wt();fe([()=>t.value,()=>e.defaultCheckedKeys],()=>Fe(()=>{b(e.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:w,maxLevel:_}=t.value,S=n.value,C=new Set;for(let T=_;T>=1;--T){const x=w.get(T);x&&x.forEach(N=>{const k=N.children;let A=!N.isLeaf||N.disabled||S.has(N.key);if(k){let O=!0,F=!1;for(const j of k){const V=j.key;if(j.isEffectivelyChecked||(A=!1),S.has(V))F=!0;else if(C.has(V)){O=!1,F=!0;break}else O=!1}O?S.add(N.key):F?(C.add(N.key),S.delete(N.key)):(S.delete(N.key),C.delete(N.key))}N.isEffectivelyChecked=A})}r.value=C},i=w=>n.value.has(w.key),o=w=>r.value.has(w.key),l=(w,_,S=!0,C=!0)=>{const T=n.value,x=w.children;!e.checkStrictly&&S&&(x!=null&&x.length)&&(_=x.some(k=>!k.isEffectivelyChecked));const N=(k,A)=>{T[A?Ww.ADD:Ww.DELETE](k.key);const O=k.children;!e.checkStrictly&&O&&O.forEach(F=>{(!F.disabled||F.children)&&N(F,A)})};N(w,_),C&&a(),S&&u(w,_)},u=(w,_)=>{const{checkedNodes:S,checkedKeys:C}=m(),{halfCheckedNodes:T,halfCheckedKeys:x}=g();s(BR,w.data,{checkedKeys:C,checkedNodes:S,halfCheckedKeys:x,halfCheckedNodes:T}),s(jR,w.data,_)};function c(w=!1){return m(w).checkedKeys}function d(w=!1){return m(w).checkedNodes}function h(){return g().halfCheckedKeys}function p(){return g().halfCheckedNodes}function m(w=!1){const _=[],S=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:C}=t.value;n.value.forEach(T=>{const x=C.get(T);x&&(!w||w&&x.isLeaf)&&(S.push(T),_.push(x.data))})}return{checkedKeys:S,checkedNodes:_}}function g(){const w=[],_=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:S}=t.value;r.value.forEach(C=>{const T=S.get(C);T&&(_.push(C),w.push(T.data))})}return{halfCheckedNodes:w,halfCheckedKeys:_}}function v(w){n.value.clear(),r.value.clear(),Fe(()=>{b(w)})}function y(w,_){if(t!=null&&t.value&&e.showCheckbox){const S=t.value.treeNodeMap.get(w);S&&l(S,_,!1)}}function b(w){if(t!=null&&t.value){const{treeNodeMap:_}=t.value;if(e.showCheckbox&&_&&(w==null?void 0:w.length)>0){for(const S of w){const C=_.get(S);C&&!i(C)&&l(C,!0,!1,!1)}a()}}}return{updateCheckedKeys:a,toggleCheckbox:l,isChecked:i,isIndeterminate:o,getCheckedKeys:c,getCheckedNodes:d,getHalfCheckedKeys:h,getHalfCheckedNodes:p,setChecked:y,setCheckedKeys:v}}function _he(e,t){const n=L(new Set([])),r=L(new Set([])),s=E(()=>Ye(e.filterMethod));function a(o){var l;if(!s.value)return;const u=new Set,c=r.value,d=n.value,h=[],p=((l=t.value)==null?void 0:l.treeNodes)||[],m=e.filterMethod;d.clear();function g(v){v.forEach(y=>{h.push(y),m!=null&&m(o,y.data,y)?h.forEach(w=>{u.add(w.key),w.expanded=!0}):(y.expanded=!1,y.isLeaf&&d.add(y.key));const b=y.children;if(b&&g(b),!y.isLeaf){if(!u.has(y.key))d.add(y.key);else if(b){let w=!0;for(const _ of b)if(!d.has(_.key)){w=!1;break}w?c.add(y.key):c.delete(y.key)}}h.pop()})}return g(p),u}function i(o){return r.value.has(o.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:a,isForceHiddenExpandIcon:i}}function She(e,t){const n=L(new Set),r=L(),s=wn(),a=L(),{isIndeterminate:i,isChecked:o,toggleCheckbox:l,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:p,setCheckedKeys:m}=whe(e,s),{doFilter:g,hiddenNodeKeySet:v,isForceHiddenExpandIcon:y}=_he(e,s),b=E(()=>{var X;return((X=e.props)==null?void 0:X.value)||Jf.KEY}),w=E(()=>{var X;return((X=e.props)==null?void 0:X.children)||Jf.CHILDREN}),_=E(()=>{var X;return((X=e.props)==null?void 0:X.disabled)||Jf.DISABLED}),S=E(()=>{var X;return((X=e.props)==null?void 0:X.label)||Jf.LABEL}),C=E(()=>{var X;const H=n.value,te=v.value,ue=[],ye=((X=s.value)==null?void 0:X.treeNodes)||[],he=[];for(let _e=ye.length-1;_e>=0;--_e)he.push(ye[_e]);for(;he.length;){const _e=he.pop();if(!te.has(_e.key)&&(ue.push(_e),_e.children&&H.has(_e.key)))for(let Re=_e.children.length-1;Re>=0;--Re)he.push(_e.children[Re])}return ue}),T=E(()=>C.value.length>0);function x(X){const H=new Map,te=new Map;let ue=1;function ye(_e,Re=1,De=void 0){var pe;const ve=[];for(const be of _e){const me=A(be),Te={level:Re,key:me,data:be};Te.label=F(be),Te.parent=De;const xe=k(be);Te.disabled=O(be),Te.isLeaf=!xe||xe.length===0,Te.expanded=n.value.has(me),xe&&xe.length&&(Te.children=ye(xe,Re+1,Te)),ve.push(Te),H.set(me,Te),te.has(Re)||te.set(Re,[]),(pe=te.get(Re))==null||pe.push(Te)}return Re>ue&&(ue=Re),ve}const he=ye(X);return{treeNodeMap:H,levelTreeNodeMap:te,maxLevel:ue,treeNodes:he}}function N(X){const H=g(X);H&&(n.value=H)}function k(X){return X[w.value]}function A(X){return X?X[b.value]:""}function O(X){return X[_.value]}function F(X){return X[S.value]}function j(X){n.value.has(X.key)?W(X):z(X)}function V(X){const H=new Set,te=s.value.treeNodeMap;n.value.forEach(ue=>{const ye=te.get(ue);n.value.delete(ye.key),ye.expanded=!1}),X.forEach(ue=>{let ye=te.get(ue);for(;ye&&!H.has(ye.key);)H.add(ye.key),ye.expanded=!0,ye=ye.parent}),n.value=H}function G(X,H){t(PR,X.data,X,H),$(X),e.expandOnClickNode&&j(X),e.showCheckbox&&(e.checkOnClickNode||X.isLeaf&&e.checkOnClickLeaf)&&!X.disabled&&l(X,!o(X),!0)}function R(X,H){t(LR,X.data,X,H)}function $(X){U(X)||(r.value=X.key,t(FR,X.data,X))}function D(X,H){l(X,H)}function z(X){const H=n.value;if(s.value&&e.accordion){const{treeNodeMap:ue}=s.value;H.forEach(ye=>{const he=ue.get(ye);X&&X.level===(he==null?void 0:he.level)&&(H.delete(ye),he.expanded=!1)})}H.add(X.key);const te=ae(X.key);te&&(te.expanded=!0,t(DR,te.data,te))}function W(X){n.value.delete(X.key);const H=ae(X.key);H&&(H.expanded=!1,t(zR,H.data,H))}function Y(X){return!!X.disabled}function U(X){const H=r.value;return H!==void 0&&H===X.key}function Q(){var X,H;if(r.value)return(H=(X=s.value)==null?void 0:X.treeNodeMap.get(r.value))==null?void 0:H.data}function J(){return r.value}function B(X){r.value=X}function P(X){s.value=x(X)}function ae(X){var H;const te=ht(X)?A(X):X;return(H=s.value)==null?void 0:H.treeNodeMap.get(te)}function ee(X,H="auto"){const te=ae(X);te&&a.value&&a.value.scrollToItem(C.value.indexOf(te),H)}function oe(X){var H;(H=a.value)==null||H.scrollTo(X)}return fe(()=>e.currentNodeKey,X=>{r.value=X},{immediate:!0}),fe(()=>e.defaultExpandedKeys,X=>{n.value=new Set(X)},{immediate:!0}),fe(()=>e.data,X=>{P(X)},{immediate:!0}),{tree:s,flattenTree:C,isNotEmpty:T,listRef:a,getKey:A,getChildren:k,toggleExpand:j,toggleCheckbox:l,isChecked:o,isIndeterminate:i,isDisabled:Y,isCurrent:U,isForceHiddenExpandIcon:y,handleNodeClick:G,handleNodeDrop:R,handleNodeCheck:D,getCurrentNode:Q,getCurrentKey:J,setCurrentKey:B,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:p,setCheckedKeys:m,filter:N,setData:P,getNode:ae,expandNode:z,collapseNode:W,setExpandedKeys:V,scrollToNode:ee,scrollTo:oe}}var Che=de({name:"ElTreeNodeContent",props:vhe,setup(e){const t=Ve(wS),n=Se("tree");return()=>{const r=e.node,{data:s}=r;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:r,data:s}):nt(mS,{tag:"span",truncated:!0,class:n.be("node","label")},()=>[r==null?void 0:r.label])}}});const xhe=["aria-expanded","aria-disabled","aria-checked","data-key"];var Ehe=de({name:"ElTreeNode",__name:"tree-node",props:ghe,emits:bhe,setup(e,{emit:t}){const n=e,r=t,s=Ve(wS),a=Se("tree"),i=E(()=>{var m;return(m=s==null?void 0:s.props.indent)!=null?m:16}),o=E(()=>{var m;return(m=s==null?void 0:s.props.icon)!=null?m:qO}),l=m=>{var g;const v=(g=s==null?void 0:s.props.props)==null?void 0:g.class;if(!v)return{};let y;if(Ye(v)){const{data:b}=m;y=v(b,m)}else y=v;return Ke(y)?{[y]:!0}:y},u=m=>{r("click",n.node,m)},c=m=>{r("drop",n.node,m)},d=()=>{r("toggle",n.node)},h=m=>{r("check",n.node,m)},p=m=>{var g,v,y,b;(y=(v=(g=s==null?void 0:s.instance)==null?void 0:g.vnode)==null?void 0:v.props)!=null&&y.onNodeContextmenu&&(m.stopPropagation(),m.preventDefault()),s==null||s.ctx.emit(VR,m,(b=n.node)==null?void 0:b.data,n.node)};return(m,g)=>{var v,y,b;return I(),K("div",{ref:"node$",class:M([f(a).b("node"),f(a).is("expanded",e.expanded),f(a).is("current",e.current),f(a).is("focusable",!e.disabled),f(a).is("checked",!e.disabled&&e.checked),l(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":(v=e.node)==null?void 0:v.key,onClick:at(u,["stop"]),onContextmenu:p,onDragover:g[1]||(g[1]=at(()=>{},["prevent"])),onDragenter:g[2]||(g[2]=at(()=>{},["prevent"])),onDrop:at(c,["stop"])},[Z("div",{class:M(f(a).be("node","content")),style:qe({paddingLeft:`${(e.node.level-1)*i.value}px`,height:e.itemSize+"px"})},[o.value?(I(),ce(f(We),{key:0,class:M([f(a).is("leaf",!!((y=e.node)!=null&&y.isLeaf)),f(a).is("hidden",e.hiddenExpandIcon),{expanded:!((b=e.node)!=null&&b.isLeaf)&&e.expanded},f(a).be("node","expand-icon")]),onClick:at(d,["stop"])},{default:re(()=>[(I(),ce(yt(o.value)))]),_:1},8,["class"])):le("v-if",!0),e.showCheckbox?(I(),ce(f(wi),{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:h,onClick:g[0]||(g[0]=at(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):le("v-if",!0),q(f(Che),{node:{...e.node,expanded:e.expanded}},null,8,["node"])],6)],42,xhe)}}}),The=de({name:"ElTreeV2",__name:"tree",props:mhe,emits:yhe,setup(e,{expose:t,emit:n}){const r=e,s=n,a=nr(),i=E(()=>r.itemSize);At(wS,{ctx:{emit:s,slots:a},props:r,instance:wt()}),At(go,void 0);const{t:o}=Mt(),l=Se("tree"),{flattenTree:u,isNotEmpty:c,listRef:d,toggleExpand:h,isIndeterminate:p,isChecked:m,isDisabled:g,isCurrent:v,isForceHiddenExpandIcon:y,handleNodeClick:b,handleNodeDrop:w,handleNodeCheck:_,toggleCheckbox:S,getCurrentNode:C,getCurrentKey:T,setCurrentKey:x,getCheckedKeys:N,getCheckedNodes:k,getHalfCheckedKeys:A,getHalfCheckedNodes:O,setChecked:F,setCheckedKeys:j,filter:V,setData:G,getNode:R,expandNode:$,collapseNode:D,setExpandedKeys:z,scrollToNode:W,scrollTo:Y}=She(r,s);return t({toggleCheckbox:S,getCurrentNode:C,getCurrentKey:T,setCurrentKey:x,getCheckedKeys:N,getCheckedNodes:k,getHalfCheckedKeys:A,getHalfCheckedNodes:O,setChecked:F,setCheckedKeys:j,filter:V,setData:G,getNode:R,expandNode:$,collapseNode:D,setExpandedKeys:z,scrollToNode:W,scrollTo:Y}),(U,Q)=>(I(),K("div",{class:M([f(l).b(),{[f(l).m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[f(c)?(I(),ce(f(L7),{key:0,ref_key:"listRef",ref:d,"class-name":f(l).b("virtual-list"),data:f(u),total:f(u).length,height:e.height,"item-size":i.value,"perf-mode":e.perfMode,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:re(({data:J,index:B,style:P})=>[(I(),ce(Ehe,{key:J[B].key,style:qe(P),node:J[B],expanded:J[B].expanded,"show-checkbox":e.showCheckbox,checked:f(m)(J[B]),indeterminate:f(p)(J[B]),"item-size":i.value,disabled:f(g)(J[B]),current:f(v)(J[B]),"hidden-expand-icon":f(y)(J[B]),onClick:f(b),onToggle:f(h),onCheck:f(_),onDrop:f(w)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode","scrollbar-always-on"])):(I(),K("div",{key:1,class:M(f(l).e("empty-block"))},[ie(U.$slots,"empty",{},()=>{var J;return[Z("span",{class:M(f(l).e("empty-text"))},Ie((J=e.emptyText)!=null?J:f(o)("el.tree.emptyText")),3)]})],2))],2))}});const khe=dt(The);var Nhe=Object.defineProperty,Ihe=(e,t,n)=>t in e?Nhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dg=(e,t,n)=>Ihe(e,typeof t!="symbol"?t+"":t,n);const Ohe="ElUpload";class $he extends Error{constructor(t,n,r,s){super(t),dg(this,"name","UploadAjaxError"),dg(this,"status"),dg(this,"method"),dg(this,"url"),this.status=n,this.method=r,this.url=s}}function DT(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new $he(r,n.status,t.method,e)}function Ahe(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const Rhe=e=>{typeof XMLHttpRequest>"u"&&fr(Ohe,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",a=>{const i=a;i.percent=a.total>0?a.loaded/a.total*100:0,e.onProgress(i)});const r=new FormData;if(e.data)for(const[a,i]of Object.entries(e.data))ke(i)&&i.length?r.append(a,...i):r.append(a,i);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(DT(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(DT(n,e,t));e.onSuccess(Ahe(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const s=e.headers||{};if(s instanceof Headers)s.forEach((a,i)=>t.setRequestHeader(i,a));else for(const[a,i]of Object.entries(s))or(i)||t.setRequestHeader(a,String(i));return t.send(r),t},HR=["text","picture","picture-card"];let Mhe=1;const Kw=()=>Date.now()+Mhe++,UR=$e({action:{type:String,default:"#"},headers:{type:ne(Object)},method:{type:String,default:"post"},data:{type:ne([Object,Function,Promise]),default:()=>Wn({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:ne(Array),default:()=>Wn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:HR,default:"text"},httpRequest:{type:ne(Function),default:Rhe},disabled:{type:Boolean,default:void 0},limit:Number,directory:Boolean}),Phe=$e({...UR,beforeUpload:{type:ne(Function),default:tn},beforeRemove:{type:ne(Function)},onRemove:{type:ne(Function),default:tn},onChange:{type:ne(Function),default:tn},onPreview:{type:ne(Function),default:tn},onSuccess:{type:ne(Function),default:tn},onProgress:{type:ne(Function),default:tn},onError:{type:ne(Function),default:tn},onExceed:{type:ne(Function),default:tn},crossorigin:{type:ne(String)}}),WR=Symbol("uploadContextKey"),Lhe=$e({files:{type:ne(Array),default:()=>Wn([])},disabled:{type:Boolean,default:void 0},handlePreview:{type:ne(Function),default:tn},listType:{type:String,values:HR,default:"text"},crossorigin:{type:ne(String)}}),Dhe={remove:e=>!!e},zhe=["tabindex","aria-disabled","onKeydown"],Fhe=["src","crossorigin"],Bhe=["onClick"],jhe=["title"],Vhe=["onClick"],Hhe=["onClick"];var zT=de({name:"ElUploadList",__name:"upload-list",props:Lhe,emits:Dhe,setup(e,{emit:t}){const n=e,r=t,{t:s}=Mt(),a=Se("upload"),i=Se("icon"),o=Se("list"),l=Zn(),u=L(!1),c=E(()=>[a.b("list"),a.bm("list",n.listType),a.is("disabled",l.value)]),d=h=>{r("remove",h)};return(h,p)=>(I(),ce(L8,{tag:"ul",class:M(c.value),name:f(o).b()},{default:re(()=>[(I(!0),K(Ge,null,Ot(e.files,(m,g)=>(I(),K("li",{key:m.uid||m.name,class:M([f(a).be("list","item"),f(a).is(m.status),{focusing:u.value}]),tabindex:f(l)?void 0:0,"aria-disabled":f(l),role:"button",onKeydown:zn(v=>!f(l)&&d(m),["delete"]),onFocus:p[0]||(p[0]=v=>u.value=!0),onBlur:p[1]||(p[1]=v=>u.value=!1),onClick:p[2]||(p[2]=v=>u.value=!1)},[ie(h.$slots,"default",{file:m,index:g},()=>[e.listType==="picture"||m.status!=="uploading"&&e.listType==="picture-card"?(I(),K("img",{key:0,class:M(f(a).be("list","item-thumbnail")),src:m.url,crossorigin:e.crossorigin,alt:""},null,10,Fhe)):le("v-if",!0),m.status==="uploading"||e.listType!=="picture-card"?(I(),K("div",{key:1,class:M(f(a).be("list","item-info"))},[Z("a",{class:M(f(a).be("list","item-name")),onClick:at(v=>e.handlePreview(m),["prevent"])},[q(f(We),{class:M(f(i).m("document"))},{default:re(()=>[q(f(XO))]),_:1},8,["class"]),Z("span",{class:M(f(a).be("list","item-file-name")),title:m.name},Ie(m.name),11,jhe)],10,Bhe),m.status==="uploading"?(I(),ce(f(E7),{key:0,type:e.listType==="picture-card"?"circle":"line","stroke-width":e.listType==="picture-card"?6:2,percentage:Number(m.percentage),style:qe(e.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):le("v-if",!0)],2)):le("v-if",!0),Z("label",{class:M(f(a).be("list","item-status-label"))},[e.listType==="text"?(I(),ce(f(We),{key:0,class:M([f(i).m("upload-success"),f(i).m("circle-check")])},{default:re(()=>[q(f(u6))]),_:1},8,["class"])):["picture-card","picture"].includes(e.listType)?(I(),ce(f(We),{key:1,class:M([f(i).m("upload-success"),f(i).m("check")])},{default:re(()=>[q(f(tm))]),_:1},8,["class"])):le("v-if",!0)],2),f(l)?le("v-if",!0):(I(),ce(f(We),{key:2,class:M(f(i).m("close")),onClick:v=>d(m)},{default:re(()=>[q(f(ja))]),_:1},8,["class","onClick"])),le(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),le(" This is a bug which needs to be fixed "),le(" TODO: Fix the incorrect navigation interaction "),f(l)?le("v-if",!0):(I(),K("i",{key:3,class:M(f(i).m("close-tip"))},Ie(f(s)("el.upload.deleteTip")),3)),e.listType==="picture-card"?(I(),K("span",{key:4,class:M(f(a).be("list","item-actions"))},[Z("span",{class:M(f(a).be("list","item-preview")),onClick:v=>e.handlePreview(m)},[q(f(We),{class:M(f(i).m("zoom-in"))},{default:re(()=>[q(f(h6))]),_:1},8,["class"])],10,Vhe),f(l)?le("v-if",!0):(I(),K("span",{key:0,class:M(f(a).be("list","item-delete")),onClick:v=>d(m)},[q(f(We),{class:M(f(i).m("delete"))},{default:re(()=>[q(f(f6))]),_:1},8,["class"])],10,Hhe))],2)):le("v-if",!0)])],42,zhe))),128)),ie(h.$slots,"append")]),_:3},8,["class","name"]))}});const Uhe=$e({...UR,beforeUpload:{type:ne(Function),default:tn},onRemove:{type:ne(Function),default:tn},onStart:{type:ne(Function),default:tn},onSuccess:{type:ne(Function),default:tn},onProgress:{type:ne(Function),default:tn},onError:{type:ne(Function),default:tn},onExceed:{type:ne(Function),default:tn}}),Whe=$e({disabled:{type:Boolean,default:void 0},directory:Boolean}),Khe={file:e=>ke(e)},FT="ElUploadDrag";var Ghe=de({name:FT,__name:"upload-dragger",props:Whe,emits:Khe,setup(e,{emit:t}){const n=e,r=t;Ve(WR)||fr(FT,"usage: <el-upload><el-upload-dragger /></el-upload>");const a=Se("upload"),i=L(!1),o=Zn(),l=p=>new Promise((m,g)=>p.file(m,g)),u=async p=>{try{if(p.isFile){const m=await l(p);return m.isDirectory=!1,[m]}if(p.isDirectory){const m=p.createReader(),g=()=>new Promise((_,S)=>m.readEntries(_,S)),v=[];let y=await g();for(;y.length>0;)v.push(...y),y=await g();const b=v.map(_=>u(_).catch(()=>[])),w=await Promise.all(b);return Hv(w)}}catch{return[]}return[]},c=async p=>{if(o.value)return;i.value=!1,p.stopPropagation();const m=Array.from(p.dataTransfer.files),g=p.dataTransfer.items||[];if(n.directory){const v=Array.from(g).map(b=>{var w;return(w=b==null?void 0:b.webkitGetAsEntry)==null?void 0:w.call(b)}).filter(b=>b),y=await Promise.all(v.map(u));r("file",Hv(y));return}m.forEach((v,y)=>{var b;const w=g[y],_=(b=w==null?void 0:w.webkitGetAsEntry)==null?void 0:b.call(w);_&&(v.isDirectory=_.isDirectory)}),r("file",m)},d=()=>{o.value||(i.value=!0)},h=p=>{p.currentTarget.contains(p.relatedTarget)||(i.value=!1)};return(p,m)=>(I(),K("div",{class:M([f(a).b("dragger"),f(a).is("dragover",i.value)]),onDrop:at(c,["prevent"]),onDragover:at(d,["prevent"]),onDragleave:at(h,["prevent"])},[ie(p.$slots,"default")],34))}});const Zhe=["tabindex","aria-disabled","onKeydown"],Yhe=["name","disabled","multiple","accept","webkitdirectory"];var BT=de({name:"ElUploadContent",inheritAttrs:!1,__name:"upload-content",props:Uhe,setup(e,{expose:t}){const n=e,r=Se("upload"),s=Zn(),a=wn({}),i=wn(),o=g=>{if(g.length===0)return;const{autoUpload:v,limit:y,fileList:b,multiple:w,onStart:_,onExceed:S}=n;if(y&&b.length+g.length>y){S(g,b);return}w||(g=g.slice(0,1));for(const C of g){const T=C;T.uid=Kw(),_(T),v&&l(T)}},l=async g=>{if(i.value.value="",!n.beforeUpload)return c(g);let v,y={};try{const w=n.data,_=n.beforeUpload(g);y=Vh(n.data)?Wv(n.data):n.data,v=await _,Vh(n.data)&&Yn(w,y)&&(y=Wv(n.data))}catch{v=!1}if(v===!1){n.onRemove(g);return}let b=g;v instanceof Blob&&(v instanceof File?b=v:b=new File([v],g.name,{type:g.type})),c(Object.assign(b,{uid:g.uid}),y)},u=async(g,v)=>Ye(g)?g(v):g,c=async(g,v)=>{const{headers:y,data:b,method:w,withCredentials:_,name:S,action:C,onProgress:T,onSuccess:x,onError:N,httpRequest:k}=n;try{v=await u(v??b,g)}catch{n.onRemove(g);return}const{uid:A}=g,O={headers:y||{},withCredentials:_,file:g,data:v,method:w,filename:S,action:C,onProgress:j=>{T(j,g)},onSuccess:j=>{x(j,g),delete a.value[A]},onError:j=>{N(j,g),delete a.value[A]}},F=k(O);a.value[A]=F,F instanceof Promise&&F.then(O.onSuccess,O.onError)},d=g=>{const v=g.target.files;v&&o(Array.from(v))},h=()=>{s.value||(i.value.value="",i.value.click())},p=()=>{h()};return t({abort:g=>{WO(a.value).filter(g?([y])=>String(g.uid)===y:()=>!0).forEach(([y,b])=>{b instanceof XMLHttpRequest&&b.abort(),delete a.value[y]})},upload:l}),(g,v)=>(I(),K("div",{class:M([f(r).b(),f(r).m(e.listType),f(r).is("drag",e.drag),f(r).is("disabled",f(s))]),tabindex:f(s)?void 0:0,"aria-disabled":f(s),role:"button",onClick:h,onKeydown:zn(at(p,["self"]),["enter","space"])},[e.drag?(I(),ce(Ghe,{key:0,disabled:f(s),directory:e.directory,onFile:o},{default:re(()=>[ie(g.$slots,"default")]),_:3},8,["disabled","directory"])):ie(g.$slots,"default",{key:1}),Z("input",{ref_key:"inputRef",ref:i,class:M(f(r).e("input")),name:e.name,disabled:f(s),multiple:e.multiple,accept:e.accept,webkitdirectory:e.directory||void 0,type:"file",onChange:d,onClick:v[0]||(v[0]=at(()=>{},["stop"]))},null,42,Yhe)],42,Zhe))}});const jT="ElUpload",VT=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},qhe=(e,t)=>{const n=zO(e,"fileList",void 0,{passive:!0}),r=m=>n.value.find(g=>g.uid===m.uid);function s(m){var g;(g=t.value)==null||g.abort(m)}function a(m=["ready","uploading","success","fail"]){n.value=n.value.filter(g=>!m.includes(g.status))}function i(m){n.value=n.value.filter(g=>g.uid!==m.uid)}const o=m=>{Fe(()=>e.onChange(m,n.value))},l=(m,g)=>{const v=r(g);v&&(console.error(m),v.status="fail",i(v),e.onError(m,v,n.value),o(v))},u=(m,g)=>{const v=r(g);v&&(e.onProgress(m,v,n.value),v.status="uploading",v.percentage=Math.round(m.percent))},c=(m,g)=>{const v=r(g);v&&(v.status="success",v.response=m,e.onSuccess(m,v,n.value),o(v))},d=m=>{or(m.uid)&&(m.uid=Kw());const g={name:m.name,percentage:0,status:"ready",size:m.size,raw:m,uid:m.uid};if(e.listType==="picture-card"||e.listType==="picture")try{g.url=URL.createObjectURL(m)}catch(v){v.message,e.onError(v,g,n.value)}n.value=[...n.value,g],o(g)},h=async m=>{const g=m instanceof File?r(m):m;g||fr(jT,"file to be removed not found");const v=y=>{s(y),i(y),e.onRemove(y,n.value),VT(y)};e.beforeRemove?await e.beforeRemove(g,n.value)!==!1&&v(g):v(g)};function p(){n.value.filter(({status:m})=>m==="ready").forEach(({raw:m})=>{var g;return m&&((g=t.value)==null?void 0:g.upload(m))})}return fe(()=>e.listType,m=>{m!=="picture-card"&&m!=="picture"||(n.value=n.value.map(g=>{const{raw:v,url:y}=g;if(!y&&v)try{g.url=URL.createObjectURL(v)}catch(b){e.onError(b,g,n.value)}return g}))}),fe(n,m=>{for(const g of m)g.uid||(g.uid=Kw()),g.status||(g.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:s,clearFiles:a,handleError:l,handleProgress:u,handleStart:d,handleSuccess:c,handleRemove:h,submit:p,revokeFileObjectURL:VT}};var Xhe=de({name:"ElUpload",__name:"upload",props:Phe,setup(e,{expose:t}){const n=e,r=Zn(),s=wn(),{abort:a,submit:i,clearFiles:o,uploadFiles:l,handleStart:u,handleError:c,handleRemove:d,handleSuccess:h,handleProgress:p,revokeFileObjectURL:m}=qhe(n,s),g=E(()=>n.listType==="picture-card"),v=E(()=>({...n,fileList:l.value,onStart:u,onProgress:p,onSuccess:h,onError:c,onRemove:d}));return en(()=>{l.value.forEach(m)}),At(WR,{accept:rn(n,"accept")}),t({abort:a,submit:i,clearFiles:o,handleStart:u,handleRemove:d}),(y,b)=>(I(),K("div",null,[g.value&&e.showFileList?(I(),ce(zT,{key:0,disabled:f(r),"list-type":e.listType,files:f(l),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:f(d)},Bs({append:re(()=>[q(BT,bt({ref_key:"uploadRef",ref:s},v.value),{default:re(()=>[y.$slots.trigger?ie(y.$slots,"trigger",{key:0}):le("v-if",!0),!y.$slots.trigger&&y.$slots.default?ie(y.$slots,"default",{key:1}):le("v-if",!0)]),_:3},16)]),_:2},[y.$slots.file?{name:"default",fn:re(({file:w,index:_})=>[ie(y.$slots,"file",{file:w,index:_})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):le("v-if",!0),!g.value||g.value&&!e.showFileList?(I(),ce(BT,bt({key:1,ref_key:"uploadRef",ref:s},v.value),{default:re(()=>[y.$slots.trigger?ie(y.$slots,"trigger",{key:0}):le("v-if",!0),!y.$slots.trigger&&y.$slots.default?ie(y.$slots,"default",{key:1}):le("v-if",!0)]),_:3},16)):le("v-if",!0),y.$slots.trigger?ie(y.$slots,"default",{key:2}):le("v-if",!0),ie(y.$slots,"tip"),!g.value&&e.showFileList?(I(),ce(zT,{key:3,disabled:f(r),"list-type":e.listType,files:f(l),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:f(d)},Bs({_:2},[y.$slots.file?{name:"default",fn:re(({file:w,index:_})=>[ie(y.$slots,"file",{file:w,index:_})]),key:"0"}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):le("v-if",!0)]))}});const Jhe=dt(Xhe),Qhe=$e({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:ne([String,Array]),default:"Element Plus"},font:{type:ne(Object)},gap:{type:ne(Array),default:()=>[100,100]},offset:{type:ne(Array)}});function epe(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function tpe(e){return Object.keys(e).map(t=>`${epe(t)}: ${e[t]};`).join(" ")}function npe(){return window.devicePixelRatio||1}const rpe=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(n=!0),n},spe={left:[0,.5],start:[0,.5],center:[.5,0],right:[1,-.5],end:[1,-.5]};function Ob(e,t,n=1){const r=document.createElement("canvas"),s=r.getContext("2d"),a=e*n,i=t*n;return r.setAttribute("width",`${a}px`),r.setAttribute("height",`${i}px`),s.save(),[s,r,a,i]}function ape(){function e(t,n,r,s,a,i,o,l,u){const[c,d,h,p]=Ob(s,a,r);let m=0;if(t instanceof HTMLImageElement)c.drawImage(t,0,0,h,p);else{const{color:U,fontSize:Q,fontStyle:J,fontWeight:B,fontFamily:P,textAlign:ae,textBaseline:ee}=i,oe=Number(Q)*r;c.font=`${J} normal ${B} ${oe}px/${a}px ${P}`,c.fillStyle=U,c.textAlign=ae,c.textBaseline=ee;const X=ke(t)?t:[t];if(ee!=="top"&&X[0]){const H=c.measureText(X[0]);c.textBaseline="top";const te=c.measureText(X[0]);m=H.actualBoundingBoxAscent-te.actualBoundingBoxAscent}X==null||X.forEach((H,te)=>{const[ue,ye]=spe[ae];c.fillText(H??"",h*ue+u*ye,te*(oe+i.fontGap*r))})}const g=Math.PI/180*Number(n),v=Math.max(s,a),[y,b,w]=Ob(v,v,r);y.translate(w/2,w/2),y.rotate(g),h>0&&p>0&&y.drawImage(d,-h/2,-p/2);function _(U,Q){const J=U*Math.cos(g)-Q*Math.sin(g),B=U*Math.sin(g)+Q*Math.cos(g);return[J,B]}let S=0,C=0,T=0,x=0;const N=h/2,k=p/2;[[0-N,0-k],[0+N,0-k],[0+N,0+k],[0-N,0+k]].forEach(([U,Q])=>{const[J,B]=_(U,Q);S=Math.min(S,J),C=Math.max(C,J),T=Math.min(T,B),x=Math.max(x,B)});const O=S+w/2,F=T+w/2,j=C-S,V=x-T,G=o*r,R=l*r,$=(j+G)*2,D=V+R,[z,W]=Ob($,D);function Y(U=0,Q=0){z.drawImage(b,O,F,j,V,U,Q+m,j,V)}return Y(),Y(j+G,-V/2-R/2),Y(j+G,+V/2+R/2),[W.toDataURL(),$/r,D/r]}return e}var ipe=de({name:"ElWatermark",__name:"watermark",props:Qhe,setup(e){const t={position:"relative"},n=e,r=E(()=>{var A,O;return(O=(A=n.font)==null?void 0:A.fontGap)!=null?O:3}),s=E(()=>{var A,O;return(O=(A=n.font)==null?void 0:A.color)!=null?O:"rgba(0,0,0,.15)"}),a=E(()=>{var A,O;return(O=(A=n.font)==null?void 0:A.fontSize)!=null?O:16}),i=E(()=>{var A,O;return(O=(A=n.font)==null?void 0:A.fontWeight)!=null?O:"normal"}),o=E(()=>{var A,O;return(O=(A=n.font)==null?void 0:A.fontStyle)!=null?O:"normal"}),l=E(()=>{var A,O;return(O=(A=n.font)==null?void 0:A.fontFamily)!=null?O:"sans-serif"}),u=E(()=>{var A,O;return(O=(A=n.font)==null?void 0:A.textAlign)!=null?O:"center"}),c=E(()=>{var A,O;return(O=(A=n.font)==null?void 0:A.textBaseline)!=null?O:"hanging"}),d=E(()=>n.gap[0]),h=E(()=>n.gap[1]),p=E(()=>d.value/2),m=E(()=>h.value/2),g=E(()=>{var A,O;return(O=(A=n.offset)==null?void 0:A[0])!=null?O:p.value}),v=E(()=>{var A,O;return(O=(A=n.offset)==null?void 0:A[1])!=null?O:m.value}),y=()=>{const A={zIndex:n.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let O=g.value-p.value,F=v.value-m.value;return O>0&&(A.left=`${O}px`,A.width=`calc(100% - ${O}px)`,O=0),F>0&&(A.top=`${F}px`,A.height=`calc(100% - ${F}px)`,F=0),A.backgroundPosition=`${O}px ${F}px`,A},b=wn(null),w=wn(),_=L(!1),S=()=>{w.value&&(w.value.remove(),w.value=void 0)},C=(A,O)=>{var F;b.value&&w.value&&(_.value=!0,w.value.setAttribute("style",tpe({...y(),backgroundImage:`url('${A}')`,backgroundSize:`${Math.floor(O)}px`})),(F=b.value)==null||F.append(w.value),setTimeout(()=>{_.value=!1}))},T=A=>{let O=120,F=64,j=0;const{image:V,content:G,width:R,height:$,rotate:D}=n;if(!V&&A.measureText){A.font=`${Number(a.value)}px ${l.value}`;const z=ke(G)?G:[G];let W=0,Y=0;z.forEach(Q=>{const{width:J,fontBoundingBoxAscent:B,fontBoundingBoxDescent:P,actualBoundingBoxAscent:ae,actualBoundingBoxDescent:ee}=A.measureText(Q),oe=Vt(B)?ae+ee:B+P;J>W&&(W=Math.ceil(J)),oe>Y&&(Y=Math.ceil(oe))}),O=W,F=Y*z.length+(z.length-1)*r.value;const U=Math.PI/180*Number(D);j=Math.ceil(Math.abs(Math.sin(U)*F)/2),O+=j}return[R??O,$??F,j]},x=ape(),N=()=>{const O=document.createElement("canvas").getContext("2d"),F=n.image,j=n.content,V=n.rotate;if(O){w.value||(w.value=document.createElement("div"));const G=npe(),[R,$,D]=T(O),z=W=>{const[Y,U]=x(W||"",V,G,R,$,{color:s.value,fontSize:a.value,fontStyle:o.value,fontWeight:i.value,fontFamily:l.value,fontGap:r.value,textAlign:u.value,textBaseline:c.value},d.value,h.value,D);C(Y,U)};if(F){const W=new Image;W.onload=()=>{z(W)},W.onerror=()=>{z(j)},W.crossOrigin="anonymous",W.referrerPolicy="no-referrer",W.src=F}else z(j)}};return _t(()=>{N()}),fe(()=>n,()=>{N()},{deep:!0,flush:"post"}),en(()=>{S()}),Xp(b,A=>{_.value||A.forEach(O=>{rpe(O,w.value)&&(S(),N())})},{attributes:!0,subtree:!0,childList:!0}),(A,O)=>(I(),K("div",{ref_key:"containerRef",ref:b,style:qe([t])},[ie(A.$slots,"default")],4))}});const ope=dt(ipe),lpe=["absolute","fixed"],upe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],_S=$e({placement:{type:ne(String),values:upe,default:"bottom"},reference:{type:ne(Object),default:null},strategy:{type:ne(String),values:lpe,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),cpe={close:()=>!0},dpe=$e({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:dn},placement:_S.placement,contentStyle:{type:ne([Object])},mask:{type:ne([Boolean,Object]),default:!0},gap:{type:ne(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:ne([Boolean,Object]),default:()=>({block:"center"})},type:{type:ne(String)},appendTo:{type:em.to.type,default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),fpe={[it]:e=>cn(e),"update:current":e=>Xe(e),close:e=>Xe(e),finish:()=>!0,change:e=>Xe(e)},hpe=$e({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:ne(Object)},targetAreaClickable:{type:Boolean,default:!0}}),qd=Math.min,Ju=Math.max,f0=Math.round,fg=Math.floor,io=e=>({x:e,y:e}),ppe={left:"right",right:"left",bottom:"top",top:"bottom"},mpe={start:"end",end:"start"};function Gw(e,t,n){return Ju(e,qd(t,n))}function hm(e,t){return typeof e=="function"?e(t):e}function dc(e){return e.split("-")[0]}function pm(e){return e.split("-")[1]}function KR(e){return e==="x"?"y":"x"}function SS(e){return e==="y"?"height":"width"}const gpe=new Set(["top","bottom"]);function Hl(e){return gpe.has(dc(e))?"y":"x"}function CS(e){return KR(Hl(e))}function vpe(e,t,n){n===void 0&&(n=!1);const r=pm(e),s=CS(e),a=SS(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=h0(i)),[i,h0(i)]}function ype(e){const t=h0(e);return[Zw(e),t,Zw(t)]}function Zw(e){return e.replace(/start|end/g,t=>mpe[t])}const HT=["left","right"],UT=["right","left"],bpe=["top","bottom"],wpe=["bottom","top"];function _pe(e,t,n){switch(e){case"top":case"bottom":return n?t?UT:HT:t?HT:UT;case"left":case"right":return t?bpe:wpe;default:return[]}}function Spe(e,t,n,r){const s=pm(e);let a=_pe(dc(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Zw)))),a}function h0(e){return e.replace(/left|right|bottom|top/g,t=>ppe[t])}function Cpe(e){return{top:0,right:0,bottom:0,left:0,...e}}function GR(e){return typeof e!="number"?Cpe(e):{top:e,right:e,bottom:e,left:e}}function p0(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function WT(e,t,n){let{reference:r,floating:s}=e;const a=Hl(t),i=CS(t),o=SS(i),l=dc(t),u=a==="y",c=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[o]/2-s[o]/2;let p;switch(l){case"top":p={x:c,y:r.y-s.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(pm(t)){case"start":p[i]-=h*(n&&u?-1:1);break;case"end":p[i]+=h*(n&&u?-1:1);break}return p}async function ZR(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=hm(t,e),m=GR(p),v=o[h?d==="floating"?"reference":"floating":d],y=p0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),b=d==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=p0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:w,strategy:l}):b);return{top:(y.top-S.top+m.top)/_.y,bottom:(S.bottom-y.bottom+m.bottom)/_.y,left:(y.left-S.left+m.left)/_.x,right:(S.right-y.right+m.right)/_.x}}const xpe=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,o=a.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:d}=WT(u,r,l),h=r,p={},m=0;for(let v=0;v<o.length;v++){var g;const{name:y,fn:b}=o[v],{x:w,y:_,data:S,reset:C}=await b({x:c,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:{...i,detectOverflow:(g=i.detectOverflow)!=null?g:ZR},elements:{reference:e,floating:t}});c=w??c,d=_??d,p={...p,[y]:{...p[y],...S}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:c,y:d}=WT(u,h,l)),v=-1)}return{x:c,y:d,placement:h,strategy:s,middlewareData:p}},Epe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:o,middlewareData:l}=t,{element:u,padding:c=0}=hm(e,t)||{};if(u==null)return{};const d=GR(c),h={x:n,y:r},p=CS(s),m=SS(p),g=await i.getDimensions(u),v=p==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=a.reference[m]+a.reference[p]-h[p]-a.floating[m],S=h[p]-a.reference[p],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let T=C?C[w]:0;(!T||!await(i.isElement==null?void 0:i.isElement(C)))&&(T=o.floating[w]||a.floating[m]);const x=_/2-S/2,N=T/2-g[m]/2-1,k=qd(d[y],N),A=qd(d[b],N),O=k,F=T-g[m]-A,j=T/2-g[m]/2+x,V=Gw(O,j,F),G=!l.arrow&&pm(s)!=null&&j!==V&&a.reference[m]/2-(j<O?k:A)-g[m]/2<0,R=G?j<O?j-O:j-F:0;return{[p]:h[p]+R,data:{[p]:V,centerOffset:j-V-R,...G&&{alignmentOffset:R}},reset:G}}}),Tpe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=hm(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=dc(s),b=Hl(o),w=dc(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=h||(w||!g?[h0(o)]:ype(o)),C=m!=="none";!h&&C&&S.push(...Spe(o,g,m,_));const T=[o,...S],x=await l.detectOverflow(t,v),N=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(c&&N.push(x[y]),d){const j=vpe(s,i,_);N.push(x[j[0]],x[j[1]])}if(k=[...k,{placement:s,overflows:N}],!N.every(j=>j<=0)){var A,O;const j=(((A=a.flip)==null?void 0:A.index)||0)+1,V=T[j];if(V&&(!(d==="alignment"?b!==Hl(V):!1)||k.every($=>Hl($.placement)===b?$.overflows[0]>0:!0)))return{data:{index:j,overflows:k},reset:{placement:V}};let G=(O=k.filter(R=>R.overflows[0]<=0).sort((R,$)=>R.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!G)switch(p){case"bestFit":{var F;const R=(F=k.filter($=>{if(C){const D=Hl($.placement);return D===b||D==="y"}return!0}).map($=>[$.placement,$.overflows.filter(D=>D>0).reduce((D,z)=>D+z,0)]).sort(($,D)=>$[1]-D[1])[0])==null?void 0:F[0];R&&(G=R);break}case"initialPlacement":G=o;break}if(s!==G)return{reset:{placement:G}}}return{}}}},kpe=new Set(["left","top"]);async function Npe(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=dc(n),o=pm(n),l=Hl(n)==="y",u=kpe.has(i)?-1:1,c=a&&l?-1:1,d=hm(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}const Ipe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:o}=t,l=await Npe(t,e);return i===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:a+l.y,data:{...l,placement:i}}}}},Ope=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...u}=hm(e,t),c={x:n,y:r},d=await a.detectOverflow(t,u),h=Hl(dc(s)),p=KR(h);let m=c[p],g=c[h];if(i){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=m+d[y],_=m-d[b];m=Gw(w,m,_)}if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=g+d[y],_=g-d[b];g=Gw(w,g,_)}const v=l.fn({...t,[p]:m,[h]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[h]:o}}}}}};function Wy(){return typeof window<"u"}function xf(e){return YR(e)?(e.nodeName||"").toLowerCase():"#document"}function wa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Co(e){var t;return(t=(YR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YR(e){return Wy()?e instanceof Node||e instanceof wa(e).Node:!1}function Si(e){return Wy()?e instanceof Element||e instanceof wa(e).Element:!1}function vo(e){return Wy()?e instanceof HTMLElement||e instanceof wa(e).HTMLElement:!1}function KT(e){return!Wy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wa(e).ShadowRoot}const $pe=new Set(["inline","contents"]);function mm(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ci(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!$pe.has(s)}const Ape=new Set(["table","td","th"]);function Rpe(e){return Ape.has(xf(e))}const Mpe=[":popover-open",":modal"];function Ky(e){return Mpe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ppe=["transform","translate","scale","rotate","perspective"],Lpe=["transform","translate","scale","rotate","perspective","filter"],Dpe=["paint","layout","strict","content"];function xS(e){const t=ES(),n=Si(e)?Ci(e):e;return Ppe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Lpe.some(r=>(n.willChange||"").includes(r))||Dpe.some(r=>(n.contain||"").includes(r))}function zpe(e){let t=ru(e);for(;vo(t)&&!Xd(t);){if(xS(t))return t;if(Ky(t))return null;t=ru(t)}return null}function ES(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Fpe=new Set(["html","body","#document"]);function Xd(e){return Fpe.has(xf(e))}function Ci(e){return wa(e).getComputedStyle(e)}function Gy(e){return Si(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ru(e){if(xf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KT(e)&&e.host||Co(e);return KT(t)?t.host:t}function qR(e){const t=ru(e);return Xd(t)?e.ownerDocument?e.ownerDocument.body:e.body:vo(t)&&mm(t)?t:qR(t)}function vp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=qR(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=wa(s);if(a){const o=Yw(i);return t.concat(i,i.visualViewport||[],mm(s)?s:[],o&&n?vp(o):[])}return t.concat(s,vp(s,[],n))}function Yw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function XR(e){const t=Ci(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=vo(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,o=f0(n)!==a||f0(r)!==i;return o&&(n=a,r=i),{width:n,height:r,$:o}}function TS(e){return Si(e)?e:e.contextElement}function Od(e){const t=TS(e);if(!vo(t))return io(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=XR(t);let i=(a?f0(n.width):n.width)/r,o=(a?f0(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const Bpe=io(0);function JR(e){const t=wa(e);return!ES()||!t.visualViewport?Bpe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jpe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wa(e)?!1:t}function fc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=TS(e);let i=io(1);t&&(r?Si(r)&&(i=Od(r)):i=Od(e));const o=jpe(a,n,r)?JR(a):io(0);let l=(s.left+o.x)/i.x,u=(s.top+o.y)/i.y,c=s.width/i.x,d=s.height/i.y;if(a){const h=wa(a),p=r&&Si(r)?wa(r):r;let m=h,g=Yw(m);for(;g&&r&&p!==m;){const v=Od(g),y=g.getBoundingClientRect(),b=Ci(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,_=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,d*=v.y,l+=w,u+=_,m=wa(g),g=Yw(m)}}return p0({width:c,height:d,x:l,y:u})}function Zy(e,t){const n=Gy(e).scrollLeft;return t?t.left+n:fc(Co(e)).left+n}function QR(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Zy(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function Vpe(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=Co(r),o=t?Ky(t.floating):!1;if(r===i||o&&a)return n;let l={scrollLeft:0,scrollTop:0},u=io(1);const c=io(0),d=vo(r);if((d||!d&&!a)&&((xf(r)!=="body"||mm(i))&&(l=Gy(r)),vo(r))){const p=fc(r);u=Od(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const h=i&&!d&&!a?QR(i,l):io(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-l.scrollTop*u.y+c.y+h.y}}function Hpe(e){return Array.from(e.getClientRects())}function Upe(e){const t=Co(e),n=Gy(e),r=e.ownerDocument.body,s=Ju(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ju(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Zy(e);const o=-n.scrollTop;return Ci(r).direction==="rtl"&&(i+=Ju(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:o}}const GT=25;function Wpe(e,t){const n=wa(e),r=Co(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,o=0,l=0;if(s){a=s.width,i=s.height;const c=ES();(!c||c&&t==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}const u=Zy(r);if(u<=0){const c=r.ownerDocument,d=c.body,h=getComputedStyle(d),p=c.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(r.clientWidth-d.clientWidth-p);m<=GT&&(a-=m)}else u<=GT&&(a+=u);return{width:a,height:i,x:o,y:l}}const Kpe=new Set(["absolute","fixed"]);function Gpe(e,t){const n=fc(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=vo(e)?Od(e):io(1),i=e.clientWidth*a.x,o=e.clientHeight*a.y,l=s*a.x,u=r*a.y;return{width:i,height:o,x:l,y:u}}function ZT(e,t,n){let r;if(t==="viewport")r=Wpe(e,n);else if(t==="document")r=Upe(Co(e));else if(Si(t))r=Gpe(t,n);else{const s=JR(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return p0(r)}function eM(e,t){const n=ru(e);return n===t||!Si(n)||Xd(n)?!1:Ci(n).position==="fixed"||eM(n,t)}function Zpe(e,t){const n=t.get(e);if(n)return n;let r=vp(e,[],!1).filter(o=>Si(o)&&xf(o)!=="body"),s=null;const a=Ci(e).position==="fixed";let i=a?ru(e):e;for(;Si(i)&&!Xd(i);){const o=Ci(i),l=xS(i);!l&&o.position==="fixed"&&(s=null),(a?!l&&!s:!l&&o.position==="static"&&!!s&&Kpe.has(s.position)||mm(i)&&!l&&eM(e,i))?r=r.filter(c=>c!==i):s=o,i=ru(i)}return t.set(e,r),r}function Ype(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Ky(t)?[]:Zpe(t,this._c):[].concat(n),r],o=i[0],l=i.reduce((u,c)=>{const d=ZT(t,c,s);return u.top=Ju(d.top,u.top),u.right=qd(d.right,u.right),u.bottom=qd(d.bottom,u.bottom),u.left=Ju(d.left,u.left),u},ZT(t,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function qpe(e){const{width:t,height:n}=XR(e);return{width:t,height:n}}function Xpe(e,t,n){const r=vo(t),s=Co(t),a=n==="fixed",i=fc(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=io(0);function u(){l.x=Zy(s)}if(r||!r&&!a)if((xf(t)!=="body"||mm(s))&&(o=Gy(t)),r){const p=fc(t,!0,a,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&u();a&&!r&&s&&u();const c=s&&!r&&!a?QR(s,o):io(0),d=i.left+o.scrollLeft-l.x-c.x,h=i.top+o.scrollTop-l.y-c.y;return{x:d,y:h,width:i.width,height:i.height}}function $b(e){return Ci(e).position==="static"}function YT(e,t){if(!vo(e)||Ci(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Co(e)===n&&(n=n.ownerDocument.body),n}function tM(e,t){const n=wa(e);if(Ky(e))return n;if(!vo(e)){let s=ru(e);for(;s&&!Xd(s);){if(Si(s)&&!$b(s))return s;s=ru(s)}return n}let r=YT(e,t);for(;r&&Rpe(r)&&$b(r);)r=YT(r,t);return r&&Xd(r)&&$b(r)&&!xS(r)?n:r||zpe(e)||n}const Jpe=async function(e){const t=this.getOffsetParent||tM,n=this.getDimensions,r=await n(e.floating);return{reference:Xpe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Qpe(e){return Ci(e).direction==="rtl"}const eme={convertOffsetParentRelativeRectToViewportRelativeRect:Vpe,getDocumentElement:Co,getClippingRect:Ype,getOffsetParent:tM,getElementRects:Jpe,getClientRects:Hpe,getDimensions:qpe,getScale:Od,isElement:Si,isRTL:Qpe};function nM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tme(e,t){let n=null,r;const s=Co(e);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function i(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const u=e.getBoundingClientRect(),{left:c,top:d,width:h,height:p}=u;if(o||t(),!h||!p)return;const m=fg(d),g=fg(s.clientWidth-(c+h)),v=fg(s.clientHeight-(d+p)),y=fg(c),w={rootMargin:-m+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Ju(0,qd(1,l))||1};let _=!0;function S(C){const T=C[0].intersectionRatio;if(T!==l){if(!_)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!nM(u,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return i(!0),a}function nme(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=TS(e),c=s||a?[...u?vp(u):[],...vp(t)]:[];c.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const d=u&&o?tme(u,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let m,g=l?fc(e):null;l&&v();function v(){const y=fc(e);g&&!nM(g,y)&&n(),g=y,m=requestAnimationFrame(v)}return n(),()=>{var y;c.forEach(b=>{s&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const rme=ZR,sme=Ipe,ame=Ope,ime=Tpe,ome=Epe,lme=(e,t,n)=>{const r=new Map,s={platform:eme,...n},a={...s.platform,_c:r};return xpe(e,t,{...s,platform:a})},ume=(e,t,n,r,s)=>{const a=L(null),i=()=>{let d;return Ke(e.value)?d=document.querySelector(e.value):Ye(e.value)?d=e.value():d=e.value,d},o=()=>{const d=i();if(!d||!t.value){a.value=null;return}cme(d)||d.scrollIntoView(s.value);const{left:h,top:p,width:m,height:g}=d.getBoundingClientRect();a.value={left:h,top:p,width:m,height:g,radius:0}};_t(()=>{fe([t,e],()=>{o()},{immediate:!0}),window.addEventListener("resize",o)}),en(()=>{window.removeEventListener("resize",o)});const l=d=>{var h;return(h=ke(n.value.offset)?n.value.offset[d]:n.value.offset)!=null?h:6},u=E(()=>{var d;if(!a.value)return a.value;const h=l(0),p=l(1),m=((d=n.value)==null?void 0:d.radius)||2;return{left:a.value.left-h,top:a.value.top-p,width:a.value.width+h*2,height:a.value.height+p*2,radius:m}}),c=E(()=>{const d=i();return!r.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var h,p,m,g;return window.DOMRect.fromRect({width:((h=u.value)==null?void 0:h.width)||0,height:((p=u.value)==null?void 0:p.height)||0,x:((m=u.value)==null?void 0:m.left)||0,y:((g=u.value)==null?void 0:g.top)||0})}}});return{mergedPosInfo:u,triggerTarget:c}},Yy=Symbol("ElTour");function cme(e){const t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:s,bottom:a,left:i}=e.getBoundingClientRect();return r>=0&&i>=0&&s<=t&&a<=n}const dme=(e,t,n,r,s,a,i,o)=>{const l=L(),u=L(),c=L({}),d={x:l,y:u,placement:r,strategy:s,middlewareData:c},h=E(()=>{const y=[sme(f(a)),ime(),ame(),fme()];return f(o)&&f(n)&&y.push(ome({element:f(n)})),y}),p=async()=>{if(!Yt)return;const y=f(e),b=f(t);if(!y||!b)return;const w=await lme(y,b,{placement:f(r),strategy:f(s),middleware:f(h)});tp(d).forEach(_=>{d[_].value=w[_]})},m=E(()=>{if(!f(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:f(i)};const{overflow:y}=f(c);return{position:f(s),zIndex:f(i),top:f(u)!=null?`${f(u)}px`:"",left:f(l)!=null?`${f(l)}px`:"",maxWidth:y!=null&&y.maxWidth?`${y==null?void 0:y.maxWidth}px`:""}}),g=E(()=>{if(!f(o))return{};const{arrow:y}=f(c);return{left:(y==null?void 0:y.x)!=null?`${y==null?void 0:y.x}px`:"",top:(y==null?void 0:y.y)!=null?`${y==null?void 0:y.y}px`:""}});let v;return _t(()=>{const y=f(e),b=f(t);y&&b&&(v=nme(y,b,p)),ea(()=>{p()})}),en(()=>{v&&v()}),{update:p,contentStyle:m,arrowStyle:g}},fme=()=>({name:"overflow",async fn(e){const t=await rme(e);let n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),hme={style:{width:"100%",height:"100%"}},pme=["d"];var mme=de({name:"ElTourMask",inheritAttrs:!1,__name:"mask",props:hpe,setup(e){const t=e,{ns:n}=Ve(Yy),r=E(()=>{var c,d;return(d=(c=t.pos)==null?void 0:c.radius)!=null?d:2}),s=E(()=>{const c=r.value,d=`a${c},${c} 0 0 1`;return{topRight:`${d} ${c},${c}`,bottomRight:`${d} ${-c},${c}`,bottomLeft:`${d} ${-c},${-c}`,topLeft:`${d} ${c},${-c}`}}),{width:a,height:i}=a6(),o=E(()=>{const c=a.value,d=i.value,h=s.value,p=`M${c},0 L0,0 L0,${d} L${c},${d} L${c},0 Z`,m=r.value;return t.pos?`${p} M${t.pos.left+m},${t.pos.top} h${t.pos.width-m*2} ${h.topRight} v${t.pos.height-m*2} ${h.bottomRight} h${-t.pos.width+m*2} ${h.bottomLeft} v${-t.pos.height+m*2} ${h.topLeft} z`:p}),l=E(()=>({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:t.zIndex,pointerEvents:t.pos&&t.targetAreaClickable?"none":"auto"})),u=E(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return jy(rn(t,"visible"),{ns:n}),(c,d)=>e.visible?(I(),K("div",bt({key:0,class:f(n).e("mask"),style:l.value},c.$attrs),[(I(),K("svg",hme,[Z("path",{class:M(f(n).e("hollow")),style:qe(u.value),d:o.value},null,14,pme)]))],16)):le("v-if",!0)}});const gme=["data-side"];var vme=de({name:"ElTourContent",__name:"content",props:_S,emits:cpe,setup(e,{emit:t}){const n=e,r=t,s=L(n.placement),a=L(n.strategy),i=L(null),o=L(null);fe(()=>n.placement,()=>{s.value=n.placement});const{contentStyle:l,arrowStyle:u}=dme(rn(n,"reference"),i,o,s,a,rn(n,"offset"),rn(n,"zIndex"),rn(n,"showArrow")),c=E(()=>s.value.split("-")[0]),{ns:d}=Ve(Yy),h=()=>{r("close")},p=m=>{m.detail.focusReason==="pointer"&&m.preventDefault()};return(m,g)=>(I(),K("div",{ref_key:"contentRef",ref:i,style:qe(f(l)),class:M(f(d).e("content")),"data-side":c.value,tabindex:"-1"},[q(f(Sf),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":i.value||void 0,onReleaseRequested:h,onFocusoutPrevented:p},{default:re(()=>[ie(m.$slots,"default")]),_:3},8,["focus-trap-el"]),e.showArrow?(I(),K("span",{key:0,ref_key:"arrowRef",ref:o,style:qe(f(u)),class:M(f(d).e("arrow"))},null,6)):le("v-if",!0)],14,gme))}}),yme=de({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:n}){let r=0;return()=>{var s,a;const i=(s=t.default)==null?void 0:s.call(t),o=[];let l=0;function u(c){ke(c)&&c.forEach(d=>{var h;((h=(d==null?void 0:d.type)||{})==null?void 0:h.name)==="ElTourStep"&&(o.push(d),l+=1)})}return i.length&&u(ha((a=i[0])==null?void 0:a.children)),r!==l&&(r=l,n("update-total",l)),o.length?o[e.current]:null}}}),bme=de({name:"ElTour",inheritAttrs:!1,__name:"tour",props:dpe,emits:fpe,setup(e,{emit:t}){const n=e,r=t,s=Se("tour"),a=L(0),i=L(),o=zO(n,"current",r,{passive:!0}),l=E(()=>{var k;return(k=i.value)==null?void 0:k.target}),u=E(()=>[s.b(),y.value==="primary"?s.m("primary"):""]),c=E(()=>{var k;return((k=i.value)==null?void 0:k.placement)||n.placement}),d=E(()=>{var k,A;return(A=(k=i.value)==null?void 0:k.contentStyle)!=null?A:n.contentStyle}),h=E(()=>{var k,A;return(A=(k=i.value)==null?void 0:k.mask)!=null?A:n.mask}),p=E(()=>!!h.value&&n.modelValue),m=E(()=>cn(h.value)?void 0:h.value),g=E(()=>{var k,A;return!!l.value&&((A=(k=i.value)==null?void 0:k.showArrow)!=null?A:n.showArrow)}),v=E(()=>{var k,A;return(A=(k=i.value)==null?void 0:k.scrollIntoViewOptions)!=null?A:n.scrollIntoViewOptions}),y=E(()=>{var k,A;return(A=(k=i.value)==null?void 0:k.type)!=null?A:n.type}),{nextZIndex:b}=Jp(),w=b(),_=E(()=>{var k;return(k=n.zIndex)!=null?k:w}),{mergedPosInfo:S,triggerTarget:C}=ume(l,rn(n,"modelValue"),rn(n,"gap"),h,v);fe(()=>n.modelValue,k=>{k||(o.value=0)});const T=()=>{n.closeOnPressEscape&&(r(it,!1),r("close",o.value))},x=k=>{a.value=k},N=nr();return At(Yy,{currentStep:i,current:o,total:a,showClose:rn(n,"showClose"),closeIcon:rn(n,"closeIcon"),mergedType:y,ns:s,slots:N,updateModelValue(k){r(it,k)},onClose(){r("close",o.value)},onFinish(){r("finish")},onChange(){r(It,o.value)}}),(k,A)=>(I(),K(Ge,null,[q(f(_f),{to:e.appendTo},{default:re(()=>{var O,F;return[Z("div",bt({class:u.value},k.$attrs),[q(mme,{visible:p.value,fill:(O=m.value)==null?void 0:O.color,style:qe((F=m.value)==null?void 0:F.style),pos:f(S),"z-index":_.value,"target-area-clickable":e.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),e.modelValue?(I(),ce(vme,{key:f(o),reference:f(C),placement:c.value,"show-arrow":g.value,"z-index":_.value,style:qe(d.value),onClose:T},{default:re(()=>[q(f(yme),{current:f(o),onUpdateTotal:x},{default:re(()=>[ie(k.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):le("v-if",!0)],16)]}),_:3},8,["to"]),le(" just for IDE "),le("v-if",!0)],64))}});const wme=$e({target:{type:ne([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:dn},showArrow:{type:Boolean,default:void 0},placement:_S.placement,mask:{type:ne([Boolean,Object]),default:void 0},contentStyle:{type:ne([Object])},prevButtonProps:{type:ne(Object)},nextButtonProps:{type:ne(Object)},scrollIntoViewOptions:{type:ne([Boolean,Object]),default:void 0},type:{type:ne(String)}}),_me={close:()=>!0},Sme=["aria-label"];var rM=de({name:"ElTourStep",__name:"step",props:wme,emits:_me,setup(e,{emit:t}){const n=e,r=t,{Close:s}=t$,{t:a}=Mt(),{currentStep:i,current:o,total:l,showClose:u,closeIcon:c,mergedType:d,ns:h,slots:p,updateModelValue:m,onClose:g,onFinish:v,onChange:y}=Ve(Yy);fe(n,k=>{i.value=k},{immediate:!0});const b=E(()=>{var k;return(k=n.showClose)!=null?k:u.value}),w=E(()=>{var k,A;return(A=(k=n.closeIcon)!=null?k:c.value)!=null?A:s}),_=k=>{if(k)return Zp(k,["children","onClick"])},S=()=>{var k,A;o.value-=1,(k=n.prevButtonProps)!=null&&k.onClick&&((A=n.prevButtonProps)==null||A.onClick()),y()},C=()=>{var k;o.value>=l.value-1?T():o.value+=1,(k=n.nextButtonProps)!=null&&k.onClick&&n.nextButtonProps.onClick(),y()},T=()=>{x(),v()},x=()=>{m(!1),g(),r("close")},N=k=>{const A=k.target;if(A!=null&&A.isContentEditable)return;switch(hn(k)){case Ne.left:k.preventDefault(),o.value>0&&S();break;case Ne.right:k.preventDefault(),C();break}};return _t(()=>{window.addEventListener("keydown",N)}),en(()=>{window.removeEventListener("keydown",N)}),(k,A)=>(I(),K(Ge,null,[b.value?(I(),K("button",{key:0,"aria-label":f(a)("el.tour.close"),class:M(f(h).e("closebtn")),type:"button",onClick:x},[q(f(We),{class:M(f(h).e("close"))},{default:re(()=>[(I(),ce(yt(w.value)))]),_:1},8,["class"])],10,Sme)):le("v-if",!0),Z("header",{class:M([f(h).e("header"),{"show-close":f(u)}])},[ie(k.$slots,"header",{},()=>[Z("span",{role:"heading",class:M(f(h).e("title"))},Ie(e.title),3)])],2),Z("div",{class:M(f(h).e("body"))},[ie(k.$slots,"default",{},()=>[Z("span",null,Ie(e.description),1)])],2),Z("footer",{class:M(f(h).e("footer"))},[Z("div",{class:M(f(h).b("indicators"))},[f(p).indicators?(I(),ce(yt(f(p).indicators),{key:0,current:f(o),total:f(l)},null,8,["current","total"])):(I(!0),K(Ge,{key:1},Ot(f(l),(O,F)=>(I(),K("span",{key:O,class:M([f(h).b("indicator"),f(h).is("active",F===f(o))])},null,2))),128))],2),Z("div",{class:M(f(h).b("buttons"))},[f(o)>0?(I(),ce(f(Nr),bt({key:0,size:"small",type:f(d)},_(e.prevButtonProps),{onClick:S}),{default:re(()=>{var O,F;return[gt(Ie((F=(O=e.prevButtonProps)==null?void 0:O.children)!=null?F:f(a)("el.tour.previous")),1)]}),_:1},16,["type"])):le("v-if",!0),f(o)<=f(l)-1?(I(),ce(f(Nr),bt({key:1,size:"small",type:f(d)==="primary"?"default":"primary"},_(e.nextButtonProps),{onClick:C}),{default:re(()=>{var O,F;return[gt(Ie((F=(O=e.nextButtonProps)==null?void 0:O.children)!=null?F:f(o)===f(l)-1?f(a)("el.tour.finish"):f(a)("el.tour.next")),1)]}),_:1},16,["type"])):le("v-if",!0)],2)],2)],64))}});const Cme=dt(bme,{TourStep:rM}),xme=Bn(rM),Eme=$e({container:{type:ne([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:ne(String),default:"default"},direction:{type:ne(String),default:"vertical"},selectScrollTop:Boolean}),Tme={change:e=>Ke(e),click:(e,t)=>e instanceof MouseEvent&&(Ke(t)||Vt(t))},sM=Symbol("anchor");function kme(e){let t=0;const n=(...r)=>{t&&Qo(t),t=ho(()=>{e(...r),t=0})};return n.cancel=()=>{Qo(t),t=0},n}const hg=e=>{if(!Yt||e==="")return null;if(Ke(e))try{return document.querySelector(e)}catch{return null}return e};var Nme=de({name:"ElAnchor",__name:"anchor",props:Eme,emits:Tme,setup(e,{expose:t,emit:n}){const r=e,s=n,a=nr(),i=L(""),o=L({}),l=L(null),u=L(null),c=L(),d={};let h=!1,p=0;const m=Se("anchor"),g=E(()=>[m.b(),r.type==="underline"?m.m("underline"):"",m.m(r.direction)]),v=O=>{d[O.href]=O.el},y=O=>{delete d[O]},b=O=>{i.value!==O&&(i.value=O,s(It,O))};let w=null,_="";const S=O=>{if(!c.value)return;const F=hg(O);if(!F)return;if(w){if(_===O)return;w()}_=O,h=!0;const j=Wx(F,c.value),V=dw(F,j),G=j.scrollHeight-j.clientHeight,R=Math.min(V-r.offset,G);w=iZ(c.value,p,R,r.duration,()=>{setTimeout(()=>{h=!1,_=""},20)})},C=O=>{O&&(b(O),S(O))},T=(O,F)=>{s("click",O,F),C(F)},x=kme(()=>{c.value&&(p=Kx(c.value));const O=N();h||Vt(O)||b(O)}),N=()=>{if(!c.value)return;const O=Kx(c.value),F=[];for(const j of Object.keys(d)){const V=hg(j);if(!V)continue;const G=Wx(V,c.value),R=dw(V,G);F.push({top:R-r.offset-r.bound,href:j})}F.sort((j,V)=>j.top-V.top);for(let j=0;j<F.length;j++){const V=F[j],G=F[j+1];if(j===0&&O===0)return r.selectScrollTop?V.href:"";if(V.top<=O&&(!G||G.top>O))return V.href}},k=()=>{const O=hg(r.container);!O||Yp(O)?c.value=window:c.value=O};nn(c,"scroll",x);const A=()=>{Fe(()=>{if(!l.value||!u.value||!i.value){o.value={};return}const O=d[i.value];if(!O){o.value={};return}const F=l.value.getBoundingClientRect(),j=u.value.getBoundingClientRect(),V=O.getBoundingClientRect();if(r.direction==="horizontal"){const G=V.left-F.left;o.value={left:`${G}px`,width:`${V.width}px`,opacity:1}}else{const G=V.top-F.top+(V.height-j.height)/2;o.value={top:`${G}px`,opacity:1}}})};return fe(i,A),fe(()=>{var O;return(O=a.default)==null?void 0:O.call(a)},A),_t(()=>{k();const O=decodeURIComponent(window.location.hash);hg(O)?C(O):x()}),fe(()=>r.container,()=>{k()}),At(sM,{ns:m,direction:r.direction,currentAnchor:i,addLink:v,removeLink:y,handleClick:T}),t({scrollTo:C}),(O,F)=>(I(),K("div",{ref_key:"anchorRef",ref:l,class:M(g.value)},[e.marker?(I(),K("div",{key:0,ref_key:"markerRef",ref:u,class:M(f(m).e("marker")),style:qe(o.value)},null,6)):le("v-if",!0),Z("div",{class:M(f(m).e("list"))},[ie(O.$slots,"default")],2)],2))}});const Ime=$e({title:String,href:String}),Ome=["href"];var aM=de({name:"ElAnchorLink",__name:"anchor-link",props:Ime,setup(e){const t=e,n=L(null),{ns:r,direction:s,currentAnchor:a,addLink:i,removeLink:o,handleClick:l}=Ve(sM),u=E(()=>[r.e("link"),r.is("active",a.value===t.href)]),c=d=>{l(d,t.href)};return fe(()=>t.href,(d,h)=>{Fe(()=>{h&&o(h),d&&i({href:d,el:n.value})})}),_t(()=>{const{href:d}=t;d&&i({href:d,el:n.value})}),en(()=>{const{href:d}=t;d&&o(d)}),(d,h)=>(I(),K("div",{class:M(f(r).e("item"))},[Z("a",{ref_key:"linkRef",ref:n,class:M(u.value),href:e.href,onClick:c},[ie(d.$slots,"default",{},()=>[gt(Ie(e.title),1)])],10,Ome),d.$slots["sub-link"]&&f(s)==="vertical"?(I(),K("div",{key:0,class:M(f(r).e("list"))},[ie(d.$slots,"sub-link")],2)):le("v-if",!0)],2))}});const $me=dt(Nme,{AnchorLink:aM}),Ame=Bn(aM),iM={label:"label",value:"value",disabled:"disabled"},Rme=$e({direction:{type:ne(String),default:"horizontal"},options:{type:ne(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:ne(Object),default:()=>iM},block:Boolean,size:wr,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},id:String,name:String,...Ts(["ariaLabel"])}),Mme={[it]:e=>Ke(e)||Xe(e)||cn(e),[It]:e=>Ke(e)||Xe(e)||cn(e)},Pme=["id","aria-label","aria-labelledby"],Lme=["name","disabled","checked","onChange"];var Dme=de({name:"ElSegmented",__name:"segmented",props:Rme,emits:Mme,setup(e,{emit:t}){const n=e,r=t,s=Se("segmented"),a=Zr(),i=gr(),o=Zn(),{formItem:l}=Br(),{inputId:u,isLabeledByFormItem:c}=Ta(n,{formItemContext:l}),d=L(null),h=jG(),p=Xt({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),m=(O,F)=>{const j=y(F);r(it,j),r(It,j),O.target.checked=j===n.modelValue},g=E(()=>({...iM,...n.props})),v=O=>O,y=O=>ht(O)?O[g.value.value]:O,b=O=>ht(O)?O[g.value.label]:O,w=O=>!!(o.value||ht(O)&&O[g.value.disabled]),_=O=>n.modelValue===y(O),S=O=>n.options.find(F=>y(F)===O),C=O=>[s.e("item"),s.is("selected",_(O)),s.is("disabled",w(O))],T=()=>{if(!d.value)return;const O=d.value.querySelector(".is-selected"),F=d.value.querySelector(".is-selected input");if(!O||!F){p.width=0,p.height=0,p.translateX=0,p.translateY=0,p.focusVisible=!1;return}p.isInit=!0,n.direction==="vertical"?(p.height=O.offsetHeight,p.translateY=O.offsetTop):(p.width=O.offsetWidth,p.translateX=O.offsetLeft);try{p.focusVisible=F.matches(":focus-visible")}catch{}},x=E(()=>[s.b(),s.m(i.value),s.is("block",n.block)]),N=E(()=>({width:n.direction==="vertical"?"100%":`${p.width}px`,height:n.direction==="vertical"?`${p.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${p.translateY}px)`:`translateX(${p.translateX}px)`,display:p.isInit?"block":"none"})),k=E(()=>[s.e("item-selected"),s.is("disabled",w(S(n.modelValue))),s.is("focus-visible",p.focusVisible)]),A=E(()=>n.name||a.value);return $n(d,T),fe(h,T),fe(()=>n.modelValue,()=>{var O;T(),n.validateEvent&&((O=l==null?void 0:l.validate)==null||O.call(l,"change").catch(F=>void 0))},{flush:"post"}),(O,F)=>e.options.length?(I(),K("div",{key:0,id:f(u),ref_key:"segmentedRef",ref:d,class:M(x.value),role:"radiogroup","aria-label":f(c)?void 0:e.ariaLabel||"segmented","aria-labelledby":f(c)?f(l).labelId:void 0},[Z("div",{class:M([f(s).e("group"),f(s).m(e.direction)])},[Z("div",{style:qe(N.value),class:M(k.value)},null,6),(I(!0),K(Ge,null,Ot(e.options,(j,V)=>(I(),K("label",{key:V,class:M(C(j))},[Z("input",{class:M(f(s).e("item-input")),type:"radio",name:A.value,disabled:w(j),checked:_(j),onChange:G=>m(G,j)},null,42,Lme),Z("div",{class:M(f(s).e("item-label"))},[ie(O.$slots,"default",{item:v(j)},()=>[gt(Ie(b(j)),1)])],2)],2))),128))],2)],10,Pme)):le("v-if",!0)}});const zme=dt(Dme),Fme=(e,t)=>{const n=e.toLowerCase();return(t.label||t.value||"").toLowerCase().includes(n)},Bme=(e,t,n)=>{const{selectionEnd:r}=e;if(r===null)return;const s=e.value,a=Dr(t);let i=-1,o;for(let l=r-1;l>=0;--l){const u=s[l];if(u===n||u===`
`||u==="\r"){i=l;continue}if(a.includes(u)){const c=i===-1?r:i;o={pattern:s.slice(l+1,c),start:l+1,end:c,prefix:u,prefixIndex:l,splitIndex:i,selectionEnd:r};break}}return o},jme=(e,t={debug:!1,useSelectionEnd:!1})=>{const n=e.selectionStart!==null?e.selectionStart:0,r=e.selectionEnd!==null?e.selectionEnd:0,s=t.useSelectionEnd?r:n,a=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const h=document.querySelector("#input-textarea-caret-position-mirror-div");h!=null&&h.parentNode&&h.parentNode.removeChild(h)}const i=document.createElement("div");i.id="input-textarea-caret-position-mirror-div",document.body.appendChild(i);const o=i.style,l=window.getComputedStyle(e),u=e.nodeName==="INPUT";o.whiteSpace=u?"nowrap":"pre-wrap",u||(o.wordWrap="break-word"),o.position="absolute",t.debug||(o.visibility="hidden"),a.forEach(h=>{if(u&&h==="lineHeight")if(l.boxSizing==="border-box"){const p=Number.parseInt(l.height),m=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),g=m+Number.parseInt(l.lineHeight);p>g?o.lineHeight=`${p-m}px`:p===g?o.lineHeight=l.lineHeight:o.lineHeight="0"}else o.lineHeight=l.height;else o[h]=l[h]}),C6()?e.scrollHeight>Number.parseInt(l.height)&&(o.overflowY="scroll"):o.overflow="hidden",i.textContent=e.value.slice(0,Math.max(0,s)),u&&i.textContent&&(i.textContent=i.textContent.replace(/\s/g,""));const c=document.createElement("span");c.textContent=e.value.slice(Math.max(0,s))||".",c.style.position="relative",c.style.left=`${-e.scrollLeft}px`,c.style.top=`${-e.scrollTop}px`,i.appendChild(c);const d={top:c.offsetTop+Number.parseInt(l.borderTopWidth),left:c.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return t.debug?c.style.backgroundColor="#aaa":document.body.removeChild(i),d.left>=e.clientWidth&&(d.left=e.clientWidth),d},Vme=$e({...sm,options:{type:ne(Array),default:()=>[]},prefix:{type:ne([String,Array]),default:"@",validator:e=>Ke(e)?e.length===1:e.every(t=>Ke(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:ne([Boolean,Function]),default:()=>Fme,validator:e=>e===!1?!0:Ye(e)},placement:{type:ne(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:ne(Function)},modelValue:String,loading:Boolean,popperClass:un.popperClass,popperStyle:un.popperStyle,popperOptions:{type:ne(Object),default:()=>({})},props:{type:ne(Object),default:()=>oM}}),Hme={[it]:e=>Ke(e),"whole-remove":(e,t)=>Ke(e)&&Ke(t),input:e=>Ke(e),search:(e,t)=>Ke(e)&&Ke(t),select:(e,t)=>ht(e)&&Ke(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},oM={value:"value",label:"label",disabled:"disabled"},Ume=$e({options:{type:ne(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Wme={select:e=>Ke(e.value)},Kme=["id","aria-disabled","aria-selected","onMousemove","onClick"];var Gme=de({name:"ElMentionDropdown",__name:"mention-dropdown",props:Ume,emits:Wme,setup(e,{expose:t,emit:n}){const r=e,s=n,a=Se("mention"),{t:i}=Mt(),o=L(-1),l=L(),u=L(),c=L(),d=(_,S)=>[a.be("dropdown","item"),a.is("hovering",o.value===S),a.is("disabled",_.disabled||r.disabled)],h=_=>{_.disabled||r.disabled||s("select",_)},p=_=>{o.value=_},m=E(()=>r.disabled||r.options.every(_=>_.disabled)),g=E(()=>r.options[o.value]),v=()=>{g.value&&s("select",g.value)},y=_=>{const{options:S}=r;if(S.length===0||m.value)return;_==="next"?(o.value++,o.value===S.length&&(o.value=0)):_==="prev"&&(o.value--,o.value<0&&(o.value=S.length-1));const C=S[o.value];if(C.disabled){y(_);return}Fe(()=>b(C))},b=_=>{var S,C,T,x;const{options:N}=r,k=N.findIndex(O=>O.value===_.value),A=(S=u.value)==null?void 0:S[k];if(A){const O=(T=(C=c.value)==null?void 0:C.querySelector)==null?void 0:T.call(C,`.${a.be("dropdown","wrap")}`);O&&l6(O,A)}(x=l.value)==null||x.handleScroll()};return fe(()=>r.options,()=>{m.value||r.options.length===0?o.value=-1:o.value=0},{immediate:!0}),t({hoveringIndex:o,navigateOptions:y,selectHoverOption:v,hoverOption:g}),(_,S)=>(I(),K("div",{ref_key:"dropdownRef",ref:c,class:M(f(a).b("dropdown"))},[_.$slots.header?(I(),K("div",{key:0,class:M(f(a).be("dropdown","header"))},[ie(_.$slots,"header")],2)):le("v-if",!0),vt(q(f(bi),{id:e.contentId,ref_key:"scrollbarRef",ref:l,tag:"ul","wrap-class":f(a).be("dropdown","wrap"),"view-class":f(a).be("dropdown","list"),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:re(()=>[(I(!0),K(Ge,null,Ot(e.options,(C,T)=>(I(),K("li",{id:`${e.contentId}-${T}`,ref_for:!0,ref_key:"optionRefs",ref:u,key:T,class:M(d(C,T)),role:"option","aria-disabled":C.disabled||e.disabled||void 0,"aria-selected":o.value===T,onMousemove:x=>p(T),onClick:at(x=>h(C),["stop"])},[ie(_.$slots,"label",{item:C,index:T},()=>{var x;return[Z("span",null,Ie((x=C.label)!=null?x:C.value),1)]})],42,Kme))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[Kt,e.options.length>0&&!e.loading]]),e.loading?(I(),K("div",{key:1,class:M(f(a).be("dropdown","loading"))},[ie(_.$slots,"loading",{},()=>[gt(Ie(f(i)("el.mention.loading")),1)])],2)):le("v-if",!0),_.$slots.footer?(I(),K("div",{key:2,class:M(f(a).be("dropdown","footer"))},[ie(_.$slots,"footer")],2)):le("v-if",!0)],2))}}),Zme=de({name:"ElMention",inheritAttrs:!1,__name:"mention",props:Vme,emits:Hme,setup(e,{expose:t,emit:n}){const r=e,s=n,a=E(()=>Jo(r,Object.keys(sm))),i=Se("mention"),o=Zn(),l=Zr(),u=L(),c=L(),d=L(),h=L(!1),p=L(),m=L(),g=E(()=>r.showArrow?r.placement:`${r.placement}-start`),v=E(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),y=E(()=>({...oM,...r.props})),b=R=>{const $={label:R[y.value.label],value:R[y.value.value],disabled:R[y.value.disabled]};return{...R,...$}},w=E(()=>r.options.map(b)),_=E(()=>{const{filterOption:R}=r;return!m.value||!R?w.value:w.value.filter($=>R(m.value.pattern,$))}),S=E(()=>h.value&&(!!_.value.length||r.loading)),C=E(()=>{var R;return`${l.value}-${(R=d.value)==null?void 0:R.hoveringIndex}`}),T=R=>{s(it,R),s(mr,R),j()},x=R=>{var $,D,z,W;if(($=u.value)!=null&&$.isComposing)return;const Y=hn(R);switch(Y){case Ne.left:case Ne.right:j();break;case Ne.up:case Ne.down:if(!h.value)return;R.preventDefault(),(D=d.value)==null||D.navigateOptions(Y===Ne.up?"prev":"next");break;case Ne.enter:case Ne.numpadEnter:if(!h.value){r.type!=="textarea"&&j();return}R.preventDefault(),(z=d.value)!=null&&z.hoverOption?(W=d.value)==null||W.selectHoverOption():h.value=!1;break;case Ne.esc:if(!h.value)return;R.preventDefault(),h.value=!1;break;case Ne.backspace:if(r.whole&&m.value){const{splitIndex:U,selectionEnd:Q,pattern:J,prefixIndex:B,prefix:P}=m.value,ae=F();if(!ae)return;const ee=ae.value,oe=w.value.find(H=>H.value===J);if((Ye(r.checkIsWhole)?r.checkIsWhole(J,P):oe)&&U!==-1&&U+1===Q){R.preventDefault();const H=ee.slice(0,B)+ee.slice(U+1);s(it,H),s(mr,H),s("whole-remove",J,P);const te=B;Fe(()=>{ae.selectionStart=te,ae.selectionEnd=te,G()})}}}},{wrapperRef:N}=pl(u,{disabled:o,afterFocus(){j()},beforeBlur(R){var $;return($=c.value)==null?void 0:$.isFocusInsideContent(R)},afterBlur(){h.value=!1}}),k=()=>{j()},A=R=>r.options.find($=>R.value===$[y.value.value]),O=R=>{if(!m.value)return;const $=F();if(!$)return;const D=$.value,{split:z}=r,W=D.slice(m.value.end),Y=W.startsWith(z),U=`${R.value}${Y?"":z}`,Q=D.slice(0,m.value.start)+U+W;s(it,Q),s(mr,Q),s("select",A(R),m.value.prefix);const J=m.value.start+U.length+(Y?1:0);Fe(()=>{$.selectionStart=J,$.selectionEnd=J,$.focus(),G()})},F=()=>{var R,$;return r.type==="textarea"?(R=u.value)==null?void 0:R.textarea:($=u.value)==null?void 0:$.input},j=()=>{setTimeout(()=>{V(),G(),Fe(()=>{var R;return(R=c.value)==null?void 0:R.updatePopper()})},0)},V=()=>{const R=F();if(!R)return;const $=jme(R),D=R.getBoundingClientRect(),z=N.value.getBoundingClientRect();p.value={position:"absolute",width:0,height:`${$.height}px`,left:`${$.left+D.left-z.left}px`,top:`${$.top+D.top-z.top}px`}},G=()=>{const R=F();if(document.activeElement!==R){h.value=!1;return}const{prefix:$,split:D}=r;if(m.value=Bme(R,$,D),m.value&&m.value.splitIndex===-1){h.value=!0,s("search",m.value.pattern,m.value.prefix);return}h.value=!1};return t({input:u,tooltip:c,dropdownVisible:S}),(R,$)=>(I(),K("div",{ref_key:"wrapperRef",ref:N,class:M(f(i).b())},[q(f(ys),bt(bt(a.value,R.$attrs),{ref_key:"elInputRef",ref:u,"model-value":e.modelValue,disabled:f(o),role:S.value?"combobox":void 0,"aria-activedescendant":S.value?C.value||"":void 0,"aria-controls":S.value?f(l):void 0,"aria-expanded":S.value||void 0,"aria-label":e.ariaLabel,"aria-autocomplete":S.value?"none":void 0,"aria-haspopup":S.value?"listbox":void 0,onInput:T,onKeydown:x,onMousedown:k}),Bs({_:2},[Ot(R.$slots,(D,z)=>({name:z,fn:re(W=>[ie(R.$slots,z,Ho(Uo(W)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),q(f(zr),{ref_key:"tooltipRef",ref:c,visible:S.value,"popper-class":[f(i).e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,placement:g.value,"fallback-placements":v.value,effect:"light",pure:"",offset:e.offset,"show-arrow":e.showArrow},{default:re(()=>[Z("div",{style:qe(p.value)},null,4)]),content:re(()=>[q(Gme,{ref_key:"dropdownRef",ref:d,options:_.value,disabled:f(o),loading:e.loading,"content-id":f(l),"aria-label":e.ariaLabel,onSelect:O,onClick:$[0]||($[0]=at(D=>{var z;return(z=u.value)==null?void 0:z.focus()},["stop"]))},Bs({_:2},[Ot(R.$slots,(D,z)=>({name:z,fn:re(W=>[ie(R.$slots,z,Ho(Uo(W)))])}))]),1032,["options","disabled","loading","content-id","aria-label"])]),_:3},8,["visible","popper-class","popper-style","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});const Yme=dt(Zme),qme=$e({layout:{type:String,default:"horizontal",values:["horizontal","vertical"]},lazy:Boolean}),Xme={resizeStart:(e,t)=>!0,resize:(e,t)=>!0,resizeEnd:(e,t)=>!0,collapse:(e,t,n)=>!0},lM=Symbol("splitterRootContextKey");function Jme(e){const t=L(),{width:n,height:r}=X2(t),s=E(()=>e.value==="horizontal"?n.value:r.value);return{containerEl:t,containerSize:s}}function kS(e){return Number(e.slice(0,-1))/100}function NS(e){return Number(e.slice(0,-2))}function IS(e){return Ke(e)&&e.endsWith("%")}function OS(e){return Ke(e)&&e.endsWith("px")}function Qme(e,t){const n=E(()=>e.value.map(o=>o.size)),r=E(()=>e.value.length),s=L([]);fe([n,r,t],()=>{var o;let l=[],u=0;for(let d=0;d<r.value;d+=1){const h=(o=e.value[d])==null?void 0:o.size;if(IS(h))l[d]=kS(h);else if(OS(h))l[d]=NS(h)/t.value;else if(h||h===0){const p=Number(h);Number.isNaN(p)||(l[d]=p/t.value)}else u+=1,l[d]=void 0}const c=l.reduce((d,h)=>d+(h||0),0);if(c>1||!u){const d=1/c;l=l.map(h=>h===void 0?0:h*d)}else{const d=(1-c)/u;l=l.map(h=>h===void 0?d:h)}s.value=l});const a=o=>o*t.value,i=E(()=>s.value.map(a));return{percentSizes:s,pxSizes:i}}function ege(e,t,n,r){const s=v=>v*t.value||0;function a(v,y){return IS(v)?s(kS(v)):OS(v)?NS(v):v??y}const i=L(0),o=L(null);let l=[],u=tn;const c=E(()=>e.value.map(v=>[v.min,v.max]));fe(r,()=>{if(i.value){const v=new MouseEvent("mouseup",{bubbles:!0});window.dispatchEvent(v)}});const d=v=>{i.value=0,o.value={index:v,confirmed:!1},l=n.value},h=(v,y)=>{var b,w;let _=null;if((!o.value||!o.value.confirmed)&&y!==0){if(y>0)_=v,o.value={index:v,confirmed:!0};else for(let F=v;F>=0;F-=1)if(l[F]>0){_=F,o.value={index:F,confirmed:!0};break}}const S=(w=_??((b=o.value)==null?void 0:b.index))!=null?w:v,C=[...l],T=S+1,x=a(c.value[S][0],0),N=a(c.value[T][0],0),k=a(c.value[S][1],t.value||0),A=a(c.value[T][1],t.value||0);let O=y;C[S]+O<x&&(O=x-C[S]),C[T]-O<N&&(O=C[T]-N),C[S]+O>k&&(O=k-C[S]),C[T]-O>A&&(O=C[T]-A),C[S]+=O,C[T]-=O,i.value=O,u=()=>{e.value.forEach((F,j)=>{F.size=C[j]}),u=tn},r.value||u()},p=()=>{r.value&&u(),i.value=0,o.value=null,l=[]},m=[];return{lazyOffset:i,onMoveStart:d,onMoving:h,onMoveEnd:p,movingIndex:o,onCollapse:(v,y)=>{m.length||m.push(...n.value);const b=n.value,w=y==="start"?v:v+1,_=y==="start"?v+1:v,S=b[w],C=b[_];if(S!==0&&C!==0)b[w]=0,b[_]+=S,m[v]=S;else{const T=S+C,x=m[v],N=T-x;b[_]=x,b[w]=N}e.value.forEach((T,x)=>{T.size=b[x]})}}}var tge=de({name:"ElSplitter",__name:"splitter",props:qme,emits:Xme,setup(e,{emit:t}){const n=Se("splitter"),r=t,s=e,a=rn(s,"layout"),i=rn(s,"lazy"),{containerEl:o,containerSize:l}=Jme(a),{removeChild:u,children:c,addChild:d,ChildrenSorter:h}=Dy(wt(),"ElSplitterPanel");fe(c,()=>{v.value=null,c.value.forEach((k,A)=>{k.setIndex(A)})});const{percentSizes:p,pxSizes:m}=Qme(c,l),{lazyOffset:g,movingIndex:v,onMoveStart:y,onMoving:b,onMoveEnd:w,onCollapse:_}=ege(c,l,m,i),S=E(()=>({[n.cssVarBlockName("bar-offset")]:i.value?`${g.value}px`:void 0}));return At(lM,Xt({panels:c,percentSizes:p,pxSizes:m,layout:a,lazy:i,movingIndex:v,containerSize:l,onMoveStart:k=>{y(k),r("resizeStart",k,m.value)},onMoving:(k,A)=>{b(k,A),i.value||r("resize",k,m.value)},onMoveEnd:async k=>{w(),await Fe(),r("resizeEnd",k,m.value)},onCollapse:(k,A)=>{_(k,A),r("collapse",k,A,m.value)},registerPanel:d,unregisterPanel:u})),(k,A)=>(I(),K("div",{ref_key:"containerEl",ref:o,class:M([f(n).b(),f(n).e(a.value)]),style:qe(S.value)},[ie(k.$slots,"default"),q(f(h)),le(" Prevent iframe touch events from breaking "),f(v)?(I(),K("div",{key:0,class:M([f(n).e("mask"),f(n).e(`mask-${a.value}`)])},null,2)):le("v-if",!0)],6))}});const nge=$e({min:{type:[String,Number]},max:{type:[String,Number]},size:{type:[String,Number]},resizable:{type:Boolean,default:!0},collapsible:Boolean}),rge={"update:size":e=>typeof e=="number"||typeof e=="string"};function sge(e){return e&&ht(e)?e:{start:!!e,end:!!e}}function qT(e,t,n,r){return!!(e!=null&&e.collapsible.end&&t>0||n!=null&&n.collapsible.start&&r===0&&t>0)}var age=de({name:"ElSplitterBar",__name:"split-bar",props:{index:{type:Number,required:!0},layout:{type:String,values:["horizontal","vertical"],default:"horizontal"},resizable:{type:Boolean,default:!0},lazy:Boolean,startCollapsible:Boolean,endCollapsible:Boolean},emits:["moveStart","moving","moveEnd","collapse"],setup(e,{emit:t}){const n=Se("splitter-bar"),r=e,s=t,a=E(()=>r.layout==="horizontal"),i=E(()=>a.value?{width:0}:{height:0}),o=E(()=>({width:a.value?"16px":"100%",height:a.value?"100%":"16px",cursor:r.resizable?a.value?"ew-resize":"ns-resize":"auto",touchAction:"none"})),l=E(()=>{const b=n.e("dragger");return{[`${b}-horizontal`]:a.value,[`${b}-vertical`]:!a.value,[`${b}-active`]:!!u.value}}),u=L(null),c=b=>{r.resizable&&(u.value=[b.pageX,b.pageY],s("moveStart",r.index),window.addEventListener("mouseup",m),window.addEventListener("mousemove",h))},d=b=>{if(r.resizable&&b.touches.length===1){b.preventDefault();const w=b.touches[0];u.value=[w.pageX,w.pageY],s("moveStart",r.index),window.addEventListener("touchend",g),window.addEventListener("touchmove",p)}},h=b=>{const{pageX:w,pageY:_}=b,S=w-u.value[0],C=_-u.value[1],T=a.value?S:C;s("moving",r.index,T)},p=b=>{if(b.touches.length===1){b.preventDefault();const w=b.touches[0],_=w.pageX-u.value[0],S=w.pageY-u.value[1],C=a.value?_:S;s("moving",r.index,C)}},m=()=>{u.value=null,window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",h),s("moveEnd",r.index)},g=()=>{u.value=null,window.removeEventListener("touchend",g),window.removeEventListener("touchmove",p),s("moveEnd",r.index)},v=E(()=>a.value?el:Iy),y=E(()=>a.value?_s:Ri);return(b,w)=>(I(),K("div",{class:M([f(n).b()]),style:qe(i.value)},[e.startCollapsible?(I(),K("div",{key:0,class:M([f(n).e("collapse-icon"),f(n).e(`${e.layout}-collapse-icon-start`)]),onClick:w[0]||(w[0]=_=>s("collapse",e.index,"start"))},[ie(b.$slots,"start-collapsible",{},()=>[(I(),ce(yt(v.value),{style:{width:"12px",height:"12px"}}))])],2)):le("v-if",!0),Z("div",{class:M([f(n).e("dragger"),l.value,f(n).is("disabled",!e.resizable),f(n).is("lazy",e.resizable&&e.lazy)]),style:qe(o.value),onMousedown:c,onTouchstart:d},null,38),e.endCollapsible?(I(),K("div",{key:1,class:M([f(n).e("collapse-icon"),f(n).e(`${e.layout}-collapse-icon-end`)]),onClick:w[1]||(w[1]=_=>s("collapse",e.index,"end"))},[ie(b.$slots,"end-collapsible",{},()=>[(I(),ce(yt(y.value),{style:{width:"12px",height:"12px"}}))])],2)):le("v-if",!0)],6))}});const XT="ElSplitterPanel";var uM=de({name:XT,__name:"split-panel",props:nge,emits:rge,setup(e,{expose:t,emit:n}){const r=Se("splitter-panel"),s=e,a=n,i=Ve(lM);i||fr(XT,"usage: <el-splitter><el-splitter-panel /></el-splitter/>");const{panels:o,layout:l,lazy:u,containerSize:c,pxSizes:d}=Or(i),{registerPanel:h,unregisterPanel:p,onCollapse:m,onMoveEnd:g,onMoveStart:v,onMoving:y}=i,b=L(),w=wt(),_=w.uid,S=L(0),C=E(()=>o.value[S.value]),T=$=>{S.value=$},x=E(()=>{var $;return C.value&&($=d.value[S.value])!=null?$:0}),N=E(()=>{var $;return C.value&&($=d.value[S.value+1])!=null?$:0}),k=E(()=>C.value?o.value[S.value+1]:null),A=E(()=>{var $;return k.value?s.resizable&&(($=k.value)==null?void 0:$.resizable)&&(x.value!==0||!s.min)&&(N.value!==0||!k.value.min):!1}),O=E(()=>C.value?S.value!==o.value.length-1:!1),F=E(()=>qT(C.value,x.value,k.value,N.value)),j=E(()=>qT(k.value,N.value,C.value,x.value));function V($){return IS($)?kS($)*c.value||0:OS($)?NS($):$??0}let G=!1;fe(()=>s.size,()=>{if(!G&&C.value){if(!c.value){C.value.size=s.size;return}const $=V(s.size),D=V(s.max),z=V(s.min),W=Math.min(Math.max($,z||0),D||$);W!==$&&a("update:size",W),C.value.size=W}}),fe(()=>{var $;return($=C.value)==null?void 0:$.size},$=>{$!==s.size&&(G=!0,a("update:size",$),Fe(()=>G=!1))}),fe(()=>s.resizable,$=>{C.value&&(C.value.resizable=$)});const R=Xt({uid:_,getVnode:()=>w.vnode,setIndex:T,...s,collapsible:E(()=>sge(s.collapsible))});return h(R),en(()=>p(R)),t({splitterPanelRef:b}),($,D)=>(I(),K(Ge,null,[Z("div",bt({ref_key:"panelEl",ref:b,class:[f(r).b()],style:{flexBasis:`${x.value}px`}},$.$attrs),[ie($.$slots,"default")],16),O.value?(I(),ce(age,{key:0,index:S.value,layout:f(l),lazy:f(u),resizable:A.value,"start-collapsible":F.value,"end-collapsible":j.value,onMoveStart:f(v),onMoving:f(y),onMoveEnd:f(g),onCollapse:f(m)},{"start-collapsible":re(()=>[ie($.$slots,"start-collapsible")]),"end-collapsible":re(()=>[ie($.$slots,"end-collapsible")]),_:3},8,["index","layout","lazy","resizable","start-collapsible","end-collapsible","onMoveStart","onMoving","onMoveEnd","onCollapse"])):le("v-if",!0)],64))}});const ige=dt(tge,{SplitPanel:uM}),oge=Bn(uM);var lge=[lZ,RY,lJ,ufe,hJ,pJ,bJ,z$,TJ,kJ,Nr,U$,FQ,VQ,ree,see,Kee,vA,qee,wi,bee,P6,Qee,fte,hte,Fy,IA,Dte,Bte,Vte,Hte,Ute,Wte,Kte,Pre,qA,Vre,Hre,tse,a7,fse,Jse,Qse,eae,p7,vie,yie,We,Nie,v7,ys,y7,Hie,Zie,foe,hoe,poe,moe,woe,Zoe,Joe,ale,R$,E7,gA,Nee,kee,yle,_le,Tle,bi,nu,qv,PQ,iue,due,fue,Oue,Pue,F7,Vue,Gue,Zue,rce,yde,bde,lfe,wfe,_fe,Ko,mS,une,kfe,$fe,Afe,zr,Hfe,yS,hhe,khe,Jhe,ope,Cme,xme,$me,Ame,zme,Yme,ige,oge];const ua="ElInfiniteScroll",uge=50,cge=200,dge=0,fge={delay:{type:Number,default:cge},distance:{type:Number,default:dge},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},$S=(e,t)=>Object.entries(fge).reduce((n,[r,s])=>{var a,i;const{type:o,default:l}=s,u=e.getAttribute(`infinite-scroll-${r}`);let c=(i=(a=t[u])!=null?a:u)!=null?i:l;return c=c==="false"?!1:c,c=o(c),n[r]=Number.isNaN(c)?l:c,n},{}),cM=e=>{const{observer:t}=e[ua];t&&(t.disconnect(),delete e[ua].observer)},hge=(e,t)=>{const{container:n,containerEl:r,instance:s,observer:a,lastScrollTop:i}=e[ua],{disabled:o,distance:l}=$S(e,s),{clientHeight:u,scrollHeight:c,scrollTop:d}=r,h=d-i;if(e[ua].lastScrollTop=d,a||o||h<0)return;let p=!1;if(n===e)p=c-(u+d)<=l;else{const{clientTop:m,scrollHeight:g}=e,v=dw(e,r);p=d+u>=v+m+g-l}p&&t.call(s)};function Ab(e,t){const{containerEl:n,instance:r}=e[ua],{disabled:s}=$S(e,r);s||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):cM(e))}const pge={async mounted(e,t){const{instance:n,value:r}=t;ao({scope:ua,from:"the directive v-infinite-scroll",replacement:"the el-scrollbar infinite scroll",version:"3.0.0",ref:"https://element-plus.org/en-US/component/scrollbar#infinite-scroll"},!0),Ye(r)||fr(ua,"'v-infinite-scroll' binding value must be a function"),await Fe();const{delay:s,immediate:a}=$S(e,n),i=o6(e,!0),o=i===window?document.documentElement:i,l=Bl(hge.bind(null,e,r),s);if(i){if(e[ua]={instance:n,container:i,containerEl:o,delay:s,cb:r,onScroll:l,lastScrollTop:o.scrollTop},a){const u=new MutationObserver(Bl(Ab.bind(null,e,r),uge));e[ua].observer=u,u.observe(e,{childList:!0,subtree:!0}),Ab(e,r)}i.addEventListener("scroll",l)}},unmounted(e){if(!e[ua])return;const{container:t,onScroll:n}=e[ua];t==null||t.removeEventListener("scroll",n),cM(e)},async updated(e){if(!e[ua])await Fe();else{const{containerEl:t,cb:n,observer:r}=e[ua];t.clientHeight&&r&&Ab(e,n)}}},qw=pge;qw.install=e=>{e.directive("InfiniteScroll",qw)};const mge=qw;function gge(e,t){let n;const r=L(!1),s=Xt({...e,originalPosition:"",originalOverflow:"",visible:!1});function a(p){s.text=p}function i(){const p=s.parent,m=h.ns;if(!p.vLoadingAddClassList){let g=p.getAttribute("loading-number");g=Number.parseInt(g)-1,g?p.setAttribute("loading-number",g.toString()):(ws(p,m.bm("parent","relative")),p.removeAttribute("loading-number")),ws(p,m.bm("parent","hidden"))}o(),d.unmount()}function o(){var p,m;(m=(p=h.$el)==null?void 0:p.parentNode)==null||m.removeChild(h.$el)}function l(){var p;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(u,400),s.visible=!1,(p=e.closed)==null||p.call(e))}function u(){if(!r.value)return;const p=s.parent;r.value=!1,p.vLoadingAddClassList=void 0,i()}const d=V8(de({name:"ElLoading",setup(p,{expose:m}){const{ns:g,zIndex:v}=Ny("loading");return m({ns:g,zIndex:v}),()=>{const y=s.spinner||s.svg,b=nt("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...y?{innerHTML:y}:{}},[nt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),w=s.text?nt("p",{class:g.b("text")},[s.text]):void 0;return nt(Gr,{name:g.b("fade"),onAfterLeave:u},{default:re(()=>[vt(q("div",{style:{backgroundColor:s.background||""},class:[g.b("mask"),s.customClass,g.is("fullscreen",s.fullscreen)]},[nt("div",{class:g.b("spinner")},[b,w])]),[[Kt,s.visible]])])})}}}));Object.assign(d._context,t??{});const h=d.mount(document.createElement("div"));return{...Or(s),setText:a,removeElLoadingChild:o,close:l,handleAfterLeave:u,vm:h,get $el(){return h.$el}}}let pg;const $d=function(e={},t){if(!Yt)return;const n=vge(e);if(n.fullscreen&&pg)return pg;const r=gge({...n,closed:()=>{var a;(a=n.closed)==null||a.call(n),n.fullscreen&&(pg=void 0)}},t??$d._context);yge(n,n.parent,r),JT(n,n.parent,r),n.parent.vLoadingAddClassList=()=>JT(n,n.parent,r);let s=n.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",n.parent.setAttribute("loading-number",s),n.parent.appendChild(r.$el),Fe(()=>r.visible.value=n.visible),n.fullscreen&&(pg=r),r},vge=e=>{var t,n,r,s;let a;return Ke(e.target)?a=(t=document.querySelector(e.target))!=null?t:document.body:a=e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(s=e.visible)!=null?s:!0,beforeClose:e.beforeClose,closed:e.closed,target:a}},yge=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,s={};if(e.fullscreen)n.originalPosition.value=Bo(document.body,"position"),n.originalOverflow.value=Bo(document.body,"overflow"),s.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=Bo(document.body,"position"),await Fe();for(const a of["top","left"]){const i=a==="top"?"scrollTop":"scrollLeft";s[a]=`${e.target.getBoundingClientRect()[a]+document.body[i]+document.documentElement[i]-Number.parseInt(Bo(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])s[a]=`${e.target.getBoundingClientRect()[a]}px`}else n.originalPosition.value=Bo(t,"position");for(const[a,i]of Object.entries(s))n.$el.style[a]=i},JT=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?ws(t,r.bm("parent","relative")):Da(t,r.bm("parent","relative")),e.fullscreen&&e.lock?Da(t,r.bm("parent","hidden")):ws(t,r.bm("parent","hidden"))};$d._context=null;const Qf=Symbol("ElLoading"),xu=e=>`element-loading-${ul(e)}`,QT=(e,t)=>{var n,r,s,a;const i=t.instance,o=p=>ht(t.value)?t.value[p]:void 0,l=p=>{const m=Ke(p)&&(i==null?void 0:i[p])||p;return L(m)},u=p=>l(o(p)||e.getAttribute(xu(p))),c=(n=o("fullscreen"))!=null?n:t.modifiers.fullscreen,d={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(r=o("target"))!=null?r:c?void 0:e,body:(s=o("body"))!=null?s:t.modifiers.body,lock:(a=o("lock"))!=null?a:t.modifiers.lock},h=$d(d);h._context=Oh._context,e[Qf]={options:d,instance:h}},bge=(e,t)=>{for(const n of Object.keys(e))Cn(e[n])&&(e[n].value=t[n])},Oh={mounted(e,t){t.value&&QT(e,t)},updated(e,t){const n=e[Qf];if(!t.value){n==null||n.instance.close(),e[Qf]=null;return}n?bge(n.options,ht(t.value)?t.value:{text:e.getAttribute(xu("text")),svg:e.getAttribute(xu("svg")),svgViewBox:e.getAttribute(xu("svgViewBox")),spinner:e.getAttribute(xu("spinner")),background:e.getAttribute(xu("background")),customClass:e.getAttribute(xu("customClass"))}):QT(e,t)},unmounted(e){var t;(t=e[Qf])==null||t.instance.close(),e[Qf]=null}};Oh._context=null;const wge={install(e){$d._context=e._context,Oh._context=e._context,e.directive("loading",Oh),e.config.globalProperties.$loading=$d},directive:Oh,service:$d},dM=["primary","success","info","warning","error"],fM=["top","top-left","top-right","bottom","bottom-left","bottom-right"],yp="top",ds=Wn({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:Yt?document.body:void 0}),_ge=$e({customClass:{type:String,default:ds.customClass},dangerouslyUseHTMLString:{type:Boolean,default:ds.dangerouslyUseHTMLString},duration:{type:Number,default:ds.duration},icon:{type:dn,default:ds.icon},id:{type:String,default:ds.id},message:{type:ne([String,Object,Function]),default:ds.message},onClose:{type:ne(Function),default:ds.onClose},showClose:{type:Boolean,default:ds.showClose},type:{type:String,values:dM,default:ds.type},plain:{type:Boolean,default:ds.plain},offset:{type:Number,default:ds.offset},placement:{type:String,values:fM,default:ds.placement},zIndex:{type:Number,default:ds.zIndex},grouping:{type:Boolean,default:ds.grouping},repeatNum:{type:Number,default:ds.repeatNum}}),Sge={destroy:()=>!0},pi=k3({}),Cge=e=>(pi[e]||(pi[e]=k3([])),pi[e]),xge=(e,t)=>{const n=pi[t]||[],r=n.findIndex(i=>i.id===e),s=n[r];let a;return r>0&&(a=n[r-1]),{current:s,prev:a}},Ege=(e,t)=>{const{prev:n}=xge(e,t);return n?n.vm.exposed.bottom.value:0},Tge=(e,t,n)=>(pi[n]||[]).findIndex(a=>a.id===e)>0?16:t,kge=["id"],Nge=["innerHTML"];var Ige=de({name:"ElMessage",__name:"message",props:_ge,emits:Sge,setup(e,{expose:t,emit:n}){const{Close:r}=p6,s=e,a=n,i=L(!1),{ns:o,zIndex:l}=Ny("message"),{currentZIndex:u,nextZIndex:c}=l,d=L(),h=L(!1),p=L(0);let m;const g=E(()=>s.type?s.type==="error"?"danger":s.type:"info"),v=E(()=>{const F=s.type;return{[o.bm("icon",F)]:F&&eu[F]}}),y=E(()=>s.icon||eu[s.type]||""),b=E(()=>s.placement||yp),w=E(()=>Ege(s.id,b.value)),_=E(()=>Tge(s.id,s.offset,b.value)+w.value),S=E(()=>p.value+_.value),C=E(()=>b.value.includes("left")?o.is("left"):b.value.includes("right")?o.is("right"):o.is("center")),T=E(()=>b.value.startsWith("top")?"top":"bottom"),x=E(()=>({[T.value]:`${_.value}px`,zIndex:u.value}));function N(){s.duration!==0&&({stop:m}=Bd(()=>{A()},s.duration))}function k(){m==null||m()}function A(){h.value=!1,Fe(()=>{var F;i.value||((F=s.onClose)==null||F.call(s),a("destroy"))})}function O(F){hn(F)===Ne.esc&&A()}return _t(()=>{N(),c(),h.value=!0}),fe(()=>s.repeatNum,()=>{k(),N()}),nn(document,"keydown",O),$n(d,()=>{p.value=d.value.getBoundingClientRect().height}),t({visible:h,bottom:S,close:A}),(F,j)=>(I(),ce(Gr,{name:f(o).b("fade"),onBeforeEnter:j[0]||(j[0]=V=>i.value=!0),onBeforeLeave:e.onClose,onAfterLeave:j[1]||(j[1]=V=>F.$emit("destroy")),persisted:""},{default:re(()=>[vt(Z("div",{id:e.id,ref_key:"messageRef",ref:d,class:M([f(o).b(),{[f(o).m(e.type)]:e.type},f(o).is("closable",e.showClose),f(o).is("plain",e.plain),f(o).is("bottom",T.value==="bottom"),C.value,e.customClass]),style:qe(x.value),role:"alert",onMouseenter:k,onMouseleave:N},[e.repeatNum>1?(I(),ce(f(z$),{key:0,value:e.repeatNum,type:g.value,class:M(f(o).e("badge"))},null,8,["value","type","class"])):le("v-if",!0),y.value?(I(),ce(f(We),{key:1,class:M([f(o).e("icon"),v.value])},{default:re(()=>[(I(),ce(yt(y.value)))]),_:1},8,["class"])):le("v-if",!0),ie(F.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(I(),K(Ge,{key:1},[le(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{class:M(f(o).e("content")),innerHTML:e.message},null,10,Nge)],2112)):(I(),K("p",{key:0,class:M(f(o).e("content"))},Ie(e.message),3))]),e.showClose?(I(),ce(f(We),{key:2,class:M(f(o).e("closeBtn")),onClick:at(A,["stop"])},{default:re(()=>[q(f(r))]),_:1},8,["class"])):le("v-if",!0)],46,kge),[[Kt,h.value]])]),_:3},8,["name","onBeforeLeave"]))}});let Oge=1;const $ge=e=>{if(!e.appendTo)e.appendTo=document.body;else if(Ke(e.appendTo)){let n=document.querySelector(e.appendTo);Ys(n)||(n=document.body),e.appendTo=n}},Age=e=>{!e.placement&&Ke(ps.placement)&&ps.placement&&(e.placement=ps.placement),e.placement||(e.placement=yp),fM.includes(e.placement)||(e.placement=yp)},hM=e=>{const t=!e||Ke(e)||vn(e)||Ye(e)?{message:e}:e,n={...ds,...t};return $ge(n),Age(n),cn(ps.grouping)&&!n.grouping&&(n.grouping=ps.grouping),Xe(ps.duration)&&n.duration===3e3&&(n.duration=ps.duration),Xe(ps.offset)&&n.offset===16&&(n.offset=ps.offset),cn(ps.showClose)&&!n.showClose&&(n.showClose=ps.showClose),cn(ps.plain)&&!n.plain&&(n.plain=ps.plain),n},Rge=e=>{const t=e.props.placement||yp,n=pi[t],r=n.indexOf(e);if(r===-1)return;n.splice(r,1);const{handler:s}=e;s.close()},Mge=({appendTo:e,...t},n)=>{const r=`message_${Oge++}`,s=t.onClose,a=document.createElement("div"),i={...t,id:r,onClose:()=>{s==null||s(),Rge(c)},onDestroy:()=>{Xl(null,a)}},o=q(Ige,i,Ye(i.message)||vn(i.message)?{default:Ye(i.message)?i.message:()=>i.message}:null);o.appContext=n||hc._context,Xl(o,a),e.appendChild(a.firstElementChild);const l=o.component,c={id:r,vnode:o,vm:l,handler:{close:()=>{l.exposed.close()}},props:o.component.props};return c},hc=(e={},t)=>{if(!Yt)return{close:()=>{}};const n=hM(e),r=Cge(n.placement||yp);if(n.grouping&&r.length){const a=r.find(({vnode:i})=>{var o;return((o=i.props)==null?void 0:o.message)===n.message});if(a)return a.props.repeatNum+=1,a.props.type=n.type,a.handler}if(Xe(ps.max)&&r.length>=ps.max)return{close:()=>{}};const s=Mge(n,t);return r.push(s),s.handler};dM.forEach(e=>{hc[e]=(t={},n)=>{const r=hM(t);return hc({...r,type:e},n)}});function Pge(e){for(const t in pi)if(Zt(pi,t)){const n=[...pi[t]];for(const r of n)(!e||e===r.props.type)&&r.handler.close()}}function Lge(e){if(!pi[e])return;[...pi[e]].forEach(n=>n.handler.close())}hc.closeAll=Pge;hc.closeAllByPlacement=Lge;hc._context=null;const Wr=KO(hc,"$message"),Xw="_trap-focus-children",Uu=[],ek=e=>{if(Uu.length===0)return;const t=hn(e),n=Uu[Uu.length-1][Xw];if(n.length>0&&t===Ne.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const r=e.shiftKey,s=e.target===n[0],a=e.target===n[n.length-1];s&&r&&(e.preventDefault(),n[n.length-1].focus()),a&&!r&&(e.preventDefault(),n[0].focus())}},Dge={beforeMount(e){e[Xw]=uE(e),Uu.push(e),Uu.length<=1&&document.addEventListener("keydown",ek)},updated(e){Fe(()=>{e[Xw]=uE(e)})},unmounted(){Uu.shift(),Uu.length===0&&document.removeEventListener("keydown",ek)}};var zge=de({name:"ElMessageBox",directives:{TrapFocus:Dge},components:{ElButton:Nr,ElFocusTrap:Sf,ElInput:ys,ElOverlay:Y6,ElIcon:We,...p6},inheritAttrs:!1,props:{buttonSize:{type:String,validator:V7},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:Boolean,container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:s,size:a}=Ny("message-box",E(()=>e.buttonSize)),{t:i}=n,{nextZIndex:o}=r,l=L(!1),u=Xt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",cancelButtonType:"",confirmButtonType:"primary",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:to(po),cancelButtonLoadingIcon:to(po),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),c=E(()=>{const R=u.type;return{[s.bm("icon",R)]:R&&eu[R]}}),d=Zr(),h=Zr(),p=E(()=>{const R=u.type;return u.icon||R&&eu[R]||""}),m=E(()=>!!u.message),g=L(),v=L(),y=L(),b=L(),w=L(),_=E(()=>u.confirmButtonClass);fe(()=>u.inputValue,async R=>{await Fe(),e.boxType==="prompt"&&R&&F()},{immediate:!0}),fe(()=>l.value,R=>{var $,D;R&&(e.boxType!=="prompt"&&(u.autofocus?y.value=(D=($=w.value)==null?void 0:$.$el)!=null?D:g.value:y.value=g.value),u.zIndex=o()),e.boxType==="prompt"&&(R?Fe().then(()=>{var z;b.value&&b.value.$el&&(u.autofocus?y.value=(z=j())!=null?z:g.value:y.value=g.value)}):(u.editorErrorMessage="",u.validateError=!1))});const S=E(()=>e.draggable),C=E(()=>e.overflow),{isDragging:T}=r7(g,v,S,C);_t(async()=>{await Fe(),e.closeOnHashChange&&window.addEventListener("hashchange",x)}),en(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",x)});function x(){l.value&&(l.value=!1,Fe(()=>{u.action&&t("action",u.action)}))}const N=()=>{e.closeOnClickModal&&O(u.distinguishCancelAndClose?"close":"cancel")},k=Z6(N),A=R=>{var $;if(u.inputType!=="textarea"&&!(($=b.value)!=null&&$.isComposing))return R.preventDefault(),O("confirm")},O=R=>{var $;e.boxType==="prompt"&&R==="confirm"&&!F()||(u.action=R,u.beforeClose?($=u.beforeClose)==null||$.call(u,R,u,x):x())},F=()=>{if(e.boxType==="prompt"){const R=u.inputPattern;if(R&&!R.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||i("el.messagebox.error"),u.validateError=!0,!1;const $=u.inputValidator;if(Ye($)){const D=$(u.inputValue);if(D===!1)return u.editorErrorMessage=u.inputErrorMessage||i("el.messagebox.error"),u.validateError=!0,!1;if(Ke(D))return u.editorErrorMessage=D,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},j=()=>{var R,$;const D=(R=b.value)==null?void 0:R.$refs;return($=D==null?void 0:D.input)!=null?$:D==null?void 0:D.textarea},V=()=>{O("close")},G=()=>{e.closeOnPressEscape&&V()};return e.lockScroll&&jy(l,{ns:s}),{...Or(u),ns:s,overlayEvent:k,visible:l,hasMessage:m,typeClass:c,contentId:d,inputId:h,btnSize:a,iconComponent:p,confirmButtonClasses:_,rootRef:g,focusStartRef:y,headerRef:v,inputRef:b,isDragging:T,confirmRef:w,doClose:x,handleClose:V,onCloseRequested:G,handleWrapperClick:N,handleInputEnter:A,handleAction:O,t:i}}});const Fge=["aria-label","aria-describedby"],Bge=["aria-label"],jge=["id"];function Vge(e,t,n,r,s,a){const i=Rt("el-icon"),o=Rt("el-input"),l=Rt("el-button"),u=Rt("el-focus-trap"),c=Rt("el-overlay");return I(),ce(Gr,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=d=>e.$emit("vanish")),persisted:""},{default:re(()=>[vt(q(c,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:re(()=>[Z("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:M(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...d)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...d)),onMousedown:t[9]||(t[9]=(...d)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...d)),onMouseup:t[10]||(t[10]=(...d)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...d))},[q(u,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:re(()=>[Z("div",{ref:"rootRef",class:M([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),e.ns.is("dragging",e.isDragging),{[e.ns.m("center")]:e.center}]),style:qe(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=at(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(I(),K("div",{key:0,ref:"headerRef",class:M([e.ns.e("header"),{"show-close":e.showClose}])},[Z("div",{class:M(e.ns.e("title"))},[e.iconComponent&&e.center?(I(),ce(i,{key:0,class:M([e.ns.e("status"),e.typeClass])},{default:re(()=>[(I(),ce(yt(e.iconComponent)))]),_:1},8,["class"])):le("v-if",!0),Z("span",null,Ie(e.title),1)],2),e.showClose?(I(),K("button",{key:0,type:"button",class:M(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=zn(at(d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[q(i,{class:M(e.ns.e("close"))},{default:re(()=>[(I(),ce(yt(e.closeIcon||"close")))]),_:1},8,["class"])],42,Bge)):le("v-if",!0)],2)):le("v-if",!0),Z("div",{id:e.contentId,class:M(e.ns.e("content"))},[Z("div",{class:M(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(I(),ce(i,{key:0,class:M([e.ns.e("status"),e.typeClass])},{default:re(()=>[(I(),ce(yt(e.iconComponent)))]),_:1},8,["class"])):le("v-if",!0),e.hasMessage?(I(),K("div",{key:1,class:M(e.ns.e("message"))},[ie(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(I(),ce(yt(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(I(),ce(yt(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0,textContent:Ie(e.message)},null,8,["for","textContent"]))])],2)):le("v-if",!0)],2),vt(Z("div",{class:M(e.ns.e("input"))},[q(o,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=d=>e.inputValue=d),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:M({invalid:e.validateError}),onKeydown:zn(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Z("div",{class:M(e.ns.e("errormsg")),style:qe({visibility:e.editorErrorMessage?"visible":"hidden"})},Ie(e.editorErrorMessage),7)],2),[[Kt,e.showInput]])],10,jge),Z("div",{class:M(e.ns.e("btns"))},[e.showCancelButton?(I(),ce(l,{key:0,type:e.cancelButtonType==="text"?"":e.cancelButtonType,text:e.cancelButtonType==="text",loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:M([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=d=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=zn(at(d=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:re(()=>[gt(Ie(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["type","text","loading","loading-icon","class","round","size"])):le("v-if",!0),vt(q(l,{ref:"confirmRef",type:e.confirmButtonType==="text"?"":e.confirmButtonType,text:e.confirmButtonType==="text",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:M([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=d=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=zn(at(d=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:re(()=>[gt(Ie(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["type","text","loading","loading-icon","class","round","disabled","size"]),[[Kt,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Fge)]),_:3},8,["z-index","overlay-class","mask"]),[[Kt,e.visible]])]),_:3})}var Hge=_r(zge,[["render",Vge]]);const bp=new Map,Uge=e=>{let t=document.body;return e.appendTo&&(Ke(e.appendTo)&&(t=document.querySelector(e.appendTo)),Ys(e.appendTo)&&(t=e.appendTo),Ys(t)||(t=document.body)),t},Wge=(e,t,n=null)=>{const r=q(Hge,e,Ye(e.message)||vn(e.message)?{default:Ye(e.message)?e.message:()=>e.message}:null);return r.appContext=n,Xl(r,t),Uge(e).appendChild(t.firstElementChild),r.component},Kge=()=>document.createElement("div"),Gge=(e,t)=>{const n=Kge();e.onVanish=()=>{Xl(null,n),bp.delete(s)},e.onAction=a=>{const i=bp.get(s);let o;e.showInput?o={value:s.inputValue,action:a}:o=a,e.callback?e.callback(o,r.proxy):a==="cancel"||a==="close"?e.distinguishCancelAndClose&&a!=="cancel"?i.reject("close"):i.reject("cancel"):i.resolve(o)};const r=Wge(e,n,t),s=r.proxy;for(const a in e)Zt(e,a)&&!Zt(s.$props,a)&&(a==="closeIcon"&&ht(e[a])?s[a]=to(e[a]):s[a]=e[a]);return s.visible=!0,s};function Ef(e,t=null){if(!Yt)return Promise.reject();let n;return Ke(e)||vn(e)?e={message:e}:n=e.callback,new Promise((r,s)=>{const a=Gge(e,t??Ef._context);bp.set(a,{options:e,callback:n,resolve:r,reject:s})})}const Zge=["alert","confirm","prompt"],Yge={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Zge.forEach(e=>{Ef[e]=qge(e)});function qge(e){return(t,n,r,s)=>{let a="";return ht(n)?(r=n,a=""):Vt(n)?a="":a=n,Ef(Object.assign({title:a,message:t,type:"",...Yge[e]},r,{boxType:e}),s)}}Ef.close=()=>{bp.forEach((e,t)=>{t.doClose()}),bp.clear()};Ef._context=null;const Ol=Ef;Ol.install=e=>{Ol._context=e._context,e.config.globalProperties.$msgbox=Ol,e.config.globalProperties.$messageBox=Ol,e.config.globalProperties.$alert=Ol.alert,e.config.globalProperties.$confirm=Ol.confirm,e.config.globalProperties.$prompt=Ol.prompt};const Xge=Ol,pM=["primary","success","info","warning","error"],Jge=$e({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:dn},id:{type:String,default:""},message:{type:ne([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:ne(Function),default:()=>{}},onClose:{type:ne(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...pM,""],default:""},zIndex:Number,closeIcon:{type:dn,default:ja}}),Qge={destroy:()=>!0},eve=["id"],tve=["textContent"],nve={key:0},rve=["innerHTML"];var sve=de({name:"ElNotification",__name:"notification",props:Jge,emits:Qge,setup(e,{expose:t}){const n=e,{ns:r,zIndex:s}=Ny("notification"),{nextZIndex:a,currentZIndex:i}=s,o=L(!1);let l;const u=E(()=>{const b=n.type;return b&&eu[n.type]?r.m(b):""}),c=E(()=>n.type&&eu[n.type]||n.icon),d=E(()=>n.position.endsWith("right")?"right":"left"),h=E(()=>n.position.startsWith("top")?"top":"bottom"),p=E(()=>{var b;return{[h.value]:`${n.offset}px`,zIndex:(b=n.zIndex)!=null?b:i.value}});function m(){n.duration>0&&({stop:l}=Bd(()=>{o.value&&v()},n.duration))}function g(){l==null||l()}function v(){o.value=!1}function y(b){switch(hn(b)){case Ne.delete:case Ne.backspace:g();break;case Ne.esc:o.value&&v();break;default:m();break}}return _t(()=>{m(),a(),o.value=!0}),nn(document,"keydown",y),t({visible:o,close:v}),(b,w)=>(I(),ce(Gr,{name:f(r).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:w[1]||(w[1]=_=>b.$emit("destroy")),persisted:""},{default:re(()=>[vt(Z("div",{id:e.id,class:M([f(r).b(),e.customClass,d.value]),style:qe(p.value),role:"alert",onMouseenter:g,onMouseleave:m,onClick:w[0]||(w[0]=(..._)=>e.onClick&&e.onClick(..._))},[c.value?(I(),ce(f(We),{key:0,class:M([f(r).e("icon"),u.value])},{default:re(()=>[(I(),ce(yt(c.value)))]),_:1},8,["class"])):le("v-if",!0),Z("div",{class:M(f(r).e("group"))},[Z("h2",{class:M(f(r).e("title")),textContent:Ie(e.title)},null,10,tve),vt(Z("div",{class:M(f(r).e("content")),style:qe(e.title?void 0:{margin:0})},[ie(b.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(I(),K(Ge,{key:1},[le(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{innerHTML:e.message},null,8,rve)],2112)):(I(),K("p",nve,Ie(e.message),1))])],6),[[Kt,e.message]]),e.showClose?(I(),ce(f(We),{key:0,class:M(f(r).e("closeBtn")),onClick:at(v,["stop"])},{default:re(()=>[(I(),ce(yt(e.closeIcon)))]),_:1},8,["class"])):le("v-if",!0)],2)],46,eve),[[Kt,o.value]])]),_:3},8,["name","onBeforeLeave"]))}});const Jd={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},m0=16;let ave=1;const pc=function(e={},t){if(!Yt)return{close:()=>{}};(Ke(e)||vn(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;Jd[n].forEach(({vm:c})=>{var d;r+=(((d=c.el)==null?void 0:d.offsetHeight)||0)+m0}),r+=m0;const s=`notification_${ave++}`,a=e.onClose,i={...e,offset:r,id:s,onClose:()=>{ive(s,n,a)}};let o=document.body;Ys(e.appendTo)?o=e.appendTo:Ke(e.appendTo)&&(o=document.querySelector(e.appendTo)),Ys(o)||(o=document.body);const l=document.createElement("div"),u=q(sve,i,Ye(i.message)?i.message:vn(i.message)?()=>i.message:null);return u.appContext=Vt(t)?pc._context:t,u.props.onDestroy=()=>{Xl(null,l)},Xl(u,l),Jd[n].push({vm:u}),o.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};pM.forEach(e=>{pc[e]=(t={},n)=>((Ke(t)||vn(t))&&(t={message:t}),pc({...t,type:e},n))});function ive(e,t,n){const r=Jd[t],s=r.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===e});if(s===-1)return;const{vm:a}=r[s];if(!a)return;n==null||n(a);const i=a.el.offsetHeight,o=t.split("-")[0];r.splice(s,1);const l=r.length;if(!(l<1))for(let u=s;u<l;u++){const{el:c,component:d}=r[u].vm,h=Number.parseInt(c.style[o],10)-i-m0;d.props.offset=h}}function ove(){for(const e of Object.values(Jd))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}function lve(e="top-right"){var t,n,r,s;let a=((r=(n=(t=Jd[e][0])==null?void 0:t.vm.component)==null?void 0:n.props)==null?void 0:r.offset)||0;for(const{vm:i}of Jd[e])i.component.props.offset=a,a+=(((s=i.el)==null?void 0:s.offsetHeight)||0)+m0}pc.closeAll=ove;pc.updateOffsets=lve;pc._context=null;const uve=KO(pc,"$notify");var cve=[mge,wge,Wr,Xge,uve,x7],AS=QG([...lge,...cve]);AS.install;AS.version;function dve(e,t="mindmap"){const n=JSON.stringify(e,null,2);gM(n,`${t}.json`,"application/json")}function fve(e,t="mindmap"){const r=`<?xml version="1.0" encoding="UTF-8"?>
<mindmap>
${mM(e)}</mindmap>`;gM(r,`${t}.xml`,"application/xml")}function mM(e,t="  "){const n=Rb(e.data.text||"");let r=`${t}<node text="${n}">
`;if(e.data.hyperlink&&(r+=`${t}  <hyperlink>${Rb(e.data.hyperlink)}</hyperlink>
`),e.data.note&&(r+=`${t}  <note>${Rb(e.data.note)}</note>
`),e.children&&e.children.length>0){r+=`${t}  <children>
`;for(const s of e.children)r+=mM(s,t+"    ");r+=`${t}  </children>
`}return r+=`${t}</node>
`,r}function Rb(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function gM(e,t,n){const r=new Blob([e],{type:n}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}const hve={class:"toolbar"},pve={class:"toolbar-group"},mve={class:"toolbar-group"},gve={class:"zoom-controls"},vve={class:"zoom-text"},yve=de({__name:"Toolbar",props:{mindMap:{}},emits:["toggleHistory"],setup(e,{expose:t,emit:n}){const r=e,s=n,a=L(1),i=L(),o=L(!1),l=L(""),u=L(null);function c(){if(!r.mindMap)return;if(r.mindMap.renderer.activeNodeList.length===0){Wr.warning("");return}r.mindMap.execCommand("INSERT_CHILD_NODE")}function d(){if(!r.mindMap)return;if(r.mindMap.renderer.activeNodeList.length===0){Wr.warning("");return}r.mindMap.execCommand("INSERT_NODE")}function h(){if(!r.mindMap)return;if(r.mindMap.renderer.activeNodeList.length===0){Wr.warning("");return}r.mindMap.execCommand("REMOVE_NODE"),Wr.success("")}function p(){r.mindMap&&(a.value=Math.min(a.value+.1,3),r.mindMap.execCommand("SET_SCALE",a.value))}function m(){r.mindMap&&(a.value=Math.max(a.value-.1,.3),r.mindMap.execCommand("SET_SCALE",a.value))}function g(){r.mindMap&&(r.mindMap.view.fit(),a.value=1)}function v(){if(!r.mindMap)return;const x=r.mindMap.renderer.activeNodeList;if(x.length===0){Wr.warning("");return}u.value=x[0],l.value=u.value.getData("note")||"",o.value=!0}function y(){var x;u.value&&((x=r.mindMap)==null||x.execCommand("SET_NODE_NOTE",u.value,l.value),o.value=!1,Wr.success(""))}function b(){var x;u.value&&((x=r.mindMap)==null||x.execCommand("SET_NODE_NOTE",u.value,""),l.value="",o.value=!1,Wr.success(""))}function w(x){u.value=x,l.value=x.getData("note")||"",o.value=!0}function _(){var x;(x=i.value)==null||x.click()}async function S(x){var A;const k=(A=x.target.files)==null?void 0:A[0];if(!(!k||!r.mindMap))try{const O=await k.text(),F=JSON.parse(O);r.mindMap.setData(F),Wr.success(""),i.value&&(i.value.value="")}catch(O){Wr.error(""),console.error("Import error:",O)}}async function C(x){var O;if(!r.mindMap)return;const N=r.mindMap.getData(!1),A=(((O=N==null?void 0:N.data)==null?void 0:O.text)||"").replace(/[\\/:*?"<>|]/g,"_").trim();try{switch(x){case"json":dve(N,A),Wr.success("JSON ");break;case"aim":const F=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),j=URL.createObjectURL(F),V=document.createElement("a");V.href=j,V.download=`${A}.aim`,V.click(),URL.revokeObjectURL(j),Wr.success("AIM ");break;case"xml":fve(N,A),Wr.success("XML ");break;case"png":r.mindMap.export("png",!0,A),Wr.success("");break}}catch(F){Wr.error(""),console.error("Export error:",F)}}function T(){s("toggleHistory")}return t({openNoteDialogWithNode:w}),(x,N)=>{const k=Rt("el-button"),A=Rt("el-tooltip"),O=Rt("el-icon"),F=Rt("el-dropdown-item"),j=Rt("el-dropdown-menu"),V=Rt("el-dropdown"),G=Rt("el-input"),R=Rt("el-dialog");return I(),K("div",hve,[N[16]||(N[16]=x8('<div class="toolbar-logo"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><line x1="12" y1="3" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="21"></line><line x1="3" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="21" y2="12"></line><line x1="5.64" y1="5.64" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="18.36" y2="18.36"></line><line x1="5.64" y1="18.36" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="18.36" y2="5.64"></line></svg><span>AI </span></div><div class="toolbar-divider"></div>',2)),Z("div",pve,[q(A,{content:"",placement:"bottom"},{default:re(()=>[q(k,{onClick:T,icon:f(d6),circle:""},null,8,["icon"])]),_:1})]),N[17]||(N[17]=Z("div",{class:"toolbar-divider"},null,-1)),Z("div",mve,[q(A,{content:" (Tab)",placement:"bottom"},{default:re(()=>[q(k,{onClick:c,icon:f(Oy)},{default:re(()=>[...N[3]||(N[3]=[gt("",-1)])]),_:1},8,["icon"])]),_:1}),q(A,{content:" (Enter)",placement:"bottom"},{default:re(()=>[q(k,{onClick:d,icon:f(IZ)},{default:re(()=>[...N[4]||(N[4]=[gt("",-1)])]),_:1},8,["icon"])]),_:1}),q(A,{content:" (Delete)",placement:"bottom"},{default:re(()=>[q(k,{onClick:h,icon:f(f6)},{default:re(()=>[...N[5]||(N[5]=[gt("",-1)])]),_:1},8,["icon"])]),_:1}),q(A,{content:"/",placement:"bottom"},{default:re(()=>[q(k,{onClick:v,icon:f(_Z)},{default:re(()=>[...N[6]||(N[6]=[gt("",-1)])]),_:1},8,["icon"])]),_:1})]),N[18]||(N[18]=Z("div",{class:"toolbar-divider"},null,-1)),Z("div",gve,[q(k,{circle:"",size:"small",onClick:m,icon:f(e$)},null,8,["icon"]),Z("span",vve,Ie(Math.round(a.value*100))+"%",1),q(k,{circle:"",size:"small",onClick:p,icon:f(h6)},null,8,["icon"]),q(k,{circle:"",size:"small",onClick:g,icon:f(JO)},null,8,["icon"])]),N[19]||(N[19]=Z("div",{class:"toolbar-divider"},null,-1)),q(V,{trigger:"click",onCommand:C,"popper-class":"export-dropdown"},{dropdown:re(()=>[q(j,null,{default:re(()=>[q(F,{command:"json"},{default:re(()=>[q(O,null,{default:re(()=>[q(f(XO))]),_:1}),N[8]||(N[8]=gt("  JSON ",-1))]),_:1}),q(F,{command:"aim"},{default:re(()=>[q(O,null,{default:re(()=>[q(f(Zx))]),_:1}),N[9]||(N[9]=gt("  AIM  ",-1))]),_:1}),q(F,{command:"xml"},{default:re(()=>[q(O,null,{default:re(()=>[q(f(Zx))]),_:1}),N[10]||(N[10]=gt("  XML ",-1))]),_:1}),q(F,{command:"png",divided:""},{default:re(()=>[q(O,null,{default:re(()=>[q(f(JZ))]),_:1}),N[11]||(N[11]=gt("  (PNG) ",-1))]),_:1})]),_:1})]),default:re(()=>[q(k,{type:"primary"},{default:re(()=>[q(O,null,{default:re(()=>[q(f(DZ))]),_:1}),N[7]||(N[7]=gt("  ",-1)),q(O,{class:"el-icon--right"},{default:re(()=>[q(f(Ri))]),_:1})]),_:1})]),_:1}),q(A,{content:" AIM/JSON ",placement:"bottom"},{default:re(()=>[q(k,{onClick:_},{default:re(()=>[q(O,null,{default:re(()=>[q(f(bY))]),_:1}),N[12]||(N[12]=gt("  ",-1))]),_:1})]),_:1}),Z("input",{ref_key:"fileInputRef",ref:i,type:"file",accept:".aim,.json",onChange:S,style:{display:"none"}},null,544),q(R,{modelValue:o.value,"onUpdate:modelValue":N[2]||(N[2]=$=>o.value=$),title:"",width:"500px"},{footer:re(()=>[q(k,{onClick:N[1]||(N[1]=$=>o.value=!1)},{default:re(()=>[...N[13]||(N[13]=[gt("",-1)])]),_:1}),q(k,{onClick:b,type:"warning"},{default:re(()=>[...N[14]||(N[14]=[gt("",-1)])]),_:1}),q(k,{onClick:y,type:"primary"},{default:re(()=>[...N[15]||(N[15]=[gt("",-1)])]),_:1})]),default:re(()=>[q(G,{modelValue:l.value,"onUpdate:modelValue":N[0]||(N[0]=$=>l.value=$),type:"textarea",rows:6,placeholder:"...",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}}),Le={CHANGE_THEME:"changeTheme",CHANGE_LAYOUT:"changeLayout",SET_DATA:"setData",TRANSFORM_TO_NORMAL_NODE:"transformAllNodesToNormalNode",MODE:{READONLY:"readonly",EDIT:"edit"},LAYOUT:{LOGICAL_STRUCTURE:"logicalStructure",LOGICAL_STRUCTURE_LEFT:"logicalStructureLeft",MIND_MAP:"mindMap",ORGANIZATION_STRUCTURE:"organizationStructure",CATALOG_ORGANIZATION:"catalogOrganization",TIMELINE:"timeline",TIMELINE2:"timeline2",FISHBONE:"fishbone",VERTICAL_TIMELINE:"verticalTimeline"},DIR:{UP:"up",LEFT:"left",DOWN:"down",RIGHT:"right"},SHAPE:{RECTANGLE:"rectangle",DIAMOND:"diamond",PARALLELOGRAM:"parallelogram",ROUNDED_RECTANGLE:"roundedRectangle",OCTAGONAL_RECTANGLE:"octagonalRectangle",OUTER_TRIANGULAR_RECTANGLE:"outerTriangularRectangle",INNER_TRIANGULAR_RECTANGLE:"innerTriangularRectangle",ELLIPSE:"ellipse",CIRCLE:"circle"},MOUSE_WHEEL_ACTION:{ZOOM:"zoom",MOVE:"move"},INIT_ROOT_NODE_POSITION:{LEFT:"left",TOP:"top",RIGHT:"right",BOTTOM:"bottom",CENTER:"center"},LAYOUT_GROW_DIR:{LEFT:"left",TOP:"top",RIGHT:"right",BOTTOM:"bottom"},PASTE_TYPE:{CLIP_BOARD:"clipBoard",CANVAS:"canvas"},CREATE_NEW_NODE_BEHAVIOR:{DEFAULT:"default",NOT_ACTIVE:"notActive",ACTIVE_ONLY:"activeOnly"},TAG_POSITION:{RIGHT:"right",BOTTOM:"bottom"}},tk={[Le.INIT_ROOT_NODE_POSITION.LEFT]:0,[Le.INIT_ROOT_NODE_POSITION.TOP]:0,[Le.INIT_ROOT_NODE_POSITION.RIGHT]:1,[Le.INIT_ROOT_NODE_POSITION.BOTTOM]:1,[Le.INIT_ROOT_NODE_POSITION.CENTER]:.5},nk=[Le.LAYOUT.LOGICAL_STRUCTURE,Le.LAYOUT.LOGICAL_STRUCTURE_LEFT,Le.LAYOUT.MIND_MAP,Le.LAYOUT.CATALOG_ORGANIZATION,Le.LAYOUT.ORGANIZATION_STRUCTURE,Le.LAYOUT.TIMELINE,Le.LAYOUT.TIMELINE2,Le.LAYOUT.VERTICAL_TIMELINE,Le.LAYOUT.FISHBONE],bve=["text","image","imageTitle","imageSize","icon","tag","hyperlink","hyperlinkTitle","note","expand","isActive","generalization","richText","resetRichText","uid","activeStyle","associativeLineTargets","associativeLineTargetControlOffsets","associativeLinePoint","associativeLineText","attachmentUrl","attachmentName","notation","outerFrame","number","range"],Qu={READ_CLIPBOARD_ERROR:"read_clipboard_error",CUSTOM_HANDLE_CLIPBOARD_TEXT_ERROR:"custom_handle_clipboard_text_error",LOAD_CLIPBOARD_IMAGE_ERROR:"load_clipboard_image_error",BEFORE_TEXT_EDIT_ERROR:"before_text_edit_error",EXPORT_ERROR:"export_error",EXPORT_LOAD_IMAGE_ERROR:"export_load_image_error",DATA_CHANGE_DETAIL_EVENT_ERROR:"data_change_detail_event_error"},rk=`
  /* hover */
  .smm-hover-node{
    display: none;
    opacity: 0.6;
    stroke-width: 1;
  }

  .smm-node:not(.smm-node-dragging):hover .smm-hover-node{
    display: block;
  }

  .smm-node.active .smm-hover-node, .smm-node-highlight .smm-hover-node{
    display: block;
    opacity: 1;
    stroke-width: 2;
  }
`,wve=["img","br","hr","input","link","meta","area"];class _ve{constructor(t={}){this.opt=t,this.mindMap=this.opt.mindMap,this.scale=1,this.sx=0,this.sy=0,this.x=0,this.y=0,this.firstDrag=!0,this.setTransformData(this.mindMap.opt.viewData),this.bind()}bind(){this.mindMap.keyCommand.addShortcut("Control+=",()=>{this.enlarge()}),this.mindMap.keyCommand.addShortcut("Control+-",()=>{this.narrow()}),this.mindMap.keyCommand.addShortcut("Control+i",()=>{this.fit()}),this.mindMap.event.on("mousedown",t=>{this.mindMap.opt.isDisableDrag||(t.preventDefault(),this.sx=this.x,this.sy=this.y)}),this.mindMap.event.on("drag",(t,n)=>{t.ctrlKey||t.metaKey||this.mindMap.opt.isDisableDrag||(this.firstDrag&&(this.firstDrag=!1,this.mindMap.renderer.activeNodeList.length>0&&this.mindMap.execCommand("CLEAR_ACTIVE_NODE")),this.x=this.sx+n.mousemoveOffset.x,this.y=this.sy+n.mousemoveOffset.y,this.transform())}),this.mindMap.event.on("mouseup",()=>{this.firstDrag=!0}),this.mindMap.event.on("mousewheel",(t,n,r,s)=>{const{customHandleMousewheel:a,mousewheelAction:i,mouseScaleCenterUseMousePosition:o,mousewheelMoveStep:l,mousewheelZoomActionReverse:u,disableMouseWheelZoom:c}=this.mindMap.opt;if(a&&typeof a=="function")return a(t);if(i===Le.MOUSE_WHEEL_ACTION.ZOOM||t.ctrlKey||t.metaKey){if(c)return;const{x:d,y:h}=this.mindMap.toPos(t.clientX,t.clientY),p=o?d:void 0,m=o?h:void 0;switch(s&&(n.includes(Le.DIR.LEFT)||n.includes(Le.DIR.RIGHT))&&(n=n.filter(g=>![Le.DIR.LEFT,Le.DIR.RIGHT].includes(g))),!0){case n.includes(Le.DIR.UP):u?this.enlarge(p,m,s):this.narrow(p,m,s);break;case n.includes(Le.DIR.DOWN):u?this.narrow(p,m,s):this.enlarge(p,m,s);break}}else{const d=s?10:l;let h=0,p=0;n.includes(Le.DIR.DOWN)&&(p=-d),n.includes(Le.DIR.UP)&&(p=d),n.includes(Le.DIR.LEFT)&&(h=d),n.includes(Le.DIR.RIGHT)&&(h=-d),this.translateXY(h,p)}}),this.mindMap.on("resize",()=>{this.checkNeedMindMapInCanvas()&&this.transform()})}getTransformData(){return{transform:this.mindMap.draw.transform(),state:{scale:this.scale,x:this.x,y:this.y,sx:this.sx,sy:this.sy}}}setTransformData(t){t&&(Object.keys(t.state).forEach(n=>{this[n]=t.state[n]}),this.mindMap.draw.transform({...t.transform}),this.mindMap.emit("view_data_change",this.getTransformData()),this.emitEvent("scale"),this.emitEvent("translate"))}translateXY(t,n){t===0&&n===0||(this.x+=t,this.y+=n,this.transform(),this.emitEvent("translate"))}translateX(t){t!==0&&(this.x+=t,this.transform(),this.emitEvent("translate"))}translateXTo(t){this.x=t,this.transform(),this.emitEvent("translate")}translateY(t){t!==0&&(this.y+=t,this.transform(),this.emitEvent("translate"))}translateYTo(t){this.y=t,this.transform(),this.emitEvent("translate")}transform(){try{this.limitMindMapInCanvas()}catch{}this.mindMap.draw.transform({origin:[0,0],scale:this.scale,translate:[this.x,this.y]}),this.mindMap.emit("view_data_change",this.getTransformData())}reset(){const t=this.scale!==1,n=this.x!==0||this.y!==0;this.scale=1,this.x=0,this.y=0,this.transform(),t&&this.emitEvent("scale"),n&&this.emitEvent("translate")}narrow(t,n,r){const s=this.mindMap.opt.scaleRatio/(r?5:1),a=Math.max(this.scale-s,.1);this.scaleInCenter(a,t,n),this.transform(),this.emitEvent("scale")}enlarge(t,n,r){const s=this.mindMap.opt.scaleRatio/(r?5:1),a=this.scale+s;this.scaleInCenter(a,t,n),this.transform(),this.emitEvent("scale")}scaleInCenter(t,n,r){(n===void 0||r===void 0)&&(n=this.mindMap.width/2,r=this.mindMap.height/2);const s=this.scale,a=1-t/s,i=(n-this.x)*a,o=(r-this.y)*a;this.x+=i,this.y+=o,this.scale=t}setScale(t,n,r){n!==void 0&&r!==void 0?this.scaleInCenter(t,n,r):this.scale=t,this.transform(),this.emitEvent("scale")}fit(t=()=>{},n=!1,r){r=r===void 0?this.mindMap.opt.fitPadding:r;const s=this.mindMap.draw,a=s.transform(),i=t()||s.rbox(),o=i.width/a.scaleX,l=i.height/a.scaleY,u=o/l;let{width:c,height:d}=this.mindMap.elRect;c=c-r*2,d=d-r*2;const h=c/d;let p=0,m="";if(o<=c&&l<=d&&!n)p=1,m=1;else{let b=0;u>h?(b=c,m=2):(b=d*u,m=3),p=b/o}this.setScale(p);const g=t()||s.rbox();g.x-=this.mindMap.elRect.left,g.y-=this.mindMap.elRect.top;let v=0,y=0;m===1?(v=-g.x+r+(c-g.width)/2,y=-g.y+r+(d-g.height)/2):m===2?(v=-g.x+r,y=-g.y+r+(d-g.height)/2):m===3&&(v=-g.x+r+(c-g.width)/2,y=-g.y+r),this.translateXY(v,y)}checkNeedMindMapInCanvas(){const{isLimitMindMapInCanvasWhenHasScrollbar:t,isLimitMindMapInCanvas:n}=this.mindMap.opt;return this.mindMap.scrollbar?t:n}limitMindMapInCanvas(){if(!this.checkNeedMindMapInCanvas())return;let{scale:t,left:n,top:r,right:s,bottom:a}=this.getPositionLimit();const i=(this.mindMap.width-this.mindMap.initWidth)/2*t,o=(this.mindMap.height-this.mindMap.initHeight)/2*t,l=this.scale/t;n*=l,s*=l,r*=l,a*=l;const u=this.mindMap.width/2,c=this.mindMap.height/2,d=this.scale-1;n-=d*u-i,s-=d*u-i,r-=d*c-o,a-=d*c-o,this.x>n&&(this.x=n),this.x<s&&(this.x=s),this.y>r&&(this.y=r),this.y<a&&(this.y=a)}getPositionLimit(){const{scaleX:t,scaleY:n}=this.mindMap.draw.transform(),r=this.mindMap.draw.rbox(),s=this.mindMap.renderer.root.group.rbox(),a=this.mindMap.renderer.layout.getRootCenterOffset(s.width,s.height),i=s.x-r.x-a.x*t,o=s.x-r.x2-a.x*t,l=s.y-r.y-a.y*n,u=s.y-r.y2-a.y*n;return{scale:t,left:i,right:o,top:l,bottom:u}}emitEvent(t){switch(t){case"scale":this.mindMap.emit("scale",this.scale);case"translate":this.mindMap.emit("translate",this.x,this.y)}}}var vM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new s(c,d||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,h,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,p),!0;case 6:return v.fn.call(v.context,c,d,h,p,m),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,d);break;case 4:v[w].fn.call(v[w].context,c,d,h);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==c||h&&!m[g].once||d&&m[g].context!==d)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:i(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&i(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(vM);var yM=vM.exports;const Sve=Ua(yM);let Cve=class extends Sve{constructor(t={}){super(),this.opt=t,this.mindMap=t.mindMap,this.isLeftMousedown=!1,this.isRightMousedown=!1,this.isMiddleMousedown=!1,this.mousedownPos={x:0,y:0},this.mousemovePos={x:0,y:0},this.mousemoveOffset={x:0,y:0},this.bindFn(),this.bind()}bindFn(){this.onBodyMousedown=this.onBodyMousedown.bind(this),this.onBodyClick=this.onBodyClick.bind(this),this.onDrawClick=this.onDrawClick.bind(this),this.onMousedown=this.onMousedown.bind(this),this.onMousemove=this.onMousemove.bind(this),this.onMouseup=this.onMouseup.bind(this),this.onNodeMouseup=this.onNodeMouseup.bind(this),this.onMousewheel=this.onMousewheel.bind(this),this.onContextmenu=this.onContextmenu.bind(this),this.onSvgMousedown=this.onSvgMousedown.bind(this),this.onKeyup=this.onKeyup.bind(this),this.onMouseenter=this.onMouseenter.bind(this),this.onMouseleave=this.onMouseleave.bind(this)}bind(){document.body.addEventListener("mousedown",this.onBodyMousedown),document.body.addEventListener("click",this.onBodyClick),this.mindMap.svg.on("click",this.onDrawClick),this.mindMap.el.addEventListener("mousedown",this.onMousedown),this.mindMap.svg.on("mousedown",this.onSvgMousedown),window.addEventListener("mousemove",this.onMousemove),window.addEventListener("mouseup",this.onMouseup),this.on("node_mouseup",this.onNodeMouseup),this.mindMap.el.addEventListener("wheel",this.onMousewheel),this.mindMap.svg.on("contextmenu",this.onContextmenu),this.mindMap.svg.on("mouseenter",this.onMouseenter),this.mindMap.svg.on("mouseleave",this.onMouseleave),window.addEventListener("keyup",this.onKeyup)}unbind(){document.body.removeEventListener("mousedown",this.onBodyMousedown),document.body.removeEventListener("click",this.onBodyClick),this.mindMap.svg.off("click",this.onDrawClick),this.mindMap.el.removeEventListener("mousedown",this.onMousedown),window.removeEventListener("mousemove",this.onMousemove),window.removeEventListener("mouseup",this.onMouseup),this.off("node_mouseup",this.onNodeMouseup),this.mindMap.el.removeEventListener("wheel",this.onMousewheel),this.mindMap.svg.off("contextmenu",this.onContextmenu),this.mindMap.svg.off("mouseenter",this.onMouseenter),this.mindMap.svg.off("mouseleave",this.onMouseleave),window.removeEventListener("keyup",this.onKeyup)}onDrawClick(t){this.emit("draw_click",t)}onBodyMousedown(t){this.emit("body_mousedown",t)}onBodyClick(t){this.emit("body_click",t)}onSvgMousedown(t){this.emit("svg_mousedown",t)}onMousedown(t){t.which===1?this.isLeftMousedown=!0:t.which===3?this.isRightMousedown=!0:t.which===2&&(this.isMiddleMousedown=!0),this.mousedownPos.x=t.clientX,this.mousedownPos.y=t.clientY,this.emit("mousedown",t,this)}onMousemove(t){let{useLeftKeySelectionRightKeyDrag:n}=this.mindMap.opt;this.mousemovePos.x=t.clientX,this.mousemovePos.y=t.clientY,this.mousemoveOffset.x=t.clientX-this.mousedownPos.x,this.mousemoveOffset.y=t.clientY-this.mousedownPos.y,this.emit("mousemove",t,this),(this.isMiddleMousedown||(n?this.isRightMousedown:this.isLeftMousedown))&&(t.preventDefault(),this.emit("drag",t,this))}onMouseup(t){this.onNodeMouseup(),this.emit("mouseup",t,this)}onNodeMouseup(){this.isLeftMousedown=!1,this.isRightMousedown=!1,this.isMiddleMousedown=!1}onMousewheel(t){t.stopPropagation(),t.preventDefault();const n=[];t.deltaY<0&&n.push(Le.DIR.UP),t.deltaY>0&&n.push(Le.DIR.DOWN),t.deltaX<0&&n.push(Le.DIR.LEFT),t.deltaX>0&&n.push(Le.DIR.RIGHT);let r=!1;(t.wheelDeltaY===t.deltaY*-3||Math.abs(t.wheelDeltaY)<=10)&&(r=!0),this.emit("mousewheel",t,n,this,r)}onContextmenu(t){t.preventDefault(),!t.ctrlKey&&this.emit("contextmenu",t)}onKeyup(t){this.emit("keyup",t)}onMouseenter(t){this.emit("svg_mouseenter",t)}onMouseleave(t){this.emit("svg_mouseleave",t)}};var g0=function(t){return xve(t)&&!Eve(t)};function xve(e){return!!e&&typeof e=="object"}function Eve(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Nve(e)}var Tve=typeof Symbol=="function"&&Symbol.for,kve=Tve?Symbol.for("react.element"):60103;function Nve(e){return e.$$typeof===kve}function Ive(e){return Array.isArray(e)?[]:{}}function wp(e,t){var n=t&&t.clone===!0;return n&&g0(e)?Qd(Ive(e),e,t):e}function sk(e,t,n){var r=e.slice();return t.forEach(function(s,a){typeof r[a]>"u"?r[a]=wp(s,n):g0(s)?r[a]=Qd(e[a],s,n):e.indexOf(s)===-1&&r.push(wp(s,n))}),r}function Ove(e,t,n){var r={};return g0(e)&&Object.keys(e).forEach(function(s){r[s]=wp(e[s],n)}),Object.keys(t).forEach(function(s){!g0(t[s])||!e[s]?r[s]=wp(t[s],n):r[s]=Qd(e[s],t[s],n)}),r}function Qd(e,t,n){var r=Array.isArray(t),s=Array.isArray(e),a=n||{arrayMerge:sk},i=r===s;if(i)if(r){var o=a.arrayMerge||sk;return o(e,t,n)}else return Ove(e,t,n);else return wp(t,n)}Qd.all=function(t,n){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(r,s){return Qd(r,s,n)})};var Sn=Qd;let mg;const $ve=new Uint8Array(16);function Ave(){if(!mg&&(mg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!mg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mg($ve)}const Xr=[];for(let e=0;e<256;++e)Xr.push((e+256).toString(16).slice(1));function Rve(e,t=0){return Xr[e[t+0]]+Xr[e[t+1]]+Xr[e[t+2]]+Xr[e[t+3]]+"-"+Xr[e[t+4]]+Xr[e[t+5]]+"-"+Xr[e[t+6]]+Xr[e[t+7]]+"-"+Xr[e[t+8]]+Xr[e[t+9]]+"-"+Xr[e[t+10]]+Xr[e[t+11]]+Xr[e[t+12]]+Xr[e[t+13]]+Xr[e[t+14]]+Xr[e[t+15]]}const Mve=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ak={randomUUID:Mve};function Pve(e,t,n){if(ak.randomUUID&&!e)return ak.randomUUID();e=e||{};const r=e.random||(e.rng||Ave)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Rve(r)}function RS(e){this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)}RS.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++)e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(((e&4294901760)>>>16)*1812433253<<16)+(e&65535)*1812433253+this.mti,this.mt[this.mti]>>>=0};RS.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_genrand(5489),n=0;n<this.N-this.M;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^e>>>1^t[e&1];for(;n<this.N-1;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^e>>>1^t[e&1];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[e&1],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,e^=e>>>18,e>>>0};const Jw={},bM=[];function pn(e,t){if(Array.isArray(e)){for(const n of e)pn(n,t);return}if(typeof e=="object"){for(const n in e)pn(n,e[n]);return}wM(Object.getOwnPropertyNames(t)),Jw[e]=Object.assign(Jw[e]||{},t)}function ta(e){return Jw[e]||{}}function Lve(){return[...new Set(bM)]}function wM(e){bM.push(...e)}function MS(e,t){let n;const r=e.length,s=[];for(n=0;n<r;n++)s.push(t(e[n]));return s}function Dve(e,t){let n;const r=e.length,s=[];for(n=0;n<r;n++)t(e[n])&&s.push(e[n]);return s}function Mb(e){return e%360*Math.PI/180}function zve(e){return e.replace(/([A-Z])/g,function(t,n){return"-"+n.toLowerCase()})}function _M(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Tf(e,t,n,r){return(t==null||n==null)&&(r=r||e.bbox(),t==null?t=r.width/r.height*n:n==null&&(n=r.height/r.width*t)),{width:t,height:n}}function Qw(e,t){const n=e.origin;let r=e.ox!=null?e.ox:e.originX!=null?e.originX:"center",s=e.oy!=null?e.oy:e.originY!=null?e.originY:"center";n!=null&&([r,s]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);const a=typeof r=="string",i=typeof s=="string";if(a||i){const{height:o,width:l,x:u,y:c}=t.bbox();a&&(r=r.includes("left")?u:r.includes("right")?u+l:u+l/2),i&&(s=s.includes("top")?c:s.includes("bottom")?c+o:c+o/2)}return[r,s]}const Fve=new Set(["desc","metadata","title"]),e_=e=>Fve.has(e.nodeName),SM=(e,t,n={})=>{const r={...t};for(const s in r)r[s].valueOf()===n[s]&&delete r[s];Object.keys(r).length?e.node.setAttribute("data-svgjs",JSON.stringify(r)):(e.node.removeAttribute("data-svgjs"),e.node.removeAttribute("svgjs:data"))},PS="http://www.w3.org/2000/svg",Bve="http://www.w3.org/1999/xhtml",Pb="http://www.w3.org/2000/xmlns/",gm="http://www.w3.org/1999/xlink",Tn={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function jve(){return Tn.window}let LS=class{};const ec={},DS="___SYMBOL___ROOT___";function _p(e,t=PS){return Tn.document.createElementNS(t,e)}function zs(e,t=!1){if(e instanceof LS)return e;if(typeof e=="object")return Lb(e);if(e==null)return new ec[DS];if(typeof e=="string"&&e.trim().charAt(0)!=="<")return Lb(Tn.document.querySelector(e));const n=t?Tn.document.createElement("div"):_p("svg");return n.innerHTML=e.trim(),e=Lb(n.firstElementChild),n.removeChild(n.firstElementChild),e}function ur(e,t){return t&&(t instanceof Tn.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:_p(e)}function Pa(e){if(!e)return null;if(e.instance instanceof LS)return e.instance;if(e.nodeName==="#document-fragment")return new ec.Fragment(e);let t=_M(e.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":ec[t]||(t="Dom"),new ec[t](e)}let Lb=Pa;function kn(e,t=e.name,n=!1){return ec[t]=e,n&&(ec[DS]=e),wM(Object.getOwnPropertyNames(e.prototype)),e}function Vve(e){return ec[e]}let Hve=1e3;function CM(e){return"Svgjs"+_M(e)+Hve++}function xM(e){for(let t=e.children.length-1;t>=0;t--)xM(e.children[t]);return e.id&&(e.id=CM(e.nodeName)),e}function bn(e,t){let n,r;for(e=Array.isArray(e)?e:[e],r=e.length-1;r>=0;r--)for(n in t)e[r].prototype[n]=t[n]}function lr(e){return function(...t){const n=t[t.length-1];return n&&n.constructor===Object&&!(n instanceof Array)?e.apply(this,t.slice(0,-1)).attr(n):e.apply(this,t)}}function Uve(){return this.parent().children()}function Wve(){return this.parent().index(this)}function Kve(){return this.siblings()[this.position()+1]}function Gve(){return this.siblings()[this.position()-1]}function Zve(){const e=this.position();return this.parent().add(this.remove(),e+1),this}function Yve(){const e=this.position();return this.parent().add(this.remove(),e?e-1:0),this}function qve(){return this.parent().add(this.remove()),this}function Xve(){return this.parent().add(this.remove(),0),this}function Jve(e){e=zs(e),e.remove();const t=this.position();return this.parent().add(e,t),this}function Qve(e){e=zs(e),e.remove();const t=this.position();return this.parent().add(e,t+1),this}function e0e(e){return e=zs(e),e.before(this),this}function t0e(e){return e=zs(e),e.after(this),this}pn("Dom",{siblings:Uve,position:Wve,next:Kve,prev:Gve,forward:Zve,backward:Yve,front:qve,back:Xve,before:Jve,after:Qve,insertBefore:e0e,insertAfter:t0e});const EM=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,n0e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,r0e=/rgb\((\d+),(\d+),(\d+)\)/,s0e=/(#[a-z_][a-z0-9\-_]*)/i,a0e=/\)\s*,?\s*/,i0e=/\s/g,ik=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ok=/^rgb\(/,lk=/^(\s+)?$/,uk=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,o0e=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,gl=/[\s,]+/,zS=/[MLHVCSQTAZ]/i;function l0e(){const e=this.attr("class");return e==null?[]:e.trim().split(gl)}function u0e(e){return this.classes().indexOf(e)!==-1}function c0e(e){if(!this.hasClass(e)){const t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this}function d0e(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e}).join(" ")),this}function f0e(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}pn("Dom",{classes:l0e,hasClass:u0e,addClass:c0e,removeClass:d0e,toggleClass:f0e});function h0e(e,t){const n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(r){return!!r.length}).forEach(function(r){const s=r.split(/\s*:\s*/);n[s[0]]=s[1]}),n;if(arguments.length<2){if(Array.isArray(e)){for(const r of e){const s=r;n[r]=this.node.style.getPropertyValue(s)}return n}if(typeof e=="string")return this.node.style.getPropertyValue(e);if(typeof e=="object")for(const r in e)this.node.style.setProperty(r,e[r]==null||lk.test(e[r])?"":e[r])}return arguments.length===2&&this.node.style.setProperty(e,t==null||lk.test(t)?"":t),this}function p0e(){return this.css("display","")}function m0e(){return this.css("display","none")}function g0e(){return this.css("display")!=="none"}pn("Dom",{css:h0e,show:p0e,hide:m0e,visible:g0e});function v0e(e,t,n){if(e==null)return this.data(MS(Dve(this.node.attributes,r=>r.nodeName.indexOf("data-")===0),r=>r.nodeName.slice(5)));if(e instanceof Array){const r={};for(const s of e)r[s]=this.data(s);return r}else if(typeof e=="object")for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch{return this.attr("data-"+e)}else this.attr("data-"+e,t===null?null:n===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}pn("Dom",{data:v0e});function y0e(e,t){if(typeof arguments[0]=="object")for(const n in e)this.remember(n,e[n]);else{if(arguments.length===1)return this.memory()[e];this.memory()[e]=t}return this}function b0e(){if(arguments.length===0)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this}function w0e(){return this._memory=this._memory||{}}pn("Dom",{remember:y0e,forget:b0e,memory:w0e});function _0e(e){return e.length===4?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function S0e(e){const t=Math.round(e),r=Math.max(0,Math.min(255,t)).toString(16);return r.length===1?"0"+r:r}function Hc(e,t){for(let n=t.length;n--;)if(e[t[n]]==null)return!1;return!0}function C0e(e,t){const n=Hc(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:Hc(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:Hc(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:Hc(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:Hc(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:Hc(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}function x0e(e){return e==="lab"||e==="xyz"||e==="lch"}function Db(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class Vn{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof Vn||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",n){const{random:r,round:s,sin:a,PI:i}=Math;if(t==="vibrant"){const o=24*r()+57,l=38*r()+45,u=360*r();return new Vn(o,l,u,"lch")}else if(t==="sine"){n=n??r();const o=s(80*a(2*i*n/.5+.01)+150),l=s(50*a(2*i*n/.5+4.6)+200),u=s(100*a(2*i*n/.5+2.3)+150);return new Vn(o,l,u)}else if(t==="pastel"){const o=8*r()+86,l=17*r()+9,u=360*r();return new Vn(o,l,u,"lch")}else if(t==="dark"){const o=10+10*r(),l=50*r()+86,u=360*r();return new Vn(o,l,u,"lch")}else if(t==="rgb"){const o=255*r(),l=255*r(),u=255*r();return new Vn(o,l,u)}else if(t==="lab"){const o=100*r(),l=256*r()-128,u=256*r()-128;return new Vn(o,l,u,"lab")}else if(t==="grey"){const o=255*r();return new Vn(o,o,o)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(ik.test(t)||ok.test(t))}cmyk(){const{_a:t,_b:n,_c:r}=this.rgb(),[s,a,i]=[t,n,r].map(h=>h/255),o=Math.min(1-s,1-a,1-i);if(o===1)return new Vn(0,0,0,1,"cmyk");const l=(1-s-o)/(1-o),u=(1-a-o)/(1-o),c=(1-i-o)/(1-o);return new Vn(l,u,c,o,"cmyk")}hsl(){const{_a:t,_b:n,_c:r}=this.rgb(),[s,a,i]=[t,n,r].map(g=>g/255),o=Math.max(s,a,i),l=Math.min(s,a,i),u=(o+l)/2,c=o===l,d=o-l,h=c?0:u>.5?d/(2-o-l):d/(o+l),p=c?0:o===s?((a-i)/d+(a<i?6:0))/6:o===a?((i-s)/d+2)/6:o===i?((s-a)/d+4)/6:0;return new Vn(360*p,100*h,100*u,"hsl")}init(t=0,n=0,r=0,s=0,a="rgb"){if(t=t||0,this.space)for(const d in this.space)delete this[this.space[d]];if(typeof t=="number")a=typeof s=="string"?s:a,s=typeof s=="string"?0:s,Object.assign(this,{_a:t,_b:n,_c:r,_d:s,space:a});else if(t instanceof Array)this.space=n||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const d=C0e(t,n);Object.assign(this,d)}else if(typeof t=="string")if(ok.test(t)){const d=t.replace(i0e,""),[h,p,m]=r0e.exec(d).slice(1,4).map(g=>parseInt(g));Object.assign(this,{_a:h,_b:p,_c:m,_d:0,space:"rgb"})}else if(ik.test(t)){const d=g=>parseInt(g,16),[,h,p,m]=n0e.exec(_0e(t)).map(d);Object.assign(this,{_a:h,_b:p,_c:m,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:i,_b:o,_c:l,_d:u}=this,c=this.space==="rgb"?{r:i,g:o,b:l}:this.space==="xyz"?{x:i,y:o,z:l}:this.space==="hsl"?{h:i,s:o,l}:this.space==="lab"?{l:i,a:o,b:l}:this.space==="lch"?{l:i,c:o,h:l}:this.space==="cmyk"?{c:i,m:o,y:l,k:u}:{};Object.assign(this,c)}lab(){const{x:t,y:n,z:r}=this.xyz(),s=116*n-16,a=500*(t-n),i=200*(n-r);return new Vn(s,a,i,"lab")}lch(){const{l:t,a:n,b:r}=this.lab(),s=Math.sqrt(n**2+r**2);let a=180*Math.atan2(r,n)/Math.PI;return a<0&&(a*=-1,a=360-a),new Vn(t,s,a,"lch")}rgb(){if(this.space==="rgb")return this;if(x0e(this.space)){let{x:t,y:n,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:p,a:m,b:g}=this;if(this.space==="lch"){const{c:C,h:T}=this,x=Math.PI/180;m=C*Math.cos(x*T),g=C*Math.sin(x*T)}const v=(p+16)/116,y=m/500+v,b=v-g/200,w=16/116,_=.008856,S=7.787;t=.95047*(y**3>_?y**3:(y-w)/S),n=1*(v**3>_?v**3:(v-w)/S),r=1.08883*(b**3>_?b**3:(b-w)/S)}const s=t*3.2406+n*-1.5372+r*-.4986,a=t*-.9689+n*1.8758+r*.0415,i=t*.0557+n*-.204+r*1.057,o=Math.pow,l=.0031308,u=s>l?1.055*o(s,1/2.4)-.055:12.92*s,c=a>l?1.055*o(a,1/2.4)-.055:12.92*a,d=i>l?1.055*o(i,1/2.4)-.055:12.92*i;return new Vn(255*u,255*c,255*d)}else if(this.space==="hsl"){let{h:t,s:n,l:r}=this;if(t/=360,n/=100,r/=100,n===0)return r*=255,new Vn(r,r,r);const s=r<.5?r*(1+n):r+n-r*n,a=2*r-s,i=255*Db(a,s,t+1/3),o=255*Db(a,s,t),l=255*Db(a,s,t-1/3);return new Vn(i,o,l)}else if(this.space==="cmyk"){const{c:t,m:n,y:r,k:s}=this,a=255*(1-Math.min(1,t*(1-s)+s)),i=255*(1-Math.min(1,n*(1-s)+s)),o=255*(1-Math.min(1,r*(1-s)+s));return new Vn(a,i,o)}else return this}toArray(){const{_a:t,_b:n,_c:r,_d:s,space:a}=this;return[t,n,r,s,a]}toHex(){const[t,n,r]=this._clamped().map(S0e);return`#${t}${n}${r}`}toRgb(){const[t,n,r]=this._clamped();return`rgb(${t},${n},${r})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:n,_c:r}=this.rgb(),[s,a,i]=[t,n,r].map(y=>y/255),o=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,l=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,u=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,c=(o*.4124+l*.3576+u*.1805)/.95047,d=(o*.2126+l*.7152+u*.0722)/1,h=(o*.0193+l*.1192+u*.9505)/1.08883,p=c>.008856?Math.pow(c,1/3):7.787*c+16/116,m=d>.008856?Math.pow(d,1/3):7.787*d+16/116,g=h>.008856?Math.pow(h,1/3):7.787*h+16/116;return new Vn(p,m,g,"xyz")}_clamped(){const{_a:t,_b:n,_c:r}=this.rgb(),{max:s,min:a,round:i}=Math,o=l=>s(0,a(i(l),255));return[t,n,r].map(o)}}class xr{constructor(...t){this.init(...t)}clone(){return new xr(this)}init(t,n){const r={x:0,y:0},s=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:n};return this.x=s.x==null?r.x:s.x,this.y=s.y==null?r.y:s.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){Wt.isMatrixLike(t)||(t=new Wt(t));const{x:n,y:r}=this;return this.x=t.a*n+t.c*r+t.e,this.y=t.b*n+t.d*r+t.f,this}}function E0e(e,t){return new xr(e,t).transformO(this.screenCTM().inverseO())}function Uc(e,t,n){return Math.abs(t-e)<1e-6}class Wt{constructor(...t){this.init(...t)}static formatTransforms(t){const n=t.flip==="both"||t.flip===!0,r=t.flip&&(n||t.flip==="x")?-1:1,s=t.flip&&(n||t.flip==="y")?-1:1,a=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,i=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleX)?t.scaleX*r:r,l=t.scale&&t.scale.length?t.scale[1]*s:isFinite(t.scale)?t.scale*s:isFinite(t.scaleY)?t.scaleY*s:s,u=t.shear||0,c=t.rotate||t.theta||0,d=new xr(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),h=d.x,p=d.y,m=new xr(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),g=m.x,v=m.y,y=new xr(t.translate||t.tx||t.translateX,t.ty||t.translateY),b=y.x,w=y.y,_=new xr(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),S=_.x,C=_.y;return{scaleX:o,scaleY:l,skewX:a,skewY:i,shear:u,theta:c,rx:S,ry:C,tx:b,ty:w,ox:h,oy:p,px:g,py:v}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,n,r){const s=t.a*n.a+t.c*n.b,a=t.b*n.a+t.d*n.b,i=t.a*n.c+t.c*n.d,o=t.b*n.c+t.d*n.d,l=t.e+t.a*n.e+t.c*n.f,u=t.f+t.b*n.e+t.d*n.f;return r.a=s,r.b=a,r.c=i,r.d=o,r.e=l,r.f=u,r}around(t,n,r){return this.clone().aroundO(t,n,r)}aroundO(t,n,r){const s=t||0,a=n||0;return this.translateO(-s,-a).lmultiplyO(r).translateO(s,a)}clone(){return new Wt(this)}decompose(t=0,n=0){const r=this.a,s=this.b,a=this.c,i=this.d,o=this.e,l=this.f,u=r*i-s*a,c=u>0?1:-1,d=c*Math.sqrt(r*r+s*s),h=Math.atan2(c*s,c*r),p=180/Math.PI*h,m=Math.cos(h),g=Math.sin(h),v=(r*a+s*i)/u,y=a*d/(v*r-s)||i*d/(v*s+r),b=o-t+t*m*d+n*(v*m*d-g*y),w=l-n+t*g*d+n*(v*g*d+m*y);return{scaleX:d,scaleY:y,shear:v,rotate:p,translateX:b,translateY:w,originX:t,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const n=new Wt(t);return Uc(this.a,n.a)&&Uc(this.b,n.b)&&Uc(this.c,n.c)&&Uc(this.d,n.d)&&Uc(this.e,n.e)&&Uc(this.f,n.f)}flip(t,n){return this.clone().flipO(t,n)}flipO(t,n){return t==="x"?this.scaleO(-1,1,n,0):t==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,t,n||t)}init(t){const n=Wt.fromArray([1,0,0,1,0,0]);return t=t instanceof xo?t.matrixify():typeof t=="string"?Wt.fromArray(t.split(gl).map(parseFloat)):Array.isArray(t)?Wt.fromArray(t):typeof t=="object"&&Wt.isMatrixLike(t)?t:typeof t=="object"?new Wt().transform(t):arguments.length===6?Wt.fromArray([].slice.call(arguments)):n,this.a=t.a!=null?t.a:n.a,this.b=t.b!=null?t.b:n.b,this.c=t.c!=null?t.c:n.c,this.d=t.d!=null?t.d:n.d,this.e=t.e!=null?t.e:n.e,this.f=t.f!=null?t.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,n=this.b,r=this.c,s=this.d,a=this.e,i=this.f,o=t*s-n*r;if(!o)throw new Error("Cannot invert "+this);const l=s/o,u=-n/o,c=-r/o,d=t/o,h=-(l*a+c*i),p=-(u*a+d*i);return this.a=l,this.b=u,this.c=c,this.d=d,this.e=h,this.f=p,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const n=this,r=t instanceof Wt?t:new Wt(t);return Wt.matrixMultiply(r,n,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const n=this,r=t instanceof Wt?t:new Wt(t);return Wt.matrixMultiply(n,r,this)}rotate(t,n,r){return this.clone().rotateO(t,n,r)}rotateO(t,n=0,r=0){t=Mb(t);const s=Math.cos(t),a=Math.sin(t),{a:i,b:o,c:l,d:u,e:c,f:d}=this;return this.a=i*s-o*a,this.b=o*s+i*a,this.c=l*s-u*a,this.d=u*s+l*a,this.e=c*s-d*a+r*a-n*s+n,this.f=d*s+c*a-n*a-r*s+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,n=t,r=0,s=0){arguments.length===3&&(s=r,r=n,n=t);const{a,b:i,c:o,d:l,e:u,f:c}=this;return this.a=a*t,this.b=i*n,this.c=o*t,this.d=l*n,this.e=u*t-r*t+r,this.f=c*n-s*n+s,this}shear(t,n,r){return this.clone().shearO(t,n,r)}shearO(t,n=0,r=0){const{a:s,b:a,c:i,d:o,e:l,f:u}=this;return this.a=s+a*t,this.c=i+o*t,this.e=l+u*t-r*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,n=t,r=0,s=0){arguments.length===3&&(s=r,r=n,n=t),t=Mb(t),n=Mb(n);const a=Math.tan(t),i=Math.tan(n),{a:o,b:l,c:u,d:c,e:d,f:h}=this;return this.a=o+l*a,this.b=l+o*i,this.c=u+c*a,this.d=c+u*i,this.e=d+h*a-s*a,this.f=h+d*i-r*i,this}skewX(t,n,r){return this.skew(t,0,n,r)}skewY(t,n,r){return this.skew(0,t,n,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(Wt.isMatrixLike(t))return new Wt(t).multiplyO(this);const n=Wt.formatTransforms(t),r=this,{x:s,y:a}=new xr(n.ox,n.oy).transform(r),i=new Wt().translateO(n.rx,n.ry).lmultiplyO(r).translateO(-s,-a).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(s,a);if(isFinite(n.px)||isFinite(n.py)){const o=new xr(s,a).transform(i),l=isFinite(n.px)?n.px-o.x:0,u=isFinite(n.py)?n.py-o.y:0;i.translateO(l,u)}return i.translateO(n.tx,n.ty),i}translate(t,n){return this.clone().translateO(t,n)}translateO(t,n){return this.e+=t||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function T0e(){return new Wt(this.node.getCTM())}function k0e(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new Wt(t)}return new Wt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Wt}}kn(Wt,"Matrix");function Fl(){if(!Fl.nodes){const e=zs().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");const t=e.path().node;Fl.nodes={svg:e,path:t}}if(!Fl.nodes.svg.node.parentNode){const e=Tn.document.body||Tn.document.documentElement;Fl.nodes.svg.addTo(e)}return Fl.nodes}function TM(e){return!e.width&&!e.height&&!e.x&&!e.y}function N0e(e){return e===Tn.document||(Tn.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===Tn.document}).call(Tn.document.documentElement,e)}class is{constructor(...t){this.init(...t)}addOffset(){return this.x+=Tn.window.pageXOffset,this.y+=Tn.window.pageYOffset,new is(this)}init(t){const n=[0,0,0,0];return t=typeof t=="string"?t.split(gl).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):n,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return TM(this)}merge(t){const n=Math.min(this.x,t.x),r=Math.min(this.y,t.y),s=Math.max(this.x+this.width,t.x+t.width)-n,a=Math.max(this.y+this.height,t.y+t.height)-r;return new is(n,r,s,a)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof Wt||(t=new Wt(t));let n=1/0,r=-1/0,s=1/0,a=-1/0;return[new xr(this.x,this.y),new xr(this.x2,this.y),new xr(this.x,this.y2),new xr(this.x2,this.y2)].forEach(function(o){o=o.transform(t),n=Math.min(n,o.x),r=Math.max(r,o.x),s=Math.min(s,o.y),a=Math.max(a,o.y)}),new is(n,s,r-n,a-s)}}function kM(e,t,n){let r;try{if(r=t(e.node),TM(r)&&!N0e(e.node))throw new Error("Element not in the dom")}catch{r=n(e)}return r}function I0e(){const n=kM(this,s=>s.getBBox(),s=>{try{const a=s.clone().addTo(Fl().svg).show(),i=a.node.getBBox();return a.remove(),i}catch(a){throw new Error(`Getting bbox of element "${s.node.nodeName}" is not possible: ${a.toString()}`)}});return new is(n)}function O0e(e){const r=kM(this,a=>a.getBoundingClientRect(),a=>{throw new Error(`Getting rbox of element "${a.node.nodeName}" is not possible`)}),s=new is(r);return e?s.transform(e.screenCTM().inverseO()):s.addOffset()}function $0e(e,t){const n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height}pn({viewbox:{viewbox(e,t,n,r){return e==null?new is(this.attr("viewBox")):this.attr("viewBox",new is(e,t,n,r))},zoom(e,t){let{width:n,height:r}=this.attr(["width","height"]);if((!n&&!r||typeof n=="string"||typeof r=="string")&&(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const s=this.viewbox(),a=n/s.width,i=r/s.height,o=Math.min(a,i);if(e==null)return o;let l=o/e;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),t=t||new xr(n/2/a+s.x,r/2/i+s.y);const u=new is(s).transform(new Wt({scale:l,origin:t}));return this.viewbox(u)}}});kn(is,"Box");class mc extends Array{constructor(t=[],...n){if(super(t,...n),typeof t=="number")return this;this.length=0,this.push(...t)}}bn([mc],{each(e,...t){return typeof e=="function"?this.map((n,r,s)=>e.call(n,n,r,s)):this.map(n=>n[e](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const A0e=["toArray","constructor","each"];mc.extend=function(e){e=e.reduce((t,n)=>(A0e.includes(n)||n[0]==="_"||(n in Array.prototype&&(t["$"+n]=Array.prototype[n]),t[n]=function(...r){return this.each(n,...r)}),t),{}),bn([mc],e)};function kf(e,t){return new mc(MS((t||Tn.document).querySelectorAll(e),function(n){return Pa(n)}))}function R0e(e){return kf(e,this.node)}function M0e(e){return Pa(this.node.querySelector(e))}let P0e=0;const NM={};function IM(e){let t=e.getEventHolder();return t===Tn.window&&(t=NM),t.events||(t.events={}),t.events}function FS(e){return e.getEventTarget()}function L0e(e){let t=e.getEventHolder();t===Tn.window&&(t=NM),t.events&&(t.events={})}function t_(e,t,n,r,s){const a=n.bind(r||e),i=zs(e),o=IM(i),l=FS(i);t=Array.isArray(t)?t:t.split(gl),n._svgjsListenerId||(n._svgjsListenerId=++P0e),t.forEach(function(u){const c=u.split(".")[0],d=u.split(".")[1]||"*";o[c]=o[c]||{},o[c][d]=o[c][d]||{},o[c][d][n._svgjsListenerId]=a,l.addEventListener(c,a,s||!1)})}function ud(e,t,n,r){const s=zs(e),a=IM(s),i=FS(s);typeof n=="function"&&(n=n._svgjsListenerId,!n)||(t=Array.isArray(t)?t:(t||"").split(gl),t.forEach(function(o){const l=o&&o.split(".")[0],u=o&&o.split(".")[1];let c,d;if(n)a[l]&&a[l][u||"*"]&&(i.removeEventListener(l,a[l][u||"*"][n],r||!1),delete a[l][u||"*"][n]);else if(l&&u){if(a[l]&&a[l][u]){for(d in a[l][u])ud(i,[l,u].join("."),d);delete a[l][u]}}else if(u)for(o in a)for(c in a[o])u===c&&ud(i,[o,u].join("."));else if(l){if(a[l]){for(c in a[l])ud(i,[l,c].join("."));delete a[l]}}else{for(o in a)ud(i,o);L0e(s)}}))}function D0e(e,t,n,r){const s=FS(e);return t instanceof Tn.window.Event||(t=new Tn.window.CustomEvent(t,{detail:n,cancelable:!0,...r})),s.dispatchEvent(t),t}class vm extends LS{addEventListener(){}dispatch(t,n,r){return D0e(this,t,n,r)}dispatchEvent(t){const n=this.getEventHolder().events;if(!n)return!0;const r=n[t.type];for(const s in r)for(const a in r[s])r[s][a](t);return!t.defaultPrevented}fire(t,n,r){return this.dispatch(t,n,r),this}getEventHolder(){return this}getEventTarget(){return this}off(t,n,r){return ud(this,t,n,r),this}on(t,n,r,s){return t_(this,t,n,r,s),this}removeEventListener(){}}kn(vm,"EventTarget");function ck(){}const eh={duration:400,ease:">",delay:0},z0e={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class ef extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(gl).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class on{constructor(...t){this.init(...t)}convert(t){return new on(this.value,t)}divide(t){return t=new on(t),new on(this/t,this.unit||t.unit)}init(t,n){return n=Array.isArray(t)?t[1]:n,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=n||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(n=t.match(EM),n&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5])):t instanceof on&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new on(t),new on(this-t,this.unit||t.unit)}plus(t){return t=new on(t),new on(this+t,this.unit||t.unit)}times(t){return t=new on(t),new on(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const F0e=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),OM=[];function B0e(e){OM.push(e)}function j0e(e,t,n){if(e==null){e={},t=this.node.attributes;for(const r of t)e[r.nodeName]=uk.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return e}else{if(e instanceof Array)return e.reduce((r,s)=>(r[s]=this.attr(s),r),{});if(typeof e=="object"&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(t===null)this.node.removeAttribute(e);else{if(t==null)return t=this.node.getAttribute(e),t==null?z0e[e]:uk.test(t)?parseFloat(t):t;t=OM.reduce((r,s)=>s(e,r,this),t),typeof t=="number"?t=new on(t):F0e.has(e)&&Vn.isColor(t)?t=new Vn(t):t.constructor===Array&&(t=new ef(t)),e==="leading"?this.leading&&this.leading(t):typeof n=="string"?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&(e==="font-size"||e==="x")&&this.rebuild()}}return this}class su extends vm{constructor(t,n){super(),this.node=t,this.type=t.nodeName,n&&t!==n&&this.attr(n)}add(t,n){return t=zs(t),t.removeNamespace&&this.node instanceof Tn.window.SVGElement&&t.removeNamespace(),n==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[n]&&this.node.insertBefore(t.node,this.node.childNodes[n]),this}addTo(t,n){return zs(t).put(this,n)}children(){return new mc(MS(this.node.children,function(t){return Pa(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,n=!0){this.writeDataToDom();let r=this.node.cloneNode(t);return n&&(r=xM(r)),new this.constructor(r)}each(t,n){const r=this.children();let s,a;for(s=0,a=r.length;s<a;s++)t.apply(r[s],[s,r]),n&&r[s].each(t,n);return this}element(t,n){return this.put(new su(_p(t),n))}first(){return Pa(this.node.firstChild)}get(t){return Pa(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,n){return this.xml(t,n,Bve)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=CM(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return Pa(this.node.lastChild)}matches(t){const n=this.node,r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,t)}parent(t){let n=this;if(!n.node.parentNode)return null;if(n=Pa(n.node.parentNode),!t)return n;do if(typeof t=="string"?n.matches(t):n instanceof t)return n;while(n=Pa(n.node.parentNode));return n}put(t,n){return t=zs(t),this.add(t,n),t}putIn(t,n){return zs(t).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=zs(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,n=null){const r=10**t,s=this.attr(n);for(const a in s)typeof s[a]=="number"&&(s[a]=Math.round(s[a]*r)/r);return this.attr(s),this}svg(t,n){return this.xml(t,n,PS)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const n=this.parent();if(!n)return this.addTo(t);const r=n.index(this);return n.put(t,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){n=n??!0,this.writeDataToDom();let o=this;if(t!=null){if(o=Pa(o.node.cloneNode(!0)),n){const l=t(o);if(o=l||o,l===!1)return""}o.each(function(){const l=t(this),u=l||this;l===!1?this.remove():l&&this!==u&&this.replace(u)},!0)}return n?o.node.outerHTML:o.node.innerHTML}n=n??!1;const s=_p("wrapper",r),a=Tn.document.createDocumentFragment();s.innerHTML=t;for(let o=s.children.length;o--;)a.appendChild(s.firstElementChild);const i=this.parent();return n?this.replace(a)&&i:this.add(a)}}bn(su,{attr:j0e,find:R0e,findOne:M0e});kn(su,"Dom");let xo=class extends su{constructor(t,n){super(t,n),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,n){return this.cx(t).cy(n)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,n){return this.dx(t).dy(n)}dx(t=0){return this.x(new on(t).plus(this.x()))}dy(t=0){return this.y(new on(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,n){return this.x(t).y(n)}parents(t=this.root()){const n=typeof t=="string";n||(t=zs(t));const r=new mc;let s=this;for(;(s=s.parent())&&s.node!==Tn.document&&s.nodeName!=="#document-fragment"&&(r.push(s),!(!n&&s.node===t.node||n&&s.matches(t)));)if(s.node===this.root().node)return null;return r}reference(t){if(t=this.attr(t),!t)return null;const n=(t+"").match(s0e);return n?zs(n[1]):null}root(){const t=this.parent(Vve(DS));return t&&t.root()}setData(t){return this.dom=t,this}size(t,n){const r=Tf(this,t,n);return this.width(new on(r.width)).height(new on(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return SM(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};bn(xo,{bbox:I0e,rbox:O0e,inside:$0e,point:E0e,ctm:T0e,screenCTM:k0e});kn(xo,"Element");const Uf={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return t==="color"?e:e+"-"+t}};["fill","stroke"].forEach(function(e){const t={};let n;t[e]=function(r){if(typeof r>"u")return this.attr(e);if(typeof r=="string"||r instanceof Vn||Vn.isRgb(r)||r instanceof xo)this.attr(e,r);else for(n=Uf[e].length-1;n>=0;n--)r[Uf[e][n]]!=null&&this.attr(Uf.prefix(e,Uf[e][n]),r[Uf[e][n]]);return this},pn(["Element","Runner"],t)});pn(["Element","Runner"],{matrix:function(e,t,n,r,s,a){return e==null?new Wt(this):this.attr("transform",new Wt(e,t,n,r,s,a))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:r},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:r},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return"xybothtrue".indexOf(e)===-1&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}});pn("radius",{radius:function(e,t=e){return(this._element||this).type==="radialGradient"?this.attr("r",new on(e)):this.rx(e).ry(t)}});pn("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new xr(this.node.getPointAtLength(e))}});pn(["Element","Runner"],{font:function(e,t){if(typeof e=="object"){for(t in e)this.font(t,e[t]);return this}return e==="leading"?this.leading(t):e==="anchor"?this.attr("text-anchor",t):e==="size"||e==="family"||e==="weight"||e==="stretch"||e==="variant"||e==="style"?this.attr("font-"+e,t):this.attr(e,t)}});const V0e=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(e,t){const n=function(r){return r===null?this.off(t):this.on(t,r),this};return e[t]=n,e},{});pn("Element",V0e);function H0e(){return this.attr("transform",null)}function U0e(){return(this.attr("transform")||"").split(a0e).slice(0,-1).map(function(t){const n=t.trim().split("(");return[n[0],n[1].split(gl).map(function(r){return parseFloat(r)})]}).reverse().reduce(function(t,n){return n[0]==="matrix"?t.lmultiply(Wt.fromArray(n[1])):t[n[0]].apply(t,n[1])},new Wt)}function W0e(e,t){if(this===e)return this;if(e_(this.node))return this.addTo(e,t);const n=this.screenCTM(),r=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(r.multiply(n)),this}function K0e(e){return this.toParent(this.root(),e)}function G0e(e,t){if(e==null||typeof e=="string"){const s=new Wt(this).decompose();return e==null?s:s[e]}Wt.isMatrixLike(e)||(e={...e,origin:Qw(e,this)});const n=t===!0?this:t||!1,r=new Wt(n).transform(e);return this.attr("transform",r)}pn("Element",{untransform:H0e,matrixify:U0e,toParent:W0e,toRoot:K0e,transform:G0e});class na extends xo{flatten(){return this.each(function(){if(this instanceof na)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),n=t.index(this)){return n=n===-1?t.children().length:n,this.each(function(r,s){return s[s.length-r-1].toParent(t,n)}),this.remove()}}kn(na,"Container");class BS extends na{constructor(t,n=t){super(ur("defs",t),n)}flatten(){return this}ungroup(){return this}}kn(BS,"Defs");let ka=class extends xo{};kn(ka,"Shape");function jS(e){return this.attr("rx",e)}function VS(e){return this.attr("ry",e)}function $M(e){return e==null?this.cx()-this.rx():this.cx(e+this.rx())}function AM(e){return e==null?this.cy()-this.ry():this.cy(e+this.ry())}function RM(e){return this.attr("cx",e)}function MM(e){return this.attr("cy",e)}function PM(e){return e==null?this.rx()*2:this.rx(new on(e).divide(2))}function LM(e){return e==null?this.ry()*2:this.ry(new on(e).divide(2))}const Z0e=Object.freeze(Object.defineProperty({__proto__:null,cx:RM,cy:MM,height:LM,rx:jS,ry:VS,width:PM,x:$M,y:AM},Symbol.toStringTag,{value:"Module"}));class qy extends ka{constructor(t,n=t){super(ur("ellipse",t),n)}size(t,n){const r=Tf(this,t,n);return this.rx(new on(r.width).divide(2)).ry(new on(r.height).divide(2))}}bn(qy,Z0e);pn("Container",{ellipse:lr(function(e=0,t=e){return this.put(new qy).size(e,t).move(0,0)})});kn(qy,"Ellipse");class DM extends su{constructor(t=Tn.document.createDocumentFragment()){super(t)}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){const s=new su(_p("wrapper",r));return s.add(this.node.cloneNode(!0)),s.xml(!1,r)}return super.xml(t,!1,r)}}kn(DM,"Fragment");function zM(e,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new on(e),fy:new on(t)}):this.attr({x1:new on(e),y1:new on(t)})}function FM(e,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new on(e),cy:new on(t)}):this.attr({x2:new on(e),y2:new on(t)})}const Y0e=Object.freeze(Object.defineProperty({__proto__:null,from:zM,to:FM},Symbol.toStringTag,{value:"Module"}));class ym extends na{constructor(t,n){super(ur(t+"Gradient",typeof t=="string"?null:t),n)}attr(t,n,r){return t==="transform"&&(t="gradientTransform"),super.attr(t,n,r)}bbox(){return new is}targets(){return kf("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}bn(ym,Y0e);pn({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:lr(function(e,t){return this.put(new ym(e)).update(t)})}});kn(ym,"Gradient");class Sp extends na{constructor(t,n=t){super(ur("pattern",t),n)}attr(t,n,r){return t==="transform"&&(t="patternTransform"),super.attr(t,n,r)}bbox(){return new is}targets(){return kf("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}pn({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:lr(function(e,t,n){return this.put(new Sp).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})})}});kn(Sp,"Pattern");let kc=class extends ka{constructor(t,n=t){super(ur("image",t),n)}load(t,n){if(!t)return this;const r=new Tn.window.Image;return t_(r,"load",function(s){const a=this.parent(Sp);this.width()===0&&this.height()===0&&this.size(r.width,r.height),a instanceof Sp&&a.width()===0&&a.height()===0&&a.size(this.width(),this.height()),typeof n=="function"&&n.call(this,s)},this),t_(r,"load error",function(){ud(r)}),this.attr("href",r.src=t,gm)}};B0e(function(e,t,n){return(e==="fill"||e==="stroke")&&o0e.test(t)&&(t=n.root().defs().image(t)),t instanceof kc&&(t=n.root().defs().pattern(0,0,r=>{r.add(t)})),t});pn({Container:{image:lr(function(e,t){return this.put(new kc).size(0,0).load(e,t)})}});kn(kc,"Image");class au extends ef{bbox(){let t=-1/0,n=-1/0,r=1/0,s=1/0;return this.forEach(function(a){t=Math.max(a[0],t),n=Math.max(a[1],n),r=Math.min(a[0],r),s=Math.min(a[1],s)}),new is(r,s,t-r,n-s)}move(t,n){const r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let s=this.length-1;s>=0;s--)this[s]=[this[s][0]+t,this[s][1]+n];return this}parse(t=[0,0]){const n=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(gl).map(parseFloat),t.length%2!==0&&t.pop();for(let r=0,s=t.length;r<s;r=r+2)n.push([t[r],t[r+1]]);return n}size(t,n){let r;const s=this.bbox();for(r=this.length-1;r>=0;r--)s.width&&(this[r][0]=(this[r][0]-s.x)*t/s.width+s.x),s.height&&(this[r][1]=(this[r][1]-s.y)*n/s.height+s.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let n=0,r=this.length;n<r;n++)t.push(this[n].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){Wt.isMatrixLike(t)||(t=new Wt(t));for(let n=this.length;n--;){const[r,s]=this[n];this[n][0]=t.a*r+t.c*s+t.e,this[n][1]=t.b*r+t.d*s+t.f}return this}}const q0e=au;function X0e(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}function J0e(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}function Q0e(e){const t=this.bbox();return e==null?t.width:this.size(e,t.height)}function eye(e){const t=this.bbox();return e==null?t.height:this.size(t.width,e)}const HS=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:q0e,height:eye,width:Q0e,x:X0e,y:J0e},Symbol.toStringTag,{value:"Module"}));class Cp extends ka{constructor(t,n=t){super(ur("line",t),n)}array(){return new au([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,n){return this.attr(this.array().move(t,n).toLine())}plot(t,n,r,s){return t==null?this.array():(typeof n<"u"?t={x1:t,y1:n,x2:r,y2:s}:t=new au(t).toLine(),this.attr(t))}size(t,n){const r=Tf(this,t,n);return this.attr(this.array().size(r.width,r.height).toLine())}}bn(Cp,HS);pn({Container:{line:lr(function(...e){return Cp.prototype.plot.apply(this.put(new Cp),e[0]!=null?e:[0,0,0,0])})}});kn(Cp,"Line");class v0 extends na{constructor(t,n=t){super(ur("marker",t),n)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,n){return this.attr("refX",t).attr("refY",n)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}pn({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:lr(function(e,t,n){return this.put(new v0).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)})},marker:{marker(e,t,n,r){let s=["marker"];return e!=="all"&&s.push(e),s=s.join("-"),e=arguments[1]instanceof v0?arguments[1]:this.defs().marker(t,n,r),this.attr(s,e)}}});kn(v0,"Marker");function cd(e,t){return function(n){return n==null?this[e]:(this[e]=n,t&&t.call(this),this)}}const tye={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return-Math.cos(e*Math.PI/2)+1},bezier:function(e,t,n,r){return function(s){return s<0?e>0?t/e*s:n>0?r/n*s:0:s>1?n<1?(1-r)/(1-n)*s+(r-n)/(1-n):e<1?(1-t)/(1-e)*s+(t-e)/(1-e):1:3*s*(1-s)**2*t+3*s**2*(1-s)*r+s**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return t==="none"?--n:t==="both"&&++n,(r,s=!1)=>{let a=Math.floor(r*e);const i=r*a%1===0;return(t==="start"||t==="both")&&++a,s&&i&&--a,r>=0&&a<0&&(a=0),r<=1&&a>n&&(a=n),a/n}}};class US{done(){return!1}}class n_ extends US{constructor(t=eh.ease){super(),this.ease=tye[t]||t}step(t,n,r){return typeof t!="number"?r<1?t:n:t+(n-t)*this.ease(r)}}class y0 extends US{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,n,r,s){return this.stepper(t,n,r,s)}}function dk(){const e=(this._duration||500)/1e3,t=this._overshoot||0,n=1e-10,r=Math.PI,s=Math.log(t/100+n),a=-s/Math.sqrt(r*r+s*s),i=3.9/(a*e);this.d=2*a*i,this.k=i*i}class nye extends y0{constructor(t=500,n=0){super(),this.duration(t).overshoot(n)}step(t,n,r,s){if(typeof t=="string")return t;if(s.done=r===1/0,r===1/0)return n;if(r===0)return t;r>100&&(r=16),r/=1e3;const a=s.velocity||0,i=-this.d*a-this.k*(t-n),o=t+a*r+i*r*r/2;return s.velocity=a+i*r,s.done=Math.abs(n-o)+Math.abs(a)<.002,s.done?n:o}}bn(nye,{duration:cd("_duration",dk),overshoot:cd("_overshoot",dk)});class rye extends y0{constructor(t=.1,n=.01,r=0,s=1e3){super(),this.p(t).i(n).d(r).windup(s)}step(t,n,r,s){if(typeof t=="string")return t;if(s.done=r===1/0,r===1/0)return n;if(r===0)return t;const a=n-t;let i=(s.integral||0)+a*r;const o=(a-(s.error||0))/r,l=this._windup;return l!==!1&&(i=Math.max(-l,Math.min(i,l))),s.error=a,s.integral=i,s.done=Math.abs(a)<.001,s.done?n:t+(this.P*a+this.I*i+this.D*o)}}bn(rye,{windup:cd("_windup"),p:cd("P"),i:cd("I"),d:cd("D")});const sye={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},r_={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},zb="mlhvqtcsaz".split("");for(let e=0,t=zb.length;e<t;++e)r_[zb[e]]=function(n){return function(r,s,a){if(n==="H")r[0]=r[0]+s.x;else if(n==="V")r[0]=r[0]+s.y;else if(n==="A")r[5]=r[5]+s.x,r[6]=r[6]+s.y;else for(let i=0,o=r.length;i<o;++i)r[i]=r[i]+(i%2?s.y:s.x);return r_[n](r,s,a)}}(zb[e].toUpperCase());function aye(e){const t=e.segment[0];return r_[t](e.segment.slice(1),e.p,e.p0)}function s_(e){return e.segment.length&&e.segment.length-1===sye[e.segment[0].toUpperCase()]}function iye(e,t){e.inNumber&&Eu(e,!1);const n=zS.test(t);if(n)e.segment=[t];else{const r=e.lastCommand,s=r.toLowerCase(),a=r===s;e.segment=[s==="m"?a?"l":"L":r]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}function Eu(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,s_(e)&&a_(e)}function a_(e){e.inSegment=!1,e.absolute&&(e.segment=aye(e)),e.segments.push(e.segment)}function oye(e){if(!e.segment.length)return!1;const t=e.segment[0].toUpperCase()==="A",n=e.segment.length;return t&&(n===4||n===5)}function lye(e){return e.lastToken.toUpperCase()==="E"}const uye=new Set([" ",",","	",`
`,"\r","\f"]);function cye(e,t=!0){let n=0,r="";const s={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new xr,p:new xr};for(;s.lastToken=r,r=e.charAt(n++);)if(!(!s.inSegment&&iye(s,r))){if(r==="."){if(s.pointSeen||s.hasExponent){Eu(s,!1),--n;continue}s.inNumber=!0,s.pointSeen=!0,s.number+=r;continue}if(!isNaN(parseInt(r))){if(s.number==="0"||oye(s)){s.inNumber=!0,s.number=r,Eu(s,!0);continue}s.inNumber=!0,s.number+=r;continue}if(uye.has(r)){s.inNumber&&Eu(s,!1);continue}if(r==="-"||r==="+"){if(s.inNumber&&!lye(s)){Eu(s,!1),--n;continue}s.number+=r,s.inNumber=!0;continue}if(r.toUpperCase()==="E"){s.number+=r,s.hasExponent=!0;continue}if(zS.test(r)){if(s.inNumber)Eu(s,!1);else if(s_(s))a_(s);else throw new Error("parser Error");--n}}return s.inNumber&&Eu(s,!1),s.inSegment&&s_(s)&&a_(s),s.segments}function dye(e){let t="";for(let n=0,r=e.length;n<r;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}class gc extends ef{bbox(){return Fl().path.setAttribute("d",this.toString()),new is(Fl.nodes.path.getBBox())}move(t,n){const r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let s,a=this.length-1;a>=0;a--)s=this[a][0],s==="M"||s==="L"||s==="T"?(this[a][1]+=t,this[a][2]+=n):s==="H"?this[a][1]+=t:s==="V"?this[a][1]+=n:s==="C"||s==="S"||s==="Q"?(this[a][1]+=t,this[a][2]+=n,this[a][3]+=t,this[a][4]+=n,s==="C"&&(this[a][5]+=t,this[a][6]+=n)):s==="A"&&(this[a][6]+=t,this[a][7]+=n);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),cye(t)}size(t,n){const r=this.bbox();let s,a;for(r.width=r.width===0?1:r.width,r.height=r.height===0?1:r.height,s=this.length-1;s>=0;s--)a=this[s][0],a==="M"||a==="L"||a==="T"?(this[s][1]=(this[s][1]-r.x)*t/r.width+r.x,this[s][2]=(this[s][2]-r.y)*n/r.height+r.y):a==="H"?this[s][1]=(this[s][1]-r.x)*t/r.width+r.x:a==="V"?this[s][1]=(this[s][1]-r.y)*n/r.height+r.y:a==="C"||a==="S"||a==="Q"?(this[s][1]=(this[s][1]-r.x)*t/r.width+r.x,this[s][2]=(this[s][2]-r.y)*n/r.height+r.y,this[s][3]=(this[s][3]-r.x)*t/r.width+r.x,this[s][4]=(this[s][4]-r.y)*n/r.height+r.y,a==="C"&&(this[s][5]=(this[s][5]-r.x)*t/r.width+r.x,this[s][6]=(this[s][6]-r.y)*n/r.height+r.y)):a==="A"&&(this[s][1]=this[s][1]*t/r.width,this[s][2]=this[s][2]*n/r.height,this[s][6]=(this[s][6]-r.x)*t/r.width+r.x,this[s][7]=(this[s][7]-r.y)*n/r.height+r.y);return this}toString(){return dye(this)}}const BM=e=>{const t=typeof e;return t==="number"?on:t==="string"?Vn.isColor(e)?Vn:gl.test(e)?zS.test(e)?gc:ef:EM.test(e)?on:i_:WS.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?ef:t==="object"?xp:i_};class Tu{constructor(t){this._stepper=t||new n_("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(n,r){return n&&r},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(BM(t));let n=new this._type(t);return this._type===Vn&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===xp&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(r){return r.done=!0,r}),n}}class i_{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class bm{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,bm.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}bm.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const fye=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0;class xp{constructor(...t){this.init(...t)}align(t){const n=this.values;for(let r=0,s=n.length;r<s;++r){if(n[r+1]===t[r+1]){if(n[r+1]===Vn&&t[r+7]!==n[r+7]){const o=t[r+7],l=new Vn(this.values.splice(r+3,5))[o]().toArray();this.values.splice(r+3,0,...l)}r+=n[r+2]+2;continue}if(!t[r+1])return this;const a=new t[r+1]().toArray(),i=n[r+2]+3;n.splice(r,i,t[r],t[r+1],t[r+2],...a),r+=n[r+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const n=[];for(const r in t){const s=BM(t[r]),a=new s(t[r]).toArray();n.push([r,s,a.length,...a])}return n.sort(fye),this.values=n.reduce((r,s)=>r.concat(s),[]),this}toArray(){return this.values}valueOf(){const t={},n=this.values;for(;n.length;){const r=n.shift(),s=n.shift(),a=n.shift(),i=n.splice(0,a);t[r]=new s(i)}return t}}const WS=[i_,bm,xp];function hye(e=[]){WS.push(...[].concat(e))}function pye(){bn(WS,{to(e){return new Tu().type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,r,s){const a=function(i,o){return r.step(i,t[o],n,s[o],s)};return this.fromArray(e.map(a))}})}class Nc extends ka{constructor(t,n=t){super(ur("path",t),n)}array(){return this._array||(this._array=new gc(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,n){return this.attr("d",this.array().move(t,n))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new gc(t))}size(t,n){const r=Tf(this,t,n);return this.attr("d",this.array().size(r.width,r.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}Nc.prototype.MorphArray=gc;pn({Container:{path:lr(function(e){return this.put(new Nc).plot(e||new gc)})}});kn(Nc,"Path");function mye(){return this._array||(this._array=new au(this.attr("points")))}function gye(){return delete this._array,this}function vye(e,t){return this.attr("points",this.array().move(e,t))}function yye(e){return e==null?this.array():this.clear().attr("points",typeof e=="string"?e:this._array=new au(e))}function bye(e,t){const n=Tf(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}const jM=Object.freeze(Object.defineProperty({__proto__:null,array:mye,clear:gye,move:vye,plot:yye,size:bye},Symbol.toStringTag,{value:"Module"}));class Ic extends ka{constructor(t,n=t){super(ur("polygon",t),n)}}pn({Container:{polygon:lr(function(e){return this.put(new Ic).plot(e||new au)})}});bn(Ic,HS);bn(Ic,jM);kn(Ic,"Polygon");class wm extends ka{constructor(t,n=t){super(ur("polyline",t),n)}}pn({Container:{polyline:lr(function(e){return this.put(new wm).plot(e||new au)})}});bn(wm,HS);bn(wm,jM);kn(wm,"Polyline");class vl extends ka{constructor(t,n=t){super(ur("rect",t),n)}}bn(vl,{rx:jS,ry:VS});pn({Container:{rect:lr(function(e,t){return this.put(new vl).size(e,t)})}});kn(vl,"Rect");class Fb{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const n=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const Dn={nextDraw:null,frames:new Fb,timeouts:new Fb,immediates:new Fb,timer:()=>Tn.window.performance||Tn.window.Date,transforms:[],frame(e){const t=Dn.frames.push({run:e});return Dn.nextDraw===null&&(Dn.nextDraw=Tn.window.requestAnimationFrame(Dn._draw)),t},timeout(e,t){t=t||0;const n=Dn.timer().now()+t,r=Dn.timeouts.push({run:e,time:n});return Dn.nextDraw===null&&(Dn.nextDraw=Tn.window.requestAnimationFrame(Dn._draw)),r},immediate(e){const t=Dn.immediates.push(e);return Dn.nextDraw===null&&(Dn.nextDraw=Tn.window.requestAnimationFrame(Dn._draw)),t},cancelFrame(e){e!=null&&Dn.frames.remove(e)},clearTimeout(e){e!=null&&Dn.timeouts.remove(e)},cancelImmediate(e){e!=null&&Dn.immediates.remove(e)},_draw(e){let t=null;const n=Dn.timeouts.last();for(;(t=Dn.timeouts.shift())&&(e>=t.time?t.run():Dn.timeouts.push(t),t!==n););let r=null;const s=Dn.frames.last();for(;r!==s&&(r=Dn.frames.shift());)r.run(e);let a=null;for(;a=Dn.immediates.shift();)a();Dn.nextDraw=Dn.timeouts.first()||Dn.frames.first()?Tn.window.requestAnimationFrame(Dn._draw):null}},wye=function(e){const t=e.start,n=e.runner.duration(),r=t+n;return{start:t,duration:n,end:r,runner:e.runner}},_ye=function(){const e=Tn.window;return(e.performance||e.Date).now()};let VM=class extends vm{constructor(t=_ye){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),n=t?t.runner.duration():0;return(t?t.start:this._time)+n}getEndTimeOfTimeline(){const t=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const n=this.speed();if(t==null)return this.speed(-n);const r=Math.abs(n);return this.speed(t?-r:r)}schedule(t,n,r){if(t==null)return this._runners.map(wye);let s=0;const a=this.getEndTime();if(n=n||0,r==null||r==="last"||r==="after")s=a;else if(r==="absolute"||r==="start")s=n,n=0;else if(r==="now")s=this._time;else if(r==="relative"){const l=this.getRunnerInfoById(t.id);l&&(s=l.start+n,n=0)}else if(r==="with-last"){const l=this.getLastRunnerInfo();s=l?l.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const i=t.persist(),o={persist:i===null?this._persist:i,start:s+n,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort((l,u)=>l.start-u.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const n=this._runnerIds.indexOf(t.id);return n<0?this:(this._runners.splice(n,1),this._runnerIds.splice(n,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return Dn.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=Dn.frame(this._step),this)}_stepFn(t=!1){const n=this._timeSource();let r=n-this._lastSourceTime;t&&(r=0);const s=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=n,t||(this._time+=s,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let i=this._runners.length;i--;){const o=this._runners[i],l=o.runner;this._time-o.start<=0&&l.reset()}let a=!1;for(let i=0,o=this._runners.length;i<o;i++){const l=this._runners[i],u=l.runner;let c=s;const d=this._time-l.start;if(d<=0){a=!0;continue}else d<c&&(c=d);if(!u.active())continue;u.step(c).done?l.persist!==!0&&u.duration()-u.time()+this._time+l.persist<this._time&&(u.unschedule(),--i,--o):a=!0}return a&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}};pn({Element:{timeline:function(e){return e==null?(this._timeline=this._timeline||new VM,this._timeline):(this._timeline=e,this)}}});class _a extends vm{constructor(t){super(),this.id=_a.id++,t=t??eh.duration,t=typeof t=="function"?new y0(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof y0,this._stepper=this._isDeclarative?t:new n_,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Wt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,n,r){let s=1,a=!1,i=0;return t=t??eh.duration,n=n??eh.delay,r=r||"last",typeof t=="object"&&!(t instanceof US)&&(n=t.delay??n,r=t.when??r,a=t.swing||a,s=t.times??s,i=t.wait??i,t=t.duration??eh.duration),{duration:t,delay:n,swing:a,times:s,wait:i,when:r}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,n,r){const s=_a.sanitise(t,n,r),a=new _a(s.duration);return this._timeline&&a.timeline(this._timeline),this._element&&a.element(this._element),a.loop(s).schedule(s.delay,s.when)}clearTransform(){return this.transforms=new Wt,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new n_(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,n,r){return typeof t=="object"&&(n=t.swing,r=t.wait,t=t.times),this._times=t||1/0,this._swing=n||!1,this._wait=r||0,this._times===!0&&(this._times=1/0),this}loops(t){const n=this._duration+this._wait;if(t==null){const i=Math.floor(this._time/n),l=(this._time-i*n)/this._duration;return Math.min(i+l,this._times)}const r=Math.floor(t),s=t%1,a=n*r+this._duration*s;return this.time(a)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const n=this._time,r=this._duration,s=this._wait,a=this._times,i=this._swing,o=this._reverse;let l;if(t==null){const h=function(m){const g=i*Math.floor(m%(2*(s+r))/(s+r)),v=g&&!o||!g&&o,y=Math.pow(-1,v)*(m%(s+r))/r+v;return Math.max(Math.min(y,1),0)},p=a*(s+r)-s;return l=n<=0?Math.round(h(1e-5)):n<p?h(n):Math.round(h(p-1e-5)),l}const u=Math.floor(this.loops()),c=i&&u%2===0;return l=u+(c&&!o||o&&c?t:1-t),this.loops(l)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,n,r,s){return this._queue.push({initialiser:t||ck,runner:n||ck,retarget:r,isTransform:s,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,n,r){if(t instanceof VM||(r=n,n=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,n,r),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const n=this.position(),r=this._lastPosition!==n&&this._time>=0;this._lastPosition=n;const s=this.duration(),a=this._lastTime<=0&&this._time>0,i=this._lastTime<s&&this._time>=s;this._lastTime=this._time,a&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!i&&this._time>=s,this._reseted=!1;let l=!1;return(r||o)&&(this._initialise(r),this.transforms=new Wt,l=this._run(o?t:n),this.fire("step",this)),this.done=this.done||l&&o,i&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const n=t-this._time;return this.step(n),this}timeline(t){return typeof t>"u"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let n=0,r=this._queue.length;n<r;++n){const s=this._queue[n],a=this._isDeclarative||!s.initialised&&t;t=!s.finished,a&&t&&(s.initialiser.call(this),s.initialised=!0)}}_rememberMorpher(t,n){if(this._history[t]={morpher:n,caller:this._queue[this._queue.length-1]},this._isDeclarative){const r=this.timeline();r&&r.play()}}_run(t){let n=!0;for(let r=0,s=this._queue.length;r<s;++r){const a=this._queue[r],i=a.runner.call(this,t);a.finished=a.finished||i===!0,n=n&&a.finished}return n}_tryRetarget(t,n,r){if(this._history[t]){if(!this._history[t].caller.initialised){const a=this._queue.indexOf(this._history[t].caller);return this._queue.splice(a,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,n,r):this._history[t].morpher.to(n),this._history[t].caller.finished=!1;const s=this.timeline();return s&&s.play(),!0}return!1}}_a.id=0;class b0{constructor(t=new Wt,n=-1,r=!0){this.transforms=t,this.id=n,this.done=r}clearTransformsFromQueue(){}}bn([_a,b0],{mergeWith(e){return new b0(e.transforms.lmultiply(this.transforms),e.id)}});const HM=(e,t)=>e.lmultiplyO(t),UM=e=>e.transforms;function Sye(){const t=this._transformationRunners.runners.map(UM).reduce(HM,new Wt);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Cye{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const n=t.id+1;return this.runners.push(t),this.ids.push(n),this}clearBefore(t){const n=this.ids.indexOf(t+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new b0).forEach(r=>r.clearTransformsFromQueue()),this}edit(t,n){const r=this.ids.indexOf(t+1);return this.ids.splice(r,1,t+1),this.runners.splice(r,1,n),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let n=0;n<this.runners.length;++n){const r=this.runners[n];if(t&&r.done&&t.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(r.id);const a=r.mergeWith(t);this.edit(t.id,a),t=a,--n}else t=r}return this}remove(t){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}}pn({Element:{animate(e,t,n){const r=_a.sanitise(e,t,n),s=this.timeline();return new _a(r.duration).loop(r).element(this).timeline(s.play()).schedule(r.delay,r.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter(t=>t.id<=e.id).map(UM).reduce(HM,new Wt)},_addRunner(e){this._transformationRunners.add(e),Dn.cancelImmediate(this._frameId),this._frameId=Dn.immediate(Sye.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Cye().add(new b0(new Wt(this))))}}});const xye=(e,t)=>e.filter(n=>!t.includes(n));bn(_a,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if(typeof t=="string")return this.styleAttr(e,{[t]:n});let r=t;if(this._tryRetarget(e,r))return this;let s=new Tu(this._stepper).to(r),a=Object.keys(r);return this.queue(function(){s=s.from(this.element()[e](a))},function(i){return this.element()[e](s.at(i).valueOf()),s.done()},function(i){const o=Object.keys(i),l=xye(o,a);if(l.length){const c=this.element()[e](l),d=new xp(s.from()).valueOf();Object.assign(d,c),s.from(d)}const u=new xp(s.to()).valueOf();Object.assign(u,i),s.to(u),a=o,r=i}),this._rememberMorpher(e,s),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new Tu(this._stepper).to(new on(e));return this.queue(function(){n=n.from(this.element().zoom())},function(r){return this.element().zoom(n.at(r),t),n.done()},function(r,s){t=s,n.to(r)}),this._rememberMorpher("zoom",n),this},transform(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;const r=Wt.isMatrixLike(e);n=e.affine!=null?e.affine:n??!r;const s=new Tu(this._stepper).type(n?bm:Wt);let a,i,o,l,u;function c(){i=i||this.element(),a=a||Qw(e,i),u=new Wt(t?void 0:i),i._addRunner(this),t||i._clearTransformRunnersBefore(this)}function d(p){t||this.clearTransform();const{x:m,y:g}=new xr(a).transform(i._currentTransform(this));let v=new Wt({...e,origin:[m,g]}),y=this._isDeclarative&&o?o:u;if(n){v=v.decompose(m,g),y=y.decompose(m,g);const w=v.rotate,_=y.rotate,S=[w-360,w,w+360],C=S.map(N=>Math.abs(N-_)),T=Math.min(...C),x=C.indexOf(T);v.rotate=S[x]}t&&(r||(v.rotate=e.rotate||0),this._isDeclarative&&l&&(y.rotate=l)),s.from(y),s.to(v);const b=s.at(p);return l=b.rotate,o=new Wt(b),this.addTransform(o),i._addRunner(this),s.done()}function h(p){(p.origin||"center").toString()!==(e.origin||"center").toString()&&(a=Qw(p,i)),e={...p,origin:a}}return this.queue(c,d,h,!0),this._isDeclarative&&this._rememberMorpher("transform",s),this},x(e){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},ax(e){return this._queueNumber("ax",e)},ay(e){return this._queueNumber("ay",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new on(t),this._tryRetarget(e,t))return this;const n=new Tu(this._stepper).to(t);let r=null;return this.queue(function(){r=this.element()[e](),n.from(r),n.to(r+t)},function(s){return this.element()[e](n.at(s)),n.done()},function(s){n.to(r+new on(s))}),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;const n=new Tu(this._stepper).to(t);return this.queue(function(){n.from(this.element()[e]())},function(r){return this.element()[e](n.at(r)),n.done()}),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new on(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},amove(e,t){return this.ax(e).ay(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return(!e||!t)&&(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,r){if(arguments.length===4)return this.plot([e,t,n,r]);if(this._tryRetarget("plot",e))return this;const s=new Tu(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){s.from(this._element.array())},function(a){return this._element.plot(s.at(a)),s.done()}),this._rememberMorpher("plot",s),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,r){return this._queueObject("viewbox",new is(e,t,n,r))},update(e){return typeof e!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",e.offset),this)}});bn(_a,{rx:jS,ry:VS,from:zM,to:FM});kn(_a,"Runner");class KS extends na{constructor(t,n=t){super(ur("svg",t),n),this.namespace()}defs(){return this.isRoot()?Pa(this.node.querySelector("defs"))||this.put(new BS):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Tn.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:PS,version:"1.1"}).attr("xmlns:xlink",gm,Pb):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Pb).attr("xmlns:svgjs",null,Pb)}root(){return this.isRoot()?this:super.root()}}pn({Container:{nested:lr(function(){return this.put(new KS)})}});kn(KS,"Svg",!0);let GS=class extends na{constructor(t,n=t){super(ur("symbol",t),n)}};pn({Container:{symbol:lr(function(){return this.put(new GS)})}});kn(GS,"Symbol");function Eye(e){return this._build===!1&&this.clear(),this.node.appendChild(Tn.document.createTextNode(e)),this}function Tye(){return this.node.getComputedTextLength()}function kye(e,t=this.bbox()){return e==null?t.x:this.attr("x",this.attr("x")+e-t.x)}function Nye(e,t=this.bbox()){return e==null?t.y:this.attr("y",this.attr("y")+e-t.y)}function Iye(e,t,n=this.bbox()){return this.x(e,n).y(t,n)}function Oye(e,t=this.bbox()){return e==null?t.cx:this.attr("x",this.attr("x")+e-t.cx)}function $ye(e,t=this.bbox()){return e==null?t.cy:this.attr("y",this.attr("y")+e-t.cy)}function Aye(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)}function Rye(e){return this.attr("x",e)}function Mye(e){return this.attr("y",e)}function Pye(e,t){return this.ax(e).ay(t)}function Lye(e){return this._build=!!e,this}const WM=Object.freeze(Object.defineProperty({__proto__:null,amove:Pye,ax:Rye,ay:Mye,build:Lye,center:Aye,cx:Oye,cy:$ye,length:Tye,move:Iye,plain:Eye,x:kye,y:Nye},Symbol.toStringTag,{value:"Module"}));class Ss extends ka{constructor(t,n=t){super(ur("text",t),n),this.dom.leading=this.dom.leading??new on(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new on(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const n=this;let r=0;const s=this.dom.leading;this.each(function(a){if(e_(this.node))return;const i=Tn.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=s*new on(i);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?r+=o:(this.attr("dy",a?o+r:0),r=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new on(t.leading||1.3),this}writeDataToDom(){return SM(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const n=this.node.childNodes;let r=0;t="";for(let s=0,a=n.length;s<a;++s){if(n[s].nodeName==="textPath"||e_(n[s])){s===0&&(r=s+1);continue}s!==r&&n[s].nodeType!==3&&Pa(n[s]).dom.newLined===!0&&(t+=`
`),t+=n[s].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let n=0,r=t.length;n<r;n++)this.newLine(t[n])}return this.build(!1).rebuild()}}bn(Ss,WM);pn({Container:{text:lr(function(e=""){return this.put(new Ss).text(e)}),plain:lr(function(e=""){return this.put(new Ss).plain(e)})}});kn(Ss,"Text");class Xy extends ka{constructor(t,n=t){super(ur("tspan",t),n),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Ss))return this;const n=t.index(this),r=Tn.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=t.dom.leading*new on(r);return this.dy(n?s:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}bn(Xy,WM);pn({Tspan:{tspan:lr(function(e=""){const t=new Xy;return this._build||this.clear(),this.put(t).text(e)})},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}});kn(Xy,"Tspan");class _m extends ka{constructor(t,n=t){super(ur("circle",t),n)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new on(t).divide(2))}}bn(_m,{x:$M,y:AM,cx:RM,cy:MM,width:PM,height:LM});pn({Container:{circle:lr(function(e=0){return this.put(new _m).size(e).move(0,0)})}});kn(_m,"Circle");class o_ extends na{constructor(t,n=t){super(ur("clipPath",t),n)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return kf("svg [clip-path*="+this.id()+"]")}}pn({Container:{clip:lr(function(){return this.defs().put(new o_)})},Element:{clipper(){return this.reference("clip-path")},clipWith(e){const t=e instanceof o_?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});kn(o_,"ClipPath");class ZS extends xo{constructor(t,n=t){super(ur("foreignObject",t),n)}}pn({Container:{foreignObject:lr(function(e,t){return this.put(new ZS).size(e,t)})}});kn(ZS,"ForeignObject");function Dye(e,t){return this.children().forEach(n=>{let r;try{r=n.node instanceof jve().SVGSVGElement?new is(n.attr(["x","y","width","height"])):n.bbox()}catch{return}const s=new Wt(n),a=s.translate(e,t).transform(s.inverse()),i=new xr(r.x,r.y).transform(a);n.move(i.x,i.y)}),this}function zye(e){return this.dmove(e,0)}function Fye(e){return this.dmove(0,e)}function Bye(e,t=this.bbox()){return e==null?t.height:this.size(t.width,e,t)}function jye(e=0,t=0,n=this.bbox()){const r=e-n.x,s=t-n.y;return this.dmove(r,s)}function Vye(e,t,n=this.bbox()){const r=Tf(this,e,t,n),s=r.width/n.width,a=r.height/n.height;return this.children().forEach(i=>{const o=new xr(n).transform(new Wt(i).inverse());i.scale(s,a,o.x,o.y)}),this}function Hye(e,t=this.bbox()){return e==null?t.width:this.size(e,t.height,t)}function Uye(e,t=this.bbox()){return e==null?t.x:this.move(e,t.y,t)}function Wye(e,t=this.bbox()){return e==null?t.y:this.move(t.x,e,t)}const KM=Object.freeze(Object.defineProperty({__proto__:null,dmove:Dye,dx:zye,dy:Fye,height:Bye,move:jye,size:Vye,width:Hye,x:Uye,y:Wye},Symbol.toStringTag,{value:"Module"}));class ma extends na{constructor(t,n=t){super(ur("g",t),n)}}bn(ma,KM);pn({Container:{group:lr(function(){return this.put(new ma)})}});kn(ma,"G");class Ep extends na{constructor(t,n=t){super(ur("a",t),n)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,gm)}}bn(Ep,KM);pn({Container:{link:lr(function(e){return this.put(new Ep).to(e)})},Element:{unlink(){const e=this.linker();if(!e)return this;const t=e.parent();if(!t)return this.remove();const n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new Ep,this.wrap(t)),typeof e=="function"?e.call(t,t):t.to(e),this},linker(){const e=this.parent();return e&&e.node.nodeName.toLowerCase()==="a"?e:null}}});kn(Ep,"A");class l_ extends na{constructor(t,n=t){super(ur("mask",t),n)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return kf("svg [mask*="+this.id()+"]")}}pn({Container:{mask:lr(function(){return this.defs().put(new l_)})},Element:{masker(){return this.reference("mask")},maskWith(e){const t=e instanceof l_?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});kn(l_,"Mask");class GM extends xo{constructor(t,n=t){super(ur("stop",t),n)}update(t){return(typeof t=="number"||t instanceof on)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new on(t.offset)),this}}pn({Gradient:{stop:function(e,t,n){return this.put(new GM).update(e,t,n)}}});kn(GM,"Stop");function Kye(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(const r in t)n+=zve(r)+":"+t[r]+";";return n+="}",n}let u_=class extends xo{constructor(t,n=t){super(ur("style",t),n)}addText(t=""){return this.node.textContent+=t,this}font(t,n,r={}){return this.rule("@font-face",{fontFamily:t,src:n,...r})}rule(t,n){return this.addText(Kye(t,n))}};pn("Dom",{style(e,t){return this.put(new u_).rule(e,t)},fontface(e,t,n){return this.put(new u_).font(e,t,n)}});kn(u_,"Style");class YS extends Ss{constructor(t,n=t){super(ur("textPath",t),n)}array(){const t=this.track();return t?t.array():null}plot(t){const n=this.track();let r=null;return n&&(r=n.plot(t)),t==null?r:this}track(){return this.reference("href")}}pn({Container:{textPath:lr(function(e,t){return e instanceof Ss||(e=this.text(e)),e.path(t)})},Text:{path:lr(function(e,t=!0){const n=new YS;e instanceof Nc||(e=this.defs().path(e)),n.attr("href","#"+e,gm);let r;if(t)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:lr(function(e){return e instanceof Ss||(e=new Ss().addTo(this.parent()).text(e)),e.path(this)}),targets(){return kf("svg textPath").filter(e=>(e.attr("href")||"").includes(this.id()))}}});YS.prototype.MorphArray=gc;kn(YS,"TextPath");class ZM extends ka{constructor(t,n=t){super(ur("use",t),n)}use(t,n){return this.attr("href",(n||"")+"#"+t,gm)}}pn({Container:{use:lr(function(e,t){return this.put(new ZM).use(e,t)})}});kn(ZM,"Use");const os=zs;bn([KS,GS,kc,Sp,v0],ta("viewbox"));bn([Cp,wm,Ic,Nc],ta("marker"));bn(Ss,ta("Text"));bn(Nc,ta("Path"));bn(BS,ta("Defs"));bn([Ss,Xy],ta("Tspan"));bn([vl,qy,ym,_a],ta("radius"));bn(vm,ta("EventTarget"));bn(su,ta("Dom"));bn(xo,ta("Element"));bn(ka,ta("Shape"));bn([na,DM],ta("Container"));bn(ym,ta("Gradient"));bn(_a,ta("Runner"));mc.extend(Lve());hye([on,Vn,is,Wt,ef,au,gc,xr]);pye();const En=(e,t,n,r,s,a=0,i=0,o=[])=>{let l=!1;if(n&&(l=n(e,t,s,a,i,o)),!l&&e.children&&e.children.length>0){let u=a+1;e.children.forEach((c,d)=>{En(c,e,n,r,!1,u,d,[...o,e])})}r&&r(e,t,s,a,i,o)},Gye=(e,t)=>{let n=[e],r=!1;for(t(e,null)==="stop"&&(r=!0);n.length&&!r;){let s=n.shift();s.children&&s.children.length&&s.children.forEach(a=>{r||(n.push(a),t(a,s)==="stop"&&(r=!0))})}},YM=(e,t,n,r)=>{let s=e/t,a=[];if(n&&r)if(e<=n&&t<=r)a=[e,t];else{let i=n/r;s>i?a=[s*r,r]:a=[n,n/s]}else n?e<=n?a=[e,t]:a=[n,n/s]:r&&(t<=r?a=[e,t]:a=[s*r,r]);return a},Zye=e=>{e=e.replace(/<br>/gim,`
`);let t=document.createElement("div");return t.innerHTML=e,e=t.textContent,e},La=e=>{try{return JSON.parse(JSON.stringify(e))}catch{return null}},qM=(e,t,n=!1)=>(e.data=La(t.data),n&&(e.data.isActive=!1,f_(e.data).forEach(s=>{s.isActive=!1})),e.children=[],t.children&&t.children.length>0&&t.children.forEach((r,s)=>{e.children[s]=qM({},r,n)}),e),Tp=(e,t,n=!1,r=!0)=>(e.data=La(t.nodeData?t.nodeData.data:t.data),r?delete e.data.uid:e.data.uid||(e.data.uid=Vo()),n&&(e.data.isActive=!1),e.children=[],t.children&&t.children.length>0?t.children.forEach((s,a)=>{e.children[a]=Tp({},s,n,r)}):t.nodeData&&t.nodeData.children&&t.nodeData.children.length>0&&t.nodeData.children.forEach((s,a)=>{e.children[a]=Tp({},s,n,r)}),e),fk=(e,t=!1)=>new Promise((n,r)=>{const s=new Image;s.setAttribute("crossOrigin","anonymous"),s.onload=()=>{try{let a=document.createElement("canvas");a.width=s.width,a.height=s.height,a.getContext("2d").drawImage(s,0,0,s.width,s.height),t?a.toBlob(o=>{n(o)}):n(a.toDataURL())}catch(a){r(a)}},s.onerror=a=>{r(a)},s.src=e}),Yye=(e,t)=>{let n=document.createElement("a");n.href=e,n.download=t,n.click()},XM=(e,t=300,n)=>{let r=null;return(...s)=>{r||(r=setTimeout(()=>{e.call(n,...s),r=null},t))}},Oc=(e,t=()=>{})=>{let n=0,r=e.length;if(r<=0)return t();let s=()=>{if(n>=r){t();return}e[n](),setTimeout(()=>{n++,s()},0)};s()},dd=e=>e*(Math.PI/180);let Wc=null;const qye=(e,{italic:t,bold:n,fontSize:r,fontFamily:s})=>{const a=Xye({italic:t,bold:n,fontSize:r,fontFamily:s});Wc||(Wc=document.createElement("canvas").getContext("2d")),Wc.save(),Wc.font=a;const{width:i,actualBoundingBoxAscent:o,actualBoundingBoxDescent:l}=Wc.measureText(e);Wc.restore();const u=o+l;return{width:i,height:u}},Xye=({italic:e,bold:t,fontSize:n,fontFamily:r})=>`${e?"italic ":""} ${t?"bold ":""} ${n}px ${r} `,Jye=function(e,t){let n=!1,r=null,s=()=>{n=!1,t?e.call(t):e()};if(typeof MutationObserver<"u"){let a=1,i=new MutationObserver(s),o=document.createTextNode(a);i.observe(o,{characterData:!0}),r=function(){a=(a+1)%2,o.data=a}}else r=setTimeout;return function(){n||(n=!0,r(s,0))}},Qye=(e,t)=>{let n=e.elRect,{scaleX:r,scaleY:s,translateX:a,translateY:i}=e.draw.transform(),{left:o,top:l,width:u,height:c}=t,d=(o+u)*r+a,h=(l+c)*s+i;o=o*r+a,l=l*s+i;let p=0,m=0;return o<0&&(p=-o),d>n.width&&(p=-(d-n.width)),l<0&&(m=-l),h>n.height&&(m=-(h-n.height)),{isOuter:p!==0||m!==0,offsetLeft:p,offsetTop:m}};let gg=null;const JM=e=>(gg||(gg=document.createElement("div")),gg.innerHTML=e,gg.textContent),Wf=e=>new Promise((t,n)=>{let r=new FileReader;r.onload=s=>{t(s.target.result)},r.onerror=s=>{n(s)},r.readAsDataURL(e)}),e1e=e=>new Promise(t=>{let n=new Image;n.src=e,n.onload=()=>{t({width:n.width,height:n.height})},n.onerror=()=>{t({width:0,height:0})}}),Vo=()=>Pve(),t1e=e=>new Promise((t,n)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=async s=>{let a=s.target.result,i=await e1e(a);t({url:a,size:i})},r.onerror=s=>{n(s)}}),n1e=e=>([["&nbsp;","&#160;"]].forEach(t=>{e=e.replaceAll(t[0],t[1])}),e),Wu=e=>Object.prototype.toString.call(e).slice(8,-1),Sm=e=>e==null||e==="",r1e=e=>e.replaceAll(/(<[^\s]+)\s+style=["'][^'"]+["']\s*(>)/g,"$1$2");let Kf=null;const hk=(e,t,n)=>{Kf||(Kf=document.createElement("div")),Kf.innerHTML=e;let r=s=>{s.childNodes.forEach(i=>{i.nodeType===1&&(i.tagName.toLowerCase()===t?i.style.cssText=n:r(i))})};return r(Kf),Kf.innerHTML};let vg=null;const s1e=e=>{vg||(vg=document.createElement("div")),vg.innerHTML=e;for(let t=vg.childNodes,n=t.length;n--;)if(t[n].nodeType==1)return!0;return!1},a1e=e=>{const t=n=>{n.childNodes.forEach(s=>{s.nodeType===1&&(s.classList.contains("ql-formula")?s.parentNode.removeChild(s):t(s))})};t(e)};let yg=null;const QM=e=>{yg||(yg=document.createElement("div")),yg.innerHTML=e;const t=yg.childNodes;let n="";for(let r=0;r<t.length;r++){const s=t[r];s.nodeType===1?(a1e(s),s.tagName.toLowerCase()==="p"?n+=s.textContent+`
`:n+=s.textContent):s.nodeType===3&&(n+=s.nodeValue)}return n.replace(/\n$/,"")};let Sl=null;const i1e=e=>{Sl||(Sl=document.createElement("div")),Sl.innerHTML=e;const t=Sl.querySelectorAll(".ql-formula");Array.from(t).forEach(s=>{const a=document.createTextNode("$smmformula$");s.parentNode.replaceChild(a,s)});const n=Sl.childNodes;let r=[];for(let s=0;s<n.length;s++){const a=n[s];a.nodeType===1?r.push(a.textContent):a.nodeType===3&&r.push(a.nodeValue)}if(e=r.map(s=>`<p><span>${qS(s)}</span></p>`).join(""),t.length>0){e=e.replace(/\$smmformula\$/g,'<span class="smmformula"></span>'),Sl.innerHTML=e;const s=Sl.querySelectorAll(".smmformula");Array.from(s).forEach((a,i)=>{a.parentNode.replaceChild(t[i],a)}),e=Sl.innerHTML}return e},o1e=(e,t)=>{const n={};return Object.keys(t).forEach(r=>{const s=e[r],a=t[r];if(Wu(s)!==Wu(a)){n[r]=a;return}if(Wu(s)==="Object"){if(JSON.stringify(s)!==JSON.stringify(a)){n[r]=a;return}}else if(s!==a){n[r]=a;return}}),n},e9=e=>/^_/.test(e)?!1:!bve.includes(e),l1e=e=>e.reduce((t,n)=>{const r=t.find(s=>s.type===n.type);return r?n.list.forEach(s=>{const a=r.list.find(i=>i.name===s.name);a?a.icon=s.icon:r.list.push(s)}):t.push({...n}),t},[]),pk=e=>{let t=[];return e.forEach(n=>{e.find(r=>r.uid!==n.uid&&r.isAncestor(n))||t.push(n)}),t},u1e=e=>{const t={},n={};e.forEach(s=>{const a=s.parent;if(a){const i=a.uid;n[i]=a;const o=s.getIndexInBrothers(),l={node:s,index:o};t[i]?t[i].find(u=>u.index===l.index)||t[i].push(l):t[i]=[l]}});const r=[];return Object.keys(t).forEach(s=>{if(t[s].length>1){const a=t[s].map(i=>i.index).sort((i,o)=>i-o);r.push({node:n[s],range:[a[0],a[a.length-1]]})}else r.push({node:t[s][0].node})}),r},c1e=e=>{let t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),n.collapse(),t.removeAllRanges(),t.addRange(n)},d1e=e=>{let t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)},bg=(e,t={})=>{const n=r=>{r.forEach(s=>{s.data={...s.data,...t},s.children&&s.children.length>0&&n(s.children)})};return n(e),e},Gf=(e,t=!1,n=null)=>{const r=s=>{s.forEach(a=>{a.data||(a.data={}),(t||Sm(a.data.uid))&&(a.data.uid=Vo()),n&&n(a),a.children&&a.children.length>0&&r(a.children)})};return r(e),e},$a=e=>e?Array.isArray(e)?e:[e]:[],th=e=>e.parent?e.parent.nodeData.children.findIndex(t=>t.data.uid===e.uid):0,ts=(e,t)=>t.findIndex(n=>n.uid===e.uid),t9=e=>{let t=0;for(let s=0;s<e.length;s++)t=e.charCodeAt(s)+((t<<5)-t);return"hsla("+new RS(t).genrand_int32()%360+", 50%, 50%, 1)"},qS=e=>([["&","&amp;"],["<","&lt;"],[">","&gt;"]].forEach(t=>{e=e.replace(new RegExp(t[0],"g"),t[1])}),e),c_=(e,t)=>{const n=Wu(e);if(n!==Wu(t))return!1;if(n==="Object"){const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let a=0;a<r.length;a++){const i=r[a];if(!s.includes(i)||!c_(e[i],t[i]))return!1}return!0}else if(n==="Array"){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const s=e[r],a=t[r],i=Wu(s),o=Wu(a);if(i!==o||!c_(s,a))return!1}return!0}else return e===t},mk=e=>{navigator.clipboard&&navigator.clipboard.writeText(JSON.stringify(e))},f1e=async()=>{let e=null,t=null;if(navigator.clipboard){e=await navigator.clipboard.readText();const n=await navigator.clipboard.read();if(n&&n.length>0){for(const r of n)for(const s of r.types)if(/^image\//.test(s)){t=await r.getType(s);break}}}return{text:e,img:t}},Bb=e=>{if(!e||!e.parent)return;const t=th(e);t!==-1&&e.parent.nodeData.children.splice(t,1)},h1e=e=>(wve.forEach(t=>{e=e.replaceAll(new RegExp(`<${t}([^>]*)>`,"g"),`<${t} $1 />`)}),e),p1e=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!t.find(r=>r.uid===e[n].uid))return!1;return!0},gk=e=>({simpleMindMap:!0,data:e}),d_=e=>{let t=null;if(typeof e=="string")try{const r=JSON.parse(e);typeof r=="object"&&r.simpleMindMap&&(t=r.data)}catch{}else typeof e=="object"&&e.simpleMindMap&&(t=e.data);const n=!!t;return{isSmm:n,data:n?t:String(e)}},vk=(e,t)=>{e.preventDefault();const n=window.getSelection();if(!n.rangeCount)return;n.deleteFromDocument(),t=t||e.clipboardData.getData("text"),t=JM(t),t=t.replaceAll(/\n/g,"");const r=document.createTextNode(t);n.getRangeAt(0).insertNode(r),n.collapseToEnd()},yk=e=>{const t={},n=(r,s)=>{const a=r.data.uid;s&&s.children.push(a),t[a]={isRoot:!s,data:{...r.data},children:[]},r.children&&r.children.length>0&&r.children.forEach(i=>{n(i,t[a])})};return n(e,null),t},m1e=({addContentToHeader:e,addContentToFooter:t})=>{const n=[];let r=null,s=0,a=null,i=0;const o=(l,u)=>{if(typeof l=="function"){const c=l();if(!c)return;const{el:d,cssText:h,height:p}=c;if(d instanceof HTMLElement){Ad(d);const m=$h({el:d,height:p});u(m,p)}h&&n.push(h)}};return o(e,(l,u)=>{r=l,s=u}),o(t,(l,u)=>{a=l,i=u}),{cssTextList:n,header:r,headerHeight:s,footer:a,footerHeight:i}},g1e=(e,t=0,n=0,r=0,s=0,a=!1,i=!1)=>{let o=1/0,l=-1/0,u=1/0,c=-1/0;const d=(h,p)=>{if(!(p&&a)&&h.group)try{const{x:m,y:g,width:v,height:y}=h.group.findOne(".smm-node-shape").rbox();m<o&&(o=m),m+v>l&&(l=m+v),g<u&&(u=g),g+y>c&&(c=g+y)}catch{}!i&&h._generalizationList.length>0&&h._generalizationList.forEach(m=>{d(m.generalizationNode)}),h.children&&h.children.forEach(m=>{d(m)})};return d(e,!0),o=o-t+r,u=u-n+s,l=l-t+r,c=c-n+s,{left:o,top:u,width:l-o,height:c-u}},v1e=()=>{if(document.documentElement.requestFullScreen)return"fullscreenchange";if(document.documentElement.webkitRequestFullScreen)return"webkitfullscreenchange";if(document.documentElement.mozRequestFullScreen)return"mozfullscreenchange";if(document.documentElement.msRequestFullscreen)return"msfullscreenchange"};v1e();const $h=({el:e,width:t,height:n})=>{const r=new ZS;return t!==void 0&&r.width(t),n!==void 0&&r.height(n),r.add(e),r},f_=e=>{const t=e.generalization;return t?Array.isArray(t)?t:[t]:[]},Ad=e=>{e.setAttribute("xmlns","http://www.w3.org/1999/xhtml")},bk=e=>(e=[...e],e.sort((t,n)=>t.sortIndex-n.sortIndex),e),y1e=["paddingX","paddingY"],wk=["backgroundColor","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize"];class ii{static setBackgroundStyle(t,n){if(!ii.cacheStyle){ii.cacheStyle={};let l=window.getComputedStyle(t);wk.forEach(u=>{ii.cacheStyle[u]=l[u]})}let{backgroundColor:r,backgroundImage:s,backgroundRepeat:a,backgroundPosition:i,backgroundSize:o}=n;t.style.backgroundColor=r,s&&s!=="none"?(t.style.backgroundImage=`url(${s})`,t.style.backgroundRepeat=a,t.style.backgroundPosition=i,t.style.backgroundSize=o):t.style.backgroundImage="none"}static removeBackgroundStyle(t){ii.cacheStyle&&(wk.forEach(n=>{t.style[n]=ii.cacheStyle[n]}),ii.cacheStyle=null)}constructor(t){this.ctx=t,this._markerPath=null,this._marker=null,this._gradient=null}merge(t,n){let r=this.ctx.mindMap.themeConfig,s=r.node;return n||y1e.includes(t)?s=r:this.ctx.isGeneralization?s=r.generalization:this.ctx.layerIndex===0?s=r.root:this.ctx.layerIndex===1&&(s=r.second),this.getSelfStyle(t)!==void 0?this.getSelfStyle(t):s[t]}getStyle(t,n){return this.merge(t,n)}getSelfStyle(t){return this.ctx.getData(t)}rect(t){this.shape(t),t.radius(this.merge("borderRadius"))}shape(t){this.merge("gradientStyle")?(this._gradient||(this._gradient=this.ctx.nodeDraw.gradient("linear")),this._gradient.update(n=>{n.stop(0,this.merge("startColor")),n.stop(1,this.merge("endColor"))}),t.fill(this._gradient)):t.fill({color:this.merge("fillColor")}),t.stroke({color:this.merge("borderColor"),width:this.merge("borderWidth"),dasharray:this.merge("borderDasharray")})}text(t){t.fill({color:this.merge("color")}).css({"font-family":this.merge("fontFamily"),"font-size":this.merge("fontSize"),"font-weight":this.merge("fontWeight"),"font-style":this.merge("fontStyle"),"text-decoration":this.merge("textDecoration")})}createStyleText(){return`
      color: ${this.merge("color")};
      font-family: ${this.merge("fontFamily")};
      font-size: ${this.merge("fontSize")+"px"};
      font-weight: ${this.merge("fontWeight")};
      font-style: ${this.merge("fontStyle")};
      text-decoration: ${this.merge("textDecoration")}
    `}getTextFontStyle(){return{italic:this.merge("fontStyle")==="italic",bold:this.merge("fontWeight"),fontSize:this.merge("fontSize"),fontFamily:this.merge("fontFamily")}}domText(t,n=1,r){t.style.fontFamily=this.merge("fontFamily"),t.style.fontSize=this.merge("fontSize")*n+"px",t.style.fontWeight=this.merge("fontWeight")||"normal",t.style.lineHeight=r?this.merge("lineHeight"):"normal",t.style.fontStyle=this.merge("fontStyle")}tagText(t,n){t.fill({color:"#fff"}).css({"font-size":n.fontSize+"px"})}tagRect(t,n){t.fill({color:n.fill}),n.radius&&t.radius(n.radius)}iconNode(t){t.attr({fill:this.merge("color")})}line(t,{width:n,color:r,dasharray:s}={},a,i){if(t.stroke({color:r,dasharray:s,width:n}).fill({color:"none"}),a){const o=this.merge("showLineMarker",!0),l=i.style;if(o){l._marker=l._marker||l.createMarker(),l._markerPath.stroke({color:r}).fill({color:r}),t.attr("marker-start",""),t.attr("marker-end","");const u=l.merge("lineMarkerDir");t.marker(u,l._marker)}else l._marker&&(t.attr("marker-start",""),t.attr("marker-end",""),l._marker.remove(),l._marker=null)}}createMarker(){return this.ctx.lineDraw.marker(20,20,t=>{t.ref(8,5),t.size(20,20),t.attr("markerUnits","userSpaceOnUse"),t.attr("orient","auto-start-reverse"),this._markerPath=t.path("M0,0 L2,5 L0,10 L10,5 Z")})}generalizationLine(t){t.stroke({width:this.merge("generalizationLineWidth",!0),color:this.merge("generalizationLineColor",!0)}).fill({color:"none"})}iconBtn(t,n,r){let{color:s,fill:a,fontSize:i,fontColor:o}=this.ctx.mindMap.opt.expandBtnStyle||{color:"#808080",fill:"#fff",fontSize:12,fontColor:"#333333"};t.fill({color:s}),n.fill({color:s}),r.fill({color:a}),this.ctx.mindMap.opt.isShowExpandNum&&t.attr({"font-size":i,"font-color":o})}hasCustomStyle(){let t=!1;return Object.keys(this.ctx.getData()).forEach(n=>{e9(n)&&(t=!0)}),t}hoverNode(t){const{hoverRectColor:n}=this.ctx.mindMap.opt;t.radius(5).fill("none").stroke({color:n})}onRemove(){this._marker&&(this._marker.remove(),this._marker=null),this._markerPath&&(this._markerPath.remove(),this._markerPath=null),this._gradient&&(this._gradient.remove(),this._gradient=null)}}ii.cacheStyle=null;class b1e{constructor(t){this.node=t,this.mindMap=t.mindMap}getShapePadding(t,n,r,s){const a=this.node.getShape(),i=15,o=5,l=t+r*2,u=n+s*2,c=Math.abs(l-u);switch(a){case Le.SHAPE.ROUNDED_RECTANGLE:return{paddingX:n>t?(n-t)/2:0,paddingY:0};case Le.SHAPE.DIAMOND:return{paddingX:t/2,paddingY:n/2};case Le.SHAPE.PARALLELOGRAM:return{paddingX:r<=0?i:0,paddingY:0};case Le.SHAPE.OUTER_TRIANGULAR_RECTANGLE:return{paddingX:r<=0?i:0,paddingY:0};case Le.SHAPE.INNER_TRIANGULAR_RECTANGLE:return{paddingX:r<=0?i:0,paddingY:0};case Le.SHAPE.ELLIPSE:return{paddingX:r<=0?i:0,paddingY:s<=0?o:0};case Le.SHAPE.CIRCLE:return{paddingX:u>l?c/2:0,paddingY:u<l?c/2:0};default:return{paddingX:0,paddingY:0}}}createShape(){const t=this.node.getShape();let n=null;return t===Le.SHAPE.RECTANGLE?n=this.createRect():t===Le.SHAPE.DIAMOND?n=this.createDiamond():t===Le.SHAPE.PARALLELOGRAM?n=this.createParallelogram():t===Le.SHAPE.ROUNDED_RECTANGLE?n=this.createRoundedRectangle():t===Le.SHAPE.OCTAGONAL_RECTANGLE?n=this.createOctagonalRectangle():t===Le.SHAPE.OUTER_TRIANGULAR_RECTANGLE?n=this.createOuterTriangularRectangle():t===Le.SHAPE.INNER_TRIANGULAR_RECTANGLE?n=this.createInnerTriangularRectangle():t===Le.SHAPE.ELLIPSE?n=this.createEllipse():t===Le.SHAPE.CIRCLE&&(n=this.createCircle()),n}getNodeSize(){const t=this.node.getBorderWidth();let{width:n,height:r}=this.node;return n-=t,r-=t,{width:n,height:r}}createPath(t){const{customCreateNodePath:n}=this.mindMap.opt;return n?os(n(t)):new Nc().plot(t)}createPolygon(t){const{customCreateNodePolygon:n}=this.mindMap.opt;return n?os(n(t)):new Ic().plot(t)}createRect(){let{width:t,height:n}=this.getNodeSize(),r=this.node.style.merge("borderRadius");const s=`
      M${r},0
      L${t-r},0
      C${t-r},0 ${t},0 ${t},${r}
      L${t},${n-r}
      C${t},${n-r} ${t},${n} ${t-r},${n}
      L${r},${n}
      C${r},${n} 0,${n} 0,${n-r}
      L0,${r}
      C0,${r} 0,0 ${r},0
      Z
    `;return this.createPath(s)}createDiamond(){let{width:t,height:n}=this.getNodeSize(),r=t/2,s=n/2;const p=[[r,0],[t,s],[r,n],[0,s]];return this.createPolygon(p)}createParallelogram(){let{paddingX:t}=this.node.getPaddingVale();t=t||this.node.shapePadding.paddingX;let{width:n,height:r}=this.getNodeSize();const s=[[t,0],[n,0],[n-t,r],[0,r]];return this.createPolygon(s)}createRoundedRectangle(){let{width:t,height:n}=this.getNodeSize(),r=n/2;const s=`
      M${r},0
      L${t-r},0
      A${n/2},${n/2} 0 0,1 ${t-r},${n} 
      L${r},${n}
      A${n/2},${n/2} 0 0,1 ${r},0
    `;return this.createPath(s)}createOctagonalRectangle(){let t=5,{width:n,height:r}=this.getNodeSize();const s=[[0,t],[t,0],[n-t,0],[n,t],[n,r-t],[n-t,r],[t,r],[0,r-t]];return this.createPolygon(s)}createOuterTriangularRectangle(){let{paddingX:t}=this.node.getPaddingVale();t=t||this.node.shapePadding.paddingX;let{width:n,height:r}=this.getNodeSize();const s=[[t,0],[n-t,0],[n,r/2],[n-t,r],[t,r],[0,r/2]];return this.createPolygon(s)}createInnerTriangularRectangle(){let{paddingX:t}=this.node.getPaddingVale();t=t||this.node.shapePadding.paddingX;let{width:n,height:r}=this.getNodeSize();const s=[[0,0],[n,0],[n-t/2,r/2],[n,r],[0,r],[t/2,r/2]];return this.createPolygon(s)}createEllipse(){let{width:t,height:n}=this.getNodeSize(),r=t/2,s=n/2;const a=`
      M${r},0
      A${r},${s} 0 0,1 ${r},${n} 
      M${r},${n} 
      A${r},${s} 0 0,1 ${r},0 
    `;return this.createPath(a)}createCircle(){let{width:t,height:n}=this.getNodeSize(),r=t/2,s=n/2;const a=`
      M${r},0
      A${r},${s} 0 0,1 ${r},${n} 
      M${r},${n} 
      A${r},${s} 0 0,1 ${r},0 
    `;return this.createPath(a)}}const w1e=[Le.SHAPE.RECTANGLE,Le.SHAPE.DIAMOND,Le.SHAPE.PARALLELOGRAM,Le.SHAPE.ROUNDED_RECTANGLE,Le.SHAPE.OCTAGONAL_RECTANGLE,Le.SHAPE.OUTER_TRIANGULAR_RECTANGLE,Le.SHAPE.INNER_TRIANGULAR_RECTANGLE,Le.SHAPE.ELLIPSE,Le.SHAPE.CIRCLE];function _1e(){const e=this.getData("generalization");return Array.isArray(e)?e:e?[e]:[]}function S1e(){return this.formatGetGeneralization().length>0}function C1e(){return!!this.formatGetGeneralization().find(t=>!t.range||t.range.length<=0)}function x1e(e){return this._generalizationList.findIndex(t=>t.generalizationNode.uid===e.uid)}function E1e(){if(this.isGeneralization||!this.checkHasGeneralization())return;let e=0,t=0;this.formatGetGeneralization().forEach((r,s)=>{let a=this._generalizationList[s];a||(a=this._generalizationList[s]={}),a.node=this,a.range=r.range,a.generalizationLine||(a.generalizationLine=this.lineDraw.path()),a.generalizationNode||(a.generalizationNode=new r9({data:{inserting:r.inserting,data:r},uid:Vo(),renderer:this.renderer,mindMap:this.mindMap,isGeneralization:!0})),delete r.inserting,a.generalizationNode.generalizationBelongNode=this,a.generalizationNode.width>e&&(e=a.generalizationNode.width),a.generalizationNode.height>t&&(t=a.generalizationNode.height),r.isActive&&this.renderer.addNodeToActiveList(a.generalizationNode)}),this._generalizationNodeWidth=e,this._generalizationNodeHeight=t}function T1e(){this.isGeneralization||(this.removeGeneralization(),this.createGeneralizationNode())}function k1e(e){if(this.isGeneralization)return;this.updateGeneralizationData();const t=this.formatGetGeneralization();if(t.length<=0||this.getData("expand")===!1){this.removeGeneralization();return}t.length!==this._generalizationList.length&&this.removeGeneralization(),this.createGeneralizationNode(),this.renderer.layout.renderGeneralization(this._generalizationList),this._generalizationList.forEach(n=>{this.style.generalizationLine(n.generalizationLine),n.generalizationNode.render(()=>{},e)})}function N1e(){const e=this.nodeData.children.length,t=this.formatGetGeneralization(),n=[];t.forEach(r=>{if(!r.range){n.push(r);return}r.range.length>0&&r.range[0]<=e-1&&r.range[1]<=e-1&&n.push(r)}),n.length!==t.length&&this.setData({generalization:n})}function I1e(){this.isGeneralization||(this._generalizationList.forEach(e=>{e.generalizationNode.style.onRemove(),e.generalizationLine&&(e.generalizationLine.remove(),e.generalizationLine=null),e.generalizationNode&&(this.renderer.removeNodeFromActiveList(e.generalizationNode),e.generalizationNode.remove(),e.generalizationNode=null)}),this._generalizationList=[],this.generalizationBelongNode&&this.nodeDraw.find(".generalization_"+this.generalizationBelongNode.uid).remove())}function O1e(){this.isGeneralization||this._generalizationList.forEach(e=>{e.generalizationLine&&e.generalizationLine.hide(),e.generalizationNode&&e.generalizationNode.hide()})}function $1e(){this.isGeneralization||this._generalizationList.forEach(e=>{e.generalizationLine&&e.generalizationLine.show(),e.generalizationNode&&e.generalizationNode.show()})}function A1e(e){this._generalizationList.forEach(t=>{t.generalizationLine.opacity(e),t.generalizationNode.group.opacity(e)})}function R1e(){const e=this.generalizationBelongNode,t=e.formatGetGeneralization(),n=e.getGeneralizationNodeIndex(this),r=t[n];Array.isArray(r.range)&&r.range.length>0?this.mindMap.renderer.highlightNode(e,r.range):this.mindMap.renderer.highlightNode(e)}function M1e(){this.mindMap.renderer.closeHighlightNode()}const _k={formatGetGeneralization:_1e,checkHasGeneralization:S1e,checkHasSelfGeneralization:C1e,getGeneralizationNodeIndex:x1e,createGeneralizationNode:E1e,updateGeneralization:T1e,updateGeneralizationData:N1e,renderGeneralization:k1e,removeGeneralization:I1e,hideGeneralization:O1e,showGeneralization:$1e,setGeneralizationOpacity:A1e,handleGeneralizationMouseenter:R1e,handleGeneralizationMouseleave:M1e},P1e='<svg t="1618141562310" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13476" width="200" height="200"><path d="M475.136 327.168v147.968h-147.968v74.24h147.968v147.968h74.24v-147.968h147.968v-74.24h-147.968v-147.968h-74.24z m36.864-222.208c225.28 0 407.04 181.76 407.04 407.04s-181.76 407.04-407.04 407.04-407.04-181.76-407.04-407.04 181.76-407.04 407.04-407.04z m0-74.24c-265.216 0-480.768 215.552-480.768 480.768s215.552 480.768 480.768 480.768 480.768-215.552 480.768-480.768-215.552-480.768-480.768-480.768z" p-id="13477"></path></svg>',L1e='<svg t="1618141589243" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13611" width="200" height="200"><path d="M512 105.472c225.28 0 407.04 181.76 407.04 407.04s-181.76 407.04-407.04 407.04-407.04-181.76-407.04-407.04 181.76-407.04 407.04-407.04z m0-74.24c-265.216 0-480.768 215.552-480.768 480.768s215.552 480.768 480.768 480.768 480.768-215.552 480.768-480.768-215.552-480.768-480.768-480.768z" p-id="13612"></path><path d="M252.928 474.624h518.144v74.24h-518.144z" p-id="13613"></path></svg>',Sk={open:P1e,close:L1e};function D1e(){if(this._openExpandNode)return;let{close:e,open:t}=this.mindMap.opt.expandBtnIcon||{};this.mindMap.opt.isShowExpandNum?(this._openExpandNode=new Ss,this._openExpandNode.attr({"text-anchor":"middle","dominant-baseline":"middle",x:this.expandBtnSize/2,y:2})):(this._openExpandNode=os(t||Sk.open).size(this.expandBtnSize,this.expandBtnSize),this._openExpandNode.x(0).y(-this.expandBtnSize/2)),this._closeExpandNode=os(e||Sk.close).size(this.expandBtnSize,this.expandBtnSize),this._closeExpandNode.x(0).y(-this.expandBtnSize/2),this._fillExpandNode=new _m().size(this.expandBtnSize),this._fillExpandNode.x(0).y(-this.expandBtnSize/2),this.style.iconBtn(this._openExpandNode,this._closeExpandNode,this._fillExpandNode)}function z1e(e=[]){return e.reduce((t,n)=>t+this.sumNode(n.children||[]),e.length)}function F1e(){let{expand:e}=this.getData();if(e===this._lastExpandBtnType)return;this._expandBtn&&this._expandBtn.clear(),this.createExpandNodeContent();let t;if(e===!1?(t=this._openExpandNode,this._lastExpandBtnType=!1):(t=this._closeExpandNode,this._lastExpandBtnType=!0),this._expandBtn){let{isShowExpandNum:n,expandBtnStyle:r,expandBtnNumHandler:s}=this.mindMap.opt;if(n)if(e)this._fillExpandNode.stroke("none");else{this._fillExpandNode.stroke({color:r.strokeColor});let a=this.sumNode(this.nodeData.children);a=s(a),t.text(String(a))}this._expandBtn.add(this._fillExpandNode).add(t)}}function B1e(){this._expandBtn&&this.renderer.layout.renderExpandBtn(this,this._expandBtn)}function j1e(){!this.nodeData.children||this.nodeData.children.length<=0||this.isRoot||(this._expandBtn?this.group.add(this._expandBtn):(this._expandBtn=new ma,this._expandBtn.on("mouseover",e=>{e.stopPropagation(),this._expandBtn.css({cursor:"pointer"})}),this._expandBtn.on("mouseout",e=>{e.stopPropagation(),this._expandBtn.css({cursor:"auto"})}),this._expandBtn.on("click",e=>{e.stopPropagation(),this.mindMap.execCommand("SET_NODE_EXPAND",this,!this.getData("expand")),this.mindMap.emit("expand_btn_click",this)}),this._expandBtn.on("dblclick",e=>{e.stopPropagation()}),this._expandBtn.addClass("smm-expand-btn"),this.group.add(this._expandBtn)),this._showExpandBtn=!0,this.updateExpandBtnNode(),this.updateExpandBtnPos())}function V1e(){this._expandBtn&&this._showExpandBtn&&(this._expandBtn.remove(),this._showExpandBtn=!1)}function H1e(){const{alwaysShowExpandBtn:e,notShowExpandBtn:t}=this.mindMap.opt;e||t||setTimeout(()=>{this.renderExpandBtn()},0)}function U1e(){const{alwaysShowExpandBtn:e,notShowExpandBtn:t}=this.mindMap.opt;if(e||this._isMouseenter||t)return;let{isActive:n,expand:r}=this.getData();!n&&r&&setTimeout(()=>{this.removeExpandBtn()},0)}const Ck={createExpandNodeContent:D1e,updateExpandBtnNode:F1e,updateExpandBtnPos:B1e,renderExpandBtn:j1e,removeExpandBtn:V1e,showExpandBtn:H1e,hideExpandBtn:U1e,sumNode:z1e};function W1e(e={}){this.mindMap.execCommand("SET_NODE_DATA",this,e)}function K1e(e,t,n){this.mindMap.execCommand("SET_NODE_TEXT",this,e,t,n)}function G1e(e){this.mindMap.execCommand("SET_NODE_IMAGE",this,e)}function Z1e(e){this.mindMap.execCommand("SET_NODE_ICON",this,e)}function Y1e(e,t){this.mindMap.execCommand("SET_NODE_HYPERLINK",this,e,t)}function q1e(e){this.mindMap.execCommand("SET_NODE_NOTE",this,e)}function X1e(e,t){this.mindMap.execCommand("SET_NODE_ATTACHMENT",this,e,t)}function J1e(e){this.mindMap.execCommand("SET_NODE_TAG",this,e)}function Q1e(e){this.mindMap.execCommand("SET_NODE_SHAPE",this,e)}function ebe(e,t){this.mindMap.execCommand("SET_NODE_STYLE",this,e,t)}function tbe(e){this.mindMap.execCommand("SET_NODE_STYLES",this,e)}const xk={setData:W1e,setText:K1e,setImage:G1e,setIcon:Z1e,setHyperlink:Y1e,setNote:q1e,setAttachment:X1e,setTag:J1e,setShape:Q1e,setStyle:ebe,setStyles:tbe},nbe='<svg t="1624174958075" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7982" ><path d="M435.484444 251.733333v68.892445L295.822222 320.682667a168.504889 168.504889 0 0 0-2.844444 336.952889h142.506666v68.892444H295.822222a237.397333 237.397333 0 0 1 0-474.794667h139.662222z m248.945778 0a237.397333 237.397333 0 0 1 0 474.851556H544.654222v-69.006222l139.776 0.056889a168.504889 168.504889 0 0 0 2.844445-336.952889H544.597333V251.676444h139.776z m-25.827555 203.946667a34.474667 34.474667 0 0 1 0 68.892444H321.649778a34.474667 34.474667 0 0 1 0-68.892444h336.952889z" p-id="7983"></path></svg>',rbe='<svg t="1624195132675" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8792" ><path d="M152.768 985.984 152.768 49.856l434.56 0 66.816 0 234.048 267.392 0 66.816 0 601.92L152.768 985.984 152.768 985.984zM654.144 193.088l0 124.16 108.736 0L654.144 193.088 654.144 193.088zM821.312 384.064l-167.168 0L587.328 384.064 587.328 317.312 587.328 116.736 219.584 116.736 219.584 919.04l601.728 0L821.312 384.064 821.312 384.064zM386.688 517.888 319.808 517.888 319.808 450.944l66.816 0L386.624 517.888 386.688 517.888zM386.688 651.584 319.808 651.584 319.808 584.704l66.816 0L386.624 651.584 386.688 651.584zM386.688 785.344 319.808 785.344l0-66.88 66.816 0L386.624 785.344 386.688 785.344zM721.024 517.888 453.632 517.888 453.632 450.944l267.392 0L721.024 517.888 721.024 517.888zM654.144 651.584 453.632 651.584 453.632 584.704l200.512 0L654.144 651.584 654.144 651.584zM620.672 785.344l-167.04 0 0-66.88 167.04 0L620.672 785.344 620.672 785.344z" p-id="8793"></path></svg>',sbe='<svg t="1711935375590" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3864" xmlns:xlink="http://www.w3.org/1999/xlink" width="128" height="128"><path d="M516.373333 375.978667l136.576-136.576a147.797333 147.797333 0 0 1 208.853334-0.021334 147.690667 147.690667 0 0 1-0.042667 208.832l-204.8 204.778667v0.021333l-153.621333 153.6c-85.973333 85.973333-225.28 85.973333-311.253334 0.021334-85.994667-85.973333-85.973333-225.216 0.149334-311.36L431.146667 256.362667a21.333333 21.333333 0 0 0-30.165334-30.165334L162.069333 465.066667c-102.805333 102.826667-102.826667 269.056-0.149333 371.733333 102.613333 102.613333 268.970667 102.613333 371.584 0l153.6-153.642667h0.021333l0.021334-0.021333 204.778666-204.778667c74.325333-74.325333 74.346667-194.858667 0.021334-269.184-74.24-74.24-194.88-74.24-269.162667 0.042667l-136.576 136.554667-187.626667 187.626666a117.845333 117.845333 0 0 0-0.106666 166.826667 118.037333 118.037333 0 0 0 166.826666-0.106667l255.850667-255.829333a21.333333 21.333333 0 0 0-30.165333-30.165333L435.136 669.973333a75.370667 75.370667 0 0 1-106.496 0.106667 75.178667 75.178667 0 0 1 0.128-106.496l187.605333-187.605333z" p-id="3865"></path></svg>',n9=[{name:"",type:"priority",list:[{name:"1",icon:'<svg viewBox="0 0 1024 1024"><path d="M512.042667 1024C229.248 1024 0 794.794667 0 511.957333 0 229.205333 229.248 0 512.042667 0 794.752 0 1024 229.205333 1024 511.957333 1024 794.794667 794.752 1024 512.042667 1024z" fill="#E93B30"></path><path d="M580.309333 256h-75.52c-10.666667 29.824-30.165333 55.765333-58.709333 78.165333-28.416 22.314667-54.869333 37.418667-79.146667 45.397334v84.608a320 320 0 0 0 120.234667-70.698667v352.085333H580.266667V256z" fill="#FFFFFF"></path></svg>'},{name:"2",icon:'<svg viewBox="0 0 1024 1024"><path d="M511.957333 1024C229.248 1024 0 794.752 0 512S229.248 0 511.957333 0C794.752 0 1024 229.248 1024 512s-229.248 512-512.042667 512z" fill="#FA8D2E"></path><path d="M667.946667 658.602667h-185.301334c4.864-8.533333 11.178667-17.066667 19.072-25.984 7.808-8.874667 26.453333-26.837333 55.936-53.888 29.525333-27.008 49.877333-47.786667 61.226667-62.165334 16.981333-21.717333 29.44-42.453333 37.290667-62.293333 7.808-19.84 11.776-40.746667 11.776-62.677333 0-38.570667-13.738667-70.741333-41.088-96.725334C599.466667 268.928 561.706667 256 513.834667 256c-43.690667 0-80.128 11.136-109.354667 33.578667-29.098667 22.4-46.506667 59.306667-52.010667 110.805333l93.184 9.301333c1.792-27.349333 8.405333-46.890667 19.754667-58.624 11.434667-11.776 26.837333-17.664 46.165333-17.664 19.541333 0 34.858667 5.589333 45.909334 16.768 11.136 11.264 16.682667 27.221333 16.682666 48.042667 0 18.858667-6.4 37.930667-19.242666 57.258667-9.472 14.037333-35.157333 40.533333-77.098667 79.872-52.096 48.554667-87.04 87.509333-104.704 116.821333A226.688 226.688 0 0 0 341.333333 745.429333h326.613334v-86.826666z" fill="#FFFFFF"></path></svg>'},{name:"3",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z" fill="#2E66FA"></path><path d="M627.754667 731.733333c-29.354667 25.088-66.901333 37.632-112.725334 37.632-44.928 0-81.792-11.52-110.592-34.773333-33.066667-26.538667-49.877333-64.469333-50.304-114.133333h92.16c0.426667 21.76 7.552 38.314667 21.333334 49.664 12.288 10.88 28.117333 16.341333 47.402666 16.341333 20.309333 0 36.778667-6.101333 49.322667-18.432 12.544-12.330667 18.773333-29.568 18.773333-51.797333 0-21.290667-6.229333-38.186667-18.773333-50.773334-12.544-12.501333-29.866667-18.773333-52.138667-18.773333h-13.525333v-80.042667H512c42.112 0 63.274667-21.034667 63.274667-63.146666 0-20.309333-5.888-36.096-17.706667-47.445334a60.757333 60.757333 0 0 0-43.818667-17.066666c-17.493333 0-32 5.504-43.434666 16.298666-11.562667 10.88-17.792 25.728-18.773334 44.714667H359.68c0.981333-43.946667 16.042667-78.976 45.397333-104.96 29.354667-25.941333 65.706667-39.04 109.226667-39.04 44.928 0 81.792 13.525333 110.592 40.490667 28.8 26.922667 43.306667 61.610667 43.306667 104.149333 0 48.213333-19.413333 82.688-58.154667 103.552 43.52 23.125333 65.28 61.44 65.28 114.858667 0 48.128-15.957333 85.76-47.573333 112.682666z" fill="#FFFFFF"></path></svg>'},{name:"4",icon:'<svg viewBox="0 0 1024 1024"><path d="M512.042667 1024C229.248 1024 0 794.794667 0 512.042667 0 229.205333 229.248 0 512.042667 0 794.752 0 1024 229.205333 1024 512.042667 1024 794.794667 794.752 1024 512.042667 1024z" fill="#6D768D"></path><path d="M600.96 256v309.802667h60.117333v81.536h-60.16v98.218666h-90.154666v-98.218666H311.466667v-81.237334L522.666667 256h78.293333zM510.72 399.104l-112.042667 166.698667h112.042667V399.104z" fill="#FFFFFF"></path></svg>'},{name:"5",icon:'<svg viewBox="0 0 1024 1024"><path d="M512.042667 1024C229.248 1024 0 794.794667 0 512.042667 0 229.205333 229.248 0 512.042667 0 794.752 0 1024 229.205333 1024 512.042667 1024 794.794667 794.752 1024 512.042667 1024z" fill="#6D768D"></path><path d="M470.912 343.552h175.786667V256H400.256l-47.786667 253.952 75.434667 10.837333c21.205333-23.552 45.269333-35.413333 72.021333-35.413333 21.546667 0 38.997333 7.509333 52.437334 22.4 13.312 15.018667 20.053333 37.418667 20.053333 67.328 0 31.872-6.741333 55.765333-20.181333 71.552-13.397333 15.872-29.866667 23.765333-49.237334 23.765333-17.066667 0-32.085333-6.186667-45.013333-18.432-13.013333-12.373333-20.821333-29.013333-23.466667-50.133333L341.333333 611.498667c5.546667 40.874667 22.485333 73.429333 50.730667 97.621333 28.330667 24.32 64.938667 36.437333 109.866667 36.437333 56.149333 0 100.053333-21.546667 131.754666-64.554666a176.64 176.64 0 0 0 34.816-107.52c0-48.042667-14.378667-87.210667-43.221333-117.333334-28.8-30.208-63.957333-45.312-105.514667-45.312-21.674667 0-42.922667 5.248-63.829333 15.616l14.976-82.901333z" fill="#FFFFFF"></path></svg>'},{name:"6",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 1024C229.248 1024 0 794.794667 0 512.042667 0 229.205333 229.248 0 512 0c282.88 0 512 229.205333 512 512.042667C1024 794.794667 794.88 1024 512 1024z" fill="#6D768D"></path><path d="M519.210667 256c36.992 0 67.626667 10.368 91.776 31.189333 24.192 20.821333 39.68 51.029333 46.293333 90.709334l-90.197333 9.984c-2.176-18.56-7.978667-32.298667-17.28-41.173334-9.258667-8.874667-21.418667-13.226667-36.224-13.226666-19.754667 0-36.437333 8.789333-50.048 26.453333-13.696 17.664-22.314667 54.613333-25.856 110.549333 23.296-27.52 52.138667-41.258667 86.656-41.258666 38.997333 0 72.362667 14.805333 100.181333 44.544 27.733333 29.696 41.685333 68.010667 41.685333 114.858666 0 49.877333-14.634667 89.856-43.818666 119.936-29.226667 30.208-66.730667 45.226667-112.554667 45.226667-49.066667 0-89.429333-19.072-121.130667-57.344C357.12 658.218667 341.333333 595.541333 341.333333 508.416c0-89.344 16.469333-153.813333 49.493334-193.194667C423.722667 275.754667 466.56 256 519.168 256z m-9.472 241.834667c-17.962667 0-33.066667 6.997333-45.525334 21.12-12.330667 14.037333-18.56 34.858667-18.56 62.293333 0 30.421333 6.912 53.76 20.906667 70.4 13.952 16.469333 29.866667 24.746667 47.786667 24.746667 17.28 0 31.701333-6.826667 43.178666-20.309334 11.52-13.525333 17.237333-35.669333 17.237334-66.56 0-31.658667-6.186667-54.869333-18.517334-69.546666a58.197333 58.197333 0 0 0-46.506666-22.144z" fill="#FFFFFF"></path></svg>'},{name:"7",icon:'<svg viewBox="0 0 1024 1024"><path d="M512.042667 1024C229.248 1024 0 794.752 0 512S229.248 0 512.042667 0C794.752 0 1024 229.248 1024 512s-229.248 512-511.957333 512z" fill="#6D768D"></path><path d="M673.024 273.066667H354.133333v86.869333h212.224a691.2 691.2 0 0 0-104.746666 187.989333c-26.026667 70.101333-39.978667 138.88-41.429334 206.293334h89.6c-0.298667-42.922667 6.698667-91.776 21.034667-146.474667a654.72 654.72 0 0 1 62.08-154.965333c27.136-48.554667 53.888-85.76 80.128-111.701334V273.066667z" fill="#FFFFFF"></path></svg>'},{name:"8",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z" fill="#6D768D"></path><path d="M512.426667 256c46.208 0 82.048 11.861333 107.605333 35.541333 25.6 23.68 38.314667 53.674667 38.314667 89.898667 0 22.613333-5.802667 42.666667-17.578667 60.330667a111.445333 111.445333 0 0 1-49.450667 40.277333c26.965333 10.837333 47.36 26.752 61.312 47.658667 13.994667 20.906667 21.034667 45.013333 21.034667 72.362666 0 45.098667-14.336 81.834667-42.965333 109.952-28.586667 28.245333-66.602667 42.368-114.090667 42.368-44.245333 0-81.066667-11.648-110.464-34.986666-34.645333-27.52-52.010667-65.28-52.010667-113.365334 0-26.368 6.528-50.645333 19.626667-72.746666 13.056-22.144 33.578667-39.210667 61.696-51.242667-24.064-10.154667-41.557333-24.192-52.48-41.941333a109.824 109.824 0 0 1-16.512-58.666667c0-36.224 12.757333-66.218667 37.973333-89.898667 25.386667-23.68 61.354667-35.541333 108.032-35.541333z m1.28 265.429333c-22.784 0-39.722667 7.978667-50.901334 23.893334-11.136 15.786667-16.64 33.066667-16.64 51.498666 0 25.984 6.485333 46.208 19.712 60.714667 13.098667 14.506667 29.525333 21.802667 49.152 21.802667 19.242667 0 35.157333-6.997333 47.786667-20.992 12.629333-13.909333 18.858667-34.048 18.858667-60.416 0-23.082667-6.314667-41.557333-19.2-55.466667a63.274667 63.274667 0 0 0-48.725334-21.034667z m-0.341334-191.488c-17.792 0-32 5.333333-42.581333 16-10.538667 10.666667-15.872 24.746667-15.872 42.325334 0 18.645333 5.248 33.152 15.701333 43.648 10.453333 10.453333 24.362667 15.658667 41.770667 15.658666 17.664 0 31.658667-5.290667 42.24-15.872 10.538667-10.581333 15.872-25.173333 15.872-43.818666 0-17.493333-5.248-31.573333-15.701333-42.154667s-24.277333-15.786667-41.429334-15.786667z" fill="#FFFFFF"></path></svg>'},{name:"9",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 1024C229.248 1024 0 794.794667 0 512.042667 0 229.333333 229.248 0 512 0c282.88 0 512 229.333333 512 512.042667C1024 794.794667 794.88 1024 512 1024z" fill="#6D768D"></path><path d="M497.28 256c49.365333 0 89.856 19.157333 121.429333 57.429333 31.701333 38.229333 47.488 101.205333 47.488 188.842667 0 89.173333-16.384 153.386667-49.365333 192.853333-32.853333 39.594667-75.605333 59.264-128.426667 59.264-37.888 0-68.608-10.154667-91.989333-30.506666s-38.4-50.816-45.013333-91.306667l90.112-9.984c2.261333 18.474667 8.021333 32.085333 17.28 41.088 9.173333 8.874667 21.418667 13.312 36.608 13.312 19.2 0 35.541333-8.874667 48.981333-26.752 13.44-17.749333 22.016-54.613333 25.770667-110.549333-23.466667 27.264-52.821333 40.874667-88.064 40.874666-38.314667 0-71.253333-14.72-99.114667-44.330666C355.242667 506.709333 341.333333 468.224 341.333333 420.864c0-49.493333 14.592-89.258667 43.946667-119.466667C414.549333 271.104 451.925333 256 497.237333 256z m-4.352 77.482667c-17.237333 0-31.658667 6.826667-43.008 20.437333-11.477333 13.653333-17.194667 35.84-17.194667 66.816 0 31.402667 6.229333 54.485333 18.645334 69.205333 12.458667 14.72 27.946667 22.101333 46.592 22.101334 18.005333 0 33.066667-7.082667 45.44-21.205334 12.330667-14.208 18.432-35.029333 18.432-62.506666 0-29.994667-6.912-53.376-20.821334-69.973334-13.824-16.597333-29.866667-24.874667-48.085333-24.874666z" fill="#FFFFFF"></path></svg>'},{name:"10",icon:'<svg viewBox="0 0 1024 1024"><path d="M512.042667 1024C229.248 1024 0 794.794667 0 511.957333 0 229.205333 229.248 0 512.042667 0 794.752 0 1024 229.205333 1024 511.957333 1024 794.794667 794.752 1024 512.042667 1024z" fill="#6D768D"></path><path d="M619.946667 273.066667c46.976 0 83.754667 16.042667 110.250666 48.042666 31.573333 37.973333 47.36 100.864 47.36 188.672 0 87.722667-15.829333 150.698667-47.658666 189.056-26.325333 31.616-62.976 47.36-109.952 47.36-47.274667 0-85.418667-17.237333-114.346667-51.968-28.885333-34.602667-43.392-96.426667-43.392-185.386666 0-87.168 15.872-150.016 47.701333-188.416 26.282667-31.488 62.933333-47.36 110.037334-47.36z m-207.488 12.8v452.266666H325.504V411.690667A299.904 299.904 0 0 1 213.333333 476.373333V398.933333c22.656-7.296 47.36-21.12 73.856-41.514666 26.624-20.522667 44.842667-44.288 54.784-71.552h70.485334z m207.488 60.842666c-11.306667 0-21.461333 3.413333-30.336 10.24-8.874667 6.826667-15.786667 19.157333-20.693334 36.864-6.4 22.997333-9.642667 61.653333-9.642666 115.968 0 54.442667 2.944 91.733333 8.661333 112.128 5.802667 20.352 13.098667 33.877333 21.845333 40.618667 8.789333 6.741333 18.858667 10.154667 30.165334 10.154667 11.349333 0 21.376-3.498667 30.250666-10.325334 8.874667-6.826667 15.786667-19.157333 20.693334-36.778666 6.4-22.826667 9.642667-61.354667 9.642666-115.797334 0-54.314667-2.858667-91.648-8.661333-112.042666-5.802667-20.352-13.013333-33.962667-21.76-40.789334a47.616 47.616 0 0 0-30.165333-10.24z" fill="#FFFFFF"></path></svg>'}]},{name:"",type:"progress",list:[{name:"1",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z" fill="#12BB37"></path><path d="M512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96V512l294.144-294.144A414.72 414.72 0 0 1 928 512c0 229.76-186.24 416-416 416z" fill="#FFFFFF"></path></svg>'},{name:"2",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z" fill="#12BB37"></path><path d="M512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96V512h416c0 229.76-186.24 416-416 416z" fill="#FFFFFF"></path></svg>'},{name:"3",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z" fill="#12BB37"></path><path d="M512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96V512l294.144 294.144A414.72 414.72 0 0 1 512 928z" fill="#FFFFFF"></path></svg>'},{name:"4",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z" fill="#12BB37"></path><path d="M512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96v832z" fill="#FFFFFF"></path></svg>'},{name:"5",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z" fill="#12BB37"></path><path d="M512 512l-294.144 294.144A414.72 414.72 0 0 1 96 512c0-229.76 186.24-416 416-416V512z" fill="#FFFFFF"></path></svg>'},{name:"6",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z" fill="#12BB37"></path><path d="M512 512H96c0-229.76 186.24-416 416-416V512z" fill="#FFFFFF"></path></svg>'},{name:"7",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z" fill="#12BB37"></path><path d="M512 512L217.856 217.856A414.72 414.72 0 0 1 512 96V512z" fill="#FFFFFF"></path></svg>'},{name:"8",icon:'<svg viewBox="0 0 1024 1024"><path d="M0 512c0 282.752 229.248 512 512 512s512-229.248 512-512S794.752 0 512 0 0 229.248 0 512z" fill="#12BB37"></path><path d="M716.629333 341.333333h-51.328a35.072 35.072 0 0 0-28.330666 14.293334l-171.989334 233.984-77.909333-106.026667a35.2 35.2 0 0 0-28.330667-14.293333H307.413333c-7.082667 0-11.264 7.936-7.082666 13.653333l136.32 185.472a35.2 35.2 0 0 0 56.533333 0l230.4-313.429333a8.533333 8.533333 0 0 0-6.954667-13.653334z" fill="#FFFFFF"></path></svg>'}]},{name:"",type:"expression",list:[{name:"1",icon:'<svg t="1624457751393" class="icon" viewBox="0 0 1026 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12255"><path d="M1.097856 1.097642h1021.804717v1021.804716H1.097856z" fill="#F09495" p-id="12256"></path><path d="M1024.000214 1024H0.000214V0h1024v1024z m-1021.804716-2.195284h1019.609433V2.195284H2.195498v1019.609432z" fill="#FFFFFF" p-id="12257"></path><path d="M234.695985 335.179887m-27.341259 0a27.341259 27.341259 0 1 0 54.682518 0 27.341259 27.341259 0 1 0-54.682518 0Z" fill="#040000" p-id="12258"></path><path d="M234.695985 363.519002c-15.666342 0-28.339115-12.772559-28.339115-28.339115 0-15.666342 12.772559-28.339115 28.339115-28.339115s28.339115 12.772559 28.339115 28.339115c0.099786 15.666342-12.672773 28.339115-28.339115 28.339115z m0-54.582732c-14.468914 0-26.243617 11.774703-26.243617 26.243617s11.774703 26.243617 26.243617 26.243617 26.243617-11.774703 26.243617-26.243617-11.774703-26.243617-26.243617-26.243617z" fill="#FFFFFF" p-id="12259"></path><path d="M776.232528 335.179887m-27.341259 0a27.341259 27.341259 0 1 0 54.682518 0 27.341259 27.341259 0 1 0-54.682518 0Z" fill="#040000" p-id="12260"></path><path d="M776.232528 363.519002c-15.666342 0-28.339115-12.772559-28.339115-28.339115 0-15.666342 12.772559-28.339115 28.339115-28.339115 15.666342 0 28.339115 12.772559 28.339115 28.339115 0 15.666342-12.772559 28.339115-28.339115 28.339115z m0-54.582732c-14.468914 0-26.243617 11.774703-26.243617 26.243617s11.774703 26.243617 26.243617 26.243617 26.243617-11.774703 26.243617-26.243617c-0.099786-14.468914-11.874488-26.243617-26.243617-26.243617z" fill="#FFFFFF" p-id="12261"></path><path d="M512.000214 671.656987c-52.58702 0-105.872539-17.961411-105.872539-52.387449S459.413194 566.882089 512.000214 566.882089s105.872539 17.961411 105.87254 52.387449S564.587234 671.656987 512.000214 671.656987z m0-74.240499c-21.952836 0-43.207172 3.592282-58.2748 9.77899-13.870201 5.68778-17.06334 11.275775-17.06334 12.07406s3.19314 6.386279 17.06334 12.07406c15.067628 6.186708 36.321965 9.77899 58.2748 9.77899s43.207172-3.592282 58.274801-9.77899c13.870201-5.68778 17.06334-11.275775 17.06334-12.07406s-3.19314-6.386279-17.06334-12.07406c-15.067628-6.286494-36.321965-9.77899-58.274801-9.77899z" fill="#040000" p-id="12262"></path></svg>'},{name:"2",icon:'<svg t="1624457767572" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1048"><path d="M0 0h1024v1024H0z" fill="#E6A6C9" p-id="1049"></path><path d="M315.1 368.1c-23.9 0-43.3-19.4-43.3-43.3s19.4-43.3 43.3-43.3 43.3 19.4 43.3 43.3-19.4 43.3-43.3 43.3z m0-74.7c-17.3 0-31.3 14.1-31.3 31.3 0 17.3 14.1 31.3 31.3 31.3 17.3 0 31.3-14.1 31.3-31.3 0-17.2-14-31.3-31.3-31.3zM738.7 368.1c-23.9 0-43.3-19.4-43.3-43.3s19.4-43.3 43.3-43.3 43.3 19.4 43.3 43.3-19.4 43.3-43.3 43.3z m0-74.7c-17.3 0-31.3 14.1-31.3 31.3 0 17.3 14.1 31.3 31.3 31.3 17.3 0 31.3-14.1 31.3-31.3 0-17.2-14-31.3-31.3-31.3zM293.5 698.8l-14.5-1.3c0.1-0.6 1.5-14.6 15.1-27.9 17.2-16.7 45-24.8 82.7-24 4.9-0.1 10.9-10.5 16.1-19.6 8.4-14.7 19-33.1 37.9-34.3 19.4-1.2 42.2 16.4 71.5 55.4 9.9 5.2 16.5 11.2 21.8 16.1 8.4 7.7 13.1 11.9 25.1 10.8 14.9-1.4 38.9-11.1 77.5-31.4 26.8-28.4 56.4-41.4 83.5-36.6 27.9 4.9 50.6 27.6 67.5 67.5l-13.4 5.7c-14.7-34.5-34.3-54.9-56.7-58.8-22.3-3.9-47.6 7.8-71.2 33.1l-0.8 0.9-1.1 0.6c-85.6 45.1-99.4 38-120.2 19.1-5.5-5-11.2-10.2-20.1-14.7l-1.5-0.8-1-1.4c-32.2-43.2-50.4-51.6-60-51-11.1 0.7-18.8 14-26.2 27-7.6 13.2-15.4 26.9-28.8 26.9h-0.2c-78.4-1.6-83 38.3-83 38.7z" fill="#040000" p-id="1050"></path></svg>'},{name:"3",icon:'<svg t="1624457776082" class="icon" viewBox="0 0 1026 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1204" ><path d="M1.1 1.097642h1021.804716v1021.804716H1.1z" fill="#F7E983" p-id="1205"></path><path d="M1024.002358 1024H0.002358V0h1024v1024z m-1021.804716-2.195284h1019.609433V2.195284H2.197642v1019.609432z" fill="#FFFFFF" p-id="1206"></path><path d="M329.174412 344.491728a38.118106 10.277919 57.6 1 0 17.355867-11.014369 38.118106 10.277919 57.6 1 0-17.355867 11.014369Z" fill="#040000" p-id="1207"></path><path d="M644.769475 355.956059a11.175989 36.321965 30 1 0 36.321965-62.911488 11.175989 36.321965 30 1 0-36.321965 62.911488Z" fill="#040000" p-id="1208"></path><path d="M569.678445 671.158059c-26.343403 0-51.190021-5.288638-70.049503-14.967843-20.755408-10.577275-32.230754-25.445332-32.230755-41.710388 0-16.265056 11.475346-31.133112 32.230755-41.710387 18.859482-9.579419 43.805886-14.967843 70.049503-14.967843s51.190021 5.288638 70.049503 14.967843c20.755408 10.577275 32.230754 25.445332 32.230754 41.710387 0 16.265056-11.475346 31.133112-32.230754 41.710388-18.859482 9.679205-43.805886 14.967843-70.049503 14.967843z m0-95.095693c-49.693237 0-84.318846 20.356266-84.318846 38.517248s34.625609 38.517248 84.318846 38.517248 84.318846-20.356266 84.318846-38.517248-34.725395-38.517248-84.318846-38.517248z" fill="#040000" p-id="1209"></path></svg>'},{name:"4",icon:'<svg t="1624457781889" class="icon" viewBox="0 0 1026 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1363" ><path d="M1.1 1.097642h1021.804716v1021.804716H1.1z" fill="#A6D9E2" p-id="1364"></path><path d="M1024.002358 1024H0.002358V0h1024v1024z m-1021.804716-2.195284h1019.609433V2.195284H2.197642v1019.609432z" fill="#FFFFFF" p-id="1365"></path><path d="M376.194134 348.950302m-23.44962 0a23.44962 23.44962 0 1 0 46.89924 0 23.44962 23.44962 0 1 0-46.89924 0Z" fill="#040000" p-id="1366"></path><path d="M629.150672 348.950302m-24.647047 0a24.647047 24.647047 0 1 0 49.294095 0 24.647047 24.647047 0 1 0-49.294095 0Z" fill="#040000" p-id="1367"></path><path d="M397.847613 603.503411c13.471058 8.282206 28.738258 14.468914 43.7061 19.458195 29.835899 9.978562 62.266225 14.169558 93.299551 7.483921 21.054765-4.490353 40.213604-14.369129 56.778016-28.039758 6.785422-5.587995-2.893783-15.167414-9.579419-9.579419-46.999026 38.916391-112.258819 31.033327-163.847983 6.086922-4.590138-2.195284-9.080491-4.490353-13.371272-7.184564-7.583707-4.590138-14.468914 7.184564-6.984993 11.774703z" fill="#040000" p-id="1368"></path><path d="M627.753674 534.052621c-31.033327 24.048334-58.474371 68.253362-37.419607 106.970182 10.577275 19.35841 29.835899 32.629897 48.795167 42.708244 7.982849 4.190996 15.067628-7.883064 7.084779-12.07406-25.245761-13.271487-53.485091-35.324108-49.094524-66.557006 2.793997-20.156695 15.766127-37.319821 29.736114-51.190022 3.392711-3.392711 6.984993-6.785422 10.776847-9.77899 2.993569-2.295069 2.394855-7.483921 0-9.878776-2.893783-3.19314-6.885208-2.49464-9.878776-0.199572z" fill="#040000" p-id="1369"></path></svg>'},{name:"5",icon:'<svg t="1624457787809" class="icon" viewBox="0 0 1026 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1523" ><path d="M1.1 1.097642h1021.804716v1021.804716H1.1z" fill="#AD6F59" p-id="1524"></path><path d="M1024.002358 1024H0.002358V0h1024v1024z m-1021.804716-2.195284h1019.609433V2.195284H2.197642v1019.609432z" fill="#FFFFFF" p-id="1525"></path><path d="M411.829832 330.730879a38.118106 10.277919 57.6 1 0 17.355867-11.014368 38.118106 10.277919 57.6 1 0-17.355867 11.014368Z" fill="#040000" p-id="1526"></path><path d="M480.669675 609.989476c11.774703-25.844475 27.740401-51.788735 44.60417-73.342429 13.770415-17.462483 29.237186-33.92711 47.897096-44.803742 17.262912-10.078347 35.324108-13.67063 54.283376-6.58585 11.974274 4.390567 23.948548 14.468914 33.128825 24.547261 14.369129 15.865913 25.145975 34.625609 34.725394 53.684662 4.290782 8.581563 17.262912 0.997856 12.972131-7.583707-15.167414-30.334828-35.224323-63.763009-66.157864-80.327421-21.054765-11.37556-44.504385-11.475346-66.157864-1.895927-21.054765 9.280062-38.617034 25.644904-53.485091 42.907815-14.468914 16.863769-27.041902 35.324108-38.217891 54.582733-5.887351 10.178133-11.674917 20.555837-16.464627 31.232898-1.696355 3.692068-0.997856 7.982849 2.694212 10.277918 3.19314 1.895927 8.581563 0.898071 10.178133-2.694211z" fill="#040000" p-id="1527"></path><path d="M663.863649 338.091735a14.468914 33.727538 30 1 0 33.727538-58.417811 14.468914 33.727538 30 1 0-33.727538 58.417811Z" fill="#040000" p-id="1528"></path></svg>'},{name:"6",icon:'<svg t="1624457794933" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1680" ><path d="M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z" fill="#83CEE3" p-id="1681"></path><path d="M369 375.8m-34.6 0a34.6 34.6 0 1 0 69.2 0 34.6 34.6 0 1 0-69.2 0Z" fill="#040000" p-id="1682"></path><path d="M369 411.7c-19.8 0-36-16.1-36-36s16.1-36 36-36 36 16.1 36 36-16.1 36-36 36z m0-69.1c-18.3 0-33.2 14.9-33.2 33.2S350.7 409 369 409s33.2-14.9 33.2-33.2-14.9-33.2-33.2-33.2z" fill="#FFFFFF" p-id="1683"></path><path d="M672.2 333.6c-15.1 7.6-30.2 15.6-44.3 25-5.9 3.9-17 10.4-14.6 19.1 1.8 6.5 12 11.2 17.3 14.3 15.7 9.3 32.1 17.6 48.3 25.9 8.6 4.4 16.2-8.5 7.6-13-14.1-7.3-28.3-14.5-42.1-22.3-3.9-2.2-7.9-4.5-11.7-6.9-1.2-0.8-2.4-1.5-3.5-2.4-0.6-0.4-1.1-0.8-1.6-1.2 2.2 1.7-0.3-0.3-0.3-0.3-0.9 0.1-1.5-3.2-0.2 0.5 0.9 2.4 1.1 3.8 0.3 5.8 0.6-1.5-0.9 0.8-0.1 0 0.5-0.5 1-1.1 1.6-1.6 0.5-0.5 1-0.9 1.6-1.3 0.6-0.5 0 0 1.2-0.9 1.7-1.3 3.5-2.5 5.3-3.6 8.4-5.5 17.2-10.4 26-15.2 5.6-3 11.2-6 16.8-8.9 8.6-4.4 1-17.3-7.6-13zM578.2 720.9c-12.5-96.7-33.3-154.7-55.6-155.6-8.8 3.9-22.3 17.5-37.7 60.1-10.8 29.8-18.4 62.2-23 81.6-1.2 5.1-2.1 9.1-2.9 11.8l-9.3-2.4c0.7-2.6 1.6-6.6 2.8-11.6 14.9-63 36-136.8 67.5-148.8l0.8-0.3h0.8c18.2-0.4 33.2 19.5 45.8 60.8 10.2 33.3 16.7 74.6 20.5 103.3l-9.7 1.1z" fill="#040000" p-id="1684"></path></svg>'},{name:"7",icon:'<svg t="1624457802025" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1838" ><path d="M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z" fill="#8CC66D" p-id="1839"></path><path d="M375.778679 404.47473a14.5 33.8 30 1 0 33.8-58.543317 14.5 33.8 30 1 0-33.8 58.543317Z" fill="#040000" p-id="1840"></path><path d="M627.220263 374.211388a43.1 11.6 57.6 1 0 19.588408-12.431182 43.1 11.6 57.6 1 0-19.588408 12.431182Z" fill="#040000" p-id="1841"></path><path d="M451.1 548.5c17.6-9.3 63.9-30 105.3-16.2 17 20.3 32.7 98.8 28.8 138.1-27.5 10.2-82.5 10.2-106.1 5.8-8.3-10.5-32.7-81.8-35.3-114.6-0.4-5.5 2.5-10.6 7.3-13.1z" fill="#040000" p-id="1842"></path></svg>'},{name:"8",icon:'<svg t="1624457816632" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1996" ><path d="M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z" fill="#5A74B8" p-id="1997"></path><path d="M357.7 400m-34.6 0a34.6 34.6 0 1 0 69.2 0 34.6 34.6 0 1 0-69.2 0Z" fill="#040000" p-id="1998"></path><path d="M357.7 436c-19.8 0-36-16.1-36-36s16.1-36 36-36 36 16.1 36 36-16.2 36-36 36z m0-69.2c-18.3 0-33.2 14.9-33.2 33.2s14.9 33.2 33.2 33.2 33.2-14.9 33.2-33.2-14.9-33.2-33.2-33.2z" fill="#FFFFFF" p-id="1999"></path><path d="M676 400m-34.6 0a34.6 34.6 0 1 0 69.2 0 34.6 34.6 0 1 0-69.2 0Z" fill="#040000" p-id="2000"></path><path d="M676 436c-19.8 0-36-16.1-36-36s16.1-36 36-36 36 16.1 36 36-16.2 36-36 36z m0-69.2c-18.3 0-33.2 14.9-33.2 33.2s14.9 33.2 33.2 33.2c18.3 0 33.2-14.9 33.2-33.2s-14.9-33.2-33.2-33.2z" fill="#FFFFFF" p-id="2001"></path><path d="M347.6 684.1c0.3-0.9 0.6-1.7 0.9-2.6 0.2-0.5 1.4-3.2 0.3-0.8 0.6-1.4 1.3-2.9 2-4.3 3.2-6.3 6-10.7 10.9-15.3 4.3-4 10.8-7.5 17.1-6.1 3.9 0.9 7.9 4.9 11.1 7.2 3.1 2.2 6.3 4.5 9.7 6.2 7.5 3.8 15.3 4.4 23.4 1.9 4.7-1.5 9.2-3.6 13.6-5.9 5-2.6 10.7-5 14.2-9.5 4.5-5.7 6.1-8.5 11.4-14.1 1-1 2-2 3.1-3 0.2-0.2 2.2-1.7 0.6-0.5 0.6-0.4 1.2-0.9 1.8-1.3 1-0.6 2.1-1.3 3.2-1.7-2 0.8 0.2 0 0.6-0.1 2.3-0.7-0.3-0.2 1.2-0.3 2.8-0.1 3.6 0 5.5 1 3.8 1.9 6.6 4.7 9.5 7.8 4.5 5 7.5 11.1 11.7 16.2 1.8 2.2 3.7 4.3 5.4 6.5 8.1 10.3 17.7 22.2 32.2 22 8.8-0.1 16.6-5.2 22.6-11.2 4.2-4.1 7.7-8.9 11-13.7 2.9-4.2 4.6-9.9 6.2-13.5 3.2-7.1 7.2-13.1 13-18.1 4.8-4.2 11.1-6.5 16.7-5.3 10.5 2.4 17.2 12.1 23.1 20.2 4.7 6.5 9.8 13 16 18.2 7.8 6.4 17.1 11.4 27.5 11.1 14.1-0.4 25.5-9.5 34.2-19.9 3-3.6 3.6-8.8 0-12.4-3.1-3.1-9.4-3.7-12.4 0-6.3 7.6-14.7 15.9-24.9 14.7-2.2-0.3-5.3-1.5-7.9-3.1-3.5-2.1-6.1-4.4-9.1-7.5-4.9-5.1-6.8-8.1-10.9-13.8-7.3-10.1-16.1-19.6-28.2-23.7-18.5-6.3-35.7 5.6-46 20.1-2.4 3.3-4.4 6.9-6.1 10.6-1.8 3.9-2.7 8.5-5.2 11.9-3.1 4.4-6.2 8.8-10.2 12.5-3 2.8-5.7 4.4-8.6 5.1-0.4 0.1-1.7 0.1 0.1 0h-2.2c2.1 0.1 0 0-0.5-0.1-0.7-0.2-1.4-0.4-2-0.6 1.8 0.7-1.8-1.1-2.4-1.5l-1.2-0.9c1.5 1.2-0.9-0.9-1.2-1.1-4.7-4.3-8.4-9.5-12.3-14.4-10.9-13.6-20.9-34-41-34.9-14.2-0.6-24.5 10.6-32.4 20.8-1.2 1.6-2.5 3.2-3.7 4.8-1.5 1.9 1.1-1.4-0.4 0.5-0.4 0.5-0.8 1.2-1.3 1.6-1.7 1.4-4.6 2.6-6.6 3.6-2.9 1.6-5.9 3.2-9 4.5-1.6 0.7-3.4 1.2-5.1 1.7-2.2 0.6-0.7 0.5-2.8 0.4-2.8 0-3.9-0.4-6.6-1.9-3.9-2.2-7.5-4.9-11.1-7.5-5.6-4-10-6.9-17-7.5-10.5-0.9-20.3 3.2-28.2 9.9-9.4 8.1-16.4 20.2-20.1 32-3.6 11.2 13.3 15.8 16.8 5.1z" fill="#040000" p-id="2002"></path></svg>'},{name:"9",icon:'<svg t="1624457826949" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2156" ><path d="M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z" fill="#F0884F" p-id="2157"></path><path d="M287.2 382c6.4 2.3 11.6-3.7 15.4-7.9 5.1-5.5 10.2-11 16-15.9 0.8-0.7 1.7-1.4 2.5-2.1 1.2-0.9-1.7 1.3 0.2-0.2l1.2-0.9c2.1-1.5 4.3-2.9 6.5-4.3 2-1.2 4-2.2 6.1-3.2 0.6-0.3 1.2-0.6 1.9-0.9-0.3 0.2-1.5 0.6 0.2-0.1 1.3-0.5 2.6-1 4-1.5 11.2-3.7 21.8-4 33.4-1.1 19.5 4.9 36.4 17 51.2 30.2 8.6 7.7 21.4-5 12.7-12.7-25.2-22.6-57.1-42.1-92.2-36.2-20.4 3.4-37.7 16.1-51.6 30.9-2.3 2.4-4.5 5-6.8 7.4-0.7 0.7-1.9 1.5-2.4 2.4-0.5 0.8 2.3-1.5 0.8-0.7 1.3-0.7 3.9-1.4 5.8-0.7-11.1-3.7-15.8 13.7-4.9 17.5zM598 382c6.4 2.3 11.6-3.7 15.4-7.9 5.1-5.5 10.2-11 16-15.9 0.8-0.7 1.7-1.4 2.5-2.1 1.2-0.9-1.7 1.3 0.2-0.2l1.2-0.9c2.1-1.5 4.3-2.9 6.5-4.3 2-1.2 4-2.2 6.1-3.2 0.6-0.3 1.2-0.6 1.9-0.9-0.3 0.2-1.5 0.6 0.2-0.1 1.3-0.5 2.6-1 4-1.5 11.2-3.7 21.8-4 33.4-1.1 19.5 4.9 36.4 17 51.2 30.2 8.6 7.7 21.4-5 12.7-12.7-25.2-22.6-57.1-42.1-92.2-36.2-20.4 3.4-37.7 16.1-51.6 30.9-2.3 2.4-4.5 5-6.8 7.4-0.7 0.7-1.9 1.5-2.4 2.4-0.5 0.8 2.3-1.5 0.8-0.7 1.3-0.7 3.9-1.4 5.8-0.7-11.1-3.7-15.8 13.7-4.9 17.5zM505.9 527.1c3.4 0.7 6.8 1.7 10.2 2.8 6.7 2.2 10.4 3.5 16.6 7.7 1.6 1.1-0.5-0.5 0.6 0.5 0.6 0.5 1.1 1.1 1.7 1.6 1.5 1.4-0.1-0.4 0.5 0.6 0.4 0.6 0.7 1.2 1 1.8-1-2 0.1 0 0 0.5 0.1-2-0.1 0-0.1 0-0.1 0.8 0 0.7 0.1-0.5-0.1 0.4-0.1 0.7-0.3 1.1-0.6 1 0.7-0.9-0.4 1-1.6 2.5-4.6 5.4-8.1 7.8-6.8 4.6-14.4 8.2-22 11.4-7 3-7.4 11.9 0 14.8 7.4 2.8 15 5.3 22.4 8.1 3.1 1.1 4.2 1.5 6.9 2.9 1.1 0.6 2.1 1.2 3.2 1.8 1.2 0.8-0.7-0.5 0.1 0 0.4 0.3 0.8 0.7 1.1 1.1 0.6 0.8-1.1-1.2-0.2-0.2 0.8 0.9-0.3-1.4-0.1-0.2 0.1 0.9 0.2-1.9 0-0.9-0.1 0.5-0.8 1.8 0 0.2-0.2 0.5-0.5 1-0.8 1.4-0.3 0.3-0.9 1.3-0.3 0.5-0.5 0.7-1.1 1.3-1.7 1.9-6.9 7.3-15.9 12.8-24.4 18.1-8.3 5.3-0.6 18.5 7.7 13.2 9.9-6.3 20.9-12.8 28.6-21.8 4.8-5.5 8.1-12.9 4.2-19.9-3.4-6-10.5-8.9-16.6-11.4-8.6-3.5-17.5-6.2-26.2-9.5v14.8c14.4-6.1 47.2-18.8 41.2-40.3-3.5-12.9-19.4-18.9-30.8-22.6-3.4-1.1-6.9-2.1-10.5-2.9-9.1-2.2-13.3 12.5-3.6 14.6z" fill="#040000" p-id="2158"></path></svg>'},{name:"10",icon:'<svg t="1624457835383" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2312" ><path d="M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z" fill="#F6F180" p-id="2313"></path><path d="M342.9 400.6m-29.5 0a29.5 29.5 0 1 0 59 0 29.5 29.5 0 1 0-59 0Z" fill="#040000" p-id="2314"></path><path d="M342.9 431.3c-16.9 0-30.7-13.8-30.7-30.7s13.8-30.7 30.7-30.7 30.7 13.8 30.7 30.7-13.7 30.7-30.7 30.7z m0-59c-15.6 0-28.3 12.7-28.3 28.3s12.7 28.3 28.3 28.3 28.3-12.7 28.3-28.3-12.6-28.3-28.3-28.3z" fill="#FFFFFF" p-id="2315"></path><path d="M702 400.6m-29.5 0a29.5 29.5 0 1 0 59 0 29.5 29.5 0 1 0-59 0Z" fill="#040000" p-id="2316"></path><path d="M702 431.3c-16.9 0-30.7-13.8-30.7-30.7s13.8-30.7 30.7-30.7 30.7 13.8 30.7 30.7-13.8 30.7-30.7 30.7z m0-59c-15.6 0-28.3 12.7-28.3 28.3s12.7 28.3 28.3 28.3 28.3-12.7 28.3-28.3-12.7-28.3-28.3-28.3z" fill="#FFFFFF" p-id="2317"></path><path d="M358.7 519.9c20 22 45.5 40.4 71.3 54.8 51.2 28.5 111.7 39.9 168 19.5 44.3-16.1 80.7-47.8 110.2-83.9 3-3.7 3.6-8.9 0-12.5-3.1-3.1-9.5-3.7-12.5 0-25.5 31.4-56.2 59.7-93.7 76-27.1 11.7-56.6 15.7-85.8 12.2-24.7-2.9-49.5-11.8-71.5-23.4-18.7-9.8-36.6-22.2-51.1-34.3-7.8-6.5-15.5-13.3-22.4-20.9-7.7-8.5-20.1 4.1-12.5 12.5z" p-id="2318"></path></svg>'},{name:"11",icon:'<svg t="1624457841751" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2472" ><path d="M48.2 844.9c-68.5-210.6 186-782.1 409.1-795.4 6.3-0.4 12.5 0.2 18.6 1.6C665.1 94.6 985.4 515 987.1 821.3c0.1 20-12.9 37.9-22.4 43.1-162.7 89.8-605.8 179.7-884.4 30.9-15-7.9-24.2-26.1-32.1-50.4z" fill="#F0884F" p-id="2473"></path><path d="M401 352.1m-52.4 0a52.4 52.4 0 1 0 104.8 0 52.4 52.4 0 1 0-104.8 0Z" fill="#FFFFFF" p-id="2474"></path><path d="M408.7 329m-29.3 0a29.3 29.3 0 1 0 58.6 0 29.3 29.3 0 1 0-58.6 0Z" fill="#040000" p-id="2475"></path><path d="M527.5 352.1m-52.4 0a52.4 52.4 0 1 0 104.8 0 52.4 52.4 0 1 0-104.8 0Z" fill="#FFFFFF" p-id="2476"></path><path d="M527.5 329m-29.3 0a29.3 29.3 0 1 0 58.6 0 29.3 29.3 0 1 0-58.6 0Z" fill="#040000" p-id="2477"></path><path d="M450.7 517c1.1-8.2 3.2-16.4 6.1-24.1 0.1-0.3 1-2.5 0.5-1.4s0.3-0.7 0.5-1c0.7-1.4 1.4-2.8 2.2-4.1 0.4-0.8 2.8-3.9 1.3-2.1 0.8-1 1.7-1.9 2.6-2.8 1-1-1.5 1 0.1 0 0.5-0.3 1-0.6 1.5-0.8-1.3 0.7-1.2 0.3 0 0.1 1.9-0.3-1.8 0.3 0.1 0 1.2-0.2 1.5 0.3 0-0.1 0.6 0.2 1.3 0.3 1.9 0.5 0.3 0.1-1.3-0.7 0.2 0.1 0.8 0.5 1.6 0.9 2.4 1.4 1.4 1 0-0.1 1.4 1.1 0.9 0.8 1.8 1.7 2.6 2.6 1.8 1.9 3.5 3.9 5 6.1 5.1 7.1 9.3 14.8 13.2 22.6 3.5 6.9 13.7 4.7 15.8-2.1 2.6-8.7 4.8-17.4 7.4-26.1 0.9-3.2 1.9-6.4 3.2-9.4-0.7 1.6 0.8-1.6 1.2-2.2l0.9-1.5c0.7-1.2-1.4 0.7 0.1-0.1 1.7-0.9-1.2 0.3-0.3 0.1 0.8-0.2 1-1.2 0.3-0.3-0.6 0.8 0.6 0-0.5 0.2-2 0.3 2.4 0.5-1.1 0 0.5 0.1 1.2 0.2 1.6 0.4-1.1-0.8-0.8-0.4 0.2 0.2 0.7 0.4 3.4 2.3 2.7 1.8 8.9 7.1 15.9 16.9 22.5 26 2.8 3.8 7.5 5.6 11.8 3.1 3.7-2.2 5.9-8 3.1-11.8-8.2-11.1-16.6-23-27.7-31.4-6.3-4.7-14.5-7.6-21.7-3-6.7 4.2-9.6 12.5-11.9 19.6-3.2 9.9-5.5 20-8.6 29.9 5.3-0.7 10.5-1.4 15.8-2.1-7.8-15.5-24.8-50.1-48-41.7-14.1 5.1-19.7 23-22.9 36.2-0.9 3.8-1.8 7.7-2.3 11.6-0.6 4.6 1.1 9.3 6 10.6 4.2 1 10.2-1.5 10.8-6.1z" fill="#040000" p-id="2478"></path></svg>'},{name:"12",icon:'<svg t="1624457847424" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2632" ><path d="M485.538528 993.072489a362.00362 481.804818 3.149 1 0 52.933731-962.15464 362.00362 481.804818 3.149 1 0-52.933731 962.15464Z" fill="#AADCF0" p-id="2633"></path><path d="M688.2 334.1c-15.1 7.6-30.2 15.6-44.3 25-5.9 3.9-17 10.4-14.6 19.1 1.8 6.5 12 11.2 17.3 14.3 15.7 9.3 32.1 17.6 48.3 25.9 8.6 4.4 16.2-8.5 7.6-13-14.1-7.3-28.3-14.5-42.1-22.3-3.9-2.2-7.9-4.5-11.7-6.9-1.2-0.8-2.4-1.5-3.5-2.4-0.6-0.4-1.1-0.8-1.6-1.2 2.2 1.7-0.3-0.3-0.3-0.3-0.9 0.1-1.5-3.2-0.2 0.5 0.9 2.4 1.1 3.8 0.3 5.8 0.6-1.5-0.9 0.8-0.1 0 0.5-0.5 1-1.1 1.6-1.6 0.5-0.5 1-0.9 1.6-1.3 0.6-0.5 0 0 1.2-0.9 1.7-1.3 3.5-2.5 5.3-3.6 8.4-5.5 17.2-10.4 26-15.2 5.6-3 11.2-6 16.8-8.9 8.6-4.4 1-17.4-7.6-13zM375.8 347c13.4 6.8 26.7 14 39.5 21.9 1.8 1.2 3.7 2.3 5.5 3.5 0.9 0.6 1.7 1.2 2.6 1.8 0.9 0.6 1.9 1.4 1.6 1.1 1.1 0.9 2.1 1.9 3.1 2.8 1.2 1 0-0.3 0.1 0 0-0.2-0.8-2.4-0.3-4.1 1.5-5.5 2.3-2.7 0.8-2-0.4 0.2-0.9 0.8-1.3 1.1 1.7-1.4-1.6 1.1-2.3 1.6-3.4 2.3-6.9 4.4-10.4 6.4-14.9 8.6-30.3 16.4-45.6 24.3-8.6 4.4-1 17.4 7.6 13 15-7.7 30.1-15.4 44.8-23.8 6.2-3.6 13.8-7.3 18.7-12.7 7.6-8.3-3.8-16.6-9.9-20.9-8.7-6.1-18-11.3-27.3-16.4-6.5-3.6-13-7.1-19.6-10.4-8.6-4.5-16.3 8.5-7.6 12.8zM412.8 570.9c13.5 7.7 28.5 13.3 43.3 17.9 29.8 9.2 61.7 13.1 92.6 7.3 20.6-3.9 40-12.5 56.6-25.2 2.8-2.2 4.3-5.6 2.3-9-1.6-2.8-6.2-4.5-9-2.3-48.3 36.9-113.3 30-165.6 6.7-4.6-2.1-9.2-4.2-13.7-6.7-7.3-4.2-13.9 7.2-6.5 11.3z" fill="#040000" p-id="2634"></path><path d="M644.6 505.2c-30.1 21.5-60.6 62.5-39.1 99.8 10.7 18.6 30.3 30.9 49.1 40.1 7.8 3.8 14.6-7.9 6.8-11.7-23.6-11.5-53.7-31.4-49.4-60.9 2.8-18.9 15.8-34.6 29.5-47.2 2.5-2.3 5.1-4.6 7.8-6.7 0.5-0.4 0.9-0.7 1.4-1.1-0.4 0.3-1.2 0.9-0.1 0.1l0.9-0.6c6.9-5.1 0.2-16.8-6.9-11.8z" fill="#040000" p-id="2635"></path></svg>'},{name:"13",icon:'<svg t="1624457855182" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2789" ><path d="M235.1 76.9c75.6-26.5 297.3-90.1 514.2-16.6 16.3 5.5 29.8 17.4 37.1 33 57.5 122.4 127.1 602.1 62.1 785.6a62.58 62.58 0 0 1-32.5 35.8c-109.5 51.8-428.1 136.7-609.3 37.2-14.4-7.9-25-21.3-29.7-37.1-41.9-140.6-37-627.7 19.1-798 6.1-18.7 20.5-33.4 39-39.9z" fill="#F9DABD" p-id="2790"></path><path d="M392.2 360.2m-35.2 0a35.2 35.2 0 1 0 70.4 0 35.2 35.2 0 1 0-70.4 0Z" fill="#040000" p-id="2791"></path><path d="M618.6 360.2m-35.2 0a35.2 35.2 0 1 0 70.4 0 35.2 35.2 0 1 0-70.4 0Z" fill="#040000" p-id="2792"></path><path d="M512 562.6c-36 0-65.3-29.3-65.3-65.3S476 432 512 432s65.3 29.3 65.3 65.3-29.3 65.3-65.3 65.3z m0-122.9c-31.7 0-57.6 25.8-57.6 57.6s25.8 57.6 57.6 57.6c31.7 0 57.6-25.8 57.6-57.6s-25.9-57.6-57.6-57.6z" fill="#040000" p-id="2793"></path></svg>'},{name:"14",icon:'<svg t="1624457863444" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2947" ><path d="M178.1 971.5c38.1 15.9 98.7 26.6 171.3-12.3 3.7-2 8.4-1.6 11.6 1.1 43.3 35.9 123.3 80.8 236 10.9 3.8-2.4 8.7-2.4 12.6-0.2 41.8 23.9 191.6 58.2 246.6 14.2 4.4-3.5 9.1-6.6 14.5-8.5C1065 909.5 678.2-652 194.3 351c-37.5 77.8-38.4 94.1-71.9 211.3-27.6 96.3-29.1 231.3 1.4 348.1 7.2 27.3 27.3 49.9 54.3 61.1z" fill="#ABAAAA" p-id="2948"></path><path d="M468.9 349H418c-6.1 0-11.1-5-11.1-11.1V336c0-6.1 5-11.1 11.1-11.1h50.9c6.1 0 11.1 5 11.1 11.1v1.9c0 6.1-5 11.1-11.1 11.1zM643 471.9H390c-6.6 0-12-5.4-12-12s5.4-12 12-12h253c6.6 0 12 5.4 12 12s-5.4 12-12 12zM609 349h-61.2c-6 0-11-4.9-11-11v-2.1c0-6 4.9-11 11-11H609c6 0 11 4.9 11 11v2.1c0 6.1-4.9 11-11 11z" fill="#040000" p-id="2949"></path></svg>'},{name:"15",icon:'<svg t="1624457870536" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3103" ><path d="M673.1 318.7c3.7-17.5 5.6-35.7 5.6-54.4 0-137.9-105.5-249.7-235.6-249.7S207.4 126.4 207.4 264.3c0 55.4 17.1 106.7 45.9 148.1-55.2 63.3-88.6 145.9-88.6 236.3 0 199.2 162.1 360.6 362.1 360.6 200 0 362.1-161.5 362.1-360.6 0.1-147.3-88.7-274-215.8-330z" fill="#4F8A54" p-id="3104"></path><path d="M392 246.2m-47.1 0a47.1 47.1 0 1 0 94.2 0 47.1 47.1 0 1 0-94.2 0Z" fill="#FFFFFF" p-id="3105"></path><path d="M386 252.8m-26.4 0a26.4 26.4 0 1 0 52.8 0 26.4 26.4 0 1 0-52.8 0Z" fill="#040000" p-id="3106"></path><path d="M505.6 246.2m-47.1 0a47.1 47.1 0 1 0 94.2 0 47.1 47.1 0 1 0-94.2 0Z" fill="#FFFFFF" p-id="3107"></path><path d="M501.4 252.8m-26.4 0a26.4 26.4 0 1 0 52.8 0 26.4 26.4 0 1 0-52.8 0Z" fill="#040000" p-id="3108"></path><path d="M474.3 364.8h-50.9c-6.1 0-11.1-5-11.1-11.1v-1.9c0-6.1 5-11.1 11.1-11.1h50.9c6.1 0 11.1 5 11.1 11.1v1.9c0 6.2-5 11.1-11.1 11.1z" fill="#040000" p-id="3109"></path></svg>'},{name:"16",icon:'<svg t="1624457876371" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3263" ><path d="M246.4 227.6c-166.9 101.1-461.9 344 87 564.1 1.5 0.6 2.9 1.1 4.4 1.6 80.7 27.7 392.8 165.4 641-198.1 40-58.6 38.5-136.2-3.7-193.3C892 289.5 727 201.1 429.1 182.7c-64.1-4-127.8 11.6-182.7 44.9z" fill="#CF92BE" p-id="3264"></path><path d="M617.1 393.4c-17.4 8.8-34.9 18.1-51.2 28.9-6.9 4.6-20.3 12.3-17.4 22.6 1.2 4.3 5.6 7 9 9.5 3.7 2.7 7.6 5 11.5 7.3 18.2 10.8 37.1 20.3 55.9 30 10 5.1 18.9-10 8.8-15.1-16.4-8.4-32.9-16.9-49-26-4.5-2.6-9.1-5.2-13.5-8l-4.5-3c-0.7-0.5-1.3-1-2-1.5 1.6 1.2 0.7 0.4-0.2-0.2-1.3-0.9-0.3-0.9-0.5-0.3 0.2 0.2 0.4 0.5 0.6 0.7 1 1.9 1.3 3.7 0.8 5.7 0.1-0.6 0.7-1.4-0.6 1.3 0.7-1.5-0.1 0-0.2 0.1 0.6-0.6 1.2-1.3 1.9-1.9l1.8-1.5c1.8-1.6-0.6 0.3 1.2-0.9 2-1.5 4.1-2.9 6.2-4.3 10-6.5 20.4-12.4 30.9-18 6.5-3.5 13.1-7 19.7-10.4 9.6-5 0.8-20.1-9.2-15zM323.1 408.5c15.9 8.1 31.7 16.5 46.8 26 2.2 1.4 4.3 2.8 6.5 4.2 1 0.7 1.9 1.3 2.8 2 0.5 0.3 1 0.7 1.4 1.1-1.1-0.9-0.3-0.3 0.3 0.3 1.1 1 2.2 2.2 3.3 3.1 1.4 1.1-1-1.7-0.1-0.1-0.6-1.1-0.9-4.1 0.3-6.7 2.2-4.8 0.7 0.1 0-0.5 0 0-1.1 0.9-1.3 1 2.3-1.9 0 0-0.5 0.4-0.8 0.5-1.5 1.1-2.3 1.6-4 2.7-8.1 5.1-12.3 7.5-17.3 10-35.1 19.1-52.8 28.2-10 5.1-1.2 20.2 8.8 15.1 17.5-9 35-17.9 52-27.7 7.3-4.2 15.9-8.6 21.8-14.7 9.3-9.7-4.3-19.7-11.5-24.7-10.1-7.1-20.9-13.1-31.7-19-7.6-4.2-15.2-8.2-22.9-12.1-9.7-5.2-18.6 9.9-8.6 15zM513 592.1c-12.2 0-24.6-1.4-36.3-4.3-8-2-13.9-8.2-15.4-16.2s1.7-15.8 8.4-20.5c23.2-16.3 60.5-31.9 106.2-13 6.4 2.6 11 8.3 12.3 15.1 1.3 6.7-0.8 13.6-5.7 18.3-13.5 13.1-40.9 20.6-69.5 20.6z m-37.4-32.5c-3.4 2.4-4.9 6.2-4.2 10.2 0.8 4.1 3.6 7.1 7.7 8.1 39.1 9.7 81.2 0.7 96.1-13.7 2.4-2.3 3.4-5.6 2.7-8.9-0.7-3.4-2.9-6.2-6.1-7.5-41.2-17.2-75.1-3.1-96.2 11.8z" fill="#040000" p-id="3265"></path></svg>'},{name:"17",icon:'<svg t="1624457881793" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3419" ><path d="M1008.6 465.7c0-124.9-95.5-226.2-213.4-226.2-12 0-23.8 1.1-35.2 3.1v-3.1c0-124.9-95.5-226.2-213.4-226.2S333.4 114.6 333.4 239.5c0 2.4 0 4.8 0.1 7.2-17.1-4.7-35-7.2-53.4-7.2-117.8 0-213.4 101.3-213.4 226.2 0 92.1 51.9 171.3 126.3 206.6-13.7 29.9-21.4 63.4-21.4 98.8 0 124.9 95.5 226.2 213.4 226.2 68.8 0 130-34.5 169-88.1 39 53.6 100.2 88.1 169 88.1 117.8 0 213.4-101.3 213.4-226.2 0-41.2-10.4-79.9-28.6-113.1 60.5-39.9 100.8-111.1 100.8-192.3z" fill="#8CC66D" p-id="3420"></path><path d="M437.8 400.7m-24.7 0a24.7 24.7 0 1 0 49.4 0 24.7 24.7 0 1 0-49.4 0Z" fill="#040000" p-id="3421"></path><path d="M649.7 400.7m-24.7 0a24.7 24.7 0 1 0 49.4 0 24.7 24.7 0 1 0-49.4 0Z" fill="#040000" p-id="3422"></path><path d="M527.3 625.9c6.3-14.2 13.1-28.3 17.9-43 6.2-19 8.3-38.6 10.5-58.3l2.1-19.2c0.7-6.2-9-6.1-9.7 0-1.7 16.3-2.8 32.8-5.7 48.9-4.2 23.7-13.8 45-23.5 66.7-2.5 5.6 5.9 10.5 8.4 4.9z" fill="#252525" p-id="3423"></path><path d="M447.7 522.3c20.3-0.1 40.6-0.2 61-0.4l96.6-0.6c7.5 0 14.9-0.1 22.4-0.1 16.6-0.1 16.7-25.9 0-25.8-20.3 0.1-40.6 0.2-61 0.4l-96.6 0.6c-7.5 0-14.9 0.1-22.4 0.1-16.6 0.1-16.7 25.9 0 25.8z" fill="#040000" p-id="3424"></path><path d="M495.4 508.2c-10.3 3.8-9.2 20.9-9.2 29.5 0.1 16 2.1 32.3 6.1 47.8 3.5 13.7 8.7 29.9 20.6 38.7 12.9 9.5 27.6 2.1 37.6-7.9 10.2-10.3 17.8-23 24.7-35.6 11.6-21.3 20.9-43.8 29.7-66.4 3-7.8-9.5-11.1-12.5-3.4-7.4 19.1-15.3 38.1-24.7 56.4-5.9 11.5-12.2 23-20.3 33.1-2.8 3.5-5.8 6.9-9.2 9.8-1.9 1.7-1.4 1.3-3.3 2.5-1.3 0.8-2.6 1.6-3.9 2.2-0.7 0.3 1-0.2-0.8 0.3-0.6 0.2-1.2 0.3-1.8 0.5-1.1 0.3-1.2 0.2-0.5 0.1-0.6 0-1.3 0-1.9 0.1-2.2 0.1 0.6 0.5-1.8-0.2l-1.8-0.6c1.5 0.5 0.2 0.1-0.5-0.3-0.8-0.5-2.9-2.1-1.7-1.1-1-0.9-2-1.7-2.8-2.7-0.4-0.5-0.9-1-1.3-1.5 0.4 0.5 0.1 0.2-0.5-0.7-0.8-1.3-1.7-2.5-2.4-3.9-0.7-1.3-1.4-2.5-2-3.8-0.4-0.8-0.8-1.6-1.1-2.4-0.1-0.2-0.5-1.1 0 0l-0.6-1.5a86.8 86.8 0 0 1-3.3-9.8c-4.4-14.9-6.2-27.9-6.8-42.8-0.3-6.6-0.3-13.1 0.4-19.7 0.2-1.5-0.3 1.5 0.1-0.5l0.3-1.8c0.2-0.9 0.5-1.8 0.7-2.8 0.4-1.9-0.7 1.1 0.3-0.7 0.5-1-1.3 1.2-0.3 0.5-0.3 0.3-1.1 0.8-2 1.1 7.7-2.9 4.3-15.4-3.5-12.5z" fill="#040000" p-id="3425"></path></svg>'},{name:"18",icon:'<svg t="1624457899440" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3579" ><path d="M75.4 739.8c-78.7-134.4-194-455.7 401.4-579.6 9.8-2 19.2-6.2 29.2-7.5C656.8 133 947.3 205 1000.1 578.4c42.6 223.8 29.7 392.1-822 233.6-43.1-8-80.6-34.4-102.7-72.2z" fill="#F09495" p-id="3580"></path><path d="M704.6 875.4c-129 0-301.8-20.5-526.6-62.3-43.5-8.1-81.2-34.6-103.5-72.7-19.3-32.9-44.8-84.3-57.1-142.5-13.9-65.1-8.8-125.3 15.1-179.2 54.3-122.3 203.7-209.6 444-259.6 4.1-0.9 8.3-2.1 12.3-3.4 5.5-1.7 11.1-3.4 16.9-4.2 29-3.8 75.7-5.9 133.8 5.7 54.5 10.9 105.3 31 150.8 59.9C843.7 251 888.2 296 922.7 351c39.7 63.1 66.1 139.6 78.5 227.3 8.1 42.4 15.2 87.3 12.5 127.9-2.8 42.6-16.4 75.5-41.5 100.7-42.5 42.7-120.3 65-237.8 68.1-9.6 0.2-19.6 0.4-29.8 0.4zM76.3 739.3c22 37.6 59.2 63.7 102.1 71.7 242.5 45.1 424.4 65.3 556.1 61.9 116.9-3.1 194.1-25.2 236.3-67.5 55.4-55.6 44.4-142.5 28.3-226.7C976 415.8 903.4 291.5 789.2 219c-124-78.7-248.1-69.9-283.2-65.3-5.6 0.7-11.2 2.4-16.6 4.1-4.1 1.2-8.3 2.5-12.5 3.4C237.3 211.1 88.5 298 34.5 419.6c-54.6 122.8 2.8 253 41.8 319.7z" fill="#FFFFFF" p-id="3581"></path><path d="M424.1 442.5m-24.7 0a24.7 24.7 0 1 0 49.4 0 24.7 24.7 0 1 0-49.4 0Z" fill="#040000" p-id="3582"></path><path d="M635.9 442.5m-24.7 0a24.7 24.7 0 1 0 49.4 0 24.7 24.7 0 1 0-49.4 0Z" fill="#040000" p-id="3583"></path><path d="M426.2 543.3c17.1 7.9 36.6 26 25.5 46.1-6.9 12.5-19.8 21.2-31.7 28.4-4.5 2.7-0.4 9.8 4.1 7.1 17.4-10.5 41.6-27.6 39-51.1-1.6-14-12.4-24.8-23.5-32.3-3-2-6.1-3.9-9.3-5.4-4.8-2.1-8.9 5-4.1 7.2zM629.5 535.4c-21.8 11.7-40.6 37-25.7 61.3 8.2 13.4 22.2 22.7 35.7 30.3 4.7 2.7 8.9-4.6 4.2-7.2-15.5-8.7-39.9-23.9-36.9-45.2 1.6-11.4 10.7-20.7 19.6-27.2 2.4-1.7 4.8-3.4 7.4-4.8 4.7-2.5 0.4-9.8-4.3-7.2z" fill="#040000" p-id="3584"></path><path d="M457.2 584.6c25.6 25.6 66.7 41 101.8 28.3 18.2-6.6 33.2-19.1 45.5-33.8 4.2-5.1-3-12.4-7.3-7.3-18.5 22-43.3 38.1-73 35-18.6-1.9-36.2-10.8-50.9-22-2.9-2.2-6.1-4.8-8.8-7.5-4.7-4.7-12 2.6-7.3 7.3z" fill="#040000" p-id="3585"></path></svg>'},{name:"19",icon:'<svg t="1624457904464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3739" ><path d="M915.9 510.5c8.4-19 13.1-39.8 13.1-61.7 0-90-78.9-162.9-176.2-162.9-3.2 0-6.3 0.1-9.5 0.2v-0.2c0-94.8-116.2-171.6-259.6-171.6S224 191.2 224 286v2c-96.2 0-174.1 72-174.1 160.9 0 38 14.3 73 38.2 100.5-41.8 29.4-68.8 75.9-68.8 128.2 0 88.9 78 160.9 174.1 160.9 17.1 0 33.6-2.3 49.3-6.5 28.9 46.1 88.7 77.7 157.6 77.7 49.4 0 94-16.2 126-42.3 32 26.1 76.6 42.3 126 42.3 77.3 0 143-39.7 166.7-95 3.1 0.2 6.3 0.2 9.5 0.2 97.3 0 176.2-72.9 176.2-162.9 0-60.6-35.7-113.4-88.8-141.5z" fill="#5A74B8" p-id="3740"></path><path d="M357.6 449.5a46.6 73.2 0 1 0 93.2 0 46.6 73.2 0 1 0-93.2 0Z" fill="#FEFEFD" p-id="3741"></path><path d="M357.5 449.5a25.1 39.4 0 1 0 50.2 0 25.1 39.4 0 1 0-50.2 0Z" fill="#040000" p-id="3742"></path><path d="M531.3 449.5a46.6 73.2 0 1 0 93.2 0 46.6 73.2 0 1 0-93.2 0Z" fill="#FEFEFD" p-id="3743"></path><path d="M531.2 449.5a25.1 39.4 0 1 0 50.2 0 25.1 39.4 0 1 0-50.2 0Z" fill="#040000" p-id="3744"></path><path d="M426.7 574.6c20.9 29.9 59.7 52.2 96.2 38.6 19.2-7.2 34.7-21.2 47.6-36.9 2.8-3.5 3.4-8.3 0-11.7-2.9-2.9-8.9-3.5-11.7 0-16.5 20.2-40.9 40.9-68.1 35.5-17.3-3.4-31-13.2-42.9-25.9-2-2.2-3.9-4.4-5.8-6.7-1.6-1.9 1.1 1.5-0.4-0.6-0.2-0.2-0.3-0.5-0.5-0.7-6.2-8.7-20.6-0.4-14.4 8.4z" fill="#040000" p-id="3745"></path></svg>'},{name:"20",icon:'<svg t="1624457910321" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3899" ><path d="M792.8 301.4c-8.2 0-16.2 0.4-24.2 1.3-12.3-81.8-129.2-145.9-271.8-145.9-137.1 0-250.5 59.3-269.9 136.6C105.3 295.5 7.4 391.2 7.4 508.9c0 119.1 100.2 215.6 223.7 215.6 5.3 0 10.6-0.2 15.8-0.5 14.4 80.5 130.4 143.2 271.3 143.2 135.9 0 248.6-58.3 269.4-134.6 1.7 0 3.4 0.1 5.1 0.1 123.6 0 223.7-96.5 223.7-215.6s-100-215.7-223.6-215.7z" fill="#F6CD50" p-id="3900"></path><path d="M435.9 431.5m-52.2 0a52.2 52.2 0 1 0 104.4 0 52.2 52.2 0 1 0-104.4 0Z" fill="#FAFAFA" p-id="3901"></path><path d="M588.1 431.5m-52.2 0a52.2 52.2 0 1 0 104.4 0 52.2 52.2 0 1 0-104.4 0Z" fill="#FAFAFA" p-id="3902"></path><path d="M435.9 431.5m-27.8 0a27.8 27.8 0 1 0 55.6 0 27.8 27.8 0 1 0-55.6 0Z" fill="#040000" p-id="3903"></path><path d="M601.9 407.4c-5.7 2.9-11.3 5.9-16.9 9-6.8 3.8-15.3 7.8-20.5 13.8-5.6 6.5 1.6 11.1 6.7 14.4 11.2 7.1 23.3 13 35.1 19 5.7 2.9 10.8-5.7 5.1-8.6-10.9-5.6-21.9-11.1-32.4-17.4-2.4-1.4-4.6-3.1-7-4.6 1 0.6-0.4-0.4-0.4-0.4-1.9-0.3-0.5 4.2 0.5 4.1-0.1 0-0.6 0.3 0.3-0.3 0.5-0.3 1-0.9 1.5-1.3 9.7-7.9 21.9-13.5 33.1-19.2 5.7-2.7 0.6-11.4-5.1-8.5zM406.6 547.6c11.5 14.4 27 26.7 42.7 36.3 32.2 19.8 71.2 27.2 107.6 15.4 29.5-9.6 54.6-29.1 75.5-51.6 10.8-11.6-6.6-29.1-17.5-17.5-9.4 10.1-19.5 19.7-30.8 27.7-4.6 3.2-9.3 6.2-14.2 8.9-5 2.8-9.9 5.1-14.1 6.7-4.6 1.7-9.3 3.2-14.1 4.4-2.2 0.5-4.4 1-6.6 1.4-1 0.2-2 0.3-2.9 0.5 2.6-0.4-2.1 0.2-2.5 0.3-4.1 0.4-8.3 0.5-12.5 0.4-2.2-0.1-4.4-0.2-6.6-0.4-1.1-0.1-2.2-0.2-3.2-0.3-1.5-0.2-1.4-0.2 0.1 0l-2.1-0.3c-7.8-1.3-15.4-3.4-22.8-6.2-0.9-0.4-1.8-0.7-2.8-1.1-3.1-1.2 2.3 1.1-0.7-0.3-1.5-0.7-2.9-1.3-4.4-2-3.7-1.8-7.2-3.7-10.8-5.8-5.7-3.4-11.1-7.1-16.4-11.1 3 2.3-1.1-0.9-1.8-1.5-1.1-0.9-2.1-1.7-3.1-2.6-2.1-1.8-4.2-3.7-6.3-5.6-4.4-4.1-8.7-8.4-12.4-13.1-4.2-5.2-13.1-4.3-17.5 0-5 5.1-4 12.2 0.2 17.4z" fill="#040000" p-id="3904"></path></svg>'}]},{name:"",type:"sign",list:[{name:"1",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M809.728 429.696a18.901333 18.901333 0 0 0-15.274667-12.885333l-183.466666-26.624-81.92-166.272a18.901333 18.901333 0 0 0-34.005334 0l-81.92 166.272-183.594666 26.624a19.029333 19.029333 0 0 0-10.496 32.298666l132.693333 129.536-31.274667 182.741334a18.816 18.816 0 0 0 27.477334 19.84l164.138666-86.186667 164.096 86.058667a18.773333 18.773333 0 1 0 27.434667-19.84l-31.36-182.741334 132.693333-129.408a18.901333 18.901333 0 0 0 4.778667-19.413333z" fill="#FFFFFF"></path></svg>'},{name:"2",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M644.565333 306.901333c32.128 0 65.834667-5.76 101.077334-17.237333a17.066667 17.066667 0 0 1 22.357333 16.213333v328.32c-1.109333 0.768 10.325333 27.093333-99.370667 19.84-109.653333-7.210667-181.76-45.098667-246.869333-45.098666-65.152 0-49.322667 2.688-74.154667 8.405333v168.064a24.746667 24.746667 0 0 1-24.490666 25.258667 22.528 22.528 0 0 1-17.28-7.253334 24.149333 24.149333 0 0 1-7.168-18.005333V281.258667C299.776 280.490667 328.106667 256 421.76 256s164.437333 50.901333 222.805333 50.901333z" fill="#FFFFFF"></path></svg>'},{name:"3",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M524.074667 225.408l274.517333 274.517333a17.066667 17.066667 0 0 1 0 24.149334l-274.517333 274.517333a17.066667 17.066667 0 0 1-24.149334 0l-274.517333-274.517333a17.066667 17.066667 0 0 1 0-24.149334l274.517333-274.517333a17.066667 17.066667 0 0 1 24.149334 0z" fill="#FFFFFF"></path></svg>'},{name:"4",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M317.866667 300.8h388.266666c9.386667 0 17.066667 7.68 17.066667 17.066667v388.266666a17.066667 17.066667 0 0 1-17.066667 17.066667h-388.266666a17.066667 17.066667 0 0 1-17.066667-17.066667v-388.266666c0-9.386667 7.68-17.066667 17.066667-17.066667z" fill="#FFFFFF"></path></svg>'},{name:"5",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M498.346667 279.082667L248.789333 701.44a15.829333 15.829333 0 0 0 13.653334 23.893333h499.114666a15.829333 15.829333 0 0 0 13.653334-23.893333l-249.6-422.357333a15.829333 15.829333 0 0 0-27.264 0z" fill="#FFFFFF"></path></svg>'},{name:"6",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M497.749333 798.549333l-31.445333-28.501333C313.941333 631.722667 213.333333 540.501333 213.333333 428.8a160.981333 160.981333 0 0 1 162.730667-162.730667c51.498667 0 100.906667 23.978667 133.12 61.696a177.536 177.536 0 0 1 133.162667-61.696 160.981333 160.981333 0 0 1 162.730666 162.730667c0 111.701333-100.608 202.965333-252.970666 341.333333l-31.445334 28.458667a17.066667 17.066667 0 0 1-22.912 0z" fill="#FFFFFF"></path><path d="M634.538667 487.808L555.050667 426.24 507.306667 256a201.002667 201.002667 0 0 0-23.594667 20.394667l-0.256-0.256L525.653333 426.666667l-133.290666 59.946666a14.08 14.08 0 0 0-8.021334 15.957334l28.757334 126.378666a14.208 14.208 0 0 0 27.733333-6.229333l-26.24-115.114667 126.037333-56.704 76.416 59.136a14.250667 14.250667 0 0 0 19.968-2.474666 14.08 14.08 0 0 0-2.474666-19.797334z" fill="#6D768D"></path></svg>'},{name:"7",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M497.749333 798.549333l-31.445333-28.501333C313.941333 631.722667 213.333333 540.501333 213.333333 428.8a160.981333 160.981333 0 0 1 162.730667-162.730667c51.498667 0 100.906667 23.978667 133.12 61.696a177.536 177.536 0 0 1 133.162667-61.696 160.981333 160.981333 0 0 1 162.730666 162.730667c0 111.701333-100.608 202.965333-252.970666 341.333333l-31.445334 28.458667a17.066667 17.066667 0 0 1-22.912 0z" fill="#FFFFFF"></path></svg>'},{name:"8",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M374.656 273.194667c5.973333 4.48 12.117333 9.6 18.346667 15.36 6.272 5.717333 11.904 12.373333 16.896 19.84 2.517333 4.010667 5.504 8.490667 9.002666 13.482666a529.493333 529.493333 0 0 1 20.266667 32.213334h155.221333a169.813333 169.813333 0 0 0 9.770667-15.744c2.474667-4.48 5.248-8.96 8.234667-13.482667a460.842667 460.842667 0 0 1 23.253333-31.829333c4.992-6.229333 12.245333-12.373333 21.76-18.346667a34.261333 34.261333 0 0 0 10.112-9.728 31.274667 31.274667 0 0 0 5.248-11.989333 18.56 18.56 0 0 0-1.536-11.605334 17.664 17.664 0 0 0-10.112-8.618666c-4.48-1.493333-8.362667-2.005333-11.605333-1.493334a46.933333 46.933333 0 0 0-9.770667 2.602667c-3.242667 1.28-6.613333 2.645333-10.112 4.138667a32.426667 32.426667 0 0 1-12.757333 2.261333 26.026667 26.026667 0 0 1-12.373334-2.645333 45.653333 45.653333 0 0 1-8.96-6.357334l-8.661333-7.850666a30.336 30.336 0 0 0-11.989333-6.4c-9.984-3.968-18.005333-4.693333-24.021334-2.218667-5.973333 2.474667-11.946667 6.485333-17.962666 11.946667a88.618667 88.618667 0 0 1-11.989334 10.496 7.338667 7.338667 0 0 1-3.754666 1.493333 46.165333 46.165333 0 0 1-8.277334-5.205333 71.808 71.808 0 0 1-7.125333-4.906667 37.973333 37.973333 0 0 1-6.4-6.357333c-3.968-3.968-9.941333-6.613333-17.92-7.850667a31.061333 31.061333 0 0 0-21.76 4.138667c-8.533333 5.461333-14.506667 10.069333-18.048 13.824a29.354667 29.354667 0 0 1-15.744 7.893333 23.978667 23.978667 0 0 1-13.098667-0.768 987.733333 987.733333 0 0 0-14.634666-4.48 80.725333 80.725333 0 0 0-14.250667-2.986667 16.768 16.768 0 0 0-11.989333 2.986667c-6.997333 5.461333-9.258667 12.074667-6.741334 19.84a34.56 34.56 0 0 0 13.482667 18.346667z" fill="#FFFFFF"></path><path d="M780.757333 545.152a219.306667 219.306667 0 0 0-19.882666-65.536 224.981333 224.981333 0 0 0-33.365334-49.792 430.336 430.336 0 0 0-37.12-37.12c-14.506667-11.946667-27.264-23.296-38.272-34.048a544.512 544.512 0 0 1-27.733333-28.842667 305.28 305.28 0 0 1-22.485333-26.197333h-168.746667c-6.485333 8.490667-13.994667 17.493333-22.485333 26.965333a360.96 360.96 0 0 1-26.24 28.074667c-10.538667 10.24-22.272 21.12-35.285334 32.597333a305.493333 305.493333 0 0 0-41.6 44.16 250.026667 250.026667 0 0 0-49.493333 117.589334 216.106667 216.106667 0 0 0 1.877333 70.4 220.586667 220.586667 0 0 0 75.349334 126.549333c21.248 18.005333 47.146667 32.597333 77.653333 43.818667 30.464 11.264 65.493333 16.853333 104.96 16.853333 38.528 0 72.874667-4.864 103.125333-14.592a265.045333 265.045333 0 0 0 78.378667-39.338667c21.973333-16.469333 39.594667-35.797333 52.864-58.026666 13.226667-22.186667 22.101333-45.824 26.624-70.784 4.992-30.421333 5.632-58.026667 1.877333-82.773334z" fill="#FFFFFF"></path><path d="M593.322667 647.509333a20.48 20.48 0 0 1-11.861334 3.2h-50.133333v14.165334c0 4.266667-1.792 8.362667-5.376 12.373333a15.914667 15.914667 0 0 1-13.952 5.333333 24.917333 24.917333 0 0 1-14.336-3.882666c-3.84-2.602667-5.973333-7.210667-6.4-13.824v-14.165334h-48.725333a17.792 17.792 0 0 1-11.818667-3.882666 10.24 10.24 0 0 1-3.968-9.6c0-4.266667 1.578667-7.68 4.693333-10.24a16.768 16.768 0 0 1 11.093334-3.925334h48.682666v-24.789333h-48.682666a15.573333 15.573333 0 0 1-11.52-4.266667 13.525333 13.525333 0 0 1-4.266667-9.941333 15.36 15.36 0 0 1 4.693333-10.624 14.72 14.72 0 0 1 11.093334-4.949333h48.682666l0.725334-14.890667a1053.568 1053.568 0 0 1-40.832-42.538667l-10.752-9.898666a41.216 41.216 0 0 1-6.442667-11.690667c-1.92-4.992-0.938667-10.069333 2.858667-15.274667a13.653333 13.653333 0 0 1 15.786666-3.84c6.186667 2.090667 11.221333 4.821333 15.018667 8.106667 1.92 2.389333 5.248 5.888 10.026667 10.666667l15.061333 14.848 19.328 19.157333 22.186667-20.565333a987.605333 987.605333 0 0 1 29.397333-25.514667 21.162667 21.162667 0 0 1 14.293333-5.674667c5.290667 0 9.557333 2.133333 12.928 6.4 6.186667 7.082667 3.84 15.36-7.168 24.789334a179.072 179.072 0 0 0-12.885333 12.373333c-5.76 5.973333-11.52 11.733333-17.194667 17.408-6.698667 7.082667-14.08 14.378667-22.186666 21.973333v13.44h46.506666c6.698667 0 11.605333 1.536 14.72 4.608a14.165333 14.165333 0 0 1 4.650667 10.282667c0 4.266667-1.450667 7.936-4.309333 11.008-2.858667 3.029333-7.637333 4.352-14.336 3.84l-46.506667 0.768-0.768 24.064h45.866667c13.354667 0 20.053333 4.992 20.053333 14.933333 0.469333 4.693333-0.853333 8.106667-3.925333 10.24z" fill="#6D768D"></path></svg>'},{name:"9",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M512 213.333333l234.666667 341.333334h-128v213.333333h-213.333334v-213.333333h-128L512 213.333333z" fill="#FFFFFF"></path></svg>'},{name:"10",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M533.333333 810.666667L298.666667 469.333333h128V256h213.333333v213.333333h128l-234.666667 341.333334z" fill="#FFFFFF"></path></svg>'},{name:"11",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M213.333333 533.333333L554.666667 298.666667v128h213.333333v213.333333h-213.333333v128l-341.333334-234.666667z" fill="#FFFFFF"></path></svg>'},{name:"12",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M810.666667 533.333333L469.333333 768v-128H256v-213.333333h213.333333V298.666667l341.333334 234.666666z" fill="#FFFFFF"></path></svg>'},{name:"13",icon:'<svg viewBox="0 0 1024 1024"><path d="M0 512c0 282.752 229.248 512 512 512s512-229.248 512-512S794.752 0 512 0 0 229.248 0 512z" fill="#6D768D"></path><path d="M571.349333 508.586667l162.389334-162.346667a44.330667 44.330667 0 1 0-62.72-62.72l-162.389334 162.389333-162.517333-162.389333a44.330667 44.330667 0 1 0-62.72 62.72l162.389333 162.389333-162.389333 162.474667a44.330667 44.330667 0 1 0 62.72 62.72l162.389333-162.346667 162.389334 162.389334a44.330667 44.330667 0 1 0 62.72-62.72l-162.261334-162.56z" fill="#FFFFFF"></path></svg>'},{name:"14",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C233.386667 0 0 225.877333 0 512s225.877333 512 512 512 512-225.877333 512-512S790.613333 0 512 0z" fill="#6D768D"></path><path d="M726.144 311.210667l-277.333333 305.066666-124.8-124.8c-13.866667-13.866667-41.6-13.866667-55.466667 0-13.866667 13.866667-13.866667 41.6 0 55.466667l159.445333 152.533333c13.866667 13.866667 41.6 13.866667 55.466667 0l305.066667-332.8c13.866667-13.866667 13.866667-41.6 0-55.466666-20.778667-13.866667-48.512-13.866667-62.378667 0z" fill="#FFFFFF"></path></svg>'},{name:"15",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M541.952 755.626667a40.618667 40.618667 0 0 1-29.824 12.373333 41.344 41.344 0 0 1-30.122667-12.373333 40.106667 40.106667 0 0 1-12.672-30.122667c0-11.605333 4.096-21.845333 12.672-30.122667a40.405333 40.405333 0 0 1 30.122667-12.714666c11.605333 0 21.546667 4.138667 29.824 12.714666a40.32 40.32 0 0 1 12.714667 30.122667c0 11.861333-4.096 21.76-12.714667 30.122667zM450.986667 241.28A77.866667 77.866667 0 0 1 512.256 213.333333c24.874667 0 45.354667 8.917333 61.354667 27.946667 15.488 18.432 23.722667 41.685333 23.722666 69.674667 0 23.765333-33.152 200.533333-44.672 329.045333h-80.128C463.146667 511.402667 426.666667 334.677333 426.666667 310.954667c0-27.392 8.277333-50.645333 24.32-69.674667z" fill="#FFFFFF"></path></svg>'},{name:"16",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.794667 0 512 0z" fill="#6D768D"></path><path d="M490.666667 682.666667a64 64 0 1 1 0 128 64 64 0 0 1 0-128z m13.994666-490.752c61.397333 0 112.341333 14.634667 153.002667 43.946666 40.533333 29.269333 60.885333 72.618667 60.885333 130.133334 0 35.242667-12.373333 64.938667-29.952 89.045333-10.282667 14.677333-33.664 33.408-62.890666 56.192l-32.426667 22.357333c-15.701333 12.202667-29.696 26.453333-34.858667 42.666667-1.706667 5.546667-3.072 14.677333-3.968 24.533333-0.426667 4.949333-4.864 15.018667-15.232 15.018667h-83.328c-13.568 0-15.957333-10.581333-15.744-15.786667 1.493333-34.005333 4.608-64.213333 18.474667-80.469333 28.074667-32.896 91.904-73.813333 91.904-73.813333a104.106667 104.106667 0 0 0 23.552-24.021334c10.837333-14.933333 19.797333-31.317333 19.797333-49.237333 0-20.565333-6.016-39.338667-18.090666-56.32-12.032-16.938667-34.090667-25.386667-66.005334-25.386667-31.445333 0-53.76 10.410667-66.901333 31.274667-9.685333 15.445333-15.786667 29.610667-18.346667 45.013333-0.853333 5.461333-4.394667 16.981333-16.042666 16.981334H327.210667c-17.322667 0-21.12-11.221333-20.650667-16.64 6.272-68.138667 32.896-114.688 80-144.597334 32-20.565333 71.381333-30.890667 118.101333-30.890666z" fill="#FFFFFF"></path></svg>'},{name:"17",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M336.256 410.026667H253.312a40.021333 40.021333 0 0 0-39.850667 43.264l23.296 278.101333c1.706667 20.693333 19.072 36.608 39.850667 36.608h59.648c11.050667 0 20.010667-8.96 20.010667-19.968v-318.037333a19.968 19.968 0 0 0-20.010667-19.968z m434.432 0h-178.944C653.312 182.314667 548.949333 170.666667 548.949333 170.666667c-44.288 0-35.114667 34.986667-38.442666 40.832 0 84.48-68.010667 155.093333-101.034667 184.362666a39.552 39.552 0 0 0-13.226667 29.653334v322.56c0 11.008 8.96 19.925333 20.010667 19.925333h233.728c30.378667 0 58.154667-17.152 71.68-44.373333 18.176-36.736 40.448-90.112 54.656-133.973334 13.781333-42.410667 26.24-94.976 33.578667-131.968a39.850667 39.850667 0 0 0-39.253334-47.658666z" fill="#FFFFFF"></path></svg>'},{name:"18",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M796.16 413.909333c-31.146667-0.298667-115.626667-0.085333-146.858667-0.085333h-158.464c8.533333-7.68 15.914667-14.506667 23.594667-20.906667 29.781333-24.874667 25.813333-71.082667-14.208-88.874666-22.954667-10.24-44.970667-5.632-64 11.52-34.944 31.274667-69.632 62.677333-104.277333 93.994666a15.488 15.488 0 0 1-11.178667 4.437334c-11.221333-0.085333-26.88-0.128-46.933333-0.170667a17.066667 17.066667 0 0 0-17.109334 17.066667L256 719.701333a17.066667 17.066667 0 0 0 17.066667 17.152l49.578666-0.085333c3.968 0 7.466667 0.768 10.88 2.602667 15.829333 8.832 31.701333 17.493333 47.616 26.24a18.133333 18.133333 0 0 0 9.301334 2.346666h168.405333c6.186667 0 11.946667-0.981333 17.834667-2.56 29.44-7.253333 40.021333-30.293333 38.528-52.565333-0.768-9.728-4.266667-18.346667-9.984-26.24 19.626667-5.76 35.114667-16.213333 42.112-36.096 7.125333-20.394667 1.621333-38.4-12.672-53.333333 28.16-19.754667 34.858667-44.672 18.645333-75.648h140.458667c6.570667 0 13.013333-0.597333 19.370666-2.645334 31.957333-9.813333 48.810667-42.88 35.626667-71.552-10.154667-22.186667-28.629333-33.152-52.608-33.450666z" fill="#FFFFFF"></path></svg>'},{name:"19",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M270.506667 413.909333c31.146667-0.298667 115.626667-0.085333 146.858666-0.085333h158.464c-8.533333-7.68-15.914667-14.506667-23.594666-20.906667-29.781333-24.874667-25.813333-71.082667 14.208-88.874666 22.954667-10.24 44.970667-5.632 64 11.52 34.944 31.274667 69.632 62.677333 104.277333 93.994666 3.413333 2.986667 6.528 4.437333 11.178667 4.437334 11.221333-0.085333 26.88-0.128 46.933333-0.170667a17.066667 17.066667 0 0 1 17.109333 17.066667l0.682667 288.853333a17.066667 17.066667 0 0 1-17.066667 17.152l-49.578666-0.085333a22.101333 22.101333 0 0 0-10.88 2.602666c-15.829333 8.832-31.701333 17.493333-47.616 26.24a18.133333 18.133333 0 0 1-9.301334 2.346667h-168.405333a68.693333 68.693333 0 0 1-17.834667-2.56c-29.44-7.253333-40.021333-30.293333-38.528-52.565333 0.768-9.728 4.266667-18.346667 9.984-26.24-19.626667-5.76-35.114667-16.213333-42.112-36.096-7.125333-20.394667-1.621333-38.4 12.672-53.333334-28.16-19.754667-34.858667-44.672-18.645333-75.648H272.853333c-6.570667 0-13.013333-0.597333-19.370666-2.645333-31.957333-9.813333-48.810667-42.88-35.626667-71.552 10.154667-22.186667 28.629333-33.152 52.608-33.450667z" fill="#FFFFFF"></path></svg>'},{name:"20",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M667.733333 480.128H400v-111.36a97.706667 97.706667 0 0 1 97.621333-97.621333 97.706667 97.706667 0 0 1 97.578667 97.621333 28.885333 28.885333 0 0 0 57.813333 0A155.605333 155.605333 0 0 0 497.621333 213.333333a155.605333 155.605333 0 0 0-155.392 155.434667v111.36h-14.677333A28.885333 28.885333 0 0 0 298.666667 509.013333v292.010667a28.885333 28.885333 0 0 0 28.885333 28.885333h340.138667a28.885333 28.885333 0 0 0 28.928-28.885333V509.013333a28.885333 28.885333 0 0 0-28.928-28.885333z" fill="#FFFFFF"></path></svg>'},{name:"21",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M400.042667 437.461333v-111.36a97.706667 97.706667 0 0 1 97.621333-97.621333 97.706667 97.706667 0 0 1 97.578667 97.621333 28.885333 28.885333 0 0 0 57.813333 0A155.605333 155.605333 0 0 0 497.621333 170.666667a155.605333 155.605333 0 0 0-155.392 155.434666v111.36h-14.677333A28.885333 28.885333 0 0 0 298.666667 466.346667v292.010666a28.885333 28.885333 0 0 0 28.885333 28.885334h340.138667a28.885333 28.885333 0 0 0 28.928-28.885334V466.346667a28.885333 28.885333 0 0 0-28.928-28.885334H400.042667z" fill="#FFFFFF"></path><path d="M595.242667 437.461333v-111.36a97.706667 97.706667 0 0 0-97.621334-97.621333 97.706667 97.706667 0 0 0-97.578666 97.621333 28.885333 28.885333 0 0 1-57.813334 0A155.605333 155.605333 0 0 1 497.621333 170.666667a155.605333 155.605333 0 0 1 155.434667 155.434666v111.36h14.634667c16 0 28.928 12.928 28.928 28.885334v292.010666a28.885333 28.885333 0 0 1-28.928 28.885334H327.552A28.885333 28.885333 0 0 1 298.666667 758.357333V466.346667c0-15.957333 12.928-28.885333 28.885333-28.885334h267.690667z" fill="#FFFFFF"></path></svg>'},{name:"22",icon:'<svg viewBox="0 0 1024 1024"><path d="M511.999787 512.000213m-511.999787 0a511.999787 511.999787 0 1 0 1023.999573 0 511.999787 511.999787 0 1 0-1023.999573 0Z" fill="#6D768D"></path><path d="M381.354508 364.586941c0 54.015977 29.013321 103.935957 75.946635 130.986613a152.53327 152.53327 0 0 0 151.935936 0 151.12527 151.12527 0 0 0 75.946636-130.986613A151.594604 151.594604 0 0 0 533.333111 213.333671a151.594604 151.594604 0 0 0-151.89327 151.25327zM660.479725 498.901552a185.258589 185.258589 0 0 1-127.146614 50.346646c-49.066646 0-93.866628-19.199992-127.06128-50.346646C317.141201 544.853533 255.999893 637.440161 255.999893 744.106783c0 13.183995 10.709329 23.850657 23.978657 23.850657h506.709122a23.893323 23.893323 0 0 0 23.978657-23.893323c0-106.538622-61.098641-199.25325-150.186604-245.205232z" fill="#FFFFFF"></path></svg>'},{name:"23",icon:'<svg viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#6D768D"></path><path d="M445.610667 401.578667a129.322667 129.322667 0 1 0 258.645333 0 129.322667 129.322667 0 0 0-258.645333 0z m237.568 114.901333a157.354667 157.354667 0 0 1-216.362667 0 236.373333 236.373333 0 0 0-127.957333 209.706667c0 11.264 9.130667 20.394667 20.394666 20.394666h431.402667a20.394667 20.394667 0 0 0 20.394667-20.394666 236.373333 236.373333 0 0 0-127.872-209.706667zM409.813333 401.578667c0-40.362667 14.592-77.397333 38.698667-106.112a112.725333 112.725333 0 0 0-29.013333-3.925334 112.64 112.64 0 0 0-112.426667 112.469334 112.64 112.64 0 0 0 144.853333 107.648 164.693333 164.693333 0 0 1-42.112-110.08z m-18.602666 136.704a136.533333 136.533333 0 0 1-65.706667-34.474667 205.44 205.44 0 0 0-111.232 182.4c0 9.813333 7.936 17.706667 17.706667 17.706667H303.36a273.621333 273.621333 0 0 1 87.893333-165.632z" fill="#FFFFFF"></path></svg>'}]}],abe=(e,t=[])=>{let n=e.split("_"),s=l1e([...n9,...t]).find(a=>a.type===n[0]);if(s){let a=s.list.find(i=>i.name===n[1]);return a?a.icon:""}else return""},Jy={hyperlink:nbe,note:rbe,attachment:sbe,nodeIconList:n9,getNodeIconListIcon:abe},Ek={radius:3,fontSize:12,fill:"",height:20,paddingX:8};function ibe(){const e=this.getData("image");if(!e)return;const t=this.getImgShowSize(),n=new kc().load(e).size(...t),{defaultNodeImage:r}=this.mindMap.opt;if(r){const s=new Image;s.onerror=()=>{n.load(r)},s.src=e}return this.getData("imageTitle")&&n.attr("title",this.getData("imageTitle")),n.on("dblclick",s=>{this.mindMap.emit("node_img_dblclick",this,s)}),n.on("mouseenter",s=>{this.mindMap.emit("node_img_mouseenter",this,n,s)}),n.on("mouseleave",s=>{this.mindMap.emit("node_img_mouseleave",this,n,s)}),n.on("mousemove",s=>{this.mindMap.emit("node_img_mousemove",this,n,s)}),{node:n,width:t[0],height:t[1]}}function obe(){const{custom:e,width:t,height:n}=this.getData("imageSize");return e?[t,n]:YM(t,n,this.mindMap.themeConfig.imgMaxWidth,this.mindMap.themeConfig.imgMaxHeight)}function lbe(){let e=this.getData();if(!e.icon||e.icon.length<=0)return[];let t=this.mindMap.themeConfig.iconSize;return e.icon.map(n=>{let r=Jy.getNodeIconListIcon(n,this.mindMap.opt.iconList||[]),s=null;return/^<svg/.test(r)?s=os(r):s=new kc().load(r),s.size(t,t),s.on("click",a=>{this.mindMap.emit("node_icon_click",this,n,a,s)}),s.on("mouseenter",a=>{this.mindMap.emit("node_icon_mouseenter",this,n,a,s)}),s.on("mouseleave",a=>{this.mindMap.emit("node_icon_mouseleave",this,n,a,s)}),{node:s,width:t,height:t}})}function ube(){const{textAutoWrapWidth:e}=this.mindMap.opt;let t=new ma,n=!1;this.getData("resetRichText")&&(delete this.nodeData.data.resetRichText,n=!0),[Le.CHANGE_THEME].includes(this.mindMap.renderer.renderSource)&&(this.hasCustomStyle()||(n=!0));let r=this.getData("text");if(n&&!Sm(r)){let c=s1e(r),d=this.style.createStyleText();if(c){r=r1e(r);let h=r;r=hk(r,"span",d),r===h&&(r=hk(r,"strong",d))}else r=`<p><span style="${d}">${r}</span></p>`;this.setData({text:r})}let s=`<div>${this.getData("text")}</div>`;this.mindMap.commonCaches.measureRichtextNodeTextSizeEl||(this.mindMap.commonCaches.measureRichtextNodeTextSizeEl=document.createElement("div"),this.mindMap.commonCaches.measureRichtextNodeTextSizeEl.style.position="fixed",this.mindMap.commonCaches.measureRichtextNodeTextSizeEl.style.left="-999999px",this.mindMap.el.appendChild(this.mindMap.commonCaches.measureRichtextNodeTextSizeEl));let a=this.mindMap.commonCaches.measureRichtextNodeTextSizeEl;a.innerHTML=s;let i=a.children[0];i.classList.add("smm-richtext-node-wrap"),Ad(i),i.style.maxWidth=e+"px";let{width:o,height:l}=i.getBoundingClientRect();if(l<=0){a.innerHTML="<p>abc123</p>";let c=a.children[0];c.classList.add("smm-richtext-node-wrap"),l=c.getBoundingClientRect().height,a.innerHTML=s}o=Math.min(Math.ceil(o)+1,e),l=Math.ceil(l),t.attr("data-width",o),t.attr("data-height",l);const u=$h({el:a.children[0],width:o,height:l});return t.add(u),{node:t,nodeContent:u,width:o,height:l}}function cbe(){if(this.getData("richText"))return this.createRichTextNode();this.getData("resetRichText")&&delete this.nodeData.data.resetRichText;let e=new ma,t=this.getStyle("fontSize",!1),n=this.getStyle("lineHeight",!1),r=this.style.getTextFontStyle(),s=[];Sm(this.getData("text"))||(s=String(this.getData("text")).split(/\n/gim));let a=this.mindMap.opt.textAutoWrapWidth,i=!1;s.forEach((u,c)=>{let d=u.split(""),h=[],p=[];for(;d.length;){let m=d.shift(),g=[...p,m].join("");qye(g,r).width<=a?p.push(m):(h.push(p.join("")),p=[m])}p.length>0&&h.push(p.join("")),h.length>1&&(i=!0),s[c]=h.join(`
`)}),s=s.join(`
`).split(/\n/gim),s.forEach((u,c)=>{let d=new Ss().text(u);this.style.text(d),d.y(t*n*c),e.add(d)});let{width:o,height:l}=e.bbox();return o=Math.min(Math.ceil(o),a),l=Math.ceil(l),e.attr("data-width",o),e.attr("data-height",l),e.attr("data-ismultiLine",i||s.length>1),{node:e,width:o,height:l}}function dbe(){let{hyperlink:e,hyperlinkTitle:t}=this.getData();if(!e)return;const{customHyperlinkJump:n}=this.mindMap.opt;let r=this.mindMap.themeConfig.iconSize,s=new os().size(r,r),a=new Ep().to(e).target("_blank");a.node.addEventListener("click",o=>{typeof n=="function"&&(o.preventDefault(),n(e,this))}),t&&s.add(os(`<title>${t}</title>`)),a.rect(r,r).fill({color:"transparent"});let i=os(Jy.hyperlink).size(r,r);return this.style.iconNode(i),a.add(i),s.add(a),{node:s,width:r,height:r}}function fbe(){const e=this.getData("tag");if(!e||e.length<=0)return[];let{maxTag:t,tagsColorMap:n}=this.mindMap.opt;n=n||{};const r=[];return e.slice(0,t).forEach((s,a)=>{let i="",o={...Ek};typeof s=="string"?i=s:(i=s.text,o={...Ek,...s.style});const l=typeof o.width<"u",u=new ma;u.on("click",()=>{this.mindMap.emit("node_tag_click",this,s,a,u)});const c=new Ss().text(i);this.style.tagText(c,o);const{width:d,height:h}=c.bbox(),p=l?o.width:d+o.paddingX*2,m=l?Math.max(p,d):p,g=Math.max(o.height,h);l?c.x((m-d)/2):c.x(l?0:o.paddingX),c.cy(-g/2);const v=new vl().size(p,o.height).cy(-g/2);l&&v.x((m-p)/2),this.style.tagRect(v,{...o,fill:o.fill||n[c.node.textContent]||t9(c.node.textContent)}),u.add(v).add(c),r.push({node:u,width:m,height:g})}),r}function hbe(){if(!this.getData("note"))return null;let e=this.mindMap.themeConfig.iconSize,t=new os().attr("cursor","pointer").addClass("smm-node-note").size(e,e);t.add(new vl().size(e,e).fill({color:"transparent"}));let n=os(Jy.note).size(e,e);return this.style.iconNode(n),t.add(n),this.mindMap.opt.customNoteContentShow||(this.noteEl||(this.noteEl=document.createElement("div"),this.noteEl.style.cssText=`
          position: fixed;
          padding: 10px;
          border-radius: 5px;
          box-shadow: 0 2px 5px rgb(0 0 0 / 10%);
          display: none;
          background-color: #fff;
          z-index: ${this.mindMap.opt.nodeNoteTooltipZIndex}
      `,(this.mindMap.opt.customInnerElsAppendTo||document.body).appendChild(this.noteEl)),this.noteEl.innerText=this.getData("note")),t.on("mouseover",()=>{const{left:r,top:s}=this.getNoteContentPosition();this.mindMap.opt.customNoteContentShow?this.mindMap.opt.customNoteContentShow.show(this.getData("note"),r,s,this):(this.noteEl.style.left=r+"px",this.noteEl.style.top=s+"px",this.noteEl.style.display="block")}),t.on("mouseout",()=>{this.mindMap.opt.customNoteContentShow?this.mindMap.opt.customNoteContentShow.hide():this.noteEl.style.display="none"}),t.on("click",r=>{this.mindMap.emit("node_note_click",this,r,t)}),{node:t,width:e,height:e}}function pbe(){const{attachmentUrl:e,attachmentName:t}=this.getData();if(!e)return;const n=this.mindMap.themeConfig.iconSize,r=new os().attr("cursor","pointer").size(n,n);t&&r.add(os(`<title>${t}</title>`)),r.add(new vl().size(n,n).fill({color:"transparent"}));const s=os(Jy.attachment).size(n,n);return this.style.iconNode(s),r.add(s),r.on("click",a=>{this.mindMap.emit("node_attachmentClick",this,a,r)}),r.on("contextmenu",a=>{this.mindMap.emit("node_attachmentContextmenu",this,a,r)}),{node:r,width:n,height:n}}function mbe(){const e=this.mindMap.themeConfig.iconSize,{scaleY:t}=this.mindMap.view.getTransformData().transform,n=e*t;let{left:r,top:s}=this._noteData.node.node.getBoundingClientRect();return s+=n,{left:r,top:s}}function gbe(e){this.mindMap.commonCaches.measureCustomNodeContentSizeEl||(this.mindMap.commonCaches.measureCustomNodeContentSizeEl=document.createElement("div"),this.mindMap.commonCaches.measureCustomNodeContentSizeEl.style.cssText=`
      position: fixed;
      left: -99999px;
      top: -99999px;
    `,this.mindMap.el.appendChild(this.mindMap.commonCaches.measureCustomNodeContentSizeEl)),this.mindMap.commonCaches.measureCustomNodeContentSizeEl.innerHTML="",this.mindMap.commonCaches.measureCustomNodeContentSizeEl.appendChild(e);let t=this.mindMap.commonCaches.measureCustomNodeContentSizeEl.getBoundingClientRect();return{width:t.width,height:t.height}}function vbe(){return!!this._customNodeContent}const Tk={createImgNode:ibe,getImgShowSize:obe,createIconNode:lbe,createRichTextNode:ube,createTextNode:cbe,createHyperlinkNode:dbe,createTagNode:fbe,createNoteNode:hbe,createAttachmentNode:pbe,getNoteContentPosition:mbe,measureCustomNodeContentSize:gbe,isUseCustomNodeContent:vbe};function ybe(){if(!this.nodeData.children||this.nodeData.children.length<=0||this.isRoot)return;const{alwaysShowExpandBtn:e,notShowExpandBtn:t}=this.mindMap.opt;if(!e&&!t){let{width:n,height:r}=this;this._unVisibleRectRegionNode||(this._unVisibleRectRegionNode=new vl,this._unVisibleRectRegionNode.fill({color:"transparent"})),this.group.add(this._unVisibleRectRegionNode),this.renderer.layout.renderExpandBtnRect(this._unVisibleRectRegionNode,this.expandBtnSize,n,r,this)}}function bbe(){this._unVisibleRectRegionNode&&(this._unVisibleRectRegionNode.remove(),this._unVisibleRectRegionNode=null)}function wbe(){this.needRerenderExpandBtnPlaceholderRect&&(this.needRerenderExpandBtnPlaceholderRect=!1,this.renderExpandBtnPlaceholderRect()),this.nodeData.children&&this.nodeData.children.length>0?this._unVisibleRectRegionNode||this.renderExpandBtnPlaceholderRect():this._unVisibleRectRegionNode&&this.clearExpandBtnPlaceholderRect()}const kk={renderExpandBtnPlaceholderRect:ybe,clearExpandBtnPlaceholderRect:bbe,updateExpandBtnPlaceholderRect:wbe};function _be(){this.mindMap.cooperate&&(this._userListGroup=new ma,this.group.add(this._userListGroup))}function Sbe(e){const{avatarSize:t,fontSize:n}=this.mindMap.opt.cooperateStyle,r=new ma,s=e.isMore?e.name:String(e.name)[0],a=new _m().size(t,t);a.fill({color:e.color||t9(s)});const i=new Ss().text(s).fill({color:"#fff"}).css({"font-size":n}).dx(-n/2).dy((t-n)/2);return r.add(a).add(i),r}function Cbe(e){const{avatarSize:t}=this.mindMap.opt.cooperateStyle;return new kc().load(e.avatar).size(t,t)}function xbe(){if(!this._userListGroup)return;const{avatarSize:e}=this.mindMap.opt.cooperateStyle;this._userListGroup.clear();const t=this.userList.length,n=Math.floor(this.width/e),r=[];t>n?r.push(...this.userList.slice(0,n-1),{isMore:!0,name:"+"+(t-n+1)}):r.push(...this.userList),r.forEach((s,a)=>{let i=null;s.avatar?i=this.createImageAvatar(s):i=this.createTextAvatar(s),i.on("click",o=>{this.mindMap.emit("node_cooperate_avatar_click",s,this,i,o)}),i.on("mouseenter",o=>{this.mindMap.emit("node_cooperate_avatar_mouseenter",s,this,i,o)}),i.on("mouseleave",o=>{this.mindMap.emit("node_cooperate_avatar_mouseleave",s,this,i,o)}),i.x(a*e).cy(-e/2),this._userListGroup.add(i)})}function Ebe(e){this.userList.find(t=>t.id==e.id)||(this.userList.push(e),this.updateUserListNode())}function Tbe(e){const t=this.userList.findIndex(n=>n.id==e.id);t!==-1&&(this.userList.splice(t,1),this.updateUserListNode())}function kbe(){this.userList=[],this.updateUserListNode()}const Nk={createUserListNode:_be,updateUserListNode:xbe,createTextAvatar:Sbe,createImageAvatar:Cbe,addUser:Ebe,removeUser:Tbe,emptyUser:kbe};let r9=class s9{constructor(t={}){this.opt=t,this.nodeData=this.handleData(t.data||{}),this.uid=t.uid,this.mindMap=t.mindMap,this.renderer=t.renderer,this.draw=this.mindMap.draw,this.nodeDraw=this.mindMap.nodeDraw,this.lineDraw=this.mindMap.lineDraw,this.style=new ii(this),this.shapeInstance=new b1e(this),this.shapePadding={paddingX:0,paddingY:0},this.isRoot=t.isRoot===void 0?!1:t.isRoot,this.isGeneralization=t.isGeneralization===void 0?!1:t.isGeneralization,this.generalizationBelongNode=null,this.layerIndex=t.layerIndex===void 0?0:t.layerIndex,this.width=t.width||0,this.height=t.height||0,this._left=t.left||0,this._top=t.top||0,this.customLeft=t.data.data.customLeft||void 0,this.customTop=t.data.data.customTop||void 0,this.isDrag=!1,this.parent=t.parent||null,this.children=t.children||[],this.userList=[],this.group=null,this.shapeNode=null,this.hoverNode=null,this._customNodeContent=null,this._imgData=null,this._iconData=null,this._textData=null,this._hyperlinkData=null,this._tagData=null,this._noteData=null,this.noteEl=null,this.noteContentIsShow=!1,this._attachmentData=null,this._numberData=null,this._prefixData=null,this._postfixData=null,this._expandBtn=null,this._lastExpandBtnType=null,this._showExpandBtn=!1,this._openExpandNode=null,this._closeExpandNode=null,this._fillExpandNode=null,this._userListGroup=null,this._lines=[],this._generalizationList=[],this._unVisibleRectRegionNode=null,this._isMouseenter=!1,this._rectInfo={imgContentWidth:0,imgContentHeight:0,textContentWidth:0,textContentHeight:0},this._generalizationNodeWidth=0,this._generalizationNodeHeight=0,this.number=t.number||"",this.textContentItemMargin=this.mindMap.opt.textContentMargin,this.blockContentMargin=this.mindMap.opt.imgTextMargin,this.expandBtnSize=this.mindMap.opt.expandBtnSize,this.isMultipleChoice=!1,this.needLayout=!1,this.isHide=!1;const n=Object.getPrototypeOf(this);n.bindEvent||(Object.keys(_k).forEach(r=>{n[r]=_k[r]}),Object.keys(Ck).forEach(r=>{n[r]=Ck[r]}),Object.keys(kk).forEach(r=>{n[r]=kk[r]}),Object.keys(xk).forEach(r=>{n[r]=xk[r]}),Object.keys(Tk).forEach(r=>{n[r]=Tk[r]}),this.mindMap.cooperate&&Object.keys(Nk).forEach(r=>{n[r]=Nk[r]}),n.bindEvent=!0),this.getSize()}get left(){return this.customLeft||this._left}set left(t){this._left=t}get top(){return this.customTop||this._top}set top(t){this._top=t}reset(){this.children=[],this.parent=null,this.isRoot=!1,this.layerIndex=0,this.left=0,this.top=0}resetWhenDelete(){this._isMouseenter=!1}handleData(t){return t.data.expand=t.data.expand!==!1,t.data.isActive=t.data.isActive===!0,t.children=t.children||[],t}createNodeData(){let{isUseCustomNodeContent:t,customCreateNodeContent:n,createNodePrefixContent:r,createNodePostfixContent:s}=this.mindMap.opt;if(t&&n&&(this._customNodeContent=n(this)),this._customNodeContent){Ad(this._customNodeContent);return}this._imgData=this.createImgNode(),this._iconData=this.createIconNode(),this._textData=this.createTextNode(),this._hyperlinkData=this.createHyperlinkNode(),this._tagData=this.createTagNode(),this._noteData=this.createNoteNode(),this._attachmentData=this.createAttachmentNode(),this.mindMap.numbers&&(this._numberData=this.mindMap.numbers.createNumberContent(this)),this._prefixData=r?r(this):null,this._prefixData&&this._prefixData.el&&Ad(this._prefixData.el),this._postfixData=s?s(this):null,this._postfixData&&this._postfixData.el&&Ad(this._postfixData.el)}getSize(){this.customLeft=this.getData("customLeft")||void 0,this.customTop=this.getData("customTop")||void 0,this.createNodeData();let{width:t,height:n}=this.getNodeRect(),r=this.width!==t||this.height!==n;return this.width=t,this.height=n,r}getNodeRect(){if(this.isUseCustomNodeContent()){let y=this.measureCustomNodeContentSize(this._customNodeContent);return{width:y.width,height:y.height}}const{tagPosition:t}=this.mindMap.opt,n=t===Le.TAG_POSITION.BOTTOM;let r=0,s=0,a=0,i=0,o=0,l=0;if(this._imgData&&(this._rectInfo.imgContentWidth=r=this._imgData.width,this._rectInfo.imgContentHeight=s=this._imgData.height),this._numberData&&(a+=this._numberData.width,i=Math.max(i,this._numberData.height)),this._prefixData&&(a+=this._prefixData.width,i=Math.max(i,this._prefixData.height)),this._iconData.length>0&&(a+=this._iconData.reduce((y,b)=>(i=Math.max(i,b.height),y+=b.width+this.textContentItemMargin),0)),this._textData&&(a+=this._textData.width,i=Math.max(i,this._textData.height)),this._hyperlinkData&&(a+=this._hyperlinkData.width,i=Math.max(i,this._hyperlinkData.height)),this._tagData.length>0){let y=0;const b=this._tagData.reduce((w,_)=>(y=Math.max(y,_.height),w+=_.width+this.textContentItemMargin),0);n?(o=b,l=y):(a+=b,i=Math.max(i,y))}this._noteData&&(a+=this._noteData.width,i=Math.max(i,this._noteData.height)),this._attachmentData&&(a+=this._attachmentData.width,i=Math.max(i,this._attachmentData.height)),this._postfixData&&(a+=this._postfixData.width,i=Math.max(i,this._postfixData.height)),this._rectInfo.textContentWidth=a,this._rectInfo.textContentHeight=i;let u=s>0&&i>0?this.blockContentMargin:0,{paddingX:c,paddingY:d}=this.getPaddingVale(),h=Math.max(r,a),p=s+i;n&&l>0&&i>0&&(u+=this.blockContentMargin,h=Math.max(h,o),p+=l);let{paddingX:m,paddingY:g}=this.shapeInstance.getShapePadding(h,p,c,d);this.shapePadding.paddingX=m,this.shapePadding.paddingY=g;const v=this.getBorderWidth();return{width:h+c*2+m*2+v,height:p+d*2+u+g*2+v}}layout(){if(!this.group)return;this.group.clear();const{hoverRectPadding:t,tagPosition:n}=this.mindMap.opt;let{width:r,height:s,textContentItemMargin:a}=this,{paddingY:i}=this.getPaddingVale();const o=this.getBorderWidth()/2;i+=this.shapePadding.paddingY+o,this.shapeNode=this.shapeInstance.createShape(),this.shapeNode.addClass("smm-node-shape"),this.shapeNode.translate(o,o),this.style.shape(this.shapeNode),this.group.add(this.shapeNode),this.renderExpandBtnPlaceholderRect(),this.createUserListNode&&this.createUserListNode(),this.isGeneralization&&this.generalizationBelongNode&&this.group.addClass("generalization_"+this.generalizationBelongNode.uid);const l=()=>{this.hoverNode=new vl().size(r+t*2,s+t*2).x(-t).y(-t),this.hoverNode.addClass("smm-hover-node"),this.style.hoverNode(this.hoverNode,r,s),this.group.add(this.hoverNode)};if(this.isUseCustomNodeContent()){const v=$h({el:this._customNodeContent,width:r,height:s});this.group.add(v),l();return}const u=n===Le.TAG_POSITION.BOTTOM,{textContentHeight:c}=this._rectInfo;let d=0;this._imgData&&(d=this._imgData.height,this.group.add(this._imgData.node),this._imgData.node.cx(r/2).y(i));let h=new ma,p=0;if(this._numberData&&(this._numberData.node.x(p).y((c-this._numberData.height)/2),h.add(this._numberData.node),p+=this._numberData.width+a),this._prefixData){const v=$h({el:this._prefixData.el,width:this._prefixData.width,height:this._prefixData.height});v.x(p).y((c-this._prefixData.height)/2),h.add(v),p+=this._prefixData.width+a}let m=new ma;if(this._iconData&&this._iconData.length>0){let v=0;this._iconData.forEach(y=>{y.node.x(p+v).y((c-y.height)/2),m.add(y.node),v+=y.width+a}),h.add(m),p+=v}if(this._textData){const v=this._textData.node.attr("data-offsetx")||0;this._textData.node.attr("data-offsetx",p),(this._textData.nodeContent||this._textData.node).x(-v).x(p).y((c-this._textData.height)/2),h.add(this._textData.node),p+=this._textData.width+a}this._hyperlinkData&&(this._hyperlinkData.node.x(p).y((c-this._hyperlinkData.height)/2),h.add(this._hyperlinkData.node),p+=this._hyperlinkData.width+a);let g=new ma;if(this._tagData&&this._tagData.length>0)if(u){let v=0;this._tagData.forEach(y=>{y.node.x(v).y(0),g.add(y.node),v+=y.width+a}),g.cx(r/2).y(i+d+c+(d>0&&c>0?this.blockContentMargin:0)+this.blockContentMargin),this.group.add(g)}else{let v=0;this._tagData.forEach(y=>{y.node.x(p+v).y((c-y.height)/2),g.add(y.node),v+=y.width+a}),h.add(g),p+=v}if(this._noteData&&(this._noteData.node.x(p).y((c-this._noteData.height)/2),h.add(this._noteData.node),p+=this._noteData.width),this._attachmentData&&(this._attachmentData.node.x(p).y((c-this._attachmentData.height)/2),h.add(this._attachmentData.node),p+=this._attachmentData.width),this._postfixData){const v=$h({el:this._postfixData.el,width:this._postfixData.width,height:this._postfixData.height});v.x(p).y((c-this._postfixData.height)/2),h.add(v),p+=this._postfixData.width}this.group.add(h),h.translate(r/2-h.bbox().width/2,i+d+(d>0&&c>0?this.blockContentMargin:0)),l(),this.mindMap.emit("node_layout_end",this)}bindGroupEvent(){this.group.on("click",t=>{if(this.mindMap.emit("node_click",this,t),this.isMultipleChoice){t.stopPropagation(),this.isMultipleChoice=!1;return}this.mindMap.opt.onlyOneEnableActiveNodeOnCooperate&&this.userList.length>0||this.active(t)}),this.group.on("mousedown",t=>{t.preventDefault();const{readonly:n,enableCtrlKeyNodeSelection:r,useLeftKeySelectionRightKeyDrag:s}=this.mindMap.opt;if(n||(this.isRoot?t.which===3&&!s&&t.stopPropagation():t.which!==2&&t.stopPropagation()),!n&&(t.ctrlKey||t.metaKey)&&r){this.isMultipleChoice=!0;let a=this.getData("isActive");a||this.mindMap.emit("before_node_active",this,this.renderer.activeNodeList),this.mindMap.renderer[a?"removeNodeFromActiveList":"addNodeToActiveList"](this,!0),this.renderer.emitNodeActiveEvent(a?null:this)}this.mindMap.emit("node_mousedown",this,t)}),this.group.on("mouseup",t=>{!this.isRoot&&t.which!==2&&!this.mindMap.opt.readonly&&t.stopPropagation(),this.mindMap.emit("node_mouseup",this,t)}),this.group.on("mouseenter",t=>{this.isDrag||(this._isMouseenter=!0,this.showExpandBtn(),this.isGeneralization&&this.handleGeneralizationMouseenter(),this.mindMap.emit("node_mouseenter",this,t))}),this.group.on("mouseleave",t=>{this._isMouseenter&&(this._isMouseenter=!1,this.hideExpandBtn(),this.isGeneralization&&this.handleGeneralizationMouseleave(),this.mindMap.emit("node_mouseleave",this,t))}),this.group.on("dblclick",t=>{const{readonly:n,onlyOneEnableActiveNodeOnCooperate:r}=this.mindMap.opt;n||t.ctrlKey||t.metaKey||(t.stopPropagation(),!(r&&this.userList.length>0)&&this.mindMap.emit("node_dblclick",this,t))}),this.group.on("contextmenu",t=>{const{readonly:n,useLeftKeySelectionRightKeyDrag:r}=this.mindMap.opt;n||t.ctrlKey||(t.stopPropagation(),t.preventDefault(),!(this.mindMap.select&&!r&&this.mindMap.select.hasSelectRange())&&(this.getData("isActive")&&this.renderer.activeNodeList.length===1||(this.renderer.clearActiveNodeList(),this.active(t)),this.mindMap.emit("node_contextmenu",t,this)))})}active(t){this.mindMap.opt.readonly||(t&&t.stopPropagation(),!this.getData("isActive")&&(this.mindMap.emit("before_node_active",this,this.renderer.activeNodeList),this.renderer.clearActiveNodeList(),this.renderer.addNodeToActiveList(this,!0),this.renderer.emitNodeActiveEvent(this)))}deactivate(){this.mindMap.renderer.removeNodeFromActiveList(this),this.mindMap.renderer.emitNodeActiveEvent()}update(t){if(!this.group)return;this.updateNodeActiveClass();const{alwaysShowExpandBtn:n,notShowExpandBtn:r}=this.mindMap.opt;if(!r){const a=this.nodeData.children.length;if(n)this._expandBtn&&a<=0?this.removeExpandBtn():this.renderExpandBtn();else{let{isActive:i,expand:o}=this.getData();a<=0?this.removeExpandBtn():o&&!i&&!this._isMouseenter?this.hideExpandBtn():this.showExpandBtn()}}this.renderGeneralization(t),this.updateUserListNode&&this.updateUserListNode();let s=this.group.transform();this.left===s.translateX&&this.top===s.translateY||this.group.translate(this.left-s.translateX,this.top-s.translateY)}getNodePosInClient(t,n){let r=this.mindMap.draw.transform(),{scaleX:s,scaleY:a,translateX:i,translateY:o}=r,l=t*s+i,u=n*a+o;return{left:l,top:u}}checkIsInClient(t=0){const{left:n,top:r}=this.getNodePosInClient(this.left,this.top);return n+this.width>0-t&&r+this.height>0-t&&n<this.mindMap.width+t&&r<this.mindMap.height+t}reRender(){let t=this.getSize();return this.layout(),this.update(),t}updateNodeActiveClass(){if(!this.group)return;const t=this.getData("isActive");this.group[t?"addClass":"removeClass"]("active")}updateNodeByActive(t){this.group&&(t?this.showExpandBtn():this.hideExpandBtn(),this.updateNodeActiveClass())}render(t=()=>{},n=!1,r=!1){this.renderLine();const{openPerformance:s,performanceConfig:a}=this.mindMap.opt;if(n||!s||this.checkIsInClient(a.padding)||this.isRoot?this.group?(this.nodeDraw.has(this.group)||this.nodeDraw.add(this.group),this.needLayout&&(this.needLayout=!1,this.layout()),this.updateExpandBtnPlaceholderRect(),this.update(n)):(this.group=new ma,this.group.addClass("smm-node"),this.group.css({cursor:"default"}),this.bindGroupEvent(),this.nodeDraw.add(this.group),this.layout(),this.update(n)):s&&a.removeNodeWhenOutCanvas&&this.removeSelf(),this.children&&this.children.length&&this.getData("expand")!==!1){let i=0;this.children.forEach(o=>{const l=()=>{o.render(()=>{i++,i>=this.children.length&&t()},n,r)};r?setTimeout(l,0):l()})}else t();this.nodeData.inserting&&(delete this.nodeData.inserting,this.active(),this.mindMap.emit("node_dblclick",this,null,!0))}removeSelf(){this.group&&(this.group.remove(),this.removeGeneralization())}remove(){this.group&&(this.group.remove(),this.removeGeneralization(),this.removeLine(),this.children&&this.children.length&&this.children.forEach(t=>{t.remove()}))}destroy(){this.removeLine(),this.parent&&this.parent.removeLine(),this.group&&(this.emptyUser&&this.emptyUser(),this.resetWhenDelete(),this.group.remove(),this.removeGeneralization(),this.group=null,this.style.onRemove())}hide(){if(this.group.hide(),this.hideGeneralization(),this.parent){let t=this.parent.children.indexOf(this);this.parent._lines[t]&&this.parent._lines[t].hide(),this._lines.forEach(n=>{n.hide()})}this.children&&this.children.length&&this.children.forEach(t=>{t.hide()})}show(){if(this.group){if(this.group.show(),this.showGeneralization(),this.parent){let t=this.parent.children.indexOf(this);this.parent._lines[t]&&this.parent._lines[t].show(),this._lines.forEach(n=>{n.show()})}this.children&&this.children.length&&this.children.forEach(t=>{t.show()})}}setOpacity(t){this.group.opacity(t),this._lines.forEach(n=>{n.opacity(t)}),this.children.forEach(n=>{n.setOpacity(t)}),this.setGeneralizationOpacity(t)}hideChildren(){this._lines.forEach(t=>{t.hide()}),this.children&&this.children.length&&this.children.forEach(t=>{t.hide()})}showChildren(){this._lines.forEach(t=>{t.show()}),this.children&&this.children.length&&this.children.forEach(t=>{t.show()})}startDrag(){this.isDrag=!0,this.group.addClass("smm-node-dragging")}endDrag(){this.isDrag=!1,this.group.removeClass("smm-node-dragging")}renderLine(t=!1){if(this.getData("expand")===!1)return;let n=this.nodeData.children.length;this.mindMap.opt.layout===Le.LAYOUT.FISHBONE&&(this.isRoot||this.layerIndex===1)&&(n=0),n>this._lines.length?new Array(n-this._lines.length).fill(0).forEach(()=>{this._lines.push(this.lineDraw.path())}):n<this._lines.length&&(this._lines.slice(n).forEach(r=>{r.remove()}),this._lines=this._lines.slice(0,n)),this.renderer.layout.renderLine(this,this._lines,(...r)=>{this.styleLine(...r)},this.style.getStyle("lineStyle",!0)),t&&this.children&&this.children.length>0&&this.children.forEach(r=>{r.renderLine(t)})}getShape(){return this.mindMap.themeConfig.nodeUseLineStyle?Le.SHAPE.RECTANGLE:this.style.getStyle("shape",!1,!1)}hasCustomPosition(){return this.customLeft!==void 0&&this.customTop!==void 0}ancestorHasCustomPosition(){let t=this;for(;t;){if(t.hasCustomPosition())return!0;t=t.parent}return!1}ancestorHasGeneralization(){let t=this.parent;for(;t;){if(t.checkHasGeneralization())return!0;t=t.parent}return!1}addChildren(t){this.children.push(t)}styleLine(t,n,r){const s=n.getSelfInhertStyle("lineWidth")||n.getStyle("lineWidth",!0),a=n.getSelfInhertStyle("lineColor")||this.getRainbowLineColor(n)||n.getStyle("lineColor",!0),i=n.getSelfInhertStyle("lineDasharray")||n.getStyle("lineDasharray",!0);this.style.line(t,{width:s,color:a,dasharray:i},r,n)}getRainbowLineColor(t){return this.mindMap.rainbowLines?this.mindMap.rainbowLines.getNodeColor(t):""}removeLine(){this._lines.forEach(t=>{t.remove()}),this._lines=[]}isAncestor(t){if(this.uid===t.uid)return!1;let n=t.parent;for(;n;){if(this.uid===n.uid)return!0;n=n.parent}return!1}isParent(t){if(this.uid===t.uid)return!1;const n=t.parent;return!!(n&&this.uid===n.uid)}isBrother(t){return!this.parent||this.uid===t.uid?!1:this.parent.children.find(n=>n.uid===t.uid)}getIndexInBrothers(){return this.parent&&this.parent.children?this.parent.children.findIndex(t=>t.uid===this.uid):-1}getPaddingVale(){let{isActive:t}=this.getData();return{paddingX:this.getStyle("paddingX",!0,t),paddingY:this.getStyle("paddingY",!0,t)}}getStyle(t,n){let r=this.style.merge(t,n);return r===void 0?"":r}getSelfStyle(t){return this.style.getSelfStyle(t)}getParentSelfStyle(t){return this.parent?this.parent.getSelfStyle(t)||this.parent.getParentSelfStyle(t):null}getSelfInhertStyle(t){return this.getSelfStyle(t)||this.getParentSelfStyle(t)}getBorderWidth(){return this.style.merge("borderWidth",!1)||0}getData(t){return t?this.nodeData.data[t]:this.nodeData.data}getPureData(t=!0,n=!1){return Tp({},this,t,n)}getAncestorNodes(){const t=[];let n=this.parent;for(;n;)t.unshift(n),n=n.parent;return t}hasCustomStyle(){return this.style.hasCustomStyle()}getRect(){return this.group.rbox()}getRectInSvg(){let{scaleX:t,scaleY:n,translateX:r,translateY:s}=this.mindMap.draw.transform(),{left:a,top:i,width:o,height:l}=this,u=(a+o)*t+r,c=(i+l)*n+s;return a=a*t+r,i=i*n+s,{left:a,right:u,top:i,bottom:c,width:o*t,height:l*n}}highlight(){this.group&&this.group.addClass("smm-node-highlight")}closeHighlight(){this.group&&this.group.removeClass("smm-node-highlight")}fakeClone(){const t=new s9({...this.opt,uid:Vo()});return Object.keys(this).forEach(n=>{t[n]=this[n]}),t}createSvgTextNode(t=""){return new Ss().text(t)}};class Nbe{constructor(t){this.max=t||1e3,this.size=0,this.pool=new Map}add(t,n){return!this.has(t)&&this.size>=this.max?!1:(this.delete(t),this.pool.set(t,n),this.size++,!0)}delete(t){this.pool.has(t)&&(this.pool.delete(t),this.size--)}has(t){return this.pool.has(t)}get(t){if(this.pool.has(t))return this.pool.get(t)}clear(){this.size=0,this.pool=new Map}}class $c{constructor(t){this.renderer=t,this.mindMap=t.mindMap,this.draw=this.mindMap.draw,this.lineDraw=this.mindMap.lineDraw,this.root=null,this.lru=new Nbe(this.mindMap.opt.maxNodeCacheCount),this.rootNodeCenterOffset=null}doLayout(){throw new Error("computed")}renderLine(){throw new Error("renderLine")}renderExpandBtn(){throw new Error("renderExpandBtn")}renderGeneralization(){}cacheNode(t,n){this.renderer.nodeCache[t]=n,this.lru.add(t,n)}checkIsNeedResizeSources(){return[Le.CHANGE_THEME,Le.TRANSFORM_TO_NORMAL_NODE].includes(this.renderer.renderSource)}checkIsLayerTypeChange(t,n){if(t>=2&&n>=2)return!1;if(t>=2&&n<2||t<2&&n>=2)return!0}checkIsLayoutChangeRerenderExpandBtnPlaceholderRect(t){this.renderer.renderSource===Le.CHANGE_LAYOUT&&(t.needRerenderExpandBtnPlaceholderRect=!0)}getNumberInfo({parent:t,ancestors:n,layerIndex:r,index:s}){const a=!!this.mindMap.numbers,i=a&&t&&t._node.number?t._node.number:"",o=a?this.mindMap.numbers.getNodeNumberStr({ancestors:n,layerIndex:r,num:s+1,parentNumberStr:i}):"";return{hasNumberPlugin:a,newNumberStr:o}}createNode(t,n,r,s,a,i){const{hasNumberPlugin:o,newNumberStr:l}=this.getNumberInfo({parent:n,ancestors:i,layerIndex:s,index:a}),u=t.data.uid;let c=null;if(t&&t._node&&!this.renderer.reRender){c=t._node;const d=this.checkIsLayerTypeChange(c.layerIndex,s);c.reset(),c.layerIndex=s,r?c.isRoot=!0:c.parent=n._node,this.cacheNode(t._node.uid,c),this.checkIsLayoutChangeRerenderExpandBtnPlaceholderRect(c);let h=!1;o&&(h=this.mindMap.numbers.updateNumber(c,l)),(this.checkIsNeedResizeSources()||d||c.getData("resetRichText")||h)&&(c.getSize(),c.needLayout=!0),this.checkGetGeneralizationChange(c)}else if((this.lru.has(u)||this.renderer.lastNodeCache[u])&&!this.renderer.reRender){c=this.lru.get(u)||this.renderer.lastNodeCache[u];const d=JSON.stringify(c.getData()),h=this.checkIsLayerTypeChange(c.layerIndex,s);c.reset(),c.nodeData=c.handleData(t||{}),c.layerIndex=s,r?c.isRoot=!0:c.parent=n._node,this.cacheNode(u,c),this.checkIsLayoutChangeRerenderExpandBtnPlaceholderRect(c),t._node=c;const p=this.checkIsNeedResizeSources(),m=d!==JSON.stringify(t.data);let g=!1;o&&(g=this.mindMap.numbers.updateNumber(c,l)),(p||m||h||c.getData("resetRichText")||g)&&(c.getSize(),c.needLayout=!0),this.checkGetGeneralizationChange(c)}else{const d=u||Vo();c=new r9({data:t,uid:d,renderer:this.renderer,mindMap:this.mindMap,draw:this.draw,layerIndex:s,isRoot:r,parent:r?null:n._node,number:l}),t.data.uid=d,this.cacheNode(d,c),t._node=c}return t.data.isActive&&this.renderer.addNodeToActiveList(c),this.mindMap.renderer.findActiveNodeIndex(c)!==-1&&c.setData({isActive:!0}),r?this.root=c:n._node.addChildren(c),c}checkGetGeneralizationChange(t){const n=t.getData("generalization");n&&t._generalizationList&&t._generalizationList.length>0&&t._generalizationList.forEach((r,s)=>{const a=r.generalizationNode,i=a.getData(),o=n[s];o&&JSON.stringify(i)!==JSON.stringify(o)&&(a.nodeData.data=o,a.getSize(),a.needLayout=!0)})}formatPosition(t,n,r){return typeof t=="number"?t:tk[t]!==void 0?n*tk[t]:/^\d\d*%$/.test(t)?Number.parseFloat(t)/100*n:(n-r)/2}formatInitRootNodePosition(t){const{CENTER:n}=Le.INIT_ROOT_NODE_POSITION;return(!t||!Array.isArray(t)||t.length<2)&&(t=[n,n]),t}setNodeCenter(t,n){let{initRootNodePosition:r}=this.mindMap.opt;r=this.formatInitRootNodePosition(n||r),t.left=this.formatPosition(r[0],this.mindMap.width,t.width),t.top=this.formatPosition(r[1],this.mindMap.height,t.height)}getRootCenterOffset(t,n){if(this.rootNodeCenterOffset)return this.rootNodeCenterOffset;let{initRootNodePosition:r}=this.mindMap.opt;const{CENTER:s}=Le.INIT_ROOT_NODE_POSITION;if(r=this.formatInitRootNodePosition(r),r[0]===s&&r[1]===s)this.rootNodeCenterOffset={x:0,y:0};else{const a={width:t,height:n},i={width:t,height:n};this.setNodeCenter(a,[s,s]),this.setNodeCenter(i),this.rootNodeCenterOffset={x:i.left-a.left,y:i.top-a.top}}return this.rootNodeCenterOffset}updateChildren(t,n,r){t.forEach(s=>{s[n]+=r,s.children&&s.children.length&&!s.hasCustomPosition()&&this.updateChildren(s.children,n,r)})}updateChildrenPro(t,n){t.forEach(r=>{Object.keys(n).forEach(s=>{r[s]+=n[s]}),r.children&&r.children.length&&!r.hasCustomPosition()&&this.updateChildrenPro(r.children,n)})}getNodeAreaWidth(t,n=!1){let r=[],s=0,a=(i,o)=>{n&&i.checkHasGeneralization()&&(s+=i._generalizationNodeWidth),i.children.length?(o+=i.width/2,i.children.forEach(l=>{a(l,o)})):(o+=i.width,r.push(o))};return a(t,0),Math.max(...r)+s}quadraticCurvePath(t,n,r,s){let a=t+(r-t)*.2,i=n+(s-n)*.8;return`M ${t},${n} Q ${a},${i} ${r},${s}`}cubicBezierPath(t,n,r,s){let a=t+(r-t)/2;return`M ${t},${n} C ${a},${n} ${a},${s} ${r},${s}`}computeNewPoint(t,n,r=0){if(t[0]===n[0])return n[1]>t[1]?[n[0],n[1]-r]:[n[0],n[1]+r];if(t[1]===n[1])return n[0]>t[0]?[n[0]-r,n[1]]:[n[0]+r,n[1]]}createFoldLine(t){const{lineRadius:n}=this.mindMap.themeConfig,r=t.length;let s="",a="";if(r>=3&&n>0){const i=t[r-3],o=t[r-2],l=t[r-1];if(!(i[0]===o[0]&&o[0]===l[0]||i[1]===o[1]&&o[1]===l[1])){const c=this.computeNewPoint(i,o,n),d=this.computeNewPoint(l,o,n);a=`Q ${o[0]},${o[1]} ${d[0]},${d[1]}`,t.splice(r-2,1,c,a)}}return t.forEach((i,o)=>{if(typeof i=="string")s+=i;else{const[l,u]=i;o===0?s+=`M ${l},${u}`:s+=`L ${l},${u}`}}),s}getMarginX(t){const{themeConfig:n,opt:r}=this.mindMap,{second:s,node:a}=n,i=r.hoverRectPadding*2;return t===1?s.marginX+i:a.marginX+i}getMarginY(t){const{themeConfig:n,opt:r}=this.mindMap,{second:s,node:a}=n,i=r.hoverRectPadding*2;return t===1?s.marginY+i:a.marginY+i}getNodeWidthWithGeneralization(t){return Math.max(t.width,t.checkHasGeneralization()?t._generalizationNodeWidth:0)}getNodeHeightWithGeneralization(t){return Math.max(t.height,t.checkHasGeneralization()?t._generalizationNodeHeight:0)}getNodeBoundaries(t,n){let{generalizationLineMargin:r,generalizationNodeMargin:s}=this.mindMap.themeConfig,a=c=>{let d=1/0,h=-1/0,p=1/0,m=-1/0;c.children&&c.children.length>0&&c.children.forEach(v=>{let{left:y,right:b,top:w,bottom:_}=a(v),S=v.checkHasGeneralization()&&v.getData("expand")?v._generalizationNodeWidth+s:0,C=v.checkHasGeneralization()&&v.getData("expand")?v._generalizationNodeHeight+s:0;y-(n==="h"?S:0)<d&&(d=y-(n==="h"?S:0)),b+(n==="h"?S:0)>h&&(h=b+(n==="h"?S:0)),w<p&&(p=w),_+(n==="v"?C:0)>m&&(m=_+(n==="v"?C:0))});let g={left:c.left,right:c.left+c.width,top:c.top,bottom:c.top+c.height};return{left:g.left<d?g.left:d,right:g.right>h?g.right:h,top:g.top<p?g.top:p,bottom:g.bottom>m?g.bottom:m}},{left:i,right:o,top:l,bottom:u}=a(t);return{left:i,right:o,top:l,bottom:u,generalizationLineMargin:r,generalizationNodeMargin:s}}getChildrenBoundaries(t,n,r=0,s){let{generalizationLineMargin:a,generalizationNodeMargin:i}=this.mindMap.themeConfig;const o=t.children.slice(r,s+1);let l=1/0,u=-1/0,c=1/0,d=-1/0;return o.forEach(h=>{const p=this.getNodeBoundaries(h,n);l=p.left<l?p.left:l,u=p.right>u?p.right:u,c=p.top<c?p.top:c,d=p.bottom>d?p.bottom:d}),{left:l,right:u,top:c,bottom:d,generalizationLineMargin:a,generalizationNodeMargin:i}}getNodeGeneralizationRenderBoundaries(t,n){let r=null;return t.range?r=this.getChildrenBoundaries(t.node,n,t.range[0],t.range[1]):r=this.getNodeBoundaries(t.node,n),r}getNodeActChildrenLength(t){return t.nodeData.children&&t.nodeData.children.length}setLineStyle(t,n,r,s){n.plot(this.transformPath(r)),t&&t(n,s,!0)}transformPath(t){const{customTransformNodeLinePath:n}=this.mindMap.opt;return n?n(t):t}}class Ik extends $c{constructor(t={},n){super(t),this.isUseLeft=n===Le.LAYOUT.LOGICAL_STRUCTURE_LEFT}doLayout(t){Oc([()=>{this.computedBaseValue()},()=>{this.computedTopValue()},()=>{this.adjustTopValue()},()=>{t(this.root)}])}computedBaseValue(){let t=0;En(this.renderer.renderTree,null,(n,r,s,a,i,o)=>{let l=this.createNode(n,r,s,a,i,o);if(l.sortIndex=t,t++,s?this.setNodeCenter(l):this.isUseLeft?l.left=r._node.left-l.width-this.getMarginX(a):l.left=r._node.left+r._node.width+this.getMarginX(a),!n.data.expand)return!0},(n,r,s,a)=>{let i=n.data.expand===!1?0:n._node.children.length;n._node.childrenAreaHeight=i?n._node.children.reduce((l,u)=>l+u.height,0)+(i+1)*this.getMarginY(a+1):0;let o=n._node.checkHasGeneralization()?n._node._generalizationNodeHeight+this.getMarginY(a+1):0;n._node.childrenAreaHeight2=Math.max(n._node.childrenAreaHeight,o)},!0,0)}computedTopValue(){En(this.root,null,(t,n,r,s)=>{if(t.getData("expand")&&t.children&&t.children.length){let a=this.getMarginY(s+1),o=t.top+t.height/2-t.childrenAreaHeight/2+a;t.children.forEach(l=>{l.top=o,o+=l.height+a})}},null,!0)}adjustTopValue(){En(this.root,null,(t,n,r,s)=>{if(!t.getData("expand"))return;let a=t.childrenAreaHeight2-this.getMarginY(s+1)*2-t.height;a>0&&this.updateBrothers(t,a/2)},null,!0)}updateBrothers(t,n){if(t.parent){let r=t.parent.children,s=ts(t,r);r.forEach((a,i)=>{if(a.uid===t.uid||a.hasCustomPosition())return;let o=0;i<s?o=-n:i>s&&(o=n),a.top+=o,a.children&&a.children.length&&this.updateChildren(a.children,"top",o)}),this.updateBrothers(t.parent,n)}}renderLine(t,n,r,s){s==="curve"?this.renderLineCurve(t,n,r):s==="direct"?this.renderLineDirect(t,n,r):this.renderLineStraight(t,n,r)}renderLineStraight(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0);let h=(this.getMarginX(t.layerIndex+1)-l)*.6;this.isUseLeft&&(h*=-1);let p=this.mindMap.themeConfig.nodeUseLineStyle;t.children.forEach((m,g)=>{let v;this.isUseLeft?v=t.layerIndex===0?s:s-l:v=t.layerIndex===0?s+i:s+i+l;let y=a+o/2,b=this.isUseLeft?m.left+m.width:m.left,w=m.top+m.height/2,_=p?m.width*(this.isUseLeft?-1:1):0;y=p&&!t.isRoot?y+o/2:y,w=p?w+m.height/2:w;let S=this.createFoldLine([[v,y],[v+h,y],[v+h,w],[b+_,w]]);this.setLineStyle(r,n[g],S,m)})}renderLineDirect(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0);const{nodeUseLineStyle:d}=this.mindMap.themeConfig;t.children.forEach((h,p)=>{t.layerIndex===0&&(l=0);let m=this.isUseLeft?s-l:s+i+l,g=a+o/2,v=this.isUseLeft?h.left+h.width:h.left,y=h.top+h.height/2;g=d&&!t.isRoot?g+o/2:g,y=d?y+h.height/2:y;let b=d?` L ${this.isUseLeft?h.left:h.left+h.width},${y}`:"",w=`M ${m},${g} L ${v},${y}`+b;this.setLineStyle(r,n[p],w,h)})}renderLineCurve(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0);const{nodeUseLineStyle:d,rootLineStartPositionKeepSameInCurve:h,rootLineKeepSameInCurve:p}=this.mindMap.themeConfig;t.children.forEach((m,g)=>{t.layerIndex===0&&(l=0);let v;this.isUseLeft?v=t.layerIndex===0&&!h?s+i/2:s-l:v=t.layerIndex===0&&!h?s+i/2:s+i+l;let y=a+o/2,b=this.isUseLeft?m.left+m.width:m.left,w=m.top+m.height/2,_="";y=d&&!t.isRoot?y+o/2:y,w=d?w+m.height/2:w;let S;this.isUseLeft?S=d?` L ${m.left},${w}`:"":S=d?` L ${m.left+m.width},${w}`:"",t.isRoot&&!p?_=this.quadraticCurvePath(v,y,b,w)+S:_=this.cubicBezierPath(v,y,b,w)+S,this.setLineStyle(r,n[g],_,m)})}renderExpandBtn(t,n){let{width:r,height:s,expandBtnSize:a,layerIndex:i}=t;i===0&&(a=0);let{translateX:o,translateY:l}=n.transform(),u=this.mindMap.themeConfig.nodeUseLineStyle?s/2:0,c=this.isUseLeft?0-a:r,d=s/2+u;c===o&&d===l||n.translate(c-o,d-l)}renderGeneralization(t){t.forEach(n=>{let{left:r,top:s,bottom:a,right:i,generalizationLineMargin:o,generalizationNodeMargin:l}=this.getNodeGeneralizationRenderBoundaries(n,"h"),u=this.isUseLeft?r-o:i+o,c=u,d=s,h=u,p=a,m=c+(this.isUseLeft?-20:20),g=d+(p-d)/2,v=`M ${c},${d} Q ${m},${g} ${h},${p}`;n.generalizationLine.plot(v),n.generalizationNode.left=u+(this.isUseLeft?-l:l)-(this.isUseLeft?n.generalizationNode.width:0),n.generalizationNode.top=s+(a-s-n.generalizationNode.height)/2})}renderExpandBtnRect(t,n,r,s){this.isUseLeft?t.size(n,s).x(-n).y(0):t.size(n,s).x(r).y(0)}}let Ibe=class extends $c{constructor(t={}){super(t)}doLayout(t){Oc([()=>{this.computedBaseValue()},()=>{this.computedTopValue()},()=>{this.adjustTopValue()},()=>{t(this.root)}])}computedBaseValue(){En(this.renderer.renderTree,null,(t,n,r,s,a,i)=>{let o=this.createNode(t,n,r,s,a,i);if(r?this.setNodeCenter(o):(n._node.dir?o.dir=n._node.dir:o.dir=a%2===0?Le.LAYOUT_GROW_DIR.RIGHT:Le.LAYOUT_GROW_DIR.LEFT,o.left=o.dir===Le.LAYOUT_GROW_DIR.RIGHT?n._node.left+n._node.width+this.getMarginX(s):n._node.left-this.getMarginX(s)-o.width),!t.data.expand)return!0},(t,n,r,s)=>{if(!t.data.expand){t._node.leftChildrenAreaHeight=0,t._node.rightChildrenAreaHeight=0;return}let a=0,i=0,o=0,l=0;t._node.children.forEach(c=>{c.dir===Le.LAYOUT_GROW_DIR.LEFT?(a++,o+=c.height):(i++,l+=c.height)}),t._node.leftChildrenAreaHeight=o+(a+1)*this.getMarginY(s+1),t._node.rightChildrenAreaHeight=l+(i+1)*this.getMarginY(s+1);let u=t._node.checkHasGeneralization()?t._node._generalizationNodeHeight+this.getMarginY(s+1):0;t._node.leftChildrenAreaHeight2=Math.max(t._node.leftChildrenAreaHeight,u),t._node.rightChildrenAreaHeight2=Math.max(t._node.rightChildrenAreaHeight,u)},!0,0)}computedTopValue(){En(this.root,null,(t,n,r,s)=>{if(t.getData("expand")&&t.children&&t.children.length){let a=this.getMarginY(s+1),i=t.top+t.height/2+a,o=i-t.leftChildrenAreaHeight/2,l=i-t.rightChildrenAreaHeight/2;t.children.forEach(u=>{u.dir===Le.LAYOUT_GROW_DIR.LEFT?(u.top=o,o+=u.height+a):(u.top=l,l+=u.height+a)})}},null,!0)}adjustTopValue(){En(this.root,null,(t,n,r,s)=>{if(!t.getData("expand"))return;let a=this.getMarginY(s+1)*2+t.height,i=t.leftChildrenAreaHeight2-a,o=t.rightChildrenAreaHeight2-a;(i>0||o>0)&&this.updateBrothers(t,i/2,o/2)},null,!0)}updateBrothers(t,n,r){if(t.parent){let s=t.parent.children.filter(i=>i.dir===t.dir),a=ts(t,s);s.forEach((i,o)=>{if(i.hasCustomPosition())return;let l=0,u=i.dir===Le.LAYOUT_GROW_DIR.LEFT?n:r;o<a?l=-u:o>a&&(l=u),i.top+=l,i.children&&i.children.length&&this.updateChildren(i.children,"top",l)}),this.updateBrothers(t.parent,n,r)}}renderLine(t,n,r,s){s==="curve"?this.renderLineCurve(t,n,r):s==="direct"?this.renderLineDirect(t,n,r):this.renderLineStraight(t,n,r)}renderLineStraight(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0);let h=(this.getMarginX(t.layerIndex+1)-l)*.6,p=this.mindMap.themeConfig.nodeUseLineStyle;t.children.forEach((m,g)=>{let v=0,y=0,b=p?m.width:0;m.dir===Le.LAYOUT_GROW_DIR.LEFT?(y=-h,v=t.layerIndex===0?s:s-l,b=-b):(y=h,v=t.layerIndex===0?s+i:s+i+l);let w=a+o/2,_=m.dir===Le.LAYOUT_GROW_DIR.LEFT?m.left+m.width:m.left,S=m.top+m.height/2;w=p&&!t.isRoot?w+o/2:w,S=p?S+m.height/2:S;let C=this.createFoldLine([[v,w],[v+y,w],[v+y,S],[_+b,S]]);this.setLineStyle(r,n[g],C,m)})}renderLineDirect(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0);const{nodeUseLineStyle:d}=this.mindMap.themeConfig;t.children.forEach((h,p)=>{t.layerIndex===0&&(l=0);let m=h.dir===Le.LAYOUT_GROW_DIR.LEFT?s-l:s+i+l,g=a+o/2,v=h.dir===Le.LAYOUT_GROW_DIR.LEFT?h.left+h.width:h.left,y=h.top+h.height/2;g=d&&!t.isRoot?g+o/2:g,y=d?y+h.height/2:y;let b="";d&&(h.dir===Le.LAYOUT_GROW_DIR.LEFT?b=` L ${h.left},${y}`:b=` L ${h.left+h.width},${y}`);let w=`M ${m},${g} L ${v},${y}`+b;this.setLineStyle(r,n[p],w,h)})}renderLineCurve(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0);const{nodeUseLineStyle:d,rootLineKeepSameInCurve:h,rootLineStartPositionKeepSameInCurve:p}=this.mindMap.themeConfig;t.children.forEach((m,g)=>{t.layerIndex===0&&(l=0);let v=t.layerIndex===0&&!p?s+i/2:m.dir===Le.LAYOUT_GROW_DIR.LEFT?s-l:s+i+l,y=a+o/2,b=m.dir===Le.LAYOUT_GROW_DIR.LEFT?m.left+m.width:m.left,w=m.top+m.height/2,_="";y=d&&!t.isRoot?y+o/2:y,w=d?w+m.height/2:w;let S="";d&&(m.dir===Le.LAYOUT_GROW_DIR.LEFT?S=` L ${m.left},${w}`:S=` L ${m.left+m.width},${w}`),t.isRoot&&!h?_=this.quadraticCurvePath(v,y,b,w)+S:_=this.cubicBezierPath(v,y,b,w)+S,this.setLineStyle(r,n[g],_,m)})}renderExpandBtn(t,n){let{width:r,height:s,expandBtnSize:a}=t,{translateX:i,translateY:o}=n.transform(),l=this.mindMap.themeConfig.nodeUseLineStyle?s/2:0,u=t.dir===Le.LAYOUT_GROW_DIR.LEFT?0-a:r,c=s/2+l;if(u===i&&c===o)return;let d=u-i,h=c-o;n.translate(d,h)}renderGeneralization(t){t.forEach(n=>{let r=n.node.dir===Le.LAYOUT_GROW_DIR.LEFT,{top:s,bottom:a,left:i,right:o,generalizationLineMargin:l,generalizationNodeMargin:u}=this.getNodeGeneralizationRenderBoundaries(n,"h"),c=r?i-l:o+l,d=c,h=s,p=c,m=a,g=d+(r?-20:20),v=h+(m-h)/2,y=`M ${d},${h} Q ${g},${v} ${p},${m}`;n.generalizationLine.plot(y),n.generalizationNode.left=c+(r?-u:u)-(r?n.generalizationNode.width:0),n.generalizationNode.top=s+(a-s-n.generalizationNode.height)/2})}renderExpandBtnRect(t,n,r,s,a){a.dir===Le.LAYOUT_GROW_DIR.LEFT?t.size(n,s).x(-n).y(0):t.size(n,s).x(r).y(0)}};class Obe extends $c{constructor(t={}){super(t)}doLayout(t){Oc([()=>{this.computedBaseValue()},()=>{this.computedLeftTopValue()},()=>{this.adjustLeftTopValue()},()=>{t(this.root)}])}computedBaseValue(){En(this.renderer.renderTree,null,(t,n,r,s,a,i)=>{let o=this.createNode(t,n,r,s,a,i);if(r?this.setNodeCenter(o):n._node.isRoot&&(o.top=n._node.top+n._node.height+this.getMarginX(s)),!t.data.expand)return!0},(t,n,r,s)=>{if(r){let a=t.data.expand===!1?0:t._node.children.length;t._node.childrenAreaWidth=a?t._node.children.reduce((i,o)=>i+o.width,0)+(a+1)*this.getMarginX(s+1):0}},!0,0)}computedLeftTopValue(){En(this.root,null,(t,n,r,s)=>{if(t.getData("expand")&&t.children&&t.children.length){let a=this.getMarginX(s+1),i=this.getMarginY(s+1);if(r){let l=t.left+t.width/2-t.childrenAreaWidth/2+a;t.children.forEach(u=>{u.left=l,l+=u.width+a})}else{let o=t.top+this.getNodeHeightWithGeneralization(t)+i+(this.getNodeActChildrenLength(t)>0?t.expandBtnSize:0);t.children.forEach(l=>{l.left=t.left+t.width*.5,l.top=o,o+=this.getNodeHeightWithGeneralization(l)+i+(this.getNodeActChildrenLength(l)>0?l.expandBtnSize:0)})}}},null,!0)}adjustLeftTopValue(){En(this.root,null,(t,n,r,s)=>{if(!t.getData("expand"))return;if(n&&n.isRoot){let o=this.getNodeAreaWidth(t,!0)-t.width;o>0&&this.updateBrothersLeft(t,o)}let a=t.children.length;if(n&&!n.isRoot&&a>0){let i=this.getMarginY(s+1),o=t.children.reduce((l,u)=>l+this.getNodeHeightWithGeneralization(u)+(this.getNodeActChildrenLength(u)>0?u.expandBtnSize:0),0)+a*i;this.updateBrothersTop(t,o)}},(t,n,r)=>{if(r){let{right:s,left:a}=this.getNodeBoundaries(t,"h"),i=s-a,o=t.left-a-(i-t.width)/2;this.updateChildren(t.children,"left",o)}},!0)}updateBrothersLeft(t,n){if(t.parent){let r=t.parent.children,s=ts(t,r);r.forEach((a,i)=>{a.hasCustomPosition()||i<=s||(a.left+=n,a.children&&a.children.length&&this.updateChildren(a.children,"left",n))}),this.updateBrothersLeft(t.parent,n)}}updateBrothersTop(t,n){if(t.parent&&!t.parent.isRoot){let r=t.parent.children,s=ts(t,r);r.forEach((a,i)=>{if(a.hasCustomPosition())return;let o=0;i>s&&(o=n),a.top+=o,a.children&&a.children.length&&this.updateChildren(a.children,"top",o)}),this.updateBrothersTop(t.parent,n)}}renderLine(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0);let d=t.children.length,h=this.getMarginX(t.layerIndex+1);if(t.isRoot){let p=s+i/2,m=a+o,g=h*.7,v=1/0,y=-1/0;t.children.forEach((w,_)=>{let S=w.left+w.width/2,C=w.top;S<v&&(v=S),S>y&&(y=S);let T=this.mindMap.themeConfig.nodeUseLineStyle?` L ${w.left},${C} L ${w.left+w.width},${C}`:"",x=`M ${S},${m+g} L ${S},${m+g>C?C+w.height:C}`+T;this.setLineStyle(r,n[_],x,w)}),v=Math.min(v,p),y=Math.max(y,p);let b=this.lineDraw.path();if(t.style.line(b),b.plot(this.transformPath(`M ${p},${m} L ${p},${m+g}`)),t._lines.push(b),r&&r(b,t),d>0){let w=this.lineDraw.path();t.style.line(w),w.plot(this.transformPath(`M ${v},${m+g} L ${y},${m+g}`)),t._lines.push(w),r&&r(w,t)}}else{let p=a+o,m=-1/0,g=t.left+t.width*.3;if(t.children.forEach((v,y)=>{let b=v.top+v.height/2;b>m&&(m=b);let w="",_=v.left,S=v.left+v.width<g,C=!1;S?_=v.left+v.width:v.left<g&&v.left+v.width>g&&(C=!0,b=v.top,m=b),b>a&&b<p?w=`M ${S?t.left:t.left+t.width},${b} L ${_},${b}`:b<p?(C&&(b=v.top+v.height,_=g),w=`M ${g},${a} L ${g},${b} L ${_},${b}`):(C&&(_=g),w=`M ${g},${b} L ${_},${b}`);let T=this.mindMap.themeConfig.nodeUseLineStyle?` L ${_},${b-v.height/2} L ${_},${b+v.height/2}`:"";w+=T,this.setLineStyle(r,n[y],w,v)}),d>0){let v=this.lineDraw.path();l=d>0?l:0,t.style.line(v),m<p+l?v.hide():(v.plot(this.transformPath(`M ${g},${p+l} L ${g},${m}`)),v.show()),t._lines.push(v),r&&r(v,t)}}}renderExpandBtn(t,n){let{width:r,height:s,expandBtnSize:a,isRoot:i}=t;if(!i){let{translateX:o,translateY:l}=n.transform();n.translate(r*.3-a/2-o,s+a/2-l)}}renderGeneralization(t){t.forEach(n=>{let{top:r,bottom:s,right:a,generalizationLineMargin:i,generalizationNodeMargin:o}=this.getNodeGeneralizationRenderBoundaries(n,"h"),l=a+i,u=r,c=a+i,d=s,h=l+20,p=u+(d-u)/2,m=`M ${l},${u} Q ${h},${p} ${c},${d}`;n.generalizationLine.plot(this.transformPath(m)),n.generalizationNode.left=a+o,n.generalizationNode.top=r+(s-r-n.generalizationNode.height)/2})}renderExpandBtnRect(t,n,r,s,a){t.size(r,n).x(0).y(s)}}class $be extends $c{constructor(t={}){super(t)}doLayout(t){Oc([()=>{this.computedBaseValue()},()=>{this.computedLeftValue()},()=>{this.adjustLeftValue()},()=>{t(this.root)}])}computedBaseValue(){En(this.renderer.renderTree,null,(t,n,r,s,a,i)=>{let o=this.createNode(t,n,r,s,a,i);if(r?this.setNodeCenter(o):o.top=n._node.top+n._node.height+this.getMarginX(s),!t.data.expand)return!0},(t,n,r,s)=>{let a=t.data.expand===!1?0:t._node.children.length;t._node.childrenAreaWidth=a?t._node.children.reduce((o,l)=>o+l.width,0)+(a+1)*this.getMarginY(s+1):0;let i=t._node.checkHasGeneralization()?t._node._generalizationNodeWidth+this.getMarginY(s+1):0;t._node.childrenAreaWidth2=Math.max(t._node.childrenAreaWidth,i)},!0,0)}computedLeftValue(){En(this.root,null,(t,n,r,s)=>{if(t.getData("expand")&&t.children&&t.children.length){let a=this.getMarginY(s+1),o=t.left+t.width/2-t.childrenAreaWidth/2+a;t.children.forEach(l=>{l.left=o,o+=l.width+a})}},null,!0)}adjustLeftValue(){En(this.root,null,(t,n,r,s)=>{if(!t.getData("expand"))return;let a=t.childrenAreaWidth2-this.getMarginY(s+1)*2-t.width;a>0&&this.updateBrothers(t,a/2)},null,!0)}updateBrothers(t,n){if(t.parent){let r=t.parent.children,s=ts(t,r);r.forEach((a,i)=>{if(a.hasCustomPosition())return;let o=0;i<s?o=-n:i>s&&(o=n),a.left+=o,a.children&&a.children.length&&this.updateChildren(a.children,"left",o)}),this.updateBrothers(t.parent,n)}}renderLine(t,n,r,s){s==="direct"?this.renderLineDirect(t,n,r):this.renderLineStraight(t,n,r)}renderLineDirect(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o}=t;const{nodeUseLineStyle:l}=this.mindMap.themeConfig;let u=s+i/2,c=a+o;t.children.forEach((d,h)=>{let p=d.left+d.width/2,m=d.top,g=l?` L ${d.left},${m} L ${d.left+d.width},${m}`:"",v=`M ${u},${c} L ${p},${m}`+g;this.setLineStyle(r,n[h],v,d)})}renderLineStraight(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l,isRoot:u}=t;const{alwaysShowExpandBtn:c,notShowExpandBtn:d}=this.mindMap.opt;(!c||d)&&(l=0);let h=s+i/2,p=a+o,g=this.getMarginX(t.layerIndex+1)*.7,v=1/0,y=-1/0,b=t.children.length;t.children.forEach((_,S)=>{let C=_.left+_.width/2,T=p+g>_.top?_.top+_.height:_.top;C<v&&(v=C),C>y&&(y=C);let x=this.mindMap.themeConfig.nodeUseLineStyle?` L ${_.left},${T} L ${_.left+_.width},${T}`:"",N=`M ${C},${p+g} L ${C},${T}`+x;this.setLineStyle(r,n[S],N,_)}),v=Math.min(h,v),y=Math.max(h,y);let w=this.lineDraw.path();if(t.style.line(w),l=b>0&&!u?l:0,w.plot(this.transformPath(`M ${h},${p+l} L ${h},${p+g}`)),t._lines.push(w),r&&r(w,t),b>0){let _=this.lineDraw.path();t.style.line(_),_.plot(this.transformPath(`M ${v},${p+g} L ${y},${p+g}`)),t._lines.push(_),r&&r(_,t)}}renderExpandBtn(t,n){let{width:r,height:s,expandBtnSize:a}=t,{translateX:i,translateY:o}=n.transform();n.translate(r/2-a/2-i,s+a/2-o)}renderGeneralization(t){t.forEach(n=>{let{bottom:r,left:s,right:a,generalizationLineMargin:i,generalizationNodeMargin:o}=this.getNodeGeneralizationRenderBoundaries(n,"v"),l=s,u=r+i,c=a,d=r+i,h=l+(c-l)/2,p=u+20,m=`M ${l},${u} Q ${h},${p} ${c},${d}`;n.generalizationLine.plot(this.transformPath(m)),n.generalizationNode.top=r+o,n.generalizationNode.left=s+(a-s-n.generalizationNode.width)/2})}renderExpandBtnRect(t,n,r,s,a){t.size(r,n).x(0).y(s)}}class Ok extends $c{constructor(t={},n){super(t),this.layout=n}doLayout(t){Oc([()=>{this.computedBaseValue()},()=>{this.computedLeftTopValue()},()=>{this.adjustLeftTopValue()},()=>{t(this.root)}])}computedBaseValue(){En(this.renderer.renderTree,null,(t,n,r,s,a,i)=>{let o=this.createNode(t,n,r,s,a,i);if(r?this.setNodeCenter(o):(this.layout===Le.LAYOUT.TIMELINE2?n._node.dir?o.dir=n._node.dir:o.dir=a%2===0?Le.LAYOUT_GROW_DIR.BOTTOM:Le.LAYOUT_GROW_DIR.TOP:o.dir="",n._node.isRoot&&(o.top=n._node.top+(t._node.height>n._node.height?-(t._node.height-n._node.height)/2:(n._node.height-t._node.height)/2))),!t.data.expand)return!0},null,!0,0)}computedLeftTopValue(){En(this.root,null,(t,n,r,s,a)=>{if(t.getData("expand")&&t.children&&t.children.length){let i=this.getMarginX(s+1),o=this.getMarginY(s+1);if(r){let u=t.left+t.width+i;t.children.forEach(c=>{c.left=u,u+=c.width+i})}else{let l=t.top+t.height+o+(this.getNodeActChildrenLength(t)>0?t.expandBtnSize:0);t.children.forEach(u=>{u.left=t.left+t.width*.5,u.top=l,l+=u.height+o+(this.getNodeActChildrenLength(u)>0?u.expandBtnSize:0)})}}},null,!0)}adjustLeftTopValue(){En(this.root,null,(t,n,r,s)=>{if(!t.getData("expand"))return;t.isRoot&&this.updateBrothersLeft(t);let a=t.children.length;if(n&&!n.isRoot&&a>0){let i=this.getMarginY(s+1),o=t.children.reduce((l,u)=>l+u.height+(this.getNodeActChildrenLength(u)>0?u.expandBtnSize:0),0)+a*i;this.updateBrothersTop(t,o)}},(t,n,r,s)=>{n&&n.isRoot&&t.dir===Le.LAYOUT_GROW_DIR.TOP&&t.children.forEach(a=>{let i=this.getNodeAreaHeight(a),o=a.top;a.top=t.top-(a.top-t.top)-i+t.height,this.updateChildren(a.children,"top",a.top-o)})},!0)}getNodeAreaHeight(t){let n=0,r=s=>{n+=s.height+(this.getNodeActChildrenLength(s)>0?s.expandBtnSize:0)+this.getMarginY(s.layerIndex),s.children.length&&s.children.forEach(a=>{r(a)})};return r(t),n}updateBrothersLeft(t){let n=t.children,r=0;n.forEach(s=>{s.left+=r,s.children&&s.children.length&&this.updateChildren(s.children,"left",r);let{left:a,right:i}=this.getNodeBoundaries(s,"h"),l=i-a-s.width;l>0&&(r+=l)})}updateBrothersTop(t,n){if(t.parent&&!t.parent.isRoot){let r=t.parent.children,s=ts(t,r);r.forEach((a,i)=>{if(a.hasCustomPosition())return;let o=0;i>s&&(o=n),a.top+=o,a.children&&a.children.length&&this.updateChildren(a.children,"top",o)}),this.updateBrothersTop(t.parent,n)}}renderLine(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0);let d=t.children.length;if(t.isRoot){let h=t;t.children.forEach((p,m)=>{let g=h.left+h.width,v=p.left,y=t.top+t.height/2,b=`M ${g},${y} L ${v},${y}`;this.setLineStyle(r,n[m],b,p),h=p})}else{let h=-1/0,p=1/0,m=t.left+t.width*.3;if(t.children.forEach((g,v)=>{let y=g.top+g.height/2;y>h&&(h=y),y<p&&(p=y);let b=`M ${m},${y} L ${g.left},${y}`;this.setLineStyle(r,n[v],b,g)}),d>0){let g=this.lineDraw.path();l=d>0?l:0,t.parent&&t.parent.isRoot&&t.dir===Le.LAYOUT_GROW_DIR.TOP?g.plot(this.transformPath(`M ${m},${a} L ${m},${p}`)):g.plot(this.transformPath(`M ${m},${a+o+l} L ${m},${h}`)),t.style.line(g),t._lines.push(g),r&&r(g,t)}}}renderExpandBtn(t,n){let{width:r,height:s,expandBtnSize:a,isRoot:i}=t;if(!i){let{translateX:o,translateY:l}=n.transform();t.parent&&t.parent.isRoot&&t.dir===Le.LAYOUT_GROW_DIR.TOP?n.translate(r*.3-a/2-o,-a/2-l):n.translate(r*.3-a/2-o,s+a/2-l)}}renderGeneralization(t){t.forEach(n=>{let{top:r,bottom:s,right:a,generalizationLineMargin:i,generalizationNodeMargin:o}=this.getNodeGeneralizationRenderBoundaries(n,"h"),l=a+i,u=r,c=a+i,d=s,h=l+20,p=u+(d-u)/2,m=`M ${l},${u} Q ${h},${p} ${c},${d}`;n.generalizationLine.plot(this.transformPath(m)),n.generalizationNode.left=a+o,n.generalizationNode.top=r+(s-r-n.generalizationNode.height)/2})}renderExpandBtnRect(t,n,r,s,a){if(this.layout===Le.LAYOUT.TIMELINE)t.size(r,n).x(0).y(s);else{let i="";a.dir===Le.LAYOUT_GROW_DIR.TOP?i=a.layerIndex===1?Le.LAYOUT_GROW_DIR.TOP:Le.LAYOUT_GROW_DIR.BOTTOM:i=Le.LAYOUT_GROW_DIR.BOTTOM,i===Le.LAYOUT_GROW_DIR.TOP?t.size(r,n).x(0).y(-n):t.size(r,n).x(0).y(s)}}}class Abe extends $c{constructor(t={},n){super(t),this.layout=n}doLayout(t){Oc([()=>{this.computedBaseValue()},()=>{this.computedTopValue()},()=>{this.adjustLeftTopValue()},()=>{t(this.root)}])}computedBaseValue(){En(this.renderer.renderTree,null,(t,n,r,s,a,i)=>{let o=this.createNode(t,n,r,s,a,i);if(r?this.setNodeCenter(o):(n._node.dir?o.dir=n._node.dir:o.dir=a%2===0?Le.LAYOUT_GROW_DIR.RIGHT:Le.LAYOUT_GROW_DIR.LEFT,n._node.isRoot?o.left=n._node.left+(t._node.width>n._node.width?-(t._node.width-n._node.width)/2:(n._node.width-t._node.width)/2):o.left=o.dir===Le.LAYOUT_GROW_DIR.RIGHT?n._node.left+n._node.width+this.getMarginX(s):n._node.left-this.getMarginX(s)-o.width),!t.data.expand)return!0},(t,n,r,s)=>{if(r)return;let a=t.data.expand===!1?0:t._node.children.length;t._node.childrenAreaHeight=a?t._node.children.reduce((i,o)=>i+o.height,0)+(a+1)*this.getMarginY(s+1):0},!0,0)}computedTopValue(){En(this.root,null,(t,n,r,s,a)=>{if(t.getData("expand")&&t.children&&t.children.length){let i=this.getMarginY(s+1);if(r){let l=t.top+t.height+i;t.children.forEach(u=>{u.top=l,l+=u.height+i})}else{let o=this.getMarginY(s+1),u=t.top+t.height/2+o-t.childrenAreaHeight/2;t.children.forEach(c=>{c.top=u,u+=c.height+o})}}},null,!0)}adjustLeftTopValue(){En(this.root,null,(t,n,r,s)=>{if(!t.getData("expand")||r)return;let a=this.getMarginY(s+1)*2+t.height,i=t.childrenAreaHeight-a;i>0&&this.updateBrothers(t,i/2)},null,!0)}updateBrothers(t,n){if(t.parent){let r=t.parent.children,s=ts(t,r);r.forEach((a,i)=>{if(a.hasCustomPosition()||!t.parent.isRoot&&a.uid===t.uid)return;let o=0;t.parent.isRoot?i<s?o=0:i>s?o=n*2:o=n:i<s?o=-n:i>s&&(o=n),a.top+=o,a.children&&a.children.length&&this.updateChildren(a.children,"top",o)}),this.updateBrothers(t.parent,n)}}updateBrothersTop(t,n){if(t.parent&&!t.parent.isRoot){let r=t.parent.children,s=ts(t,r);r.forEach((a,i)=>{if(a.hasCustomPosition())return;let o=0;i>s&&(o=n),a.top+=o,a.children&&a.children.length&&this.updateChildren(a.children,"top",o)}),this.updateBrothersTop(t.parent,n)}}renderLine(t,n,r,s){s==="curve"?this.renderLineCurve(t,n,r):s==="direct"?this.renderLineDirect(t,n,r):this.renderLineStraight(t,n,r)}renderLineStraight(t,n,r){if(t.children.length<=0)return[];let{expandBtnSize:s}=t;const{alwaysShowExpandBtn:a,notShowExpandBtn:i}=this.mindMap.opt;if((!a||i)&&(s=0),t.isRoot){let o=t;t.children.forEach((l,u)=>{let c=o.top+o.height,d=l.top,h=t.left+t.width/2,p=`M ${h},${c} L ${h},${d}`;this.setLineStyle(r,n[u],p,l),o=l})}else if(t.dir===Le.LAYOUT_GROW_DIR.RIGHT){let o=t.left+t.width,l=t.top+t.height/2,c=(this.getMarginX(t.layerIndex+1)-s)*.6;t.children.forEach((d,h)=>{let p=d.left,m=d.top+d.height/2,g=this.createFoldLine([[o,l],[o+c,l],[o+c,m],[p,m]]);this.setLineStyle(r,n[h],g,d)})}else{let o=t.left,l=t.top+t.height/2,c=(this.getMarginX(t.layerIndex+1)-s)*.6;t.children.forEach((d,h)=>{let p=d.left+d.width,m=d.top+d.height/2,g=this.createFoldLine([[o,l],[o-c,l],[o-c,m],[p,m]]);this.setLineStyle(r,n[h],g,d)})}}renderLineDirect(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0),t.children.forEach((d,h)=>{if(t.isRoot){let p=t;t.children.forEach((m,g)=>{let v=p.top+p.height,y=m.top,b=t.left+t.width/2,w=`M ${b},${v} L ${b},${y}`;this.setLineStyle(r,n[g],w,m),p=m})}else{let p=d.dir===Le.LAYOUT_GROW_DIR.LEFT?s-l:s+i+l,m=a+o/2,g=d.dir===Le.LAYOUT_GROW_DIR.LEFT?d.left+d.width:d.left,v=d.top+d.height/2,y=`M ${p},${m} L ${g},${v}`;this.setLineStyle(r,n[h],y,d)}})}renderLineCurve(t,n,r){if(t.children.length<=0)return[];let{left:s,top:a,width:i,height:o,expandBtnSize:l}=t;const{alwaysShowExpandBtn:u,notShowExpandBtn:c}=this.mindMap.opt;(!u||c)&&(l=0),t.children.forEach((d,h)=>{if(t.isRoot){let p=t;t.children.forEach((m,g)=>{let v=p.top+p.height,y=m.top,b=t.left+t.width/2,w=`M ${b},${v} L ${b},${y}`;this.setLineStyle(r,n[g],w,m),p=m})}else{let p=d.dir===Le.LAYOUT_GROW_DIR.LEFT?s-l:s+i+l,m=a+o/2,g=d.dir===Le.LAYOUT_GROW_DIR.LEFT?d.left+d.width:d.left,v=d.top+d.height/2,y=this.cubicBezierPath(p,m,g,v);this.setLineStyle(r,n[h],y,d)}})}renderExpandBtn(t,n){let{width:r,height:s,expandBtnSize:a,isRoot:i}=t;if(!i){let{translateX:o,translateY:l}=n.transform();t.dir===Le.LAYOUT_GROW_DIR.RIGHT?n.translate(r-o,s/2-l):n.translate(-a-o,s/2-l)}}renderGeneralization(t){t.forEach(n=>{let r=n.node.dir===Le.LAYOUT_GROW_DIR.LEFT,{top:s,bottom:a,left:i,right:o,generalizationLineMargin:l,generalizationNodeMargin:u}=this.getNodeGeneralizationRenderBoundaries(n,"h"),c=r?i-l:o+l,d=c,h=s,p=c,m=a,g=d+(r?-20:20),v=h+(m-h)/2,y=`M ${d},${h} Q ${g},${v} ${p},${m}`;n.generalizationLine.plot(this.transformPath(y)),n.generalizationNode.left=c+(r?-u:u)-(r?n.generalizationNode.width:0),n.generalizationNode.top=s+(a-s-n.generalizationNode.height)/2})}renderExpandBtnRect(t,n,r,s,a){a.dir===Le.LAYOUT_GROW_DIR.LEFT?t.size(n,s).x(-n).y(0):t.size(n,s).x(r).y(0)}}const Fi={top:{renderExpandBtn({node:e,btn:t,expandBtnSize:n,translateX:r,translateY:s,width:a,height:i}){e.parent&&e.parent.isRoot?t.translate(a*.3-n/2-r,-n/2-s):t.translate(a*.3-n/2-r,i+n/2-s)},renderLine({node:e,line:t,top:n,x:r,lineLength:s,height:a,expandBtnSize:i,maxy:o,ctx:l}){e.parent&&e.parent.isRoot?t.plot(l.transformPath(`M ${r},${n} L ${r+s},${n-Math.tan(dd(l.mindMap.opt.fishboneDeg))*s}`)):t.plot(l.transformPath(`M ${r},${n+a+i} L ${r},${o}`))},computedLeftTopValue({layerIndex:e,node:t,ctx:n}){if(e>=1&&t.children){let r=n.getMarginY(e+1),s=t.left+t.width*n.childIndent,a=t.top+t.height+(n.getNodeActChildrenLength(t)>0?t.expandBtnSize:0)+r;t.children.forEach(i=>{i.left=s,i.top+=a,a+=i.height+(n.getNodeActChildrenLength(i)>0?i.expandBtnSize:0)+r})}},adjustLeftTopValueBefore({node:e,parent:t,ctx:n,layerIndex:r}){let s=e.children.length,a=n.getMarginY(r+1);if(t&&!t.isRoot&&s>0){let i=e.children.reduce((o,l)=>o+l.height+(n.getNodeActChildrenLength(l)>0?l.expandBtnSize:0)+a,0);n.updateBrothersTop(e,i)}},adjustLeftTopValueAfter({parent:e,node:t,ctx:n}){if(e&&e.isRoot){let r=n.getMarginY(t.layerIndex+1),s=t.expandBtnSize+r;t.children.forEach(a=>{let i=n.getNodeAreaHeight(a),o=a.top,l=a.left;a.top=t.top-(a.top-t.top)-i+t.height,a.left=t.left+t.width*n.indent+(i+s)/Math.tan(dd(n.mindMap.opt.fishboneDeg)),s+=i,n.updateChildrenPro(a.children,{top:a.top-o,left:a.left-l})})}}},bottom:{renderExpandBtn({node:e,btn:t,expandBtnSize:n,translateX:r,translateY:s,width:a,height:i}){e.parent&&e.parent.isRoot?t.translate(a*.3-n/2-r,i+n/2-s):t.translate(a*.3-n/2-r,-n/2-s)},renderLine({node:e,line:t,top:n,x:r,lineLength:s,height:a,miny:i,ctx:o}){e.parent&&e.parent.isRoot?t.plot(o.transformPath(`M ${r},${n+a} L ${r+s},${n+a+Math.tan(dd(o.mindMap.opt.fishboneDeg))*s}`)):t.plot(o.transformPath(`M ${r},${n} L ${r},${i}`))},computedLeftTopValue({layerIndex:e,node:t,ctx:n}){let r=n.getMarginY(e+1);if(e===1&&t.children){let s=t.left+t.width*n.childIndent,a=t.top+t.height+(n.getNodeActChildrenLength(t)>0?t.expandBtnSize:0)+r;t.children.forEach(i=>{i.left=s,i.top=a+(n.getNodeActChildrenLength(i)>0?i.expandBtnSize:0),a+=i.height+(n.getNodeActChildrenLength(i)>0?i.expandBtnSize:0)+r})}if(e>1&&t.children){let s=t.left+t.width*n.childIndent,a=t.top-(n.getNodeActChildrenLength(t)>0?t.expandBtnSize:0)-r;t.children.forEach(i=>{i.left=s,i.top=a-i.height,a-=i.height+(n.getNodeActChildrenLength(i)>0?i.expandBtnSize:0)+r})}},adjustLeftTopValueBefore({node:e,ctx:t,layerIndex:n}){let r=t.getMarginY(n+1),s=e.children.length;if(n>2&&s>0){let a=e.children.reduce((i,o)=>i+o.height+(t.getNodeActChildrenLength(o)>0?o.expandBtnSize:0)+r,0);t.updateBrothersTop(e,-a)}},adjustLeftTopValueAfter({parent:e,node:t,ctx:n}){if(e&&e.isRoot){let r=n.getMarginY(t.layerIndex+1),s=0,a=t.expandBtnSize;t.children.forEach(i=>{let o=n.getNodeActChildrenLength(i)>0,l=n.getNodeAreaHeight(i),u=o?l-i.height-(o?i.expandBtnSize:0):0;u-=o?r:0;let c=s+u,d=i.left;i.top+=c,i.left=t.left+t.width*n.indent+(l+a)/Math.tan(dd(n.mindMap.opt.fishboneDeg)),s+=u,a+=l,n.updateChildrenPro(i.children,{top:c,left:i.left-d})})}}}};class Rbe extends $c{constructor(t={}){super(t),this.indent=.3,this.childIndent=.5}doLayout(t){Oc([()=>{this.computedBaseValue()},()=>{this.computedLeftTopValue()},()=>{this.adjustLeftTopValue()},()=>{t(this.root)}])}computedBaseValue(){En(this.renderer.renderTree,null,(t,n,r,s,a,i)=>{let o=this.createNode(t,n,r,s,a,i);if(r)this.setNodeCenter(o);else if(n._node.dir?o.dir=n._node.dir:o.dir=a%2===0?Le.LAYOUT_GROW_DIR.TOP:Le.LAYOUT_GROW_DIR.BOTTOM,n._node.isRoot){let l=this.getMarginY(s);this.checkIsTop(o)?o.top=n._node.top-o.height-l:o.top=n._node.top+n._node.height+l}if(!t.data.expand)return!0},null,!0,0)}computedLeftTopValue(){En(this.root,null,(t,n,r,s)=>{if(t.isRoot){let i=this.getMarginX(s+1),o=t.left+t.width+t.height+i,l=t.left+t.width+t.height+i;t.children.forEach(u=>{this.checkIsTop(u)?(u.left=o,o+=u.width+i):(u.left=l+20,l+=u.width+i)})}let a={layerIndex:s,node:t,ctx:this};this.checkIsTop(t)?Fi.top.computedLeftTopValue(a):Fi.bottom.computedLeftTopValue(a)},null,!0)}adjustLeftTopValue(){En(this.root,null,(t,n,r,s)=>{if(!t.getData("expand"))return;let a={node:t,parent:n,layerIndex:s,ctx:this};this.checkIsTop(t)?Fi.top.adjustLeftTopValueBefore(a):Fi.bottom.adjustLeftTopValueBefore(a)},(t,n)=>{let r={parent:n,node:t,ctx:this};if(this.checkIsTop(t)?Fi.top.adjustLeftTopValueAfter(r):Fi.bottom.adjustLeftTopValueAfter(r),t.isRoot){let s=0,a=0;t.children.forEach(i=>{if(this.checkIsTop(i)){i.left+=s,this.updateChildren(i.children,"left",s);let{left:o,right:l}=this.getNodeBoundaries(i,"h");s+=l-o}else{i.left+=a,this.updateChildren(i.children,"left",a);let{left:o,right:l}=this.getNodeBoundaries(i,"h");a+=l-o}})}},!0)}getNodeAreaHeight(t){let n=0,r=s=>{let a=this.getMarginY(s.layerIndex);n+=s.height+(this.getNodeActChildrenLength(s)>0?s.expandBtnSize:0)+a,s.children.length&&s.children.forEach(i=>{r(i)})};return r(t),n}updateBrothersLeft(t){let n=t.children,r=0;n.forEach(s=>{s.left+=r,s.children&&s.children.length&&this.updateChildren(s.children,"left",r);let{left:a,right:i}=this.getNodeBoundaries(s,"h"),l=i-a-s.width;l>0&&(r+=l)})}updateBrothersTop(t,n){if(t.parent&&!t.parent.isRoot){let r=t.parent.children,s=ts(t,r);r.forEach((a,i)=>{if(a.hasCustomPosition())return;let o=0;i>s&&(o=n),a.top+=o,a.children&&a.children.length&&this.updateChildren(a.children,"top",o)}),this.checkIsTop(t)?this.updateBrothersTop(t.parent,n):this.updateBrothersTop(t.parent,t.layerIndex===3?0:n)}}checkIsTop(t){return t.dir===Le.LAYOUT_GROW_DIR.TOP}renderLine(t,n,r){if(t.layerIndex!==1&&t.children.length<=0)return[];let{top:s,height:a,expandBtnSize:i}=t;const{alwaysShowExpandBtn:o,notShowExpandBtn:l}=this.mindMap.opt;(!o||l)&&(i=0);let u=t.children.length;if(t.isRoot){let c=-1/0;t.children.forEach(m=>{m.left>c&&(c=m.left);let g=this.getMarginY(m.layerIndex),v=m.left,y=t.height/2+g,b=y/Math.tan(dd(this.mindMap.opt.fishboneDeg)),w=this.lineDraw.path();this.checkIsTop(m)?w.plot(this.transformPath(`M ${v-b},${m.top+m.height+y} L ${m.left},${m.top+m.height}`)):w.plot(this.transformPath(`M ${v-b},${m.top-y} L ${v},${m.top}`)),t.style.line(w),t._lines.push(w),r&&r(w,t)});let d=t.top+t.height/2,h=t.height/2+this.getMarginY(t.layerIndex+1),p=this.lineDraw.path();p.plot(this.transformPath(`M ${t.left+t.width},${d} L ${c-h/Math.tan(dd(this.mindMap.opt.fishboneDeg))},${d}`)),t.style.line(p),t._lines.push(p),r&&r(p,t)}else{let c=-1/0,d=1/0,h=-1/0,p=t.left+t.width*this.indent;if(t.children.forEach((m,g)=>{m.left>h&&(h=m.left);let v=m.top+m.height/2;if(v>c&&(c=v),v<d&&(d=v),t.layerIndex>1){let y=`M ${p},${v} L ${m.left},${v}`;this.setLineStyle(r,n[g],y,m)}}),u>=0){let m=this.lineDraw.path();i=u>0?i:0;let g=h-t.left-t.width*this.indent;g=Math.max(g,0);let v={node:t,line:m,top:s,x:p,lineLength:g,height:a,expandBtnSize:i,maxy:c,miny:d,ctx:this};this.checkIsTop(t)?Fi.top.renderLine(v):Fi.bottom.renderLine(v),t.style.line(m),t._lines.push(m),r&&r(m,t)}}}renderExpandBtn(t,n){let{width:r,height:s,expandBtnSize:a,isRoot:i}=t;if(!i){let{translateX:o,translateY:l}=n.transform(),u={node:t,btn:n,expandBtnSize:a,translateX:o,translateY:l,width:r,height:s};this.checkIsTop(t)?Fi.top.renderExpandBtn(u):Fi.bottom.renderExpandBtn(u)}}renderGeneralization(t){t.forEach(n=>{let{top:r,bottom:s,right:a,generalizationLineMargin:i,generalizationNodeMargin:o}=this.getNodeGeneralizationRenderBoundaries(n,"h"),l=a+i,u=r,c=a+i,d=s,h=l+20,p=u+(d-u)/2,m=`M ${l},${u} Q ${h},${p} ${c},${d}`;n.generalizationLine.plot(this.transformPath(m)),n.generalizationNode.left=a+o,n.generalizationNode.top=r+(s-r-n.generalizationNode.height)/2})}renderExpandBtnRect(t,n,r,s,a){let i="";a.dir===Le.LAYOUT_GROW_DIR.TOP?i=a.layerIndex===1?Le.LAYOUT_GROW_DIR.TOP:Le.LAYOUT_GROW_DIR.BOTTOM:i=a.layerIndex===1?Le.LAYOUT_GROW_DIR.BOTTOM:Le.LAYOUT_GROW_DIR.TOP,i===Le.LAYOUT_GROW_DIR.TOP?t.size(r,n).x(0).y(-n):t.size(r,n).x(0).y(s)}}class Mbe{constructor(t){this.renderer=t,this.mindMap=t.mindMap,this.currentNode=null,this.textEditNode=null,this.showTextEdit=!1,this.cacheEditingText="",this.hasBodyMousedown=!1,this.bindEvent()}bindEvent(){this.show=this.show.bind(this),this.onScale=this.onScale.bind(this),this.onKeydown=this.onKeydown.bind(this),this.mindMap.on("node_dblclick",(t,n,r)=>{this.show({node:t,e:n,isInserting:r})}),this.mindMap.on("draw_click",()=>{this.hideEditTextBox()}),this.mindMap.on("body_mousedown",()=>{this.hasBodyMousedown=!0}),this.mindMap.on("body_click",()=>{this.hasBodyMousedown&&(this.hasBodyMousedown=!1,this.mindMap.opt.isEndNodeTextEditOnClickOuter&&this.hideEditTextBox())}),this.mindMap.on("svg_mousedown",()=>{this.hideEditTextBox()}),this.mindMap.on("expand_btn_click",()=>{this.hideEditTextBox()}),this.mindMap.on("before_node_active",()=>{this.hideEditTextBox()}),this.mindMap.on("mousewheel",()=>{this.mindMap.opt.mousewheelAction===Le.MOUSE_WHEEL_ACTION.MOVE&&this.hideEditTextBox()}),this.mindMap.keyCommand.addShortcut("F2",()=>{this.renderer.activeNodeList.length<=0||this.show({node:this.renderer.activeNodeList[0]})}),this.mindMap.on("scale",this.onScale),this.mindMap.opt.enableAutoEnterTextEditWhenKeydown&&window.addEventListener("keydown",this.onKeydown),this.mindMap.on("beforeDestroy",()=>{this.unBindEvent()})}unBindEvent(){window.removeEventListener("keydown",this.onKeydown)}onKeydown(t){const n=this.mindMap.renderer.activeNodeList;if(n.length<=0||n.length>1)return;const r=n[0];r&&this.checkIsAutoEnterTextEditKey(t)&&this.show({node:r,e:t,isInserting:!1,isFromKeyDown:!0})}checkIsAutoEnterTextEditKey(t){const n=t.keyCode;return(n===229||n>=65&&n<=90||n>=48&&n<=57)&&!this.mindMap.keyCommand.hasCombinationKey(t)}registerTmpShortcut(){this.mindMap.keyCommand.addShortcut("Enter",()=>{this.hideEditTextBox()}),this.mindMap.keyCommand.addShortcut("Tab",()=>{this.hideEditTextBox()})}isShowTextEdit(){return this.mindMap.richText?this.mindMap.richText.showTextEdit:this.showTextEdit}async show({node:t,isInserting:n=!1,isFromKeyDown:r=!1,isFromScale:s=!1}){if(t.isUseCustomNodeContent())return;const{beforeTextEdit:a}=this.mindMap.opt;if(typeof a=="function"){let c=!1;try{c=await a(t,n)}catch(d){c=!1,this.mindMap.opt.errorHandler(Qu.BEFORE_TEXT_EDIT_ERROR,d)}if(!c)return}this.currentNode=t;const{offsetLeft:i,offsetTop:o}=Qye(this.mindMap,t);this.mindMap.view.translateXY(i,o);const l=t._textData.node.node.getBoundingClientRect(),u={node:t,rect:l,isInserting:n,isFromKeyDown:r,isFromScale:s};if(this.mindMap.richText){this.mindMap.richText.showEditText(u);return}this.showEditTextBox(u)}onScale(){const t=this.getCurrentEditNode();t&&(this.mindMap.richText?(this.mindMap.richText.cacheEditingText=this.mindMap.richText.getEditText(),this.mindMap.richText.showTextEdit=!1):(this.cacheEditingText=this.getEditText(),this.showTextEdit=!1),this.show({node:t,isFromScale:!0}))}showEditTextBox({node:t,rect:n,isInserting:r,isFromKeyDown:s,isFromScale:a}){if(this.showTextEdit)return;const{nodeTextEditZIndex:i,textAutoWrapWidth:o,selectTextOnEnterEditText:l}=this.mindMap.opt;a||this.mindMap.emit("before_show_text_edit"),this.registerTmpShortcut(),this.textEditNode||(this.textEditNode=document.createElement("div"),this.textEditNode.style.cssText="position:fixed;box-sizing: border-box;background-color:#fff;box-shadow: 0 0 20px rgba(0,0,0,.5);padding: 3px 5px;margin-left: -5px;margin-top: -3px;outline: none; word-break: break-all;",this.textEditNode.setAttribute("contenteditable",!0),this.textEditNode.addEventListener("keyup",g=>{g.stopPropagation()}),this.textEditNode.addEventListener("click",g=>{g.stopPropagation()}),this.textEditNode.addEventListener("mousedown",g=>{g.stopPropagation()}),this.textEditNode.addEventListener("keydown",g=>{this.checkIsAutoEnterTextEditKey(g)&&g.stopPropagation()}),this.textEditNode.addEventListener("paste",g=>{const v=g.clipboardData.getData("text"),{isSmm:y,data:b}=d_(v);y&&b[0]&&b[0].data?vk(g,JM(b[0].data.text)):vk(g)}),(this.mindMap.opt.customInnerElsAppendTo||document.body).appendChild(this.textEditNode));let u=this.mindMap.view.scale,c=t.style.merge("lineHeight"),d=t.style.merge("fontSize"),h=(this.cacheEditingText||t.getData("text")).split(/\n/gim).map(m=>qS(m)),p=t._textData.node.attr("data-ismultiLine")==="true";t.style.domText(this.textEditNode,u,p),this.textEditNode.style.zIndex=i,this.textEditNode.innerHTML=h.join("<br>"),this.textEditNode.style.minWidth=n.width+10+"px",this.textEditNode.style.minHeight=n.height+6+"px",this.textEditNode.style.left=n.left+"px",this.textEditNode.style.top=n.top+"px",this.textEditNode.style.display="block",this.textEditNode.style.maxWidth=o*u+"px",p&&c!==1&&(this.textEditNode.style.transform=`translateY(${-((c*d-d)/2)*u}px)`),this.showTextEdit=!0,r||l&&!s?d1e(this.textEditNode):c1e(this.textEditNode),this.cacheEditingText=""}removeTextEditEl(){if(this.mindMap.richText){this.mindMap.richText.removeTextEditEl();return}if(!this.textEditNode)return;(this.mindMap.opt.customInnerElsAppendTo||document.body).removeChild(this.textEditNode)}getEditText(){return Zye(this.textEditNode.innerHTML)}hideEditTextBox(){if(this.mindMap.richText)return this.mindMap.richText.hideEditText();this.showTextEdit&&(this.renderer.activeNodeList.forEach(t=>{let n=this.getEditText();this.mindMap.execCommand("SET_NODE_TEXT",t,n),t.isGeneralization&&t.generalizationBelongNode.updateGeneralization(),this.mindMap.render()}),this.mindMap.emit("hide_text_edit",this.textEditNode,this.renderer.activeNodeList,this.currentNode),this.currentNode=null,this.textEditNode.style.display="none",this.textEditNode.innerHTML="",this.textEditNode.style.fontFamily="inherit",this.textEditNode.style.fontSize="inherit",this.textEditNode.style.fontWeight="normal",this.textEditNode.style.transform="translateY(0)",this.showTextEdit=!1)}getCurrentEditNode(){return this.mindMap.richText?this.mindMap.richText.node:this.currentNode}}const Nn={paddingX:15,paddingY:5,imgMaxWidth:100,imgMaxHeight:100,iconSize:20,lineWidth:1,lineColor:"#549688",lineDasharray:"none",lineStyle:"straight",rootLineKeepSameInCurve:!0,rootLineStartPositionKeepSameInCurve:!1,lineRadius:5,showLineMarker:!1,generalizationLineWidth:1,generalizationLineColor:"#549688",generalizationLineMargin:0,generalizationNodeMargin:20,associativeLineWidth:2,associativeLineColor:"rgb(51, 51, 51)",associativeLineActiveWidth:8,associativeLineActiveColor:"rgba(2, 167, 240, 1)",associativeLineDasharray:[6,4],associativeLineTextColor:"rgb(51, 51, 51)",associativeLineTextFontSize:14,associativeLineTextLineHeight:1.2,associativeLineTextFontFamily:", Microsoft YaHei",backgroundColor:"#fafafa",backgroundImage:"none",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover",nodeUseLineStyle:!1,root:{shape:"rectangle",fillColor:"#549688",fontFamily:", Microsoft YaHei",color:"#fff",fontSize:16,fontWeight:"bold",fontStyle:"normal",lineHeight:1.5,borderColor:"transparent",borderWidth:0,borderDasharray:"none",borderRadius:5,textDecoration:"none",gradientStyle:!1,startColor:"#549688",endColor:"#fff",lineMarkerDir:"end"},second:{shape:"rectangle",marginX:100,marginY:40,fillColor:"#fff",fontFamily:", Microsoft YaHei",color:"#565656",fontSize:16,fontWeight:"noraml",fontStyle:"normal",lineHeight:1.5,borderColor:"#549688",borderWidth:1,borderDasharray:"none",borderRadius:5,textDecoration:"none",gradientStyle:!1,startColor:"#549688",endColor:"#fff",lineMarkerDir:"end"},node:{shape:"rectangle",marginX:50,marginY:0,fillColor:"transparent",fontFamily:", Microsoft YaHei",color:"#6a6d6c",fontSize:14,fontWeight:"noraml",fontStyle:"normal",lineHeight:1.5,borderColor:"transparent",borderWidth:0,borderRadius:5,borderDasharray:"none",textDecoration:"none",gradientStyle:!1,startColor:"#549688",endColor:"#fff",lineMarkerDir:"end"},generalization:{shape:"rectangle",marginX:100,marginY:40,fillColor:"#fff",fontFamily:", Microsoft YaHei",color:"#565656",fontSize:16,fontWeight:"noraml",fontStyle:"normal",lineHeight:1.5,borderColor:"#549688",borderWidth:1,borderDasharray:"none",borderRadius:5,textDecoration:"none",gradientStyle:!1,startColor:"#549688",endColor:"#fff"}},Pbe=["lineWidth","lineColor","lineDasharray","lineStyle","generalizationLineWidth","generalizationLineColor","associativeLineWidth","associativeLineColor","associativeLineActiveWidth","associativeLineActiveColor","associativeLineTextColor","associativeLineTextFontSize","associativeLineTextLineHeight","associativeLineTextFontFamily","backgroundColor","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","rootLineKeepSameInCurve","rootLineStartPositionKeepSameInCurve","showLineMarker","gradientStyle","lineRadius","startColor","endColor"],Lbe=e=>{let t=Object.keys(e);for(let n=0;n<t.length;n++)if(!Pbe.find(r=>r===t[n]))return!1;return!0},$k=["lineColor","lineDasharray","lineWidth","lineMarkerDir"],jb={[Le.LAYOUT.LOGICAL_STRUCTURE]:Ik,[Le.LAYOUT.LOGICAL_STRUCTURE_LEFT]:Ik,[Le.LAYOUT.MIND_MAP]:Ibe,[Le.LAYOUT.CATALOG_ORGANIZATION]:Obe,[Le.LAYOUT.ORGANIZATION_STRUCTURE]:$be,[Le.LAYOUT.TIMELINE]:Ok,[Le.LAYOUT.TIMELINE2]:Ok,[Le.LAYOUT.VERTICAL_TIMELINE]:Abe,[Le.LAYOUT.FISHBONE]:Rbe};class Dbe{constructor(t={}){this.opt=t,this.mindMap=t.mindMap,this.themeConfig=this.mindMap.themeConfig,this.renderTree=this.mindMap.opt.data?Sn({},this.mindMap.opt.data):null,this.reRender=!1,this.isRendering=!1,this.hasWaitRendering=!1,this.waitRenderingParams=[],this.nodeCache={},this.lastNodeCache={},this.renderSource="",this.activeNodeList=[],this.root=null,this.textEdit=new Mbe(this),this.lastBeingCopyData=null,this.beingCopyData=null,this.beingPasteText="",this.beingPasteImgSize=0,this.currentBeingPasteType="",this.highlightBoxNode=null,this.lastActiveNode=null,this.lastActiveNodeList=[],this.setLayout(),this.bindEvent(),this.registerCommands(),this.registerShortcutKeys()}setLayout(){this.layout=new(jb[this.mindMap.opt.layout]?jb[this.mindMap.opt.layout]:jb[Le.LAYOUT.LOGICAL_STRUCTURE])(this,this.mindMap.opt.layout)}setData(t){this.mindMap.richText?this.renderTree=t?this.mindMap.richText.handleSetData(t):null:this.renderTree=t}bindEvent(){this.mindMap.on("draw_click",t=>{this.clearActiveNodeListOnDrawClick(t,"click")}),this.mindMap.on("contextmenu",t=>{this.clearActiveNodeListOnDrawClick(t,"contextmenu")}),this.mindMap.svg.on("dblclick",()=>{this.mindMap.opt.enableDblclickBackToRootNode&&this.setRootNodeCenter()}),this.performanceMode()}performanceMode(){const{openPerformance:t,performanceConfig:n}=this.mindMap.opt,r=XM(()=>{this.root&&(this.mindMap.emit("node_tree_render_start"),this.root.render(()=>{this.mindMap.emit("node_tree_render_end")},!1,!0))},n.time);let s=!1;this.mindMap.on("before_update_config",a=>{s=a.openPerformance}),this.mindMap.on("after_update_config",a=>{a.openPerformance&&!s&&(this.mindMap.on("view_data_change",r),this.forceLoadNode()),!a.openPerformance&&s&&(this.mindMap.off("view_data_change",r),this.forceLoadNode())}),t&&this.mindMap.on("view_data_change",r)}forceLoadNode(t){t=t||this.root,t&&(this.mindMap.emit("node_tree_render_start"),t.render(()=>{this.mindMap.emit("node_tree_render_end")},!0))}registerCommands(){this.selectAll=this.selectAll.bind(this),this.mindMap.command.add("SELECT_ALL",this.selectAll),this.back=this.back.bind(this),this.mindMap.command.add("BACK",this.back),this.forward=this.forward.bind(this),this.mindMap.command.add("FORWARD",this.forward),this.insertNode=this.insertNode.bind(this),this.mindMap.command.add("INSERT_NODE",this.insertNode),this.insertMultiNode=this.insertMultiNode.bind(this),this.mindMap.command.add("INSERT_MULTI_NODE",this.insertMultiNode),this.insertChildNode=this.insertChildNode.bind(this),this.mindMap.command.add("INSERT_CHILD_NODE",this.insertChildNode),this.insertMultiChildNode=this.insertMultiChildNode.bind(this),this.mindMap.command.add("INSERT_MULTI_CHILD_NODE",this.insertMultiChildNode),this.insertParentNode=this.insertParentNode.bind(this),this.mindMap.command.add("INSERT_PARENT_NODE",this.insertParentNode),this.upNode=this.upNode.bind(this),this.mindMap.command.add("UP_NODE",this.upNode),this.downNode=this.downNode.bind(this),this.mindMap.command.add("DOWN_NODE",this.downNode),this.moveUpOneLevel=this.moveUpOneLevel.bind(this),this.mindMap.command.add("MOVE_UP_ONE_LEVEL",this.moveUpOneLevel),this.insertAfter=this.insertAfter.bind(this),this.mindMap.command.add("INSERT_AFTER",this.insertAfter),this.insertBefore=this.insertBefore.bind(this),this.mindMap.command.add("INSERT_BEFORE",this.insertBefore),this.moveNodeTo=this.moveNodeTo.bind(this),this.mindMap.command.add("MOVE_NODE_TO",this.moveNodeTo),this.removeNode=this.removeNode.bind(this),this.mindMap.command.add("REMOVE_NODE",this.removeNode),this.removeCurrentNode=this.removeCurrentNode.bind(this),this.mindMap.command.add("REMOVE_CURRENT_NODE",this.removeCurrentNode),this.pasteNode=this.pasteNode.bind(this),this.mindMap.command.add("PASTE_NODE",this.pasteNode),this.cutNode=this.cutNode.bind(this),this.mindMap.command.add("CUT_NODE",this.cutNode),this.setNodeStyle=this.setNodeStyle.bind(this),this.mindMap.command.add("SET_NODE_STYLE",this.setNodeStyle),this.setNodeStyles=this.setNodeStyles.bind(this),this.mindMap.command.add("SET_NODE_STYLES",this.setNodeStyles),this.setNodeActive=this.setNodeActive.bind(this),this.mindMap.command.add("SET_NODE_ACTIVE",this.setNodeActive),this.clearActiveNode=this.clearActiveNode.bind(this),this.mindMap.command.add("CLEAR_ACTIVE_NODE",this.clearActiveNode),this.setNodeExpand=this.setNodeExpand.bind(this),this.mindMap.command.add("SET_NODE_EXPAND",this.setNodeExpand),this.expandAllNode=this.expandAllNode.bind(this),this.mindMap.command.add("EXPAND_ALL",this.expandAllNode),this.unexpandAllNode=this.unexpandAllNode.bind(this),this.mindMap.command.add("UNEXPAND_ALL",this.unexpandAllNode),this.expandToLevel=this.expandToLevel.bind(this),this.mindMap.command.add("UNEXPAND_TO_LEVEL",this.expandToLevel),this.setNodeData=this.setNodeData.bind(this),this.mindMap.command.add("SET_NODE_DATA",this.setNodeData),this.setNodeText=this.setNodeText.bind(this),this.mindMap.command.add("SET_NODE_TEXT",this.setNodeText),this.setNodeImage=this.setNodeImage.bind(this),this.mindMap.command.add("SET_NODE_IMAGE",this.setNodeImage),this.setNodeIcon=this.setNodeIcon.bind(this),this.mindMap.command.add("SET_NODE_ICON",this.setNodeIcon),this.setNodeHyperlink=this.setNodeHyperlink.bind(this),this.mindMap.command.add("SET_NODE_HYPERLINK",this.setNodeHyperlink),this.setNodeNote=this.setNodeNote.bind(this),this.mindMap.command.add("SET_NODE_NOTE",this.setNodeNote),this.setNodeAttachment=this.setNodeAttachment.bind(this),this.mindMap.command.add("SET_NODE_ATTACHMENT",this.setNodeAttachment),this.setNodeTag=this.setNodeTag.bind(this),this.mindMap.command.add("SET_NODE_TAG",this.setNodeTag),this.insertFormula=this.insertFormula.bind(this),this.mindMap.command.add("INSERT_FORMULA",this.insertFormula),this.addGeneralization=this.addGeneralization.bind(this),this.mindMap.command.add("ADD_GENERALIZATION",this.addGeneralization),this.removeGeneralization=this.removeGeneralization.bind(this),this.mindMap.command.add("REMOVE_GENERALIZATION",this.removeGeneralization),this.setNodeCustomPosition=this.setNodeCustomPosition.bind(this),this.mindMap.command.add("SET_NODE_CUSTOM_POSITION",this.setNodeCustomPosition),this.resetLayout=this.resetLayout.bind(this),this.mindMap.command.add("RESET_LAYOUT",this.resetLayout),this.setNodeShape=this.setNodeShape.bind(this),this.mindMap.command.add("SET_NODE_SHAPE",this.setNodeShape),this.goTargetNode=this.goTargetNode.bind(this),this.mindMap.command.add("GO_TARGET_NODE",this.goTargetNode),this.removeCustomStyles=this.removeCustomStyles.bind(this),this.mindMap.command.add("REMOVE_CUSTOM_STYLES",this.removeCustomStyles),this.removeAllNodeCustomStyles=this.removeAllNodeCustomStyles.bind(this),this.mindMap.command.add("REMOVE_ALL_NODE_CUSTOM_STYLES",this.removeAllNodeCustomStyles)}registerShortcutKeys(){this.mindMap.keyCommand.addShortcut("Tab",()=>{this.mindMap.execCommand("INSERT_CHILD_NODE")}),this.mindMap.keyCommand.addShortcut("Insert",()=>{this.mindMap.execCommand("INSERT_CHILD_NODE")}),this.mindMap.keyCommand.addShortcut("Enter",()=>{this.mindMap.execCommand("INSERT_NODE")}),this.mindMap.keyCommand.addShortcut("Shift+Tab",()=>{this.mindMap.execCommand("INSERT_PARENT_NODE")}),this.mindMap.keyCommand.addShortcut("Control+g",()=>{this.mindMap.execCommand("ADD_GENERALIZATION")}),this.toggleActiveExpand=this.toggleActiveExpand.bind(this),this.mindMap.keyCommand.addShortcut("/",this.toggleActiveExpand),this.mindMap.keyCommand.addShortcut("Del|Backspace",()=>{this.mindMap.execCommand("REMOVE_NODE")}),this.mindMap.keyCommand.addShortcut("Shift+Backspace",()=>{this.mindMap.execCommand("REMOVE_CURRENT_NODE")}),this.mindMap.on("before_show_text_edit",()=>{this.startTextEdit()}),this.mindMap.on("hide_text_edit",()=>{this.endTextEdit()}),this.mindMap.keyCommand.addShortcut("Control+a",()=>{this.mindMap.execCommand("SELECT_ALL")}),this.mindMap.keyCommand.addShortcut("Control+l",()=>{this.mindMap.execCommand("RESET_LAYOUT")}),this.mindMap.keyCommand.addShortcut("Control+Up",()=>{this.mindMap.execCommand("UP_NODE")}),this.mindMap.keyCommand.addShortcut("Control+Down",()=>{this.mindMap.execCommand("DOWN_NODE")}),this.mindMap.keyCommand.addShortcut("Control+c",()=>{this.copy()}),this.mindMap.keyCommand.addShortcut("Control+x",()=>{this.cut()}),this.mindMap.keyCommand.addShortcut("Control+v",()=>{this.paste()}),this.mindMap.keyCommand.addShortcut("Control+Enter",()=>{this.setRootNodeCenter()})}emitNodeActiveEvent(t=null,n=[...this.activeNodeList]){let r=!1;r=this.lastActiveNode!==t,r||(r=!p1e(this.lastActiveNodeList,n)),r&&(this.lastActiveNode=t,this.lastActiveNodeList=[...n],this.mindMap.batchExecution.push("emitNodeActiveEvent",()=>{this.mindMap.emit("node_active",t,n)}))}clearActiveNodeListOnDrawClick(t,n){if(this.activeNodeList.length<=0)return;let r=!0;const{useLeftKeySelectionRightKeyDrag:s}=this.mindMap.opt;if(n==="contextmenu"?!s:s){const a=this.mindMap.event.mousedownPos;r=Math.abs(t.clientX-a.x)<=5&&Math.abs(t.clientY-a.y)<=5}r&&this.mindMap.execCommand("CLEAR_ACTIVE_NODE")}startTextEdit(){this.mindMap.keyCommand.save()}endTextEdit(){this.mindMap.keyCommand.restore()}clearCache(){this.layout.lru.clear(),this.nodeCache={},this.lastNodeCache={}}render(t=()=>{},n){if(n===Le.CHANGE_THEME&&this.resetUnExpandNodeStyle(),this.isRendering){this.hasWaitRendering=!0,this.waitRenderingParams=[t,n];return}if(this.isRendering=!0,this.renderSource=n,this.lastNodeCache=this.nodeCache,this.nodeCache={},this.reRender&&this.clearActiveNodeList(),!this.renderTree){this.isRendering=!1,this.mindMap.emit("node_tree_render_end");return}this.mindMap.emit("node_tree_render_start"),this.root=null,this.layout.doLayout(r=>{Object.keys(this.lastNodeCache).forEach(s=>{this.nodeCache[s]||(this.removeNodeFromActiveList(this.lastNodeCache[s]),this.emitNodeActiveEvent(),this.lastNodeCache[s].destroy())}),this.root=r,this.root.render(()=>{if(this.isRendering=!1,t&&t(),this.hasWaitRendering){const s=this.waitRenderingParams;this.hasWaitRendering=!1,this.waitRenderingParams=[],this.render(...s)}else this.renderSource="",this.reRender&&(this.reRender=!1),this.mindMap.richText&&[Le.CHANGE_THEME,Le.SET_DATA].includes(n)&&this.mindMap.command.addHistory();this.mindMap.emit("node_tree_render_end")})}),this.emitNodeActiveEvent()}resetUnExpandNodeStyle(){this.renderTree&&En(this.renderTree,null,t=>{if(!t.data.expand)return En(t,null,n=>{n.data.resetRichText=!0}),!0})}clearActiveNode(){this.activeNodeList.length<=0||(this.clearActiveNodeList(),this.emitNodeActiveEvent(null,[]))}clearActiveNodeList(){this.activeNodeList.forEach(t=>{this.mindMap.execCommand("SET_NODE_ACTIVE",t,!1)}),this.activeNodeList=[]}addNodeToActiveList(t,n=!1){if(this.mindMap.opt.onlyOneEnableActiveNodeOnCooperate&&t.userList.length>0)return;this.findActiveNodeIndex(t)===-1&&(n||this.mindMap.emit("before_node_active",t,this.activeNodeList),this.mindMap.execCommand("SET_NODE_ACTIVE",t,!0),this.activeNodeList.push(t))}removeNodeFromActiveList(t){let n=this.findActiveNodeIndex(t);n!==-1&&(this.mindMap.execCommand("SET_NODE_ACTIVE",t,!1),this.activeNodeList.splice(n,1))}activeMultiNode(t=[]){t.forEach(n=>{this.mindMap.emit("before_node_active",n,this.activeNodeList),this.addNodeToActiveList(n,!0),this.emitNodeActiveEvent(n)})}cancelActiveMultiNode(t=[]){t.forEach(n=>{this.removeNodeFromActiveList(n),this.emitNodeActiveEvent(null)})}findActiveNodeIndex(t){return ts(t,this.activeNodeList)}selectAll(){this.mindMap.opt.readonly||(En(this.root,null,t=>{t.getData("isActive")||this.addNodeToActiveList(t),t._generalizationList&&t._generalizationList.length>0&&t._generalizationList.forEach(n=>{const r=n.generalizationNode;r.getData("isActive")||this.addNodeToActiveList(r)})},null,!0,0,0),this.emitNodeActiveEvent())}back(t){this.backForward("back",t)}forward(t){this.backForward("forward",t)}backForward(t,n){this.mindMap.execCommand("CLEAR_ACTIVE_NODE");const r=this.mindMap.command[t](n);r&&(this.renderTree=r,this.mindMap.render())}getNewNodeBehavior(t=!1,n=!1){const{createNewNodeBehavior:r}=this.mindMap.opt;let s=!1,a=!1;switch(r){case Le.CREATE_NEW_NODE_BEHAVIOR.DEFAULT:s=n||!t,a=n?!1:t;break;case Le.CREATE_NEW_NODE_BEHAVIOR.NOT_ACTIVE:s=!1,a=!1;break;case Le.CREATE_NEW_NODE_BEHAVIOR.ACTIVE_ONLY:s=!0,a=!1;break}return{focusNewNode:s,inserting:a}}insertNode(t=!0,n=[],r=null,s=[]){if(n=$a(n),this.activeNodeList.length<=0&&n.length<=0)return;this.textEdit.hideEditTextBox();const{defaultInsertSecondLevelNodeText:a,defaultInsertBelowSecondLevelNodeText:i}=this.mindMap.opt,o=n.length>0?n:this.activeNodeList,l=o.length>1,u=!!this.mindMap.richText,{focusNewNode:c,inserting:d}=this.getNewNodeBehavior(t,l),h={expand:!0,richText:u,resetRichText:u,isActive:c};s=bg(s,{...h}),o.forEach(p=>{if(p.isGeneralization||p.isRoot)return;const m=p.parent,v=p.layerIndex===1?a:i,y=th(p),b={inserting:d,data:{text:v,...h,uid:Vo(),...r||{}},children:[...Gf(s)]};m.nodeData.children.splice(y+1,0,b)}),c&&this.clearActiveNodeList(),this.mindMap.render()}insertMultiNode(t,n){if(!n||n.length<=0||(t=$a(t),this.activeNodeList.length<=0&&t.length<=0))return;this.textEdit.hideEditTextBox();const r=t.length>0?t:this.activeNodeList,s=!!this.mindMap.richText,{focusNewNode:a}=this.getNewNodeBehavior(!1,!0);n=bg(n,{expand:!0,richText:s,resetRichText:s,isActive:a}),r.forEach(o=>{if(o.isGeneralization||o.isRoot)return;const l=o.parent,u=th(o),c=Gf(La(n));l.nodeData.children.splice(u+1,0,...c)}),a&&this.clearActiveNodeList(),this.mindMap.render()}insertChildNode(t=!0,n=[],r=null,s=[]){if(n=$a(n),this.activeNodeList.length<=0&&n.length<=0)return;this.textEdit.hideEditTextBox();const{defaultInsertSecondLevelNodeText:a,defaultInsertBelowSecondLevelNodeText:i}=this.mindMap.opt,o=n.length>0?n:this.activeNodeList,l=o.length>1,u=!!this.mindMap.richText,{focusNewNode:c,inserting:d}=this.getNewNodeBehavior(t,l),h={expand:!0,richText:u,resetRichText:u,isActive:c};s=bg(s,{...h}),o.forEach(p=>{if(p.isGeneralization)return;p.nodeData.children||(p.nodeData.children=[]);const m=p.isRoot?a:i,g={inserting:d,data:{text:m,uid:Vo(),...h,...r||{}},children:[...Gf(s)]};p.nodeData.children.push(g),p.setData({expand:!0})}),c&&this.clearActiveNodeList(),this.mindMap.render()}insertMultiChildNode(t,n){if(!n||n.length<=0||(t=$a(t),this.activeNodeList.length<=0&&t.length<=0))return;this.textEdit.hideEditTextBox();const r=t.length>0?t:this.activeNodeList,s=!!this.mindMap.richText,{focusNewNode:a}=this.getNewNodeBehavior(!1,!0);n=bg(n,{expand:!0,richText:s,resetRichText:s,isActive:a}),r.forEach(o=>{o.isGeneralization||(o.nodeData.children||(o.nodeData.children=[]),n=Gf(n),o.nodeData.children.push(...n),o.setData({expand:!0}))}),a&&this.clearActiveNodeList(),this.mindMap.render()}insertParentNode(t=!0,n,r){if(n=$a(n),this.activeNodeList.length<=0&&n.length<=0)return;this.textEdit.hideEditTextBox();const{defaultInsertSecondLevelNodeText:s,defaultInsertBelowSecondLevelNodeText:a}=this.mindMap.opt,i=n.length>0?n:this.activeNodeList,o=i.length>1,l=!!this.mindMap.richText,{focusNewNode:u,inserting:c}=this.getNewNodeBehavior(t,o),d={expand:!0,richText:l,resetRichText:l,isActive:u};i.forEach(h=>{if(h.isGeneralization||h.isRoot)return;const p=h.layerIndex===1?s:a,m={inserting:c,data:{text:p,uid:Vo(),...d,...r||{}},children:[h.nodeData]};h.setData({resetRichText:!0});const g=h.parent,v=th(h);g.nodeData.children.splice(v,1,m)}),u&&this.clearActiveNodeList(),this.mindMap.render()}upNode(){if(this.activeNodeList.length<=0)return;let t=this.activeNodeList[0];if(t.isRoot)return;let n=t.parent,r=n.children,s=ts(t,r);if(s===-1||s===0)return;let a=s-1;r.splice(s,1),r.splice(a,0,t),n.nodeData.children.splice(s,1),n.nodeData.children.splice(a,0,t.nodeData),this.mindMap.render()}downNode(){if(this.activeNodeList.length<=0)return;let t=this.activeNodeList[0];if(t.isRoot)return;let n=t.parent,r=n.children,s=ts(t,r);if(s===-1||s===r.length-1)return;let a=s+1;r.splice(s,1),r.splice(a,0,t),n.nodeData.children.splice(s,1),n.nodeData.children.splice(a,0,t.nodeData),this.mindMap.render()}moveUpOneLevel(t){if(t=t||this.activeNodeList[0],!t||t.isRoot||t.layerIndex<=1)return;const n=t.parent,r=n.parent,s=ts(t,n.children),a=ts(n,r.children);this.checkNodeLayerChange(t,n),n.nodeData.children.splice(s,1),r.nodeData.children.splice(a+1,0,t.nodeData),this.mindMap.render()}_handleRemoveCustomStyles(t){let n=!1;return Object.keys(t).forEach(r=>{e9(r)&&(n=!0,delete t[r])}),n&&this.mindMap.richText&&(t.resetRichText=!0,t.text=i1e(t.text)),n}removeCustomStyles(t){if(t=t||this.activeNodeList[0],!t)return;this._handleRemoveCustomStyles(t.getData())&&this.reRenderNodeCheckChange(t)}removeAllNodeCustomStyles(t){t=$a(t);let n=!1;if(t.length>0)t.forEach(r=>{this._handleRemoveCustomStyles(r.getData())&&(n=!0)});else{if(!this.renderTree)return;En(this.renderTree,null,r=>{this._handleRemoveCustomStyles(r.data)&&(n=!0);const a=f_(r.data);a.length>0&&a.forEach(i=>{this._handleRemoveCustomStyles(i)&&(n=!0)})})}n&&this.mindMap.reRender()}copy(){this.beingCopyData=this.copyNode(),this.beingCopyData&&(this.mindMap.opt.disabledClipboard||mk(gk(this.beingCopyData)))}cut(){this.mindMap.execCommand("CUT_NODE",t=>{this.beingCopyData=t,this.mindMap.opt.disabledClipboard||mk(gk(t))})}async paste(){const{errorHandler:t,handleIsSplitByWrapOnPasteCreateNewNode:n,handleNodePasteImg:r,disabledClipboard:s}=this.mindMap.opt;let a="",i=null;if(!s)try{const l=await f1e();a=l.text||"",i=l.img||null}catch(l){t(Qu.READ_CLIPBOARD_ERROR,l)}const o=i?i.size:0;if((this.beingPasteText!==a||this.beingPasteImgSize!==o)&&(this.currentBeingPasteType=Le.PASTE_TYPE.CLIP_BOARD,this.beingPasteText=a,this.beingPasteImgSize=o),this.lastBeingCopyData!==this.beingCopyData&&(this.lastBeingCopyData=this.beingCopyData,this.currentBeingPasteType=Le.PASTE_TYPE.CANVAS),this.currentBeingPasteType===Le.PASTE_TYPE.CLIP_BOARD){if(a){let l=null,u=!0;if(this.mindMap.opt.customHandleClipboardText)try{const c=await this.mindMap.opt.customHandleClipboardText(a);if(!Sm(c)){u=!1;const d=d_(c);d.isSmm?l=d.data:a=d.data}}catch(c){t(Qu.CUSTOM_HANDLE_CLIPBOARD_TEXT_ERROR,c)}if(u){const c=d_(a);c.isSmm?l=c.data:a=c.data}if(l)this.mindMap.execCommand("INSERT_MULTI_CHILD_NODE",[],Array.isArray(l)?l:[l]);else{a=qS(a);const c=a.split(new RegExp(`\r?
|(?<!
)\r`,"g")).filter(d=>!!d);c.length>1&&n?n().then(()=>{this.mindMap.execCommand("INSERT_MULTI_CHILD_NODE",[],c.map(d=>({data:{text:d},children:[]})))}).catch(()=>{this.mindMap.execCommand("INSERT_CHILD_NODE",!1,[],{text:a})}):this.mindMap.execCommand("INSERT_CHILD_NODE",!1,[],{text:a})}}if(i)try{let l=null;r&&typeof r=="function"?l=await r(i):l=await t1e(i),this.activeNodeList.length>0&&this.activeNodeList.forEach(u=>{this.mindMap.execCommand("SET_NODE_IMAGE",u,{url:l.url,title:"",width:l.size.width,height:l.size.height})})}catch(l){t(Qu.LOAD_CLIPBOARD_IMAGE_ERROR,l)}}else this.beingCopyData&&this.mindMap.execCommand("PASTE_NODE",this.beingCopyData)}insertBefore(t,n){this.insertTo(t,n,"before")}insertAfter(t,n){this.insertTo(t,n,"after")}insertTo(t,n,r="before"){let s=$a(t);s=s.filter(a=>!a.isRoot),r==="after"&&s.reverse(),s.forEach(a=>{this.checkNodeLayerChange(a,n);let i=a.parent,o=i.children,l=ts(a,o);if(l===-1)return;o.splice(l,1),i.nodeData.children.splice(l,1);let u=n.parent,c=u.children,d=ts(n,c);d!==-1&&(r==="after"&&d++,c.splice(d,0,a),u.nodeData.children.splice(d,0,a.nodeData))}),this.mindMap.render()}checkNodeLayerChange(t,n,r=!1){if(this.mindMap.richText){if(this.mindMap.richText.checkNodeHasCustomRichTextStyle(t))return;const s=r?n.layerIndex+1:n.layerIndex;(t.layerIndex===1&&s!==1||t.layerIndex!==1&&s===1)&&t.setData({resetRichText:!0})}}removeNode(t=[]){if(t=$a(t),this.activeNodeList.length<=0&&t.length<=0)return;let n=null,r=t.length>0,s=r?t:this.activeNodeList,a=s.find(i=>i.isRoot);if(a)this.clearActiveNodeList(),a.children=[],a.nodeData.children=[];else{n=this.getNextActiveNode(s);for(let i=0;i<s.length;i++){const o=s[i],l=this.textEdit.getCurrentEditNode();l&&l.getData("uid")===o.getData("uid")&&this.textEdit.hideEditTextBox(),r&&s.splice(i,1),o.isGeneralization?(this.deleteNodeGeneralization(o),this.removeNodeFromActiveList(o),i--):(this.removeNodeFromActiveList(o),Bb(o),i--)}}this.activeNodeList=[],n&&this.addNodeToActiveList(n),this.emitNodeActiveEvent(),this.mindMap.render()}deleteNodeGeneralization(t){const n=t.generalizationBelongNode,r=n.getGeneralizationNodeIndex(t);let s=n.getData("generalization");Array.isArray(s)?s.splice(r,1):s=null,this.mindMap.execCommand("SET_NODE_DATA",n,{generalization:s}),this.closeHighlightNode()}removeCurrentNode(t=[]){if(t=$a(t),this.activeNodeList.length<=0&&t.length<=0)return;let r=t.length>0?t:this.activeNodeList;r=r.filter(a=>!a.isRoot);let s=this.getNextActiveNode(r);for(let a=0;a<r.length;a++){let i=r[a];if(i.isGeneralization)this.deleteNodeGeneralization(i);else{const o=i.parent,l=th(i);o.nodeData.children.splice(l,1,...i.nodeData.children||[])}}this.activeNodeList=[],s&&this.addNodeToActiveList(s),this.emitNodeActiveEvent(),this.mindMap.render()}getNextActiveNode(t){if(t.length!==1||this.findActiveNodeIndex(t[0])===-1)return null;let n=null;if(this.activeNodeList.length===1&&!this.activeNodeList[0].isGeneralization&&this.mindMap.opt.deleteNodeActive){const r=this.activeNodeList[0],s=r.parent.children,a=ts(r,s);a<s.length-1?n=s[a+1]:a>0?n=s[a-1]:n=r.parent}return n}copyNode(){if(this.activeNodeList.length<=0)return null;let t=pk(this.activeNodeList);return t=bk(t),t.map(n=>Tp({},n,!0))}cutNode(t){if(this.activeNodeList.length<=0)return;let n=pk(this.activeNodeList).filter(s=>!s.isRoot);n=bk(n);const r=n.map(s=>Tp({},s,!0));n.forEach(s=>{Bb(s)}),this.clearActiveNodeList(),this.mindMap.render(),t&&typeof t=="function"&&t(r)}moveNodeTo(t,n){let r=$a(t);r=r.filter(s=>!s.isRoot),r.forEach(s=>{this.checkNodeLayerChange(s,n,!0),this.removeNodeFromActiveList(s),Bb(s),n.setData({expand:!0}),n.nodeData.children.push(s.nodeData)}),this.emitNodeActiveEvent(),this.mindMap.render()}pasteNode(t){t=$a(t),!(this.activeNodeList.length<=0||t.length<=0)&&(this.activeNodeList.forEach(n=>{n.setData({expand:!0}),n.nodeData.children.push(...t.map(r=>{const s=La(r);return Gf([s],!0,a=>{if(this.mindMap.richText){if(this.mindMap.richText.checkNodeHasCustomRichTextStyle(a.data))return;a.data.resetRichText=!0}}),s}))}),this.mindMap.render())}setNodeStyle(t,n,r){let s={[n]:r};this.mindMap.richText&&this.mindMap.richText.setNotActiveNodeStyle(t,{[n]:r}),this.setNodeDataRender(t,s),$k.includes(n)&&(t.parent||t).renderLine(!0)}setNodeStyles(t,n){let r={...n};this.mindMap.richText&&this.mindMap.richText.setNotActiveNodeStyle(t,n),this.setNodeDataRender(t,r);let s=Object.keys(n),a=!1;s.forEach(i=>{$k.includes(i)&&(a=!0)}),a&&(t.parent||t).renderLine(!0)}setNodeActive(t,n){this.mindMap.execCommand("SET_NODE_DATA",t,{isActive:n}),t.updateNodeByActive(n)}setNodeExpand(t,n){this.mindMap.execCommand("SET_NODE_DATA",t,{expand:n}),this.mindMap.render()}expandAllNode(){this.renderTree&&(En(this.renderTree,null,t=>{t.data.expand||(t.data.expand=!0)},null,!0,0,0),this.mindMap.render())}unexpandAllNode(t=!0){this.renderTree&&(En(this.renderTree,null,(n,r,s)=>{!s&&n.children&&n.children.length>0&&(n.data.expand=!1)},null,!0,0,0),this.mindMap.render(()=>{t&&this.setRootNodeCenter()}))}expandToLevel(t){this.renderTree&&(En(this.renderTree,null,(n,r,s,a)=>{a<t?n.data.expand=!0:!s&&n.children&&n.children.length>0&&(n.data.expand=!1)},null,!0,0,0),this.mindMap.render())}toggleActiveExpand(){this.activeNodeList.forEach(t=>{t.nodeData.children.length<=0||t.isRoot||this.toggleNodeExpand(t)})}toggleNodeExpand(t){this.mindMap.execCommand("SET_NODE_EXPAND",t,!t.getData("expand"))}setNodeText(t,n,r,s){r=r===void 0?t.getData("richText"):r,this.setNodeDataRender(t,{text:n,richText:r,resetRichText:s})}setNodeImage(t,n){const{url:r,title:s,width:a,height:i,custom:o=!1}=n||{url:"",title:"",width:0,height:0,custom:!1};this.setNodeDataRender(t,{image:r,imageTitle:s||"",imageSize:{width:a,height:i,custom:o}})}setNodeIcon(t,n){this.setNodeDataRender(t,{icon:n})}setNodeHyperlink(t,n,r=""){this.setNodeDataRender(t,{hyperlink:n,hyperlinkTitle:r})}setNodeNote(t,n){this.setNodeDataRender(t,{note:n})}setNodeAttachment(t,n,r=""){this.setNodeDataRender(t,{attachmentUrl:n,attachmentName:r})}setNodeTag(t,n){this.setNodeDataRender(t,{tag:n})}insertFormula(t,n=[]){if(!this.mindMap.richText||!this.mindMap.formula)return;n=$a(n),(n.length>0?n:this.activeNodeList).forEach(s=>{this.mindMap.formula.insertFormulaToNode(s,t)})}addGeneralization(t,n=!0){if(this.activeNodeList.length<=0)return;const r=this.activeNodeList.filter(u=>!u.isRoot&&!u.isGeneralization&&!u.checkHasSelfGeneralization()),s=u1e(r);if(s.length<=0)return;const a=!!this.mindMap.richText,{focusNewNode:i,inserting:o}=this.getNewNodeBehavior(n,s.length>1);let l=!1;s.forEach(u=>{const c={inserting:o,...t||{text:this.mindMap.opt.defaultGeneralizationText},range:u.range||null,uid:Vo(),richText:a,resetRichText:a,isActive:i};let d=u.node.getData("generalization");if(d=d?Array.isArray(d)?d:[d]:[],u.range){if(!!d.find(p=>p.range&&p.range[0]===u.range[0]&&p.range[1]===u.range[1]))return;d.push(c)}else d.push(c);l=!0,this.mindMap.execCommand("SET_NODE_DATA",u.node,{generalization:d}),u.node.setData({expand:!0})}),l&&(i&&this.clearActiveNodeList(),this.mindMap.render(()=>{this.mindMap.render()}))}removeGeneralization(){this.activeNodeList.length<=0||(this.activeNodeList.forEach(t=>{t.checkHasGeneralization()&&this.mindMap.execCommand("SET_NODE_DATA",t,{generalization:null})}),this.mindMap.render(),this.closeHighlightNode())}setNodeCustomPosition(t,n=void 0,r=void 0){[t].forEach(a=>{this.mindMap.execCommand("SET_NODE_DATA",a,{customLeft:n,customTop:r})})}resetLayout(){En(this.root,null,t=>{t.customLeft=void 0,t.customTop=void 0,this.mindMap.execCommand("SET_NODE_DATA",t,{customLeft:void 0,customTop:void 0}),this.mindMap.render()},null,!0,0,0)}setNodeShape(t,n){if(!n||!w1e.includes(n))return;[t].forEach(s=>{this.setNodeStyle(s,"shape",n)})}goTargetNode(t,n=()=>{}){let r=typeof t=="string"?t:t.getData("uid");r&&this.expandToNodeUid(r,()=>{let s=this.findNodeByUid(r);s&&(s.active(),this.moveNodeToCenter(s),n(s))})}setNodeData(t,n){Object.keys(n).forEach(r=>{t.nodeData.data[r]=n[r]})}setNodeDataRender(t,n,r=!1){this.mindMap.execCommand("SET_NODE_DATA",t,n),this.reRenderNodeCheckChange(t,r)}reRenderNodeCheckChange(t,n){t.reRender()?n||this.mindMap.render():this.mindMap.emit("node_tree_render_end")}moveNodeToCenter(t,n){let{resetScaleOnMoveNodeToCenter:r}=this.mindMap.opt;n!==void 0&&(r=n);let{transform:s,state:a}=this.mindMap.view.getTransformData(),{left:i,top:o,width:l,height:u}=t;r||(i*=s.scaleX,o*=s.scaleY,l*=s.scaleX,u*=s.scaleY);let c=this.mindMap.width/2,d=this.mindMap.height/2,h=i+l/2,p=o+u/2,m=c-a.x,g=d-a.y,v=m-h,y=g-p;this.mindMap.view.translateX(v),this.mindMap.view.translateY(y),r&&this.mindMap.view.setScale(1)}setRootNodeCenter(){this.moveNodeToCenter(this.root)}expandToNodeUid(t,n=()=>{}){if(!this.renderTree){n();return}let r=[],s=!1;const a={};Gye(this.renderTree,(o,l)=>{if(o.data.uid===t)return r=l?[...a[l.data.uid],l]:[],"stop";if(f_(o.data).forEach(c=>{c.uid===t&&(r=l?[...a[l.data.uid],l,o]:[],s=!0)}),s)return"stop";a[o.data.uid]=l?[...a[l.data.uid],l]:[]});let i=!1;if(r.forEach(o=>{o.data.expand||(i=!0,o.data.expand=!0)}),s){const o=r[r.length-1];o&&En(o,null,l=>{l.data.expand||(i=!0,l.data.expand=!0)})}i?this.mindMap.render(n):n()}findNodeByUid(t){let n=null;return En(this.root,null,r=>{if(r.getData("uid")===t)return n=r,!0;let s=!1;if((r._generalizationList||[]).forEach(a=>{a.generalizationNode.getData("uid")===t&&(n=a.generalizationNode,s=!0)}),s)return!0}),n}highlightNode(t,n){if(this.isRendering)return;const{highlightNodeBoxStyle:r={}}=this.mindMap.opt;this.highlightBoxNode||(this.highlightBoxNode=new Ic().stroke({color:r.stroke||"transparent"}).fill({color:r.fill||"transparent"}));let s=1/0,a=1/0,i=-1/0,o=-1/0;n?t.children.slice(n[0],n[1]+1).forEach(u=>{u.left<s&&(s=u.left),u.top<a&&(a=u.top);const c=u.left+u.width,d=u.top+u.height;c>i&&(i=c),d>o&&(o=d)}):(s=t.left,a=t.top,i=t.left+t.width,o=t.top+t.height),this.highlightBoxNode.plot([[s,a],[i,a],[i,o],[s,o]]),this.mindMap.otherDraw.add(this.highlightBoxNode)}closeHighlightNode(){this.highlightBoxNode&&this.highlightBoxNode.remove()}}const zbe=Sn(Nn,{lineColor:"#333",backgroundColor:"#d1f6ec",generalizationLineWidth:1,generalizationLineColor:"#333",root:{fillColor:"#1fb27d"},second:{fillColor:"#fff",color:"#565656",borderColor:"transparent",borderWidth:0},generalization:{fillColor:"#fff",borderColor:"#333",color:"#333"}}),Fbe=Sn(Nn,{lineColor:"rgb(115, 161, 191)",backgroundColor:"rgb(251, 251, 251)",generalizationLineWidth:1,generalizationLineColor:"#333",root:{fillColor:"rgb(115, 161, 191)"},second:{fillColor:"rgb(238, 243, 246)",color:"#333",borderColor:"rgb(115, 161, 191)",borderWidth:1,fontSize:14},node:{fontSize:12,color:"#333"},generalization:{fillColor:"#fff",borderColor:"#333",color:"#333"}}),Bbe=Sn(Nn,{lineColor:"rgb(191, 115, 148)",backgroundColor:"rgb(251, 251, 251)",generalizationLineWidth:1,generalizationLineColor:"#333",root:{fillColor:"rgb(191, 115, 148)"},second:{fillColor:"rgb(246, 238, 242)",color:"#333",borderColor:"rgb(191, 115, 148)",borderWidth:1,fontSize:14},node:{fontSize:12,color:"#333"},generalization:{fillColor:"#fff",borderColor:"#333",color:"#333"}}),jbe=Sn(Nn,{lineColor:"rgb(123, 115, 191)",backgroundColor:"rgb(251, 251, 251)",generalizationLineWidth:1,generalizationLineColor:"#333",root:{fillColor:"rgb(123, 115, 191)"},second:{fillColor:"rgb(239, 238, 246)",color:"#333",borderColor:"rgb(123, 115, 191)",borderWidth:1,fontSize:14},node:{fontSize:12,color:"#333"},generalization:{fillColor:"#fff",borderColor:"#333",color:"#333"}}),Vbe=Sn(Nn,{lineColor:"rgb(191, 115, 115)",backgroundColor:"rgb(251, 251, 251)",generalizationLineWidth:1,generalizationLineColor:"#333",root:{fillColor:"rgb(191, 115, 115)"},second:{fillColor:"rgb(246, 238, 238)",color:"#333",borderColor:"rgb(191, 115, 115)",borderWidth:1,fontSize:14},node:{fontSize:12,color:"#333"},generalization:{fillColor:"#fff",borderColor:"#333",color:"#333"}}),Hbe=Sn(Nn,{lineColor:"rgb(191, 147, 115)",backgroundColor:"rgb(251, 251, 251)",generalizationLineWidth:1,generalizationLineColor:"#333",root:{fillColor:"rgb(191, 147, 115)"},second:{fillColor:"rgb(246, 242, 238)",color:"#333",borderColor:"rgb(191, 147, 115)",borderWidth:1,fontSize:14},node:{fontSize:12,color:"#333"},generalization:{fillColor:"#fff",borderColor:"#333",color:"#333"}}),Ube=Sn(Nn,{lineColor:"#fff",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"#fff",backgroundColor:"rgb(58, 65, 68)",backgroundImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowQzg5QTQ0NDhENzgxMUUzOENGREE4QTg0RDgzRTZDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowQzg5QTQ0NThENzgxMUUzOENGREE4QTg0RDgzRTZDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwOEQ1NDRGOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwOEQ1NDUwOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e9P33AAAACVJREFUeNpisXJ0YUACTAyoAMr/+eM7EGGRZ4FQ7BycEAZAgAEAHbEGtkoQm/wAAAAASUVORK5CYII=",backgroundRepeat:"repeat",backgroundSize:"auto",root:{fillColor:"rgb(233, 223, 152)",color:"#333",fontSize:24,borderRadius:21},second:{fillColor:"rgb(164, 197, 192)",borderColor:"transparent",color:"#333",fontSize:16,borderRadius:10},node:{fontSize:12,color:"#fff",fontWeight:"bold"},generalization:{fillColor:"#fff",borderColor:"transparent",color:"#333"}}),Wbe=Sn(Nn,{lineColor:"rgb(51, 51, 51)",lineWidth:2,generalizationLineWidth:3,generalizationLineColor:"rgb(51, 51, 51)",backgroundColor:"#fff",root:{fillColor:"rgb(18, 187, 55)",color:"#fff",fontSize:24,borderRadius:10},second:{fillColor:"rgb(241, 242, 241)",borderColor:"transparent",color:"#1a1a1a",fontSize:18,borderRadius:10},node:{fontSize:14,color:"#1a1a1a"},generalization:{fillColor:"#fff",borderColor:"rgb(51, 51, 51)",borderWidth:2,color:"#1a1a1a"}}),Kbe=Sn(Nn,{lineColor:"rgb(94, 202, 110)",lineWidth:2,generalizationLineWidth:3,generalizationLineColor:"#1a1a1a",backgroundColor:"rgb(241, 241, 241)",root:{fillColor:"rgb(255, 245, 214)",color:"#1a1a1a",fontSize:24,borderRadius:10,borderColor:"rgb(249, 199, 84)",borderWidth:1},second:{fillColor:"rgb(255, 245, 214)",borderColor:"rgb(249, 199, 84)",borderWidth:1,color:"#1a1a1a",fontSize:18,borderRadius:10},node:{fontSize:14,color:"#1a1a1a"},generalization:{fillColor:"#fff",borderColor:"#1a1a1a",color:"#1a1a1a",borderWidth:2}}),Gbe=Sn(Nn,{lineColor:"rgb(30, 53, 86)",lineWidth:2,generalizationLineWidth:2,generalizationLineColor:"rgb(56, 123, 233)",backgroundColor:"rgb(241, 241, 241)",root:{fillColor:"rgb(30, 53, 86)",color:"#fff",fontSize:24,borderRadius:10,borderColor:"rgb(189, 197, 201)",borderWidth:2},second:{fillColor:"rgb(169, 218, 218)",borderColor:"rgb(30, 53, 86)",borderWidth:2,color:"#fff",fontSize:18,borderRadius:10},node:{fontSize:14,color:"rgb(30, 53, 86)",borderColor:"rgb(30, 53, 86)",borderWidth:1,marginY:20},generalization:{fillColor:"rgb(56, 123, 233)",borderColor:"rgb(56, 123, 233)",color:"#fff",borderWidth:0}}),Zbe=Sn(Nn,{lineColor:"rgb(17, 68, 23)",lineWidth:2,generalizationLineWidth:2,generalizationLineColor:"#fff",backgroundColor:"rgb(15, 16, 17)",root:{fillColor:"rgb(28, 178, 43)",color:"#fff",fontSize:24,borderRadius:10},second:{fillColor:"rgb(55, 56, 58)",color:"rgb(147,148,149)",fontSize:18,borderRadius:10,borderWidth:0},node:{fontSize:14,color:"rgb(147, 148, 149)"},generalization:{fillColor:"#fff",borderColor:"transparent",color:"#333"}}),Ybe=Sn(Nn,{lineColor:"rgb(123, 199, 120)",backgroundColor:"rgb(236, 245, 231)",generalizationLineWidth:2,generalizationLineColor:"rgb(123, 199, 120)",root:{fillColor:"rgb(253, 244, 217)",color:"#222"},second:{fillColor:"rgb(253, 244, 217)",color:"#222",borderColor:"rgb(242, 200, 104)",borderWidth:1,fontSize:14},node:{fontSize:12,color:"#333"},generalization:{fillColor:"rgb(123, 199, 120)",borderColor:"transparent",borderWidth:2,color:"#fff"}}),qbe=Sn(Nn,{lineColor:"rgb(51, 51, 51)",lineWidth:2,generalizationLineWidth:2,generalizationLineColor:"rgb(51, 51, 51)",backgroundColor:"rgb(239, 248, 250)",root:{fillColor:"rgb(255, 255, 255)",color:"#222"},second:{fillColor:"rgb(255, 255, 255)",color:"#222",borderColor:"rgb(255, 255, 255)",borderWidth:1,fontSize:14},node:{fontSize:12,color:"#333"},generalization:{fillColor:"#fff",borderColor:"rgb(51, 51, 51)",color:"#333"}}),Xbe=Sn(Nn,{lineColor:"rgb(51, 51, 51)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"#222",backgroundColor:"rgb(248, 215, 49)",root:{fillColor:"rgb(55, 165, 255)",borderColor:"rgb(51, 51, 51)",borderWidth:3},second:{fillColor:"rgb(255, 160, 36)",color:"#222",borderColor:"rgb(51, 51, 51)",borderWidth:3,fontSize:14},node:{fontSize:12,color:"#222"},generalization:{borderColor:"#222",borderWidth:3,color:"#222"}}),Jbe=Sn(Nn,{lineColor:"rgb(166, 101, 106)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"#fff",backgroundColor:"rgb(255, 208, 211)",root:{fillColor:"rgb(139, 109, 225)",borderColor:"",borderWidth:0},second:{fillColor:"rgb(243, 104, 138)",color:"#fff",borderColor:"",borderWidth:0,fontSize:14},node:{fontSize:12,color:"#222"},generalization:{fillColor:"#fff",borderColor:"transparent",color:"#222"}}),Qbe=Sn(Nn,{lineColor:"rgb(104, 204, 202)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(90, 206, 241)",backgroundColor:"rgb(239, 255, 255)",root:{fillColor:"rgb(0, 192, 184)",borderColor:"",borderWidth:0},second:{fillColor:"#fff",color:"#222",borderColor:"rgb(184, 235, 233)",borderWidth:2,fontSize:14},node:{fontSize:12,color:"#222"},generalization:{fillColor:"rgb(90, 206, 241)",borderColor:"transparent",color:"#fff"}}),e2e=Sn(Nn,{lineColor:"rgb(51, 56, 62)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(127, 93, 64)",backgroundColor:"#fff",root:{fillColor:"rgb(51, 56, 62)",color:"rgb(247, 208, 160)",borderColor:"",borderWidth:0},second:{fillColor:"rgb(239, 209, 176)",color:"rgb(81, 58, 42)",borderColor:"",borderWidth:0,fontSize:14},node:{fontSize:12,color:"#222"},generalization:{fillColor:"rgb(127, 93, 64)",borderColor:"transparent",color:"rgb(255, 214, 175)"}}),t2e=Sn(Nn,{lineColor:"rgb(254, 146, 0)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(255, 222, 69)",backgroundColor:"rgb(255, 246, 243)",root:{fillColor:"rgb(255, 112, 52)",color:"#fff",borderColor:"",borderWidth:0},second:{fillColor:"#fff",color:"rgb(51, 51, 51)",borderColor:"",borderWidth:0,fontSize:14},node:{fontSize:12,color:"#222"},generalization:{fillColor:"rgb(255, 222, 69)",borderColor:"transparent",color:"rgb(51, 51, 51)"}}),n2e=Sn(Nn,{lineColor:"rgb(40, 193, 84)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(251, 158, 0)",backgroundColor:"rgb(238, 255, 243)",root:{fillColor:"rgb(25, 193, 73)",color:"#fff",borderColor:"",borderWidth:0},second:{fillColor:"#fff",color:"rgb(69, 149, 96)",borderColor:"",borderWidth:0,fontSize:14},node:{fontSize:12,color:"#222"},generalization:{fillColor:"#fff",borderColor:"rgb(251, 158, 0)",borderWidth:2,color:"rgb(51, 51, 51)"}}),r2e=Sn(Nn,{lineColor:"rgb(75, 81, 78)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(255, 119, 34)",backgroundColor:"rgb(27, 31, 34)",root:{fillColor:"rgb(36, 179, 96)",color:"#fff",borderColor:"",borderWidth:0},second:{fillColor:"rgb(254, 199, 13)",color:"rgb(0, 0, 0)",borderColor:"",borderWidth:0,fontSize:14},node:{fontSize:12,color:"rgb(204, 204, 204)"},generalization:{fillColor:"transparent",borderColor:"rgb(255, 119, 34)",borderWidth:2,color:"rgb(204, 204, 204)"}}),s2e=Sn(Nn,{lineColor:"#fff",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"#fff",backgroundColor:"rgb(80, 156, 170)",root:{fillColor:"#fff",borderColor:"",borderWidth:0,color:"rgb(65, 89, 158)"},second:{fillColor:"rgb(251, 227, 188)",color:"rgb(65, 89, 158)",borderColor:"",borderWidth:0,fontSize:14},node:{fontSize:12,color:"rgb(65, 89, 158)"},generalization:{fillColor:"#fff",borderColor:"transparent",color:"rgb(65, 89, 158)"}}),a2e=Sn(Nn,{lineColor:"rgb(34, 34, 34)",lineWidth:4,generalizationLineWidth:4,generalizationLineColor:"rgb(34, 34, 34)",root:{fillColor:"#fff",color:"rgb(34, 34, 34)",borderColor:"rgb(34, 34, 34)",borderWidth:3,fontSize:24},second:{fillColor:"rgb(241, 246, 248)",color:"rgb(34, 34, 34)",borderColor:"rgb(34, 34, 34)",borderWidth:3,fontSize:18},node:{fontSize:14,color:"rgb(34, 34, 34)"},generalization:{fontSize:14,fillColor:"transparent",borderColor:"rgb(34, 34, 34)",borderWidth:2,color:"rgb(34, 34, 34)"}}),i2e=Sn(Nn,{lineColor:"rgb(113, 195, 169)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(113, 195, 169)",root:{fillColor:"rgb(16, 160, 121)",color:"#fff",borderColor:"",borderWidth:0,fontSize:24},second:{fillColor:"rgb(240, 252, 249)",color:"rgb(50, 113, 96)",borderColor:"rgb(113, 195, 169)",borderWidth:2,fontSize:18},node:{fontSize:14,color:"rgb(10, 59, 43)"},generalization:{fontSize:14,fillColor:"rgb(246, 238, 211)",borderColor:"",borderWidth:0,color:"rgb(173, 91, 12)"}}),o2e=Sn(Nn,{lineColor:"rgb(173, 123, 91)",lineWidth:4,generalizationLineWidth:4,generalizationLineColor:"rgb(173, 123, 91)",root:{fillColor:"rgb(202, 117, 79)",color:"#fff",borderColor:"",borderWidth:0,fontSize:24},second:{fillColor:"rgb(245, 231, 216)",color:"rgb(125, 86, 42)",borderColor:"",borderWidth:0,fontSize:18},node:{fontSize:14,color:"rgb(96, 71, 47)"},generalization:{fontSize:14,fillColor:"rgb(255, 249, 239)",borderColor:"rgb(173, 123, 91)",borderWidth:2,color:"rgb(122, 83, 44)"}}),l2e=Sn(Nn,{backgroundColor:"rgb(255, 238, 228)",lineColor:"rgb(230, 138, 131)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(222, 101, 85)",root:{fillColor:"rgb(207, 44, 44)",color:"rgb(255, 233, 157)",borderColor:"",borderWidth:0,fontSize:24},second:{fillColor:"rgb(255, 255, 255)",color:"rgb(211, 58, 21)",borderColor:"rgb(222, 101, 85)",borderWidth:2,fontSize:18},node:{fontSize:14,color:"rgb(144, 71, 43)"},generalization:{fontSize:14,fillColor:"rgb(255, 247, 211)",borderColor:"rgb(255, 202, 162)",borderWidth:2,color:"rgb(187, 101, 69)"}}),u2e=Sn(Nn,{backgroundColor:"rgb(27, 31, 34)",lineColor:"rgb(75, 81, 78)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(255, 119, 34)",root:{fillColor:"rgb(36, 179, 96)",color:"#fff",borderColor:"",borderWidth:0,fontSize:24},second:{fillColor:"rgb(254, 199, 13)",color:"rgb(0, 0, 0)",borderColor:"",borderWidth:0,fontSize:18},node:{fontSize:14,color:"rgb(204, 204, 204)"},generalization:{fontSize:14,fillColor:"rgb(27, 31, 34)",borderColor:"rgb(255, 119, 34)",borderWidth:2,color:"rgb(204, 204, 204)"}}),c2e=Sn(Nn,{backgroundColor:"rgb(32, 37, 49)",lineColor:"rgb(137, 167, 196)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(255, 119, 34)",root:{fillColor:"rgb(23, 153, 243)",color:"rgb(255, 255, 255)",borderColor:"",borderWidth:0,fontSize:24},second:{fillColor:"rgb(70, 78, 94)",color:"rgb(209, 210, 210)",borderColor:"",borderWidth:0,fontSize:18},node:{fontSize:14,color:"rgb(204, 204, 204)"},generalization:{fontSize:14,fillColor:"rgb(255, 119, 34)",borderColor:"",borderWidth:2,color:"#fff"}}),d2e=Sn(Nn,{backgroundColor:"rgb(18, 20, 20)",lineColor:"rgb(205, 186, 156)",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"rgb(245, 224, 191)",root:{fillColor:"rgb(255, 208, 124)",color:"rgb(111, 61, 6)",borderColor:"",borderWidth:0,fontSize:24},second:{fillColor:"rgb(66, 57, 46)",color:"rgb(225, 201, 158)",borderColor:"rgb(245, 224, 191)",borderWidth:2,fontSize:18},node:{fontSize:14,color:"rgb(231, 203, 155)"},generalization:{fontSize:14,fillColor:"rgb(56, 45, 34)",borderColor:"rgb(104, 84, 61)",borderWidth:2,color:"rgb(242, 216, 176)"}}),f2e=Sn(Nn,{backgroundColor:"#e6f1de",lineColor:"#f5ffad",lineWidth:4,generalizationLineWidth:3,generalizationLineColor:"#749336",root:{fillColor:"#94c143",color:"#fff",borderColor:"#94c143",borderWidth:0,fontSize:24},second:{fillColor:"#cee498",color:"#749336",borderColor:"#aec668",borderWidth:2,fontSize:18},node:{fontSize:14,color:"#749336"},generalization:{fontSize:14,fillColor:"#cee498",borderColor:"#aec668",borderWidth:2,color:"#749336"}}),h2e=Sn(Nn,{backgroundColor:"#fff2df",lineColor:"#b0bc47",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"#b0bc47",root:{fillColor:"#e68112",color:"#fff",borderColor:"#e68112",borderWidth:0,fontSize:24},second:{fillColor:"#ffd683",color:"#8c5416",borderColor:"#b0bc47",borderWidth:2,fontSize:18},node:{fontSize:14,color:"#8c5416"},generalization:{fontSize:14,fillColor:"#ffd683",borderColor:"#b0bc47",borderWidth:2,color:"#8c5416"}}),p2e=Sn(Nn,{backgroundColor:"#070616",lineColor:"#fff",lineWidth:3,generalizationLineWidth:3,generalizationLineColor:"#fff",root:{fillColor:"#ff6811",color:"#110501",borderColor:"#ff6811",borderWidth:0,fontSize:24},second:{fillColor:"#070616",color:"#a9a4a9",borderColor:"#ff6811",borderWidth:2,fontSize:18},node:{fontSize:14,color:"#a9a4a9"},generalization:{fontSize:14,fillColor:"",borderColor:"#ff6811",borderWidth:2,color:"#a9a4a9"}}),w0={default:Nn,freshGreen:zbe,blueSky:Fbe,brainImpairedPink:Bbe,romanticPurple:jbe,freshRed:Vbe,earthYellow:Hbe,classic:Ube,classic2:Wbe,classic3:Kbe,classic4:Gbe,dark:Zbe,classicGreen:Ybe,classicBlue:qbe,minions:Xbe,pinkGrape:Jbe,mint:Qbe,gold:e2e,vitalityOrange:t2e,greenLeaf:n2e,dark2:r2e,skyGreen:s2e,simpleBlack:a2e,courseGreen:i2e,coffee:o2e,redSpirit:l2e,blackHumour:u2e,lateNightOffice:c2e,blackGold:d2e,avocado:f2e,autumn:h2e,orangeJuice:p2e},XS={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Left:37,Up:38,Right:39,Down:40,Del:46,NumLock:144,Cmd:91,CmdFF:224,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"`":192,"=":187,"-":189,"/":191,".":190};for(let e=0;e<=9;e++)XS[e]=e+48;"abcdefghijklmnopqrstuvwxyz".split("").forEach((e,t)=>{XS[e]=t+65});const wg=XS;class m2e{constructor(t){this.opt=t,this.mindMap=t.mindMap,this.shortcutMap={},this.shortcutMapCache={},this.isPause=!1,this.isInSvg=!1,this.bindEvent()}pause(){this.isPause=!0}recovery(){this.isPause=!1}save(){this.shortcutMapCache=this.shortcutMap,this.shortcutMap={}}restore(){this.shortcutMap=this.shortcutMapCache,this.shortcutMapCache={}}bindEvent(){this.onKeydown=this.onKeydown.bind(this),this.mindMap.on("svg_mouseenter",()=>{this.isInSvg=!0}),this.mindMap.on("svg_mouseleave",()=>{this.mindMap.renderer.textEdit.isShowTextEdit()||this.mindMap.associativeLine&&this.mindMap.associativeLine.showTextEdit||(this.isInSvg=!1)}),window.addEventListener("keydown",this.onKeydown),this.mindMap.on("beforeDestroy",()=>{this.unBindEvent()})}unBindEvent(){window.removeEventListener("keydown",this.onKeydown)}onKeydown(t){const{enableShortcutOnlyWhenMouseInSvg:n,beforeShortcutRun:r}=this.mindMap.opt;this.isPause||n&&!this.isInSvg||Object.keys(this.shortcutMap).forEach(s=>{if(this.checkKey(t,s)){if(this.checkKey(t,"Control+v")||(t.stopPropagation(),t.preventDefault()),typeof r=="function"&&r(s,[...this.mindMap.renderer.activeNodeList]))return;this.shortcutMap[s].forEach(a=>{a()})}})}checkKey(t,n){let r=this.getOriginEventCodeArr(t),s=this.getKeyCodeArr(n);if(r.length!==s.length)return!1;for(let a=0;a<r.length;a++){let i=s.findIndex(o=>o===r[a]);if(i===-1)return!1;s.splice(i,1)}return!0}getOriginEventCodeArr(t){let n=[];return(t.ctrlKey||t.metaKey)&&n.push(wg.Control),t.altKey&&n.push(wg.Alt),t.shiftKey&&n.push(wg.Shift),n.includes(t.keyCode)||n.push(t.keyCode),n}hasCombinationKey(t){return t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}getKeyCodeArr(t){let n=t.split(/\s*\+\s*/),r=[];return n.forEach(s=>{r.push(wg[s])}),r}addShortcut(t,n){t.split(/\s*\|\s*/).forEach(r=>{this.shortcutMap[r]?this.shortcutMap[r].push(n):this.shortcutMap[r]=[n]})}removeShortcut(t,n){t.split(/\s*\|\s*/).forEach(r=>{if(this.shortcutMap[r])if(n){let s=this.shortcutMap[r].findIndex(a=>a===n);s!==-1&&this.shortcutMap[r].splice(s,1)}else this.shortcutMap[r]=[],delete this.shortcutMap[r]})}getShortcutFn(t){let n=[];return t.split(/\s*\|\s*/).forEach(r=>{n=this.shortcutMap[r]||[]}),n}}class g2e{constructor(t={}){this.opt=t,this.mindMap=t.mindMap,this.commands={},this.history=[],this.activeHistoryIndex=0,this.registerShortcutKeys(),this.addHistory=XM(this.addHistory,this.mindMap.opt.addHistoryTime,this),this.isPause=!1}pause(){this.isPause=!0}recovery(){this.isPause=!1}clearHistory(){this.history=[],this.activeHistoryIndex=0,this.mindMap.emit("back_forward",0,0)}registerShortcutKeys(){this.mindMap.keyCommand.addShortcut("Control+z",()=>{this.mindMap.execCommand("BACK")}),this.mindMap.keyCommand.addShortcut("Control+y",()=>{this.mindMap.execCommand("FORWARD")})}exec(t,...n){if(this.commands[t]){if(this.commands[t].forEach(r=>{r(...n)}),["BACK","FORWARD","SET_NODE_ACTIVE","CLEAR_ACTIVE_NODE"].includes(t))return;this.addHistory()}}add(t,n){this.commands[t]?this.commands[t].push(n):this.commands[t]=[n]}remove(t,n){if(this.commands[t])if(!n)this.commands[t]=[],delete this.commands[t];else{let r=this.commands[t].find(s=>s===n);r!==-1&&this.commands[t].splice(r,1)}}addHistory(){if(this.mindMap.opt.readonly||this.isPause)return;const t=this.history.length>0?this.history[this.activeHistoryIndex]:null,n=this.getCopyData();t!==n&&(t&&JSON.stringify(t)===JSON.stringify(n)||(this.emitDataUpdatesEvent(t,n),this.history=this.history.slice(0,this.activeHistoryIndex+1),this.history.push(La(n)),this.history.length>this.mindMap.opt.maxHistoryCount&&this.history.shift(),this.activeHistoryIndex=this.history.length-1,this.mindMap.emit("data_change",n),this.mindMap.emit("back_forward",this.activeHistoryIndex,this.history.length)))}back(t=1){if(!this.mindMap.opt.readonly&&this.activeHistoryIndex-t>=0){const n=this.history[this.activeHistoryIndex];this.activeHistoryIndex-=t,this.mindMap.emit("back_forward",this.activeHistoryIndex,this.history.length);const r=La(this.history[this.activeHistoryIndex]);return this.emitDataUpdatesEvent(n,r),this.mindMap.emit("data_change",r),r}}forward(t=1){if(this.mindMap.opt.readonly)return;let n=this.history.length;if(this.activeHistoryIndex+t<=n-1){const r=this.history[this.activeHistoryIndex];this.activeHistoryIndex+=t,this.mindMap.emit("back_forward",this.activeHistoryIndex,this.history.length);const s=La(this.history[this.activeHistoryIndex]);return this.emitDataUpdatesEvent(r,s),this.mindMap.emit("data_change",s),s}}getCopyData(){return this.mindMap.renderer.renderTree?qM({},this.mindMap.renderer.renderTree,!0):null}removeDataUid(t){t=La(t);let n=r=>{delete r.data.uid,r.children&&r.children.length>0&&r.children.forEach(s=>{n(s)})};return n(t),t}emitDataUpdatesEvent(t,n){try{const r="data_change_detail";if(this.mindMap.event.listenerCount(r)>0&&t&&n){const a=La(yk(t)),i=La(yk(n)),o=[],l=(u,c)=>(u.children&&u.children.length>0&&u.children.forEach((d,h)=>{u.children[h]=typeof d=="string"?c[d]:c[d.data.uid],l(u.children[h],c)}),u);Object.keys(i).forEach(u=>{a[u]?c_(a[u],i[u])||o.push({action:"update",oldData:l(a[u],a),data:l(i[u],i)}):o.push({action:"create",data:l(i[u],i)})}),Object.keys(a).forEach(u=>{i[u]||o.push({action:"delete",data:l(a[u],a)})}),this.mindMap.emit(r,o)}}catch(r){this.mindMap.opt.errorHandler(Qu.DATA_CHANGE_DETAIL_EVENT_ERROR,r)}}}class v2e{constructor(){this.has={},this.queue=[],this.nextTick=Jye(this.flush,this)}push(t,n){if(this.has[t]){this.replaceTask(t,n);return}this.has[t]=!0,this.queue.push({name:t,fn:n}),this.nextTick()}replaceTask(t,n){const r=this.queue.findIndex(s=>s.name===t);r!==-1&&(this.queue[r]={name:t,fn:n})}flush(){let t=this.queue.slice(0);this.queue=[],t.forEach(({name:n,fn:r})=>{this.has[n]=!1,r()})}}const Ak={el:null,data:null,readonly:!1,layout:Le.LAYOUT.LOGICAL_STRUCTURE,fishboneDeg:45,theme:"default",themeConfig:{},scaleRatio:.2,mouseScaleCenterUseMousePosition:!0,maxTag:5,tagPosition:Le.TAG_POSITION.RIGHT,expandBtnSize:20,imgTextMargin:5,textContentMargin:2,customNoteContentShow:null,textAutoWrapWidth:500,customHandleMousewheel:null,mousewheelAction:Le.MOUSE_WHEEL_ACTION.MOVE,mousewheelMoveStep:100,mousewheelZoomActionReverse:!0,defaultInsertSecondLevelNodeText:"",defaultInsertBelowSecondLevelNodeText:"",expandBtnStyle:{color:"#808080",fill:"#fff",fontSize:13,strokeColor:"#333333"},expandBtnIcon:{open:"",close:""},expandBtnNumHandler:e=>e,isShowExpandNum:!0,enableShortcutOnlyWhenMouseInSvg:!0,initRootNodePosition:null,nodeTextEditZIndex:3e3,nodeNoteTooltipZIndex:3e3,isEndNodeTextEditOnClickOuter:!0,maxHistoryCount:500,alwaysShowExpandBtn:!1,notShowExpandBtn:!1,iconList:[],maxNodeCacheCount:1e3,fitPadding:50,enableCtrlKeyNodeSelection:!0,useLeftKeySelectionRightKeyDrag:!1,beforeTextEdit:null,isUseCustomNodeContent:!1,customCreateNodeContent:null,customInnerElsAppendTo:null,enableAutoEnterTextEditWhenKeydown:!1,customHandleClipboardText:null,disableMouseWheelZoom:!1,errorHandler:(e,t)=>{console.error(e,t)},enableDblclickBackToRootNode:!1,hoverRectColor:"rgb(94, 200, 248)",hoverRectPadding:2,selectTextOnEnterEditText:!1,deleteNodeActive:!0,fit:!1,tagsColorMap:{},cooperateStyle:{avatarSize:22,fontSize:12},onlyOneEnableActiveNodeOnCooperate:!1,defaultGeneralizationText:"",handleIsSplitByWrapOnPasteCreateNewNode:null,addHistoryTime:100,isDisableDrag:!1,highlightNodeBoxStyle:{stroke:"rgb(94, 200, 248)",fill:"transparent"},createNewNodeBehavior:Le.CREATE_NEW_NODE_BEHAVIOR.DEFAULT,defaultNodeImage:"",isLimitMindMapInCanvas:!1,handleNodePasteImg:null,customCreateNodePath:null,customCreateNodePolygon:null,customTransformNodeLinePath:null,beforeShortcutRun:null,resetScaleOnMoveNodeToCenter:!1,createNodePrefixContent:null,createNodePostfixContent:null,disabledClipboard:!1,customHyperlinkJump:null,openPerformance:!1,performanceConfig:{time:250,padding:100,removeNodeWhenOutCanvas:!0},selectTranslateStep:3,selectTranslateLimit:20,enableFreeDrag:!1,autoMoveWhenMouseInEdgeOnDrag:!0,dragMultiNodeRectConfig:{width:40,height:20,fill:"rgb(94, 200, 248)"},dragPlaceholderRectFill:"rgb(94, 200, 248)",dragPlaceholderLineConfig:{color:"rgb(94, 200, 248)",width:2},dragOpacityConfig:{cloneNodeOpacity:.5,beingDragNodeOpacity:.3},handleDragCloneNode:null,beforeDragEnd:null,beforeDragStart:null,watermarkConfig:{onlyExport:!1,text:"",lineSpacing:100,textSpacing:100,angle:30,textStyle:{color:"#999",opacity:.5,fontSize:14},belowNode:!1},exportPaddingX:10,exportPaddingY:10,resetCss:`
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
  `,minExportImgCanvasScale:2,addContentToHeader:null,addContentToFooter:null,handleBeingExportSvg:null,defaultAssociativeLineText:"",associativeLineIsAlwaysAboveNode:!0,associativeLineInitPointsPosition:{from:"",to:""},enableAdjustAssociativeLinePoints:!0,disableTouchZoom:!1,minTouchZoomScale:20,maxTouchZoomScale:-1,isLimitMindMapInCanvasWhenHasScrollbar:!0,isOnlySearchCurrentRenderNodes:!1,beforeCooperateUpdate:null,rainbowLinesConfig:{open:!1,colorsList:[]},demonstrateConfig:null,enableEditFormulaInRichTextEdit:!0,katexFontPath:"https://unpkg.com/katex@0.16.11/dist/",getKatexOutputType:null,transformRichTextOnEnterEdit:null,beforeHideRichTextEdit:null,richTextEditFakeInPlace:!1,outerFramePaddingX:10,outerFramePaddingY:10};let oi=class ku{constructor(t={}){if(this.opt=this.handleOpt(Sn(Ak,t)),this.opt.data=this.handleData(this.opt.data),this.el=this.opt.el,!this.el)throw new Error("el");this.getElRectInfo(),this.initWidth=this.width,this.initHeight=this.height,this.cssEl=null,this.addCss(),this.initContainer(),this.initTheme(),this.initCache(),this.event=new Cve({mindMap:this}),this.keyCommand=new m2e({mindMap:this}),this.command=new g2e({mindMap:this}),this.renderer=new Dbe({mindMap:this}),this.view=new _ve({mindMap:this}),this.batchExecution=new v2e,ku.pluginList.forEach(n=>{this.initPlugin(n)}),this.render(this.opt.fit?()=>this.view.fit():()=>{}),setTimeout(()=>{this.opt.data&&this.command.addHistory()},0)}handleOpt(t){return nk.includes(t.layout)||(t.layout=Le.LAYOUT.LOGICAL_STRUCTURE),t.theme=t.theme&&w0[t.theme]?t.theme:"default",t}handleData(t){return Sm(t)||Object.keys(t).length<=0?null:(t=La(t||{}),t.data&&!t.data.expand&&(t.data.expand=!0),t)}initContainer(){const{associativeLineIsAlwaysAboveNode:t}=this.opt;this.el.classList.add("smm-mind-map-container");const n=()=>{this.associativeLineDraw=this.draw.group(),this.associativeLineDraw.addClass("smm-associative-line-container")};this.svg=os().addTo(this.el).size(this.width,this.height),this.draw=this.svg.group(),this.draw.addClass("smm-container"),this.lineDraw=this.draw.group(),this.lineDraw.addClass("smm-line-container"),t||n(),this.nodeDraw=this.draw.group(),this.nodeDraw.addClass("smm-node-container"),t&&n(),this.otherDraw=this.draw.group(),this.otherDraw.addClass("smm-other-container")}clearDraw(){this.lineDraw.clear(),this.associativeLineDraw.clear(),this.nodeDraw.clear(),this.otherDraw.clear()}addCss(){this.cssEl=document.createElement("style"),this.cssEl.type="text/css",this.cssEl.innerHTML=rk,document.head.appendChild(this.cssEl)}removeCss(){document.head.removeChild(this.cssEl)}render(t,n=""){this.batchExecution.push("render",()=>{this.initTheme(),this.renderer.render(t,n)})}reRender(t,n=""){this.renderer.reRender=!0,this.renderer.clearCache(),this.clearDraw(),this.render(t,n)}getElRectInfo(){if(this.elRect=this.el.getBoundingClientRect(),this.width=this.elRect.width,this.height=this.elRect.height,this.width<=0||this.height<=0)throw new Error("el0")}resize(){const t=this.width,n=this.height;this.getElRectInfo(),this.svg.size(this.width,this.height),(t!==this.width||n!==this.height)&&this.render(),this.emit("resize")}on(t,n){this.event.on(t,n)}emit(t,...n){this.event.emit(t,...n)}off(t,n){this.event.off(t,n)}initCache(){this.commonCaches={measureCustomNodeContentSizeEl:null,measureRichtextNodeTextSizeEl:null}}initTheme(){this.themeConfig=Sn(w0[this.opt.theme],this.opt.themeConfig),ii.setBackgroundStyle(this.el,this.themeConfig)}setTheme(t,n=!1){this.execCommand("CLEAR_ACTIVE_NODE"),this.opt.theme=t,n||this.render(null,Le.CHANGE_THEME),this.emit("view_theme_change",t)}getTheme(){return this.opt.theme}setThemeConfig(t,n=!1){const r=o1e(this.themeConfig,t);if(this.opt.themeConfig=t,!n){let s=Lbe(r);this.render(null,s?"":Le.CHANGE_THEME)}}getCustomThemeConfig(){return this.opt.themeConfig}getThemeConfig(t){return t===void 0?this.themeConfig:this.themeConfig[t]}getConfig(t){return t===void 0?this.opt:this.opt[t]}updateConfig(t={}){this.emit("before_update_config",this.opt),this.opt=this.handleOpt(Sn.all([Ak,this.opt,t])),this.emit("after_update_config",this.opt)}getLayout(){return this.opt.layout}setLayout(t,n=!1){nk.includes(t)||(t=Le.LAYOUT.LOGICAL_STRUCTURE),this.opt.layout=t,this.view.reset(),this.renderer.setLayout(),n||this.render(null,Le.CHANGE_LAYOUT),this.emit("layout_change",t)}execCommand(...t){this.command.exec(...t)}updateData(t){this.renderer.setData(t),this.render(),this.command.addHistory()}setData(t){t=this.handleData(t),this.opt.data=t,this.execCommand("CLEAR_ACTIVE_NODE"),this.command.clearHistory(),this.command.addHistory(),this.renderer.setData(t),this.reRender(()=>{},Le.SET_DATA),this.emit("set_data",t)}setFullData(t){t.root&&this.setData(t.root),t.layout&&this.setLayout(t.layout),t.theme&&(t.theme.template&&this.setTheme(t.theme.template),t.theme.config&&this.setThemeConfig(t.theme.config)),t.view&&this.view.setTransformData(t.view)}getData(t){let n=this.command.getCopyData(),r={};return t?r={layout:this.getLayout(),root:n,theme:{template:this.getTheme(),config:this.getCustomThemeConfig()},view:this.view.getTransformData()}:r=n,La(r)}async export(...t){try{if(!this.doExport)throw new Error("Export");return await this.doExport.export(...t)}catch(n){this.opt.errorHandler(Qu.EXPORT_ERROR,n)}}toPos(t,n){return{x:t-this.elRect.left,y:n-this.elRect.top}}setMode(t){if(![Le.MODE.READONLY,Le.MODE.EDIT].includes(t))return;const n=t===Le.MODE.READONLY;n!==this.opt.readonly&&(this.opt.readonly=n,this.opt.readonly&&this.execCommand("CLEAR_ACTIVE_NODE"),this.emit("mode_change",t))}getSvgData({paddingX:t=0,paddingY:n=0,ignoreWatermark:r=!1,addContentToHeader:s,addContentToFooter:a,node:i}={}){const{watermarkConfig:o,openPerformance:l}=this.opt;l&&this.renderer.forceLoadNode(i);const{cssTextList:u,header:c,headerHeight:d,footer:h,footerHeight:p}=m1e({addContentToHeader:s,addContentToFooter:a}),m=this.svg,g=this.draw,v=m.width(),y=m.height(),b=g.transform(),w=this.elRect;g.scale(1/b.scaleX,1/b.scaleY);const _=g.rbox();let S=null;i&&(S=g1e(i,_.x,_.y,t,n));const C=0;_.width+=t*2,_.height+=n*2+C+d+p,g.translate(t,n),m.size(_.width,_.height),g.translate(-_.x+w.left,-_.y+w.top);let T=m.clone();const x=this.watermark&&this.watermark.hasWatermark();if(!r&&x){this.watermark.isInExport=!0;const{onlyExport:A}=o;_.width>v||_.height>y?(this.width=_.width,this.height=_.height,this.watermark.onResize(),T=m.clone(),this.width=v,this.height=y,this.watermark.onResize()):A&&(this.watermark.onResize(),T=m.clone()),A&&this.watermark.clear(),this.watermark.isInExport=!1}[rk,...u].forEach(A=>{T.add(os(`<style>${A}</style>`))}),c&&d>0&&(T.findOne(".smm-container").translate(0,d),c.width(_.width),c.y(n),T.add(c,0)),h&&p>0&&(h.width(_.width),h.y(_.height-n-p),T.add(h));const N=m.find("defs"),k=T.find("defs");return N.forEach((A,O)=>{const F=k[O];if(!F)return;const j=A.children(),V=F.children();for(let G=0;G<j.length;G++){const R=j[G],$=V[G];R&&$&&$.attr("id",R.attr("id"))}}),m.size(v,y),g.transform(b),{svg:T,svgHTML:T.svg(),clipData:S,rect:{..._,ratio:_.width/_.height},origWidth:v,origHeight:y,scaleX:b.scaleX,scaleY:b.scaleY}}addPlugin(t,n){ku.hasPlugin(t)===-1&&(ku.usePlugin(t,n),this.initPlugin(t))}removePlugin(t){let n=ku.hasPlugin(t);n!==-1&&(ku.pluginList.splice(n,1),this[t.instanceName]&&(this[t.instanceName].beforePluginRemove&&this[t.instanceName].beforePluginRemove(),delete this[t.instanceName]))}initPlugin(t){this[t.instanceName]=new t({mindMap:this,pluginOpt:t.pluginOpt})}destroy(){this.emit("beforeDestroy"),this.renderer.textEdit.hideEditTextBox(),this.renderer.textEdit.removeTextEditEl(),[...ku.pluginList].forEach(t=>{this[t.instanceName]&&this[t.instanceName].beforePluginDestroy&&this[t.instanceName].beforePluginDestroy(),this[t.instanceName]=null}),this.event.unbind(),this.svg.remove(),ii.removeBackgroundStyle(this.el),this.el.classList.remove("smm-mind-map-container"),this.el.innerHTML="",this.el=null,this.removeCss()}};oi.pluginList=[];oi.usePlugin=(e,t={})=>(oi.hasPlugin(e)!==-1||(e.pluginOpt=t,oi.pluginList.push(e)),oi);oi.hasPlugin=e=>oi.pluginList.findIndex(t=>t===e);oi.defineTheme=(e,t={})=>{if(w0[e])return new Error("");w0[e]=Sn(Nn,t)};const JS=e=>String(e).split(/\s+/).map(n=>{if(/^[\d.]+/.test(n)){let r=/^([\d.]+)(.*)$/.exec(n);return[Number(r[1]),r[2]]}else return n}),_g=(e,t)=>e*t,Vb=(e,t)=>t/e,Rk={left:0,top:0,center:50,bottom:100,right:100},y2e=({backgroundSize:e,drawOpt:t,imageRatio:n,canvasWidth:r,canvasHeight:s,canvasRatio:a})=>{if(e){let i=JS(e);if(i[0]==="auto"&&i[1]==="auto")return;if(i[0]==="cover"){n>a?(t.height=s,t.width=_g(n,s)):(t.width=r,t.height=Vb(n,r));return}if(i[0]==="contain"){n>a?(t.width=r,t.height=Vb(n,r)):(t.height=s,t.width=_g(n,s));return}let o=-1;i[0]&&(Array.isArray(i[0])?i[0][1]==="%"?(t.width=i[0][0]/100*r,o=t.width):(t.width=i[0][0],o=i[0][0]):i[0]==="auto"&&i[1]&&(i[1][1]==="%"?t.width=_g(n,i[1][0]/100*s):t.width=_g(n,i[1][0]))),i[1]&&Array.isArray(i[1])?i[1][1]==="%"?t.height=i[1][0]/100*s:t.height=i[1][0]:o!==-1&&(t.height=Vb(n,o))}},b2e=({backgroundPosition:e,drawOpt:t,imgWidth:n,imgHeight:r,canvasWidth:s,canvasHeight:a})=>{if(e){let i=JS(e);if(i=i.map(o=>typeof o=="string"&&Rk[o]!==void 0?[Rk[o],"%"]:o),Array.isArray(i[0])){if(i.length===1&&i.push([50,"%"]),i[0][1]==="%"){let o=i[0][0]/100*s,l=i[0][0]/100*n;t.x=o-l}else t.x=i[0][0];if(i[1][1]==="%"){let o=i[1][0]/100*a,l=i[1][0]/100*r;t.y=o-l}else t.y=i[1][0]}}},w2e=({ctx:e,image:t,backgroundRepeat:n,drawOpt:r,imgWidth:s,imgHeight:a,canvasWidth:i,canvasHeight:o})=>{if(n){let l=r.x,u=r.y,c=Math.ceil(l/s),d=Math.ceil(u/a),h=l-c*s,p=u-d*a,m=JS(n);if(m[0]==="no-repeat"||s>=i&&a>=o)return;if(m[0]==="repeat-x"&&i>s){let g=h;for(;g<i;)vv(e,t,{...r,x:g}),g+=s;return!0}if(m[0]==="repeat-y"&&o>a){let g=p;for(;g<o;)vv(e,t,{...r,y:g}),g+=a;return!0}if(m[0]==="repeat"){let g=h;for(;g<i;){if(o>a){let v=p;for(;v<o;)vv(e,t,{...r,x:g,y:v}),v+=a}g+=s}return!0}}},vv=(e,t,n)=>{e.drawImage(t,n.sx,n.sy,n.swidth,n.sheight,n.x,n.y,n.width,n.height)},_2e=(e,t,n,r,{backgroundSize:s,backgroundPosition:a,backgroundRepeat:i},o=()=>{})=>{let l=t/n,u=new Image;u.src=r,u.onload=()=>{let c=u.width,d=u.height,h=c/d,p={sx:0,sy:0,swidth:c,sheight:d,x:0,y:0,width:c,height:d};y2e({backgroundSize:s,drawOpt:p,imageRatio:h,canvasWidth:t,canvasHeight:n,canvasRatio:l}),b2e({backgroundPosition:a,drawOpt:p,imgWidth:p.width,imgHeight:p.height,canvasWidth:t,canvasHeight:n}),w2e({ctx:e,image:u,backgroundRepeat:i,drawOpt:p,imgWidth:p.width,imgHeight:p.height,canvasWidth:t,canvasHeight:n})||vv(e,u,p),o()},u.onerror=c=>{o(c)}},Hb=e=>e.richText?QM(e.text):e.text,S2e=e=>new Array(e).fill("#").join(""),C2e=e=>new Array(e-6).fill("   ").join("")+"*",x2e=e=>{let t="";return En(e,null,(n,r,s,a)=>{const i=a+1;i<=6?t+=S2e(i):t+=C2e(i),t+=" "+Hb(n.data);const o=n.data.generalization;if(Array.isArray(o))t+=o.map(l=>` [${Hb(l)}]`);else if(o&&o.text){const l=Hb(o);t+=` [${l}]`}t+=`

`,n.data.note&&(t+=n.data.note+`

`)},()=>{},!0),t},Ub=e=>e.richText?QM(e.text):e.text,E2e=e=>new Array(e).fill("   ").join(""),T2e=e=>{let t="";return En(e,null,(n,r,s,a)=>{t+=E2e(a),t+=" "+Ub(n.data);const i=n.data.generalization;Array.isArray(i)?t+=i.map(o=>` [${Ub(o)}]`):i&&i.text&&(t+=` [${Ub(i)}]`),t+=`

`},()=>{},!0),t};class a9{constructor(t){this.mindMap=t.mindMap}async export(t,n=!0,r="",...s){if(this[t]){const a=await this[t](r,...s);return n&&Yye(a,r+"."+t),a}else return null}createTransformImgTaskList(t,n,r,s){return t.find(n).map(async i=>{const o=s(i);if(/^data:/.test(o)||o==="none")return;const l=await fk(o);i.attr(r,l)})}async getSvgData(t){let{exportPaddingX:n,exportPaddingY:r,errorHandler:s,resetCss:a,addContentToHeader:i,addContentToFooter:o,handleBeingExportSvg:l}=this.mindMap.opt,{svg:u,svgHTML:c,clipData:d}=this.mindMap.getSvgData({paddingX:n,paddingY:r,addContentToHeader:i,addContentToFooter:o,node:t});d&&(d.paddingX=n,d.paddingY=r);let h=!1;const p=this.createTransformImgTaskList(u,"image","href",v=>v.attr("href")||v.attr("xlink:href")),m=this.createTransformImgTaskList(u,"img","src",v=>v.attr("src")),g=[...p,...m];try{await Promise.all(g)}catch(v){s(Qu.EXPORT_LOAD_IMAGE_ERROR,v)}if(this.mindMap.richText){const v=u.find("foreignObject");if(v.length>0&&(v[0].add(os(`<style>${a}</style>`)),h=!0),this.mindMap.formula&&u.find(".ql-formula").length>0){const b=this.mindMap.formula.getStyleText();if(b){const w=document.createElement("style");w.innerHTML=b,Ad(w),v[0].add(w),h=!0}}}return typeof l=="function"&&(h=!0,u=l(u)),(g.length>0||h)&&(c=u.svg()),{node:u,str:c,clipData:d}}svgToPng(t,n,r=null){return new Promise((s,a)=>{const i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=async()=>{try{const o=document.createElement("canvas"),l=Math.max(window.devicePixelRatio,this.mindMap.opt.minExportImgCanvasScale);let u=i.width,c=i.height,d=0,h=0;r&&(d=r.paddingX,h=r.paddingY,u=r.width+d*2,c=r.height+h*2);const p=16384/l,m=p*p;if(u*c>m){let v=null,y=null;u>p?v=m/c:c>p&&(y=m/u);const b=YM(u,c,v,y);u=b[0],c=b[1]}o.width=u*l,o.height=c*l,o.style.width=u+"px",o.style.height=c+"px";const g=o.getContext("2d");g.scale(l,l),n||await this.drawBackgroundToCanvas(g,u,c),r?g.drawImage(i,r.left,r.top,r.width,r.height,d,h,r.width,r.height):g.drawImage(i,0,0,u,c),s(o.toDataURL())}catch(o){a(o)}},i.onerror=o=>{a(o)},i.src=t})}drawBackgroundToCanvas(t,n,r){return new Promise((s,a)=>{const{backgroundColor:i="#fff",backgroundImage:o,backgroundRepeat:l="no-repeat",backgroundPosition:u="center center",backgroundSize:c="cover"}=this.mindMap.themeConfig;t.save(),t.rect(0,0,n,r),t.fillStyle=i,t.fill(),t.restore(),o&&o!=="none"?(t.save(),_2e(t,n,r,o,{backgroundRepeat:l,backgroundPosition:u,backgroundSize:c},d=>{d?a(d):s(),t.restore()})):s()})}drawBackgroundToSvg(t){return new Promise(async n=>{const{backgroundColor:r="#fff",backgroundImage:s,backgroundRepeat:a="repeat"}=this.mindMap.themeConfig;if(t.css("background-color",r),s&&s!=="none"){const i=await fk(s);t.css("background-image",`url(${i})`),t.css("background-repeat",a),n()}else n()})}async png(t,n=!1,r=null){this.handleNodeExport(r);const{str:s,clipData:a}=await this.getSvgData(r),i=await this.fixSvgStrAndToBlob(s);return await this.svgToPng(i,n,a)}handleNodeExport(t){if(t&&t.getData("isActive")){t.deactivate();const{alwaysShowExpandBtn:n,notShowExpandBtn:r}=this.mindMap.opt;!n&&!r&&t.getData("expand")&&t.removeExpandBtn()}}async pdf(t,n=!1){if(!this.mindMap.doExportPDF)throw new Error("ExportPDF");const r=await this.png(t,n);return await this.mindMap.doExportPDF.pdf(r)}async xmind(t){if(!this.mindMap.doExportXMind)throw new Error("ExportXMind");const n=this.mindMap.getData(),r=await this.mindMap.doExportXMind.xmind(n,t);return await Wf(r)}async svg(t){const{node:n}=await this.getSvgData();n.first().before(os(`<title>${t}</title>`)),await this.drawBackgroundToSvg(n);const r=n.svg();return await this.fixSvgStrAndToBlob(r)}async fixSvgStrAndToBlob(t){t=n1e(t),t=h1e(t);const n=new Blob([t],{type:"image/svg+xml"});return await Wf(n)}async json(t,n=!0){const r=this.mindMap.getData(n),s=JSON.stringify(r),a=new Blob([s]);return await Wf(a)}async smm(t,n){return await this.json(t,n)}async md(){const t=this.mindMap.getData(),n=x2e(t),r=new Blob([n]);return await Wf(r)}async txt(){const t=this.mindMap.getData(),n=T2e(t),r=new Blob([n]);return await Wf(r)}}a9.instanceName="doExport";const k2e=["innerHTML"],N2e=de({__name:"MindMap",props:{modelValue:{}},emits:["update:modelValue","mindMapReady","openNote","askAboutNode"],setup(e,{expose:t,emit:n}){oi.usePlugin(a9);const r=e,s=n,a=L();let i=null,o=!1;const l=L(!1),u=L(""),c=L({x:0,y:0}),d={data:{text:""},children:[{data:{text:" 1"},children:[{data:{text:" 1-1"},children:[]},{data:{text:" 1-2"},children:[]}]},{data:{text:" 2"},children:[{data:{text:" 2-1"},children:[]}]},{data:{text:" 3"},children:[]}]};_t(()=>{h(),setTimeout(()=>{i&&i.view.fit()},300)}),fe(()=>r.modelValue,S=>{i&&(console.log(":",S),o=!0,i.setData(S||d),setTimeout(()=>{i&&i.view.fit(),o=!1},300))},{deep:!0}),wc(()=>{i&&(i.destroy(),i=null)});function h(){const S=document.getElementById("mindMapContainer");S&&(i=new oi({el:S,data:r.modelValue||d,theme:"freshGreen",layout:"logicalStructure",enableFreeDrag:!1,mousewheelAction:"zoom",mouseScaleCenterUseMousePosition:!0,scaleRatio:.1,maxScale:3,minScale:.3,fit:!0,nodeTextEditZIndex:1e3,expandBtnSize:20,expandBtnIcon:{close:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.232 0 0 229.232 0 512s229.232 512 512 512 512-229.232 512-512S794.768 0 512 0z m256 576H256V448h512v128z" fill="currentColor"/></svg>',open:'<svg viewBox="0 0 1024 1024"><path d="M512 0C229.232 0 0 229.232 0 512s229.232 512 512 512 512-229.232 512-512S794.768 0 512 0z m256 576H576v192H448V576H256V448h192V256h128v192h192v128z" fill="currentColor"/></svg>'}}),i.on("data_change",C=>{o||s("update:modelValue",C)}),i.on("node_contextmenu",(C,T)=>{C.preventDefault(),m(T,C)}),i.on("node_note_click",(C,T)=>{T.stopPropagation(),T.preventDefault(),y(C,T)}),s("mindMapReady",i))}let p=null;function m(S,C){p&&(p.remove(),p=null);const T=document.createElement("div");T.className="custom-context-menu",T.style.cssText=`
    position: fixed;
    left: ${C.clientX}px;
    top: ${C.clientY}px;
    background: white;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    padding: 4px 0;
    z-index: 10000;
    min-width: 140px;
  `,[{label:" ",action:()=>{const N=S.getData("text")||"",k=S.getData("uid")||S.uid||"";s("askAboutNode",{uid:k,text:N})}},{label:"",action:()=>{i==null||i.execCommand("INSERT_CHILD_NODE")}},{label:"",action:()=>{i==null||i.execCommand("INSERT_NODE")}},{label:"",disabled:S.isRoot,action:()=>{S.isRoot||i==null||i.execCommand("REMOVE_NODE")}},{label:"/",action:()=>{s("openNote",S)}}].forEach(N=>{const k=document.createElement("div");k.textContent=N.label,k.style.cssText=`
      padding: 8px 16px;
      cursor: ${N.disabled?"not-allowed":"pointer"};
      color: ${N.disabled?"#ccc":"#333"};
      font-size: 14px;
      transition: background 0.2s;
    `,N.disabled||(k.onmouseenter=()=>k.style.background="#f5f5f5",k.onmouseleave=()=>k.style.background="transparent",k.onclick=A=>{A.stopPropagation(),g(),setTimeout(()=>N.action(),10)}),T.appendChild(k)}),document.body.appendChild(T),p=T,setTimeout(()=>document.addEventListener("click",g),0)}function g(){p&&(p.remove(),p=null,document.removeEventListener("click",g))}function v(S){const C=/(https?:\/\/[^\s]+)/g;return S.replace(C,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>')}function y(S,C){const T=S.getData("note");if(!T)return;g();const x=v(T).replace(/\n/g,"<br>");u.value=x,c.value={x:C.clientX+10,y:C.clientY+10},l.value=!0,setTimeout(()=>{document.addEventListener("click",b)},0)}function b(S){if(S){const C=S.target;if(C.tagName==="A")return;const T=C.closest(".note-popup"),x=C.closest(".note-popup-close");if(T&&!x)return}l.value=!1,u.value="",document.removeEventListener("click",b)}function w(S,C,T){var x;if(((x=S.data)==null?void 0:x.uid)===C)return S.children||(S.children=[]),S.children.push(...T),!0;if(S.children){for(const N of S.children)if(w(N,C,T))return!0}return!1}function _(S,C){if(!i)return;const T=i.getData();console.log(":",S,":",C),w(T,S,C)?(o=!0,i.setData(T),s("update:modelValue",T),setTimeout(()=>{i&&i.view.fit(),o=!1},300)):console.warn(" uid:",S)}return t({getMindMap:()=>i,expandNodeChildren:_}),(S,C)=>(I(),K("div",{class:"mind-map-container",ref_key:"containerRef",ref:a},[C[1]||(C[1]=Z("div",{id:"mindMapContainer"},null,-1)),l.value?(I(),K("div",{key:0,class:"note-popup",style:qe({left:c.value.x+"px",top:c.value.y+"px"})},[Z("div",{class:"note-popup-header"},[C[0]||(C[0]=Z("span",{class:"note-popup-title"},"",-1)),Z("button",{class:"note-popup-close",onClick:b},"")]),Z("div",{class:"note-popup-content",innerHTML:u.value},null,8,k2e)],4)):le("",!0)],512))}}),i9=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},I2e=i9(N2e,[["__scopeId","data-v-8ea13e3b"]]);function Sg(e,t){return e.lc_error_code=t,e.message=`${e.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${t}/
`,e}function qt(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function Pe(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let o9=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return o9=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function h_(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const p_=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Ht extends Error{}class ls extends Ht{constructor(t,n,r,s){super(`${ls.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=n;const a=n;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new Qy({message:r,cause:p_(n)});const a=n==null?void 0:n.error;return t===400?new l9(t,a,r,s):t===401?new u9(t,a,r,s):t===403?new c9(t,a,r,s):t===404?new d9(t,a,r,s):t===409?new f9(t,a,r,s):t===422?new h9(t,a,r,s):t===429?new p9(t,a,r,s):t>=500?new m9(t,a,r,s):new ls(t,a,r,s)}}class ga extends ls{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Qy extends ls{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class e1 extends Qy{constructor({message:t}={}){super({message:t??"Request timed out."})}}class l9 extends ls{}class u9 extends ls{}class c9 extends ls{}class d9 extends ls{}class f9 extends ls{}class h9 extends ls{}class p9 extends ls{}class m9 extends ls{}class g9 extends Ht{constructor(){super("Could not parse response content as the length limit was reached")}}class v9 extends Ht{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class nh extends Error{constructor(t){super(t)}}const O2e=/^[a-z][a-z0-9+.-]*:/i,$2e=e=>O2e.test(e);let Zs=e=>(Zs=Array.isArray,Zs(e)),Mk=Zs;function y9(e){return typeof e!="object"?{}:e??{}}function A2e(e){if(!e)return!0;for(const t in e)return!1;return!0}function R2e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wb(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const M2e=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ht(`${e} must be an integer`);if(t<0)throw new Ht(`${e} must be a positive integer`);return t},P2e=e=>{try{return JSON.parse(e)}catch{return}},Cm=e=>new Promise(t=>setTimeout(t,e)),td="6.19.0",L2e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function D2e(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const z2e=()=>{var n;const e=D2e();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":td,"X-Stainless-OS":Lk(Deno.build.os),"X-Stainless-Arch":Pk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":td,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":td,"X-Stainless-OS":Lk(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Pk(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=F2e();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":td,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":td,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function F2e(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,a=r[2]||0,i=r[3]||0;return{browser:t,version:`${s}.${a}.${i}`}}}return null}const Pk=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Lk=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Dk;const B2e=()=>Dk??(Dk=z2e());function j2e(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function b9(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function w9(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return b9({start(){},async pull(n){const{done:r,value:s}=await t.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function _9(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function V2e(e){var r,s;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((s=(r=e[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const H2e=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),S9="RFC3986",C9=e=>String(e),zk={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:C9},U2e="RFC1738";let m_=(e,t)=>(m_=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),m_(e,t));const Bi=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Kb=1024,W2e=(e,t,n,r,s)=>{if(e.length===0)return e;let a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let i="";for(let o=0;o<a.length;o+=Kb){const l=a.length>=Kb?a.slice(o,o+Kb):a,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===U2e&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=Bi[d];continue}if(d<2048){u[u.length]=Bi[192|d>>6]+Bi[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Bi[224|d>>12]+Bi[128|d>>6&63]+Bi[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=Bi[240|d>>18]+Bi[128|d>>12&63]+Bi[128|d>>6&63]+Bi[128|d&63]}i+=u.join("")}return i};function K2e(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Fk(e,t){if(Zs(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const x9={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},E9=function(e,t){Array.prototype.push.apply(e,Zs(t)?t:[t])};let Bk;const Pr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:W2e,encodeValuesOnly:!1,format:S9,formatter:C9,indices:!1,serializeDate(e){return(Bk??(Bk=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function G2e(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Gb={};function T9(e,t,n,r,s,a,i,o,l,u,c,d,h,p,m,g,v,y){let b=e,w=y,_=0,S=!1;for(;(w=w.get(Gb))!==void 0&&!S;){const k=w.get(e);if(_+=1,typeof k<"u"){if(k===_)throw new RangeError("Cyclic object value");S=!0}typeof w.get(Gb)>"u"&&(_=0)}if(typeof u=="function"?b=u(t,b):b instanceof Date?b=h==null?void 0:h(b):n==="comma"&&Zs(b)&&(b=Fk(b,function(k){return k instanceof Date?h==null?void 0:h(k):k})),b===null){if(a)return l&&!g?l(t,Pr.encoder,v,"key",p):t;b=""}if(G2e(b)||K2e(b)){if(l){const k=g?t:l(t,Pr.encoder,v,"key",p);return[(m==null?void 0:m(k))+"="+(m==null?void 0:m(l(b,Pr.encoder,v,"value",p)))]}return[(m==null?void 0:m(t))+"="+(m==null?void 0:m(String(b)))]}const C=[];if(typeof b>"u")return C;let T;if(n==="comma"&&Zs(b))g&&l&&(b=Fk(b,l)),T=[{value:b.length>0?b.join(",")||null:void 0}];else if(Zs(u))T=u;else{const k=Object.keys(b);T=c?k.sort(c):k}const x=o?String(t).replace(/\./g,"%2E"):String(t),N=r&&Zs(b)&&b.length===1?x+"[]":x;if(s&&Zs(b)&&b.length===0)return N+"[]";for(let k=0;k<T.length;++k){const A=T[k],O=typeof A=="object"&&typeof A.value<"u"?A.value:b[A];if(i&&O===null)continue;const F=d&&o?A.replace(/\./g,"%2E"):A,j=Zs(b)?typeof n=="function"?n(N,F):N:N+(d?"."+F:"["+F+"]");y.set(e,_);const V=new WeakMap;V.set(Gb,y),E9(C,T9(O,j,n,r,s,a,i,o,n==="comma"&&g&&Zs(b)?null:l,u,c,d,h,p,m,g,v,V))}return C}function Z2e(e=Pr){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Pr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=S9;if(typeof e.format<"u"){if(!m_(zk,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=zk[n];let s=Pr.filter;(typeof e.filter=="function"||Zs(e.filter))&&(s=e.filter);let a;if(e.arrayFormat&&e.arrayFormat in x9?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=Pr.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Pr.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Pr.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Pr.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Pr.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Pr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Pr.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Pr.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Pr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Pr.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Pr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Pr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Pr.strictNullHandling}}function Y2e(e,t={}){let n=e;const r=Z2e(t);let s,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):Zs(r.filter)&&(a=r.filter,s=a);const i=[];if(typeof n!="object"||n===null)return"";const o=x9[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const p=s[h];r.skipNulls&&n[p]===null||E9(i,T9(n[p],p,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=i.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}function q2e(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}let jk;function QS(e){let t;return(jk??(t=new globalThis.TextEncoder,jk=t.encode.bind(t)))(e)}let Vk;function Hk(e){let t;return(Vk??(t=new globalThis.TextDecoder,Vk=t.decode.bind(t)))(e)}var aa,ia;class t1{constructor(){aa.set(this,void 0),ia.set(this,void 0),qt(this,aa,new Uint8Array),qt(this,ia,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?QS(t):t;qt(this,aa,q2e([Pe(this,aa,"f"),n]));const r=[];let s;for(;(s=X2e(Pe(this,aa,"f"),Pe(this,ia,"f")))!=null;){if(s.carriage&&Pe(this,ia,"f")==null){qt(this,ia,s.index);continue}if(Pe(this,ia,"f")!=null&&(s.index!==Pe(this,ia,"f")+1||s.carriage)){r.push(Hk(Pe(this,aa,"f").subarray(0,Pe(this,ia,"f")-1))),qt(this,aa,Pe(this,aa,"f").subarray(Pe(this,ia,"f"))),qt(this,ia,null);continue}const a=Pe(this,ia,"f")!==null?s.preceding-1:s.preceding,i=Hk(Pe(this,aa,"f").subarray(0,a));r.push(i),qt(this,aa,Pe(this,aa,"f").subarray(s.index)),qt(this,ia,null)}return r}flush(){return Pe(this,aa,"f").length?this.decode(`
`):[]}}aa=new WeakMap,ia=new WeakMap;t1.NEWLINE_CHARS=new Set([`
`,"\r"]);t1.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function X2e(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function J2e(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const _0={off:0,error:200,warn:300,info:400,debug:500},Uk=(e,t,n)=>{if(e){if(R2e(_0,e))return e;Qr(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(_0))}`)}};function rh(){}function Cg(e,t,n){return!t||_0[e]>_0[n]?rh:t[e].bind(t)}const Q2e={error:rh,warn:rh,info:rh,debug:rh};let Wk=new WeakMap;function Qr(e){const t=e.logger,n=e.logLevel??"off";if(!t)return Q2e;const r=Wk.get(t);if(r&&r[0]===n)return r[1];const s={error:Cg("error",t,n),warn:Cg("warn",t,n),info:Cg("info",t,n),debug:Cg("debug",t,n)};return Wk.set(t,[n,s]),s}const Nu=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var Zf;class Ji{constructor(t,n,r){this.iterator=t,Zf.set(this,void 0),this.controller=n,qt(this,Zf,r)}static fromSSEResponse(t,n,r){let s=!1;const a=r?Qr(r):console;async function*i(){if(s)throw new Ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of ewe(t,n))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let u;try{u=JSON.parse(l.data)}catch(c){throw a.error("Could not parse message into JSON:",l.data),a.error("From chunk:",l.raw),c}if(u&&u.error)throw new ls(void 0,u.error,void 0,t.headers);yield u}else{let u;try{u=JSON.parse(l.data)}catch(c){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),c}if(l.event=="error")throw new ls(void 0,u.error,u.message,void 0);yield{event:l.event,data:u}}}o=!0}catch(l){if(h_(l))return;throw l}finally{o||n.abort()}}return new Ji(i,n,r)}static fromReadableStream(t,n,r){let s=!1;async function*a(){const o=new t1,l=_9(t);for await(const u of l)for(const c of o.decode(u))yield c;for(const u of o.flush())yield u}async function*i(){if(s)throw new Ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of a())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(h_(l))return;throw l}finally{o||n.abort()}}return new Ji(i,n,r)}[(Zf=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=a=>({next:()=>{if(a.length===0){const i=r.next();t.push(i),n.push(i)}return a.shift()}});return[new Ji(()=>s(t),this.controller,Pe(this,Zf,"f")),new Ji(()=>s(n),this.controller,Pe(this,Zf,"f"))]}toReadableStream(){const t=this;let n;return b9({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:a}=await n.next();if(a)return r.close();const i=QS(JSON.stringify(s)+`
`);r.enqueue(i)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*ewe(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ht("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ht("Attempted to iterate over a response with no body");const n=new nwe,r=new t1,s=_9(e.body);for await(const a of twe(s))for(const i of r.decode(a)){const o=n.decode(i);o&&(yield o)}for(const a of r.flush()){const i=n.decode(a);i&&(yield i)}}async function*twe(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?QS(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let a;for(;(a=J2e(t))!==-1;)yield t.slice(0,a),t=t.slice(a)}t.length>0&&(yield t)}class nwe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=rwe(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function rwe(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function k9(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:a}=t,i=await(async()=>{var d;if(t.options.stream)return Qr(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ji.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(d=o==null?void 0:o.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){if(n.headers.get("content-length")==="0")return;const p=await n.json();return N9(p,n)}return await n.text()})();return Qr(e).debug(`[${r}] response parsed`,Nu({retryOfRequestLogID:s,url:n.url,status:n.status,body:i,durationMs:Date.now()-a})),i}function N9(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var sh;class n1 extends Promise{constructor(t,n,r=k9){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,sh.set(this,void 0),qt(this,sh,t)}_thenUnwrap(t){return new n1(Pe(this,sh,"f"),this.responsePromise,async(n,r)=>N9(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(Pe(this,sh,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}sh=new WeakMap;var xg;class e4{constructor(t,n,r,s){xg.set(this,void 0),qt(this,xg,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new Ht("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await Pe(this,xg,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(xg=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class swe extends n1{constructor(t,n,r){super(t,n,async(s,a)=>new r(s,a.response,await k9(s,a),a.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}class r1 extends e4{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class $r extends e4{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const t=this.getPaginatedItems(),n=(r=t[t.length-1])==null?void 0:r.id;return n?{...this.options,query:{...y9(this.options.query),after:n}}:null}}class S0 extends e4{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...y9(this.options.query),after:t}}:null}}const I9=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ah(e,t,n){return I9(),new File(e,t??"unknown_file",n)}function yv(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const t4=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Kk=async(e,t)=>g_(e.body)?{...e,body:await O9(e.body,t)}:e,vc=async(e,t)=>({...e,body:await O9(e.body,t)}),Gk=new WeakMap;function awe(e){const t=typeof e=="function"?e:e.fetch,n=Gk.get(t);if(n)return n;const r=(async()=>{try{const s="Response"in t?t.Response:(await t("data:,")).constructor,a=new FormData;return a.toString()!==await new s(a).text()}catch{return!0}})();return Gk.set(t,r),r}const O9=async(e,t)=>{if(!await awe(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,s])=>v_(n,r,s))),n},$9=e=>e instanceof Blob&&"name"in e,iwe=e=>typeof e=="object"&&e!==null&&(e instanceof Response||t4(e)||$9(e)),g_=e=>{if(iwe(e))return!0;if(Array.isArray(e))return e.some(g_);if(e&&typeof e=="object"){for(const t in e)if(g_(e[t]))return!0}return!1},v_=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response)e.append(t,Ah([await n.blob()],yv(n)));else if(t4(n))e.append(t,Ah([await new Response(w9(n)).blob()],yv(n)));else if($9(n))e.append(t,n,yv(n));else if(Array.isArray(n))await Promise.all(n.map(r=>v_(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>v_(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},A9=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",owe=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&A9(e),lwe=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function uwe(e,t,n){if(I9(),e=await e,owe(e))return e instanceof File?e:Ah([await e.arrayBuffer()],e.name);if(lwe(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ah(await y_(s),t,n)}const r=await y_(e);if(t||(t=yv(e)),!(n!=null&&n.type)){const s=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(n={...n,type:s})}return Ah(r,t,n)}async function y_(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(A9(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(t4(e))for await(const r of e)t.push(...await y_(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${cwe(e)}`)}return t}function cwe(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class Ft{constructor(t){this._client=t}}function R9(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Zk=Object.freeze(Object.create(null)),dwe=(e=R9)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const a=[],i=n.reduce((c,d,h)=>{var g;/[?#]/.test(d)&&(s=!0);const p=r[h];let m=(s?encodeURIComponent:e)(""+p);return h!==r.length&&(p==null||typeof p=="object"&&p.toString===((g=Object.getPrototypeOf(Object.getPrototypeOf(p.hasOwnProperty??Zk)??Zk))==null?void 0:g.toString))&&(m=p+"",a.push({start:c.length+d.length,length:m.length,error:`Value of type ${Object.prototype.toString.call(p).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":m)},""),o=i.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(o))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((c,d)=>c.start-d.start),a.length>0){let c=0;const d=a.reduce((h,p)=>{const m=" ".repeat(p.start-c),g="^".repeat(p.length);return c=p.start+p.length,h+m+g},"");throw new Ht(`Path parameters result in path with invalid segments:
${a.map(h=>h.error).join(`
`)}
${i}
${d}`)}return i},st=dwe(R9);let M9=class extends Ft{list(t,n={},r){return this._client.getAPIList(st`/chat/completions/${t}/messages`,$r,{query:n,...r})}};function C0(e){return e!==void 0&&"function"in e&&e.function!==void 0}function fwe(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n}function n4(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function xm(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function hwe(e,t){return!t||!P9(t)?{...e,choices:e.choices.map(n=>(L9(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:r4(e,t)}function r4(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new g9;if(r.finish_reason==="content_filter")throw new v9;return L9(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(a=>mwe(t,a)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?pwe(t,r.message.content):null}}});return{...e,choices:n}}function pwe(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function mwe(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var a;return C0(s)&&((a=s.function)==null?void 0:a.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:xm(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function gwe(e,t){var r;if(!e||!("tools"in e)||!e.tools)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var a;return C0(s)&&((a=s.function)==null?void 0:a.name)===t.function.name});return C0(n)&&(xm(n)||(n==null?void 0:n.function.strict)||!1)}function P9(e){var t;return n4(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>xm(n)||n.type==="function"&&n.function.strict===!0))??!1}function L9(e){for(const t of e||[])if(t.type!=="function")throw new Ht(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function vwe(e){for(const t of e??[]){if(t.type!=="function")throw new Ht(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new Ht(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const x0=e=>(e==null?void 0:e.role)==="assistant",D9=e=>(e==null?void 0:e.role)==="tool";var b_,bv,wv,ah,ih,_v,oh,$o,lh,E0,T0,nd,z9;class s4{constructor(){b_.add(this),this.controller=new AbortController,bv.set(this,void 0),wv.set(this,()=>{}),ah.set(this,()=>{}),ih.set(this,void 0),_v.set(this,()=>{}),oh.set(this,()=>{}),$o.set(this,{}),lh.set(this,!1),E0.set(this,!1),T0.set(this,!1),nd.set(this,!1),qt(this,bv,new Promise((t,n)=>{qt(this,wv,t,"f"),qt(this,ah,n,"f")})),qt(this,ih,new Promise((t,n)=>{qt(this,_v,t,"f"),qt(this,oh,n,"f")})),Pe(this,bv,"f").catch(()=>{}),Pe(this,ih,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Pe(this,b_,"m",z9).bind(this))},0)}_connected(){this.ended||(Pe(this,wv,"f").call(this),this._emit("connect"))}get ended(){return Pe(this,lh,"f")}get errored(){return Pe(this,E0,"f")}get aborted(){return Pe(this,T0,"f")}abort(){this.controller.abort()}on(t,n){return(Pe(this,$o,"f")[t]||(Pe(this,$o,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=Pe(this,$o,"f")[t];if(!r)return this;const s=r.findIndex(a=>a.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(Pe(this,$o,"f")[t]||(Pe(this,$o,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{qt(this,nd,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){qt(this,nd,!0),await Pe(this,ih,"f")}_emit(t,...n){if(Pe(this,lh,"f"))return;t==="end"&&(qt(this,lh,!0),Pe(this,_v,"f").call(this));const r=Pe(this,$o,"f")[t];if(r&&(Pe(this,$o,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!Pe(this,nd,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Pe(this,ah,"f").call(this,s),Pe(this,oh,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!Pe(this,nd,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Pe(this,ah,"f").call(this,s),Pe(this,oh,"f").call(this,s),this._emit("end")}}_emitFinal(){}}bv=new WeakMap,wv=new WeakMap,ah=new WeakMap,ih=new WeakMap,_v=new WeakMap,oh=new WeakMap,$o=new WeakMap,lh=new WeakMap,E0=new WeakMap,T0=new WeakMap,nd=new WeakMap,b_=new WeakSet,z9=function(t){if(qt(this,E0,!0),t instanceof Error&&t.name==="AbortError"&&(t=new ga),t instanceof ga)return qt(this,T0,!0),this._emit("abort",t);if(t instanceof Ht)return this._emit("error",t);if(t instanceof Error){const n=new Ht(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new Ht(String(t)))};function ywe(e){return typeof e.parse=="function"}var Rs,w_,k0,__,S_,C_,F9,B9;const bwe=10;class j9 extends s4{constructor(){super(...arguments),Rs.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),D9(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(x0(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new Ht("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Pe(this,Rs,"m",w_).call(this)}async finalMessage(){return await this.done(),Pe(this,Rs,"m",k0).call(this)}async finalFunctionToolCall(){return await this.done(),Pe(this,Rs,"m",__).call(this)}async finalFunctionToolCallResult(){return await this.done(),Pe(this,Rs,"m",S_).call(this)}async totalUsage(){return await this.done(),Pe(this,Rs,"m",C_).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Pe(this,Rs,"m",k0).call(this);n&&this._emit("finalMessage",n);const r=Pe(this,Rs,"m",w_).call(this);r&&this._emit("finalContent",r);const s=Pe(this,Rs,"m",__).call(this);s&&this._emit("finalFunctionToolCall",s);const a=Pe(this,Rs,"m",S_).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(i=>i.usage)&&this._emit("totalUsage",Pe(this,Rs,"m",C_).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Pe(this,Rs,"m",F9).call(this,n);const a=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(r4(a,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runTools(t,n,r){var p,m,g;const s="tool",{tool_choice:a="auto",stream:i,...o}=n,l=typeof a!="string"&&a.type==="function"&&((p=a==null?void 0:a.function)==null?void 0:p.name),{maxChatCompletions:u=bwe}=r||{},c=n.tools.map(v=>{if(xm(v)){if(!v.$callback)throw new Ht("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:v.$callback,name:v.function.name,description:v.function.description||"",parameters:v.function.parameters,parse:v.$parseRaw,strict:!0}}}return v}),d={};for(const v of c)v.type==="function"&&(d[v.function.name||v.function.function.name]=v.function);const h="tools"in n?c.map(v=>v.type==="function"?{type:"function",function:{name:v.function.name||v.function.function.name,parameters:v.function.parameters,description:v.function.description,strict:v.function.strict}}:v):void 0;for(const v of n.messages)this._addMessage(v,!1);for(let v=0;v<u;++v){const b=(m=(await this._createChatCompletion(t,{...o,tool_choice:a,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:m.message;if(!b)throw new Ht("missing message in ChatCompletion response");if(!((g=b.tool_calls)!=null&&g.length))return;for(const w of b.tool_calls){if(w.type!=="function")continue;const _=w.id,{name:S,arguments:C}=w.function,T=d[S];if(T){if(l&&l!==S){const A=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:_,content:A});continue}}else{const A=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(d).map(O=>JSON.stringify(O)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:_,content:A});continue}let x;try{x=ywe(T)?await T.parse(C):C}catch(A){const O=A instanceof Error?A.message:String(A);this._addMessage({role:s,tool_call_id:_,content:O});continue}const N=await T.function(x,this),k=Pe(this,Rs,"m",B9).call(this,N);if(this._addMessage({role:s,tool_call_id:_,content:k}),l)return}}}}Rs=new WeakSet,w_=function(){return Pe(this,Rs,"m",k0).call(this).content??null},k0=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(x0(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Ht("stream ended without producing a ChatCompletionMessage with role=assistant")},__=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(x0(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.filter(a=>a.type==="function").at(-1))==null?void 0:n.function}},S_=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(D9(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(a=>a.type==="function"&&a.id===n.tool_call_id))}))return n.content}},C_=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},F9=function(t){if(t.n!=null&&t.n>1)throw new Ht("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},B9=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class a4 extends j9{static runTools(t,n,r){const s=new a4,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,a)),s}_addMessage(t,n=!0){super._addMessage(t,n),x0(t)&&t.content&&this._emit("content",t.content)}}const V9=1,H9=2,U9=4,W9=8,K9=16,G9=32,Z9=64,Y9=128,q9=256,X9=Y9|q9,J9=K9|G9|X9|Z9,Q9=V9|H9|J9,eP=U9|W9,wwe=Q9|eP,Ur={STR:V9,NUM:H9,ARR:U9,OBJ:W9,NULL:K9,BOOL:G9,NAN:Z9,INFINITY:Y9,MINUS_INFINITY:q9,INF:X9,SPECIAL:J9,ATOM:Q9,COLLECTION:eP,ALL:wwe};class _we extends Error{}class Swe extends Error{}function Cwe(e,t=Ur.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return xwe(e.trim(),t)}const xwe=(e,t)=>{const n=e.length;let r=0;const s=h=>{throw new _we(`${h} at position ${r}`)},a=h=>{throw new Swe(`${h} at position ${r}`)},i=()=>(d(),r>=n&&s("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?l():e[r]==="["?u():e.substring(r,r+4)==="null"||Ur.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Ur.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Ur.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Ur.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Ur.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Ur.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),o=()=>{const h=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(h,++r-Number(p)))}catch(m){a(String(m))}else if(Ur.STR&t)try{return JSON.parse(e.substring(h,r-Number(p))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const h={};try{for(;e[r]!=="}";){if(d(),r>=n&&Ur.OBJ&t)return h;const p=o();d(),r++;try{const m=i();Object.defineProperty(h,p,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(Ur.OBJ&t)return h;throw m}d(),e[r]===","&&r++}}catch{if(Ur.OBJ&t)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;e[r]!=="]";)h.push(i()),d(),e[r]===","&&r++}catch{if(Ur.ARR&t)return h;s("Expected ']' at end of array")}return r++,h},c=()=>{if(r===0){e==="-"&&Ur.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(Ur.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}a(String(p))}}const h=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Ur.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(h,r))}catch{e.substring(h,r)==="-"&&Ur.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(m){a(String(m))}}},d=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return i()},Yk=e=>Cwe(e,Ur.ALL^Ur.NUM);var Mr,Oo,Kc,Cl,Zb,Eg,Yb,qb,Xb,Tg,Jb,qk;class kp extends j9{constructor(t){super(),Mr.add(this),Oo.set(this,void 0),Kc.set(this,void 0),Cl.set(this,void 0),qt(this,Oo,t),qt(this,Kc,[])}get currentChatCompletionSnapshot(){return Pe(this,Cl,"f")}static fromReadableStream(t){const n=new kp(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new kp(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var i;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Pe(this,Mr,"m",Zb).call(this);const a=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of a)Pe(this,Mr,"m",Yb).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new ga;return this._addChatCompletion(Pe(this,Mr,"m",Tg).call(this))}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Pe(this,Mr,"m",Zb).call(this),this._connected();const s=Ji.fromReadableStream(t,this.controller);let a;for await(const o of s)a&&a!==o.id&&this._addChatCompletion(Pe(this,Mr,"m",Tg).call(this)),Pe(this,Mr,"m",Yb).call(this,o),a=o.id;if((i=s.controller.signal)!=null&&i.aborted)throw new ga;return this._addChatCompletion(Pe(this,Mr,"m",Tg).call(this))}[(Oo=new WeakMap,Kc=new WeakMap,Cl=new WeakMap,Mr=new WeakSet,Zb=function(){this.ended||qt(this,Cl,void 0)},Eg=function(n){let r=Pe(this,Kc,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Pe(this,Kc,"f")[n.index]=r,r)},Yb=function(n){var s,a,i,o,l,u,c,d,h,p,m,g,v,y,b;if(this.ended)return;const r=Pe(this,Mr,"m",qk).call(this,n);this._emit("chunk",n,r);for(const w of n.choices){const _=r.choices[w.index];w.delta.content!=null&&((s=_.message)==null?void 0:s.role)==="assistant"&&((a=_.message)!=null&&a.content)&&(this._emit("content",w.delta.content,_.message.content),this._emit("content.delta",{delta:w.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),w.delta.refusal!=null&&((i=_.message)==null?void 0:i.role)==="assistant"&&((o=_.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:w.delta.refusal,snapshot:_.message.refusal}),((l=w.logprobs)==null?void 0:l.content)!=null&&((u=_.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=w.logprobs)==null?void 0:c.content,snapshot:((d=_.logprobs)==null?void 0:d.content)??[]}),((h=w.logprobs)==null?void 0:h.refusal)!=null&&((p=_.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=w.logprobs)==null?void 0:m.refusal,snapshot:((g=_.logprobs)==null?void 0:g.refusal)??[]});const S=Pe(this,Mr,"m",Eg).call(this,_);_.finish_reason&&(Pe(this,Mr,"m",Xb).call(this,_),S.current_tool_call_index!=null&&Pe(this,Mr,"m",qb).call(this,_,S.current_tool_call_index));for(const C of w.delta.tool_calls??[])S.current_tool_call_index!==C.index&&(Pe(this,Mr,"m",Xb).call(this,_),S.current_tool_call_index!=null&&Pe(this,Mr,"m",qb).call(this,_,S.current_tool_call_index)),S.current_tool_call_index=C.index;for(const C of w.delta.tool_calls??[]){const T=(v=_.message.tool_calls)==null?void 0:v[C.index];T!=null&&T.type&&((T==null?void 0:T.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=T.function)==null?void 0:y.name,index:C.index,arguments:T.function.arguments,parsed_arguments:T.function.parsed_arguments,arguments_delta:((b=C.function)==null?void 0:b.arguments)??""}):(T==null||T.type,void 0))}}},qb=function(n,r){var i,o,l;if(Pe(this,Mr,"m",Eg).call(this,n).done_tool_calls.has(r))return;const a=(i=n.message.tool_calls)==null?void 0:i[r];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=(l=(o=Pe(this,Oo,"f"))==null?void 0:o.tools)==null?void 0:l.find(c=>C0(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:r,arguments:a.function.arguments,parsed_arguments:xm(u)?u.$parseRaw(a.function.arguments):u!=null&&u.function.strict?JSON.parse(a.function.arguments):null})}else a.type},Xb=function(n){var s,a;const r=Pe(this,Mr,"m",Eg).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const i=Pe(this,Mr,"m",Jb).call(this);this._emit("content.done",{content:n.message.content,parsed:i?i.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(a=n.logprobs)!=null&&a.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Tg=function(){if(this.ended)throw new Ht("stream has ended, this shouldn't happen");const n=Pe(this,Cl,"f");if(!n)throw new Ht("request ended without sending any chunks");return qt(this,Cl,void 0),qt(this,Kc,[]),Ewe(n,Pe(this,Oo,"f"))},Jb=function(){var r;const n=(r=Pe(this,Oo,"f"))==null?void 0:r.response_format;return n4(n)?n:null},qk=function(n){var r,s,a,i;let o=Pe(this,Cl,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=qt(this,Cl,{...u,choices:[]});for(const{delta:c,finish_reason:d,index:h,logprobs:p=null,...m}of n.choices){let g=o.choices[h];if(g||(g=o.choices[h]={finish_reason:d,index:h,message:{},logprobs:p,...m}),p)if(!g.logprobs)g.logprobs=Object.assign({},p);else{const{content:C,refusal:T,...x}=p;Object.assign(g.logprobs,x),C&&((r=g.logprobs).content??(r.content=[]),g.logprobs.content.push(...C)),T&&((s=g.logprobs).refusal??(s.refusal=[]),g.logprobs.refusal.push(...T))}if(d&&(g.finish_reason=d,Pe(this,Oo,"f")&&P9(Pe(this,Oo,"f")))){if(d==="length")throw new g9;if(d==="content_filter")throw new v9}if(Object.assign(g,m),!c)continue;const{content:v,refusal:y,function_call:b,role:w,tool_calls:_,...S}=c;if(Object.assign(g.message,S),y&&(g.message.refusal=(g.message.refusal||"")+y),w&&(g.message.role=w),b&&(g.message.function_call?(b.name&&(g.message.function_call.name=b.name),b.arguments&&((a=g.message.function_call).arguments??(a.arguments=""),g.message.function_call.arguments+=b.arguments)):g.message.function_call=b),v&&(g.message.content=(g.message.content||"")+v,!g.message.refusal&&Pe(this,Mr,"m",Jb).call(this)&&(g.message.parsed=Yk(g.message.content))),_){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:C,id:T,type:x,function:N,...k}of _){const A=(i=g.message.tool_calls)[C]??(i[C]={});Object.assign(A,k),T&&(A.id=T),x&&(A.type=x),N&&(A.function??(A.function={name:N.name??"",arguments:""})),N!=null&&N.name&&(A.function.name=N.name),N!=null&&N.arguments&&(A.function.arguments+=N.arguments,gwe(Pe(this,Oo,"f"),A)&&(A.function.parsed_arguments=Yk(A.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const a=n.shift();a?a.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>n.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ji(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Ewe(e,t){const{id:n,choices:r,created:s,model:a,system_fingerprint:i,...o}=e,l={...o,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:h,...p})=>{if(!c)throw new Ht(`missing finish_reason for choice ${d}`);const{content:m=null,function_call:g,tool_calls:v,...y}=u,b=u.role;if(!b)throw new Ht(`missing role for choice ${d}`);if(g){const{arguments:w,name:_}=g;if(w==null)throw new Ht(`missing function_call.arguments for choice ${d}`);if(!_)throw new Ht(`missing function_call.name for choice ${d}`);return{...p,message:{content:m,function_call:{arguments:w,name:_},role:b,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}return v?{...p,index:d,finish_reason:c,logprobs:h,message:{...y,role:b,content:m,refusal:u.refusal??null,tool_calls:v.map((w,_)=>{const{function:S,type:C,id:T,...x}=w,{arguments:N,name:k,...A}=S||{};if(T==null)throw new Ht(`missing choices[${d}].tool_calls[${_}].id
${kg(e)}`);if(C==null)throw new Ht(`missing choices[${d}].tool_calls[${_}].type
${kg(e)}`);if(k==null)throw new Ht(`missing choices[${d}].tool_calls[${_}].function.name
${kg(e)}`);if(N==null)throw new Ht(`missing choices[${d}].tool_calls[${_}].function.arguments
${kg(e)}`);return{...x,id:T,type:C,function:{...A,name:k,arguments:N}}})}}:{...p,message:{...y,content:m,role:b,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}),created:s,model:a,object:"chat.completion",...i?{system_fingerprint:i}:{}};return hwe(l,t)}function kg(e){return JSON.stringify(e)}class N0 extends kp{static fromReadableStream(t){const n=new N0(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,r){const s=new N0(n),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,a)),s}}let i4=class extends Ft{constructor(){super(...arguments),this.messages=new M9(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(st`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(st`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/chat/completions",$r,{query:t,...n})}delete(t,n){return this._client.delete(st`/chat/completions/${t}`,n)}parse(t,n){return vwe(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>r4(r,t))}runTools(t,n){return t.stream?N0.runTools(this._client,t,n):a4.runTools(this._client,t,n)}stream(t,n){return kp.createChatCompletion(this._client,t,n)}};i4.Messages=M9;class o4 extends Ft{constructor(){super(...arguments),this.completions=new i4(this._client)}}o4.Completions=i4;const tP=Symbol("brand.privateNullableHeaders");function*Twe(e){if(!e)return;if(tP in e){const{values:r,nulls:s}=e;yield*r.entries();for(const a of s)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Mk(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=Mk(r[1])?r[1]:[r[1]];let i=!1;for(const o of a)o!==void 0&&(t&&!i&&(i=!0,yield[s,null]),yield[s,o])}}const Tt=e=>{const t=new Headers,n=new Set;for(const r of e){const s=new Set;for(const[a,i]of Twe(r)){const o=a.toLowerCase();s.has(o)||(t.delete(a),s.add(o)),i===null?(t.delete(a),n.add(o)):(t.append(a,i),n.delete(o))}}return{[tP]:!0,values:t,nulls:n}};class nP extends Ft{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:Tt([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class rP extends Ft{create(t,n){return this._client.post("/audio/transcriptions",vc({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class sP extends Ft{create(t,n){return this._client.post("/audio/translations",vc({body:t,...n,__metadata:{model:t.model}},this._client))}}class Em extends Ft{constructor(){super(...arguments),this.transcriptions=new rP(this._client),this.translations=new sP(this._client),this.speech=new nP(this._client)}}Em.Transcriptions=rP;Em.Translations=sP;Em.Speech=nP;class aP extends Ft{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(st`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",$r,{query:t,...n})}cancel(t,n){return this._client.post(st`/batches/${t}/cancel`,n)}}class iP extends Ft{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(st`/assistants/${t}`,{...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(st`/assistants/${t}`,{body:n,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/assistants",$r,{query:t,...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(st`/assistants/${t}`,{...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let oP=class extends Ft{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}};class lP extends Ft{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let s1=class extends Ft{constructor(){super(...arguments),this.sessions=new oP(this._client),this.transcriptionSessions=new lP(this._client)}};s1.Sessions=oP;s1.TranscriptionSessions=lP;class uP extends Ft{create(t,n){return this._client.post("/chatkit/sessions",{body:t,...n,headers:Tt([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}cancel(t,n){return this._client.post(st`/chatkit/sessions/${t}/cancel`,{...n,headers:Tt([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}}let cP=class extends Ft{retrieve(t,n){return this._client.get(st`/chatkit/threads/${t}`,{...n,headers:Tt([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}list(t={},n){return this._client.getAPIList("/chatkit/threads",S0,{query:t,...n,headers:Tt([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(st`/chatkit/threads/${t}`,{...n,headers:Tt([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}listItems(t,n={},r){return this._client.getAPIList(st`/chatkit/threads/${t}/items`,S0,{query:n,...r,headers:Tt([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class a1 extends Ft{constructor(){super(...arguments),this.sessions=new uP(this._client),this.threads=new cP(this._client)}}a1.Sessions=uP;a1.Threads=cP;class dP extends Ft{create(t,n,r){return this._client.post(st`/threads/${t}/messages`,{body:n,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(st`/threads/${s}/messages/${t}`,{...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...a}=n;return this._client.post(st`/threads/${s}/messages/${t}`,{body:a,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(st`/threads/${t}/messages`,$r,{query:n,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{thread_id:s}=n;return this._client.delete(st`/threads/${s}/messages/${t}`,{...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class fP extends Ft{retrieve(t,n,r){const{thread_id:s,run_id:a,...i}=n;return this._client.get(st`/threads/${s}/runs/${a}/steps/${t}`,{query:i,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n,r){const{thread_id:s,...a}=n;return this._client.getAPIList(st`/threads/${s}/runs/${t}/steps`,$r,{query:a,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const kwe=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var Qb={};const Gc=e=>{var t,n,r,s;if(typeof globalThis.process<"u")return((t=Qb==null?void 0:Qb[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};var es,Ku,x_,Gi,Sv,ri,Gu,fd,Lu,I0,la,Cv,xv,Rh,uh,ch,Xk,Jk,Qk,e5,t5,n5,r5;class Mh extends s4{constructor(){super(...arguments),es.add(this),x_.set(this,[]),Gi.set(this,{}),Sv.set(this,{}),ri.set(this,void 0),Gu.set(this,void 0),fd.set(this,void 0),Lu.set(this,void 0),I0.set(this,void 0),la.set(this,void 0),Cv.set(this,void 0),xv.set(this,void 0),Rh.set(this,void 0)}[(x_=new WeakMap,Gi=new WeakMap,Sv=new WeakMap,ri=new WeakMap,Gu=new WeakMap,fd=new WeakMap,Lu=new WeakMap,I0=new WeakMap,la=new WeakMap,Cv=new WeakMap,xv=new WeakMap,Rh=new WeakMap,es=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>n.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Ku;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Ji.fromReadableStream(t,this.controller);for await(const i of s)Pe(this,es,"m",uh).call(this,i);if((a=s.controller.signal)!=null&&a.aborted)throw new ga;return this._addRun(Pe(this,es,"m",ch).call(this))}toReadableStream(){return new Ji(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s){const a=new Ku;return a._run(()=>a._runToolAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(t,n,r,s){var l;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},o=await t.submitToolOutputs(n,i,{...s,signal:this.controller.signal});this._connected();for await(const u of o)Pe(this,es,"m",uh).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new ga;return this._addRun(Pe(this,es,"m",ch).call(this))}static createThreadAssistantStream(t,n,r){const s=new Ku;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const a=new Ku;return a._run(()=>a._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return Pe(this,Cv,"f")}currentRun(){return Pe(this,xv,"f")}currentMessageSnapshot(){return Pe(this,ri,"f")}currentRunStepSnapshot(){return Pe(this,Rh,"f")}async finalRunSteps(){return await this.done(),Object.values(Pe(this,Gi,"f"))}async finalMessages(){return await this.done(),Object.values(Pe(this,Sv,"f"))}async finalRun(){if(await this.done(),!Pe(this,Gu,"f"))throw Error("Final run was not received.");return Pe(this,Gu,"f")}async _createThreadAssistantStream(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},i=await t.createAndRun(a,{...r,signal:this.controller.signal});this._connected();for await(const l of i)Pe(this,es,"m",uh).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new ga;return this._addRun(Pe(this,es,"m",ch).call(this))}async _createAssistantStream(t,n,r,s){var l;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},o=await t.create(n,i,{...s,signal:this.controller.signal});this._connected();for await(const u of o)Pe(this,es,"m",uh).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new ga;return this._addRun(Pe(this,es,"m",ch).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let a=t[r];if(a==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(Wb(a)&&Wb(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(i=>typeof i=="string"||typeof i=="number")){a.push(...s);continue}for(const i of s){if(!Wb(i))throw new Error(`Expected array delta entry to be an object but got: ${i}`);const o=i.index;if(o==null)throw console.error(i),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=a[o];l==null?a.push(i):a[o]=this.accumulateDelta(l,i)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${a}`);t[r]=a}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s){return await this._createToolAssistantStream(n,t,r,s)}}Ku=Mh,uh=function(t){if(!this.ended)switch(qt(this,Cv,t),Pe(this,es,"m",Qk).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Pe(this,es,"m",r5).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Pe(this,es,"m",Jk).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Pe(this,es,"m",Xk).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ch=function(){if(this.ended)throw new Ht("stream has ended, this shouldn't happen");if(!Pe(this,Gu,"f"))throw Error("Final run has not been received");return Pe(this,Gu,"f")},Xk=function(t){const[n,r]=Pe(this,es,"m",t5).call(this,t,Pe(this,ri,"f"));qt(this,ri,n),Pe(this,Sv,"f")[n.id]=n;for(const s of r){const a=n.content[s.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,i=n.content[s.index];if(i&&i.type=="text")this._emit("textDelta",a,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=Pe(this,fd,"f")){if(Pe(this,Lu,"f"))switch(Pe(this,Lu,"f").type){case"text":this._emit("textDone",Pe(this,Lu,"f").text,Pe(this,ri,"f"));break;case"image_file":this._emit("imageFileDone",Pe(this,Lu,"f").image_file,Pe(this,ri,"f"));break}qt(this,fd,s.index)}qt(this,Lu,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(Pe(this,fd,"f")!==void 0){const s=t.data.content[Pe(this,fd,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,Pe(this,ri,"f"));break;case"text":this._emit("textDone",s.text,Pe(this,ri,"f"));break}}Pe(this,ri,"f")&&this._emit("messageDone",t.data),qt(this,ri,void 0)}},Jk=function(t){const n=Pe(this,es,"m",e5).call(this,t);switch(qt(this,Rh,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of r.step_details.tool_calls)a.index==Pe(this,I0,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(Pe(this,la,"f")&&this._emit("toolCallDone",Pe(this,la,"f")),qt(this,I0,a.index),qt(this,la,n.step_details.tool_calls[a.index]),Pe(this,la,"f")&&this._emit("toolCallCreated",Pe(this,la,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":qt(this,Rh,void 0),t.data.step_details.type=="tool_calls"&&Pe(this,la,"f")&&(this._emit("toolCallDone",Pe(this,la,"f")),qt(this,la,void 0)),this._emit("runStepDone",t.data,n);break}},Qk=function(t){Pe(this,x_,"f").push(t),this._emit("event",t)},e5=function(t){switch(t.event){case"thread.run.step.created":return Pe(this,Gi,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=Pe(this,Gi,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=Ku.accumulateDelta(n,r.delta);Pe(this,Gi,"f")[t.data.id]=s}return Pe(this,Gi,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Pe(this,Gi,"f")[t.data.id]=t.data;break}if(Pe(this,Gi,"f")[t.data.id])return Pe(this,Gi,"f")[t.data.id];throw new Error("No snapshot available")},t5=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in n.content){let i=n.content[a.index];n.content[a.index]=Pe(this,es,"m",n5).call(this,a,i)}else n.content[a.index]=a,r.push(a);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},n5=function(t,n){return Ku.accumulateDelta(n,t)},r5=function(t){switch(qt(this,xv,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":qt(this,Gu,t.data),Pe(this,la,"f")&&(this._emit("toolCallDone",Pe(this,la,"f")),qt(this,la,void 0));break}};let l4=class extends Ft{constructor(){super(...arguments),this.steps=new fP(this._client)}create(t,n,r){const{include:s,...a}=n;return this._client.post(st`/threads/${t}/runs`,{query:{include:s},body:a,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(st`/threads/${s}/runs/${t}`,{...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...a}=n;return this._client.post(st`/threads/${s}/runs/${t}`,{body:a,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(st`/threads/${t}/runs`,$r,{query:n,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{thread_id:s}=n;return this._client.post(st`/threads/${s}/runs/${t}/cancel`,{...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(s.id,{thread_id:t},r)}createAndStream(t,n,r){return Mh.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){var a;const s=Tt([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((a=r==null?void 0:r.pollIntervalMs)==null?void 0:a.toString())??void 0}]);for(;;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await Cm(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return Mh.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r){const{thread_id:s,...a}=n;return this._client.post(st`/threads/${s}/runs/${t}/submit_tool_outputs`,{body:a,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(t,n,r){const s=await this.submitToolOutputs(t,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(t,n,r){return Mh.createToolAssistantStream(t,this._client.beta.threads.runs,n,r)}};l4.Steps=fP;class i1 extends Ft{constructor(){super(...arguments),this.runs=new l4(this._client),this.messages=new dP(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(st`/threads/${t}`,{...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(st`/threads/${t}`,{body:n,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n){return this._client.delete(st`/threads/${t}`,{...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(t,n){return Mh.createThreadAssistantStream(t,this._client.beta.threads,n)}}i1.Runs=l4;i1.Messages=dP;class Nf extends Ft{constructor(){super(...arguments),this.realtime=new s1(this._client),this.chatkit=new a1(this._client),this.assistants=new iP(this._client),this.threads=new i1(this._client)}}Nf.Realtime=s1;Nf.ChatKit=a1;Nf.Assistants=iP;Nf.Threads=i1;class hP extends Ft{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class pP extends Ft{retrieve(t,n,r){const{container_id:s}=n;return this._client.get(st`/containers/${s}/files/${t}/content`,{...r,headers:Tt([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let u4=class extends Ft{constructor(){super(...arguments),this.content=new pP(this._client)}create(t,n,r){return this._client.post(st`/containers/${t}/files`,vc({body:n,...r},this._client))}retrieve(t,n,r){const{container_id:s}=n;return this._client.get(st`/containers/${s}/files/${t}`,r)}list(t,n={},r){return this._client.getAPIList(st`/containers/${t}/files`,$r,{query:n,...r})}delete(t,n,r){const{container_id:s}=n;return this._client.delete(st`/containers/${s}/files/${t}`,{...r,headers:Tt([{Accept:"*/*"},r==null?void 0:r.headers])})}};u4.Content=pP;class c4 extends Ft{constructor(){super(...arguments),this.files=new u4(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(st`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",$r,{query:t,...n})}delete(t,n){return this._client.delete(st`/containers/${t}`,{...n,headers:Tt([{Accept:"*/*"},n==null?void 0:n.headers])})}}c4.Files=u4;class mP extends Ft{create(t,n,r){const{include:s,...a}=n;return this._client.post(st`/conversations/${t}/items`,{query:{include:s},body:a,...r})}retrieve(t,n,r){const{conversation_id:s,...a}=n;return this._client.get(st`/conversations/${s}/items/${t}`,{query:a,...r})}list(t,n={},r){return this._client.getAPIList(st`/conversations/${t}/items`,S0,{query:n,...r})}delete(t,n,r){const{conversation_id:s}=n;return this._client.delete(st`/conversations/${s}/items/${t}`,r)}}class d4 extends Ft{constructor(){super(...arguments),this.items=new mP(this._client)}create(t={},n){return this._client.post("/conversations",{body:t,...n})}retrieve(t,n){return this._client.get(st`/conversations/${t}`,n)}update(t,n,r){return this._client.post(st`/conversations/${t}`,{body:n,...r})}delete(t,n){return this._client.delete(st`/conversations/${t}`,n)}}d4.Items=mP;let gP=class extends Ft{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&Qr(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const a=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?a:(Qr(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(i=>(i&&i.data&&i.data.forEach(o=>{const l=o.embedding;o.embedding=kwe(l)}),i)))}};class vP extends Ft{retrieve(t,n,r){const{eval_id:s,run_id:a}=n;return this._client.get(st`/evals/${s}/runs/${a}/output_items/${t}`,r)}list(t,n,r){const{eval_id:s,...a}=n;return this._client.getAPIList(st`/evals/${s}/runs/${t}/output_items`,$r,{query:a,...r})}}class f4 extends Ft{constructor(){super(...arguments),this.outputItems=new vP(this._client)}create(t,n,r){return this._client.post(st`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){const{eval_id:s}=n;return this._client.get(st`/evals/${s}/runs/${t}`,r)}list(t,n={},r){return this._client.getAPIList(st`/evals/${t}/runs`,$r,{query:n,...r})}delete(t,n,r){const{eval_id:s}=n;return this._client.delete(st`/evals/${s}/runs/${t}`,r)}cancel(t,n,r){const{eval_id:s}=n;return this._client.post(st`/evals/${s}/runs/${t}`,r)}}f4.OutputItems=vP;class h4 extends Ft{constructor(){super(...arguments),this.runs=new f4(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(st`/evals/${t}`,n)}update(t,n,r){return this._client.post(st`/evals/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/evals",$r,{query:t,...n})}delete(t,n){return this._client.delete(st`/evals/${t}`,n)}}h4.Runs=f4;let yP=class extends Ft{create(t,n){return this._client.post("/files",vc({body:t,...n},this._client))}retrieve(t,n){return this._client.get(st`/files/${t}`,n)}list(t={},n){return this._client.getAPIList("/files",$r,{query:t,...n})}delete(t,n){return this._client.delete(st`/files/${t}`,n)}content(t,n){return this._client.get(st`/files/${t}/content`,{...n,headers:Tt([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),a=Date.now();let i=await this.retrieve(t);for(;!i.status||!s.has(i.status);)if(await Cm(n),i=await this.retrieve(t),Date.now()-a>r)throw new e1({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return i}};class bP extends Ft{}let wP=class extends Ft{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class p4 extends Ft{constructor(){super(...arguments),this.graders=new wP(this._client)}}p4.Graders=wP;class _P extends Ft{create(t,n,r){return this._client.getAPIList(st`/fine_tuning/checkpoints/${t}/permissions`,r1,{body:n,method:"post",...r})}retrieve(t,n={},r){return this._client.get(st`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}delete(t,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(st`/fine_tuning/checkpoints/${s}/permissions/${t}`,r)}}let m4=class extends Ft{constructor(){super(...arguments),this.permissions=new _P(this._client)}};m4.Permissions=_P;class SP extends Ft{list(t,n={},r){return this._client.getAPIList(st`/fine_tuning/jobs/${t}/checkpoints`,$r,{query:n,...r})}}class g4 extends Ft{constructor(){super(...arguments),this.checkpoints=new SP(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(st`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",$r,{query:t,...n})}cancel(t,n){return this._client.post(st`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return this._client.getAPIList(st`/fine_tuning/jobs/${t}/events`,$r,{query:n,...r})}pause(t,n){return this._client.post(st`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(st`/fine_tuning/jobs/${t}/resume`,n)}}g4.Checkpoints=SP;class If extends Ft{constructor(){super(...arguments),this.methods=new bP(this._client),this.jobs=new g4(this._client),this.checkpoints=new m4(this._client),this.alpha=new p4(this._client)}}If.Methods=bP;If.Jobs=g4;If.Checkpoints=m4;If.Alpha=p4;class CP extends Ft{}class v4 extends Ft{constructor(){super(...arguments),this.graderModels=new CP(this._client)}}v4.GraderModels=CP;class xP extends Ft{createVariation(t,n){return this._client.post("/images/variations",vc({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",vc({body:t,...n,stream:t.stream??!1},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n,stream:t.stream??!1})}}class EP extends Ft{retrieve(t,n){return this._client.get(st`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",r1,t)}delete(t,n){return this._client.delete(st`/models/${t}`,n)}}class TP extends Ft{create(t,n){return this._client.post("/moderations",{body:t,...n})}}class kP extends Ft{accept(t,n,r){return this._client.post(st`/realtime/calls/${t}/accept`,{body:n,...r,headers:Tt([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(t,n){return this._client.post(st`/realtime/calls/${t}/hangup`,{...n,headers:Tt([{Accept:"*/*"},n==null?void 0:n.headers])})}refer(t,n,r){return this._client.post(st`/realtime/calls/${t}/refer`,{body:n,...r,headers:Tt([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(t,n={},r){return this._client.post(st`/realtime/calls/${t}/reject`,{body:n,...r,headers:Tt([{Accept:"*/*"},r==null?void 0:r.headers])})}}class NP extends Ft{create(t,n){return this._client.post("/realtime/client_secrets",{body:t,...n})}}class o1 extends Ft{constructor(){super(...arguments),this.clientSecrets=new NP(this._client),this.calls=new kP(this._client)}}o1.ClientSecrets=NP;o1.Calls=kP;function Nwe(e,t){return!t||!Owe(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:IP(e,t)}function IP(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:Rwe(t,s)};if(s.type==="message"){const a=s.content.map(i=>i.type==="output_text"?{...i,parsed:Iwe(t,i.text)}:i);return{...s,content:a}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||E_(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const a of s.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),r}function Iwe(e,t){var n,r,s,a;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((a=e.text)==null?void 0:a.format).$parseRaw(t):JSON.parse(t)}function Owe(e){var t;return!!n4((t=e.text)==null?void 0:t.format)}function $we(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Awe(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Rwe(e,t){const n=Awe(e.tools??[],t.name);return{...t,...t,parsed_arguments:$we(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function E_(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var Zc,Ng,xl,Ig,s5,a5,i5,o5;class y4 extends s4{constructor(t){super(),Zc.add(this),Ng.set(this,void 0),xl.set(this,void 0),Ig.set(this,void 0),qt(this,Ng,t)}static createResponse(t,n,r){const s=new y4(n);return s._run(()=>s._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Pe(this,Zc,"m",s5).call(this);let a,i=null;"response_id"in n?(a=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),i=n.starting_after??null):a=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of a)Pe(this,Zc,"m",a5).call(this,l,i);if((o=a.controller.signal)!=null&&o.aborted)throw new ga;return Pe(this,Zc,"m",i5).call(this)}[(Ng=new WeakMap,xl=new WeakMap,Ig=new WeakMap,Zc=new WeakSet,s5=function(){this.ended||qt(this,xl,void 0)},a5=function(n,r){if(this.ended)return;const s=(i,o)=>{(r==null||o.sequence_number>r)&&this._emit(i,o)},a=Pe(this,Zc,"m",o5).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const i=a.output[n.output_index];if(!i)throw new Ht(`missing output at index ${n.output_index}`);if(i.type==="message"){const o=i.content[n.content_index];if(!o)throw new Ht(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new Ht(`expected content to be 'output_text', got ${o.type}`);s("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const i=a.output[n.output_index];if(!i)throw new Ht(`missing output at index ${n.output_index}`);i.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:i.arguments});break}default:s(n.type,n);break}},i5=function(){if(this.ended)throw new Ht("stream has ended, this shouldn't happen");const n=Pe(this,xl,"f");if(!n)throw new Ht("request ended without sending any events");qt(this,xl,void 0);const r=Mwe(n,Pe(this,Ng,"f"));return qt(this,Ig,r),r},o5=function(n){var s;let r=Pe(this,xl,"f");if(!r){if(n.type!=="response.created")throw new Ht(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=qt(this,xl,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const a=r.output[n.output_index];if(!a)throw new Ht(`missing output at index ${n.output_index}`);const i=a.type,o=n.part;i==="message"&&o.type!=="reasoning_text"?a.content.push(o):i==="reasoning"&&o.type==="reasoning_text"&&(a.content||(a.content=[]),a.content.push(o));break}case"response.output_text.delta":{const a=r.output[n.output_index];if(!a)throw new Ht(`missing output at index ${n.output_index}`);if(a.type==="message"){const i=a.content[n.content_index];if(!i)throw new Ht(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new Ht(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const a=r.output[n.output_index];if(!a)throw new Ht(`missing output at index ${n.output_index}`);a.type==="function_call"&&(a.arguments+=n.delta);break}case"response.reasoning_text.delta":{const a=r.output[n.output_index];if(!a)throw new Ht(`missing output at index ${n.output_index}`);if(a.type==="reasoning"){const i=(s=a.content)==null?void 0:s[n.content_index];if(!i)throw new Ht(`missing content at index ${n.content_index}`);if(i.type!=="reasoning_text")throw new Ht(`expected content to be 'reasoning_text', got ${i.type}`);i.text+=n.delta}break}case"response.completed":{qt(this,xl,n.response);break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>n.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=Pe(this,Ig,"f");if(!t)throw new Ht("stream ended without producing a ChatCompletion");return t}}function Mwe(e,t){return Nwe(e,t)}class OP extends Ft{list(t,n={},r){return this._client.getAPIList(st`/responses/${t}/input_items`,$r,{query:n,...r})}}class $P extends Ft{count(t={},n){return this._client.post("/responses/input_tokens",{body:t,...n})}}class l1 extends Ft{constructor(){super(...arguments),this.inputItems=new OP(this._client),this.inputTokens=new $P(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&E_(r),r))}retrieve(t,n={},r){return this._client.get(st`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&E_(s),s))}delete(t,n){return this._client.delete(st`/responses/${t}`,{...n,headers:Tt([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>IP(r,t))}stream(t,n){return y4.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(st`/responses/${t}/cancel`,n)}compact(t,n){return this._client.post("/responses/compact",{body:t,...n})}}l1.InputItems=OP;l1.InputTokens=$P;class AP extends Ft{create(t,n,r){return this._client.post(st`/uploads/${t}/parts`,vc({body:n,...r},this._client))}}class b4 extends Ft{constructor(){super(...arguments),this.parts=new AP(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(st`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(st`/uploads/${t}/complete`,{body:n,...r})}}b4.Parts=AP;const Pwe=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class RP extends Ft{create(t,n,r){return this._client.post(st`/vector_stores/${t}/file_batches`,{body:n,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(st`/vector_stores/${s}/file_batches/${t}`,{...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{vector_store_id:s}=n;return this._client.post(st`/vector_stores/${s}/file_batches/${t}/cancel`,{...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r){const{vector_store_id:s,...a}=n;return this._client.getAPIList(st`/vector_stores/${s}/file_batches/${t}/files`,$r,{query:a,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(t,n,r){var a;const s=Tt([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((a=r==null?void 0:r.pollIntervalMs)==null?void 0:a.toString())??void 0}]);for(;;){const{data:i,response:o}=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await Cm(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(s==null?void 0:s.maxConcurrency)??5,i=Math.min(a,n.length),o=this._client,l=n.values(),u=[...r];async function c(h){for(let p of h){const m=await o.files.create({file:p,purpose:"assistants"},s);u.push(m.id)}}const d=Array(i).fill(l).map(c);return await Pwe(d),await this.createAndPoll(t,{file_ids:u})}}class MP extends Ft{create(t,n,r){return this._client.post(st`/vector_stores/${t}/files`,{body:n,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(st`/vector_stores/${s}/files/${t}`,{...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{vector_store_id:s,...a}=n;return this._client.post(st`/vector_stores/${s}/files/${t}`,{body:a,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(st`/vector_stores/${t}/files`,$r,{query:n,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{vector_store_id:s}=n;return this._client.delete(st`/vector_stores/${s}/files/${t}`,{...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){var a;const s=Tt([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((a=r==null?void 0:r.pollIntervalMs)==null?void 0:a.toString())??void 0}]);for(;;){const i=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=i.response.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await Cm(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(st`/vector_stores/${s}/files/${t}/content`,r1,{...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class u1 extends Ft{constructor(){super(...arguments),this.files=new MP(this._client),this.fileBatches=new RP(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(st`/vector_stores/${t}`,{...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(st`/vector_stores/${t}`,{body:n,...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",$r,{query:t,...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(st`/vector_stores/${t}`,{...n,headers:Tt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(t,n,r){return this._client.getAPIList(st`/vector_stores/${t}/search`,r1,{body:n,method:"post",...r,headers:Tt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}u1.Files=MP;u1.FileBatches=RP;class PP extends Ft{create(t,n){return this._client.post("/videos",Kk({body:t,...n},this._client))}retrieve(t,n){return this._client.get(st`/videos/${t}`,n)}list(t={},n){return this._client.getAPIList("/videos",S0,{query:t,...n})}delete(t,n){return this._client.delete(st`/videos/${t}`,n)}downloadContent(t,n={},r){return this._client.get(st`/videos/${t}/content`,{query:n,...r,headers:Tt([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(t,n,r){return this._client.post(st`/videos/${t}/remix`,Kk({body:n,...r},this._client))}}var rd,LP,Ev;class DP extends Ft{constructor(){super(...arguments),rd.add(this)}async unwrap(t,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(t,n,r,s),JSON.parse(t)}async verifySignature(t,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");Pe(this,rd,"m",LP).call(this,r);const a=Tt([n]).values,i=Pe(this,rd,"m",Ev).call(this,a,"webhook-signature"),o=Pe(this,rd,"m",Ev).call(this,a,"webhook-timestamp"),l=Pe(this,rd,"m",Ev).call(this,a,"webhook-id"),u=parseInt(o,10);if(isNaN(u))throw new nh("Invalid webhook timestamp format");const c=Math.floor(Date.now()/1e3);if(c-u>s)throw new nh("Webhook timestamp is too old");if(u>c+s)throw new nh("Webhook timestamp is too new");const d=i.split(" ").map(g=>g.startsWith("v1,")?g.substring(3):g),h=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),p=l?`${l}.${o}.${t}`:`${o}.${t}`,m=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const g of d)try{const v=Buffer.from(g,"base64");if(await crypto.subtle.verify("HMAC",m,v,new TextEncoder().encode(p)))return}catch{continue}throw new nh("The given webhook signature does not match the expected signature")}}rd=new WeakSet,LP=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Ev=function(t,n){if(!t)throw new Error("Headers are required");const r=t.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var T_,w4,Tv,zP;class mn{constructor({baseURL:t=Gc("OPENAI_BASE_URL"),apiKey:n=Gc("OPENAI_API_KEY"),organization:r=Gc("OPENAI_ORG_ID")??null,project:s=Gc("OPENAI_PROJECT_ID")??null,webhookSecret:a=Gc("OPENAI_WEBHOOK_SECRET")??null,...i}={}){if(T_.add(this),Tv.set(this,void 0),this.completions=new hP(this),this.chat=new o4(this),this.embeddings=new gP(this),this.files=new yP(this),this.images=new xP(this),this.audio=new Em(this),this.moderations=new TP(this),this.models=new EP(this),this.fineTuning=new If(this),this.graders=new v4(this),this.vectorStores=new u1(this),this.webhooks=new DP(this),this.beta=new Nf(this),this.batches=new aP(this),this.uploads=new b4(this),this.responses=new l1(this),this.realtime=new o1(this),this.conversations=new d4(this),this.evals=new h4(this),this.containers=new c4(this),this.videos=new PP(this),n===void 0)throw new Ht("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const o={apiKey:n,organization:r,project:s,webhookSecret:a,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&L2e())throw new Ht(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??w4.DEFAULT_TIMEOUT,this.logger=o.logger??console;const l="warn";this.logLevel=l,this.logLevel=Uk(o.logLevel,"ClientOptions.logLevel",this)??Uk(Gc("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??j2e(),qt(this,Tv,H2e),this._options=o,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=s,this.webhookSecret=a}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}async authHeaders(t){return Tt([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return Y2e(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${td}`}defaultIdempotencyKey(){return`stainless-node-retry-${o9()}`}makeStatusError(t,n,r,s){return ls.generate(t,n,r,s)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let n;try{n=await t()}catch(r){throw r instanceof Ht?r:new Ht(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new Ht(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(t,n,r){const s=!Pe(this,T_,"m",zP).call(this)&&r||this.baseURL,a=$2e(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return A2e(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(s=>({method:t,path:n,...s})))}request(t,n=null){return new n1(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var y,b;const s=await t,a=s.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(s);const{req:i,url:o,timeout:l}=await this.buildRequest(s,{retryCount:a-n});await this.prepareRequest(i,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),c=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Qr(this).debug(`[${u}] sending request`,Nu({retryOfRequestLogID:r,method:s.method,url:o,options:s,headers:i.headers})),(y=s.signal)!=null&&y.aborted)throw new ga;const h=new AbortController,p=await this.fetchWithTimeout(o,i,l,h).catch(p_),m=Date.now();if(p instanceof globalThis.Error){const w=`retrying, ${n} attempts remaining`;if((b=s.signal)!=null&&b.aborted)throw new ga;const _=h_(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(n)return Qr(this).info(`[${u}] connection ${_?"timed out":"failed"} - ${w}`),Qr(this).debug(`[${u}] connection ${_?"timed out":"failed"} (${w})`,Nu({retryOfRequestLogID:r,url:o,durationMs:m-d,message:p.message})),this.retryRequest(s,n,r??u);throw Qr(this).info(`[${u}] connection ${_?"timed out":"failed"} - error; no more retries left`),Qr(this).debug(`[${u}] connection ${_?"timed out":"failed"} (error; no more retries left)`,Nu({retryOfRequestLogID:r,url:o,durationMs:m-d,message:p.message})),_?new e1:new Qy({cause:p})}const g=[...p.headers.entries()].filter(([w])=>w==="x-request-id").map(([w,_])=>", "+w+": "+JSON.stringify(_)).join(""),v=`[${u}${c}${g}] ${i.method} ${o} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${m-d}ms`;if(!p.ok){const w=await this.shouldRetry(p);if(n&&w){const N=`retrying, ${n} attempts remaining`;return await V2e(p.body),Qr(this).info(`${v} - ${N}`),Qr(this).debug(`[${u}] response error (${N})`,Nu({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:m-d})),this.retryRequest(s,n,r??u,p.headers)}const _=w?"error; no more retries left":"error; not retryable";Qr(this).info(`${v} - ${_}`);const S=await p.text().catch(N=>p_(N).message),C=P2e(S),T=C?void 0:S;throw Qr(this).debug(`[${u}] response error (${_})`,Nu({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,message:T,durationMs:Date.now()-d})),this.makeStatusError(p.status,C,T,p.headers)}return Qr(this).info(v),Qr(this).debug(`[${u}] response start`,Nu({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:m-d})),{response:p,options:s,controller:h,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(t,n,r){return this.requestAPIList(n,r&&"then"in r?r.then(s=>({method:"get",path:t,...s})):{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new swe(this,r,t)}async fetchWithTimeout(t,n,r,s){const{signal:a,method:i,...o}=n||{},l=this._makeAbort(s);a&&a.addEventListener("abort",l,{once:!0});const u=setTimeout(l,r),c=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,d={signal:s.signal,...c?{duplex:"half"}:{},method:"GET",...o};i&&(d.method=i.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,s){let a;const i=s==null?void 0:s.get("retry-after-ms");if(i){const l=parseFloat(i);Number.isNaN(l)||(a=l)}const o=s==null?void 0:s.get("retry-after");if(o&&!a){const l=parseFloat(o);Number.isNaN(l)?a=Date.parse(o)-Date.now():a=l*1e3}if(!(a&&0<=a&&a<60*1e3)){const l=t.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,l)}return await Cm(a),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,i=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return i*o*1e3}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:s,path:a,query:i,defaultBaseURL:o}=r,l=this.buildURL(a,i,o);"timeout"in r&&M2e("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:c}=this.buildBody({options:r}),d=await this.buildHeaders({options:t,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&c instanceof globalThis.ReadableStream&&{duplex:"half"},...c&&{body:c},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:s}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const i=Tt([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...B2e(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(i),i.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Tt([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:w9(t)}:Pe(this,Tv,"f").call(this,{body:t,headers:r})}}w4=mn,Tv=new WeakMap,T_=new WeakSet,zP=function(){return this.baseURL!=="https://api.openai.com/v1"};mn.OpenAI=w4;mn.DEFAULT_TIMEOUT=6e5;mn.OpenAIError=Ht;mn.APIError=ls;mn.APIConnectionError=Qy;mn.APIConnectionTimeoutError=e1;mn.APIUserAbortError=ga;mn.NotFoundError=d9;mn.ConflictError=f9;mn.RateLimitError=p9;mn.BadRequestError=l9;mn.AuthenticationError=u9;mn.InternalServerError=m9;mn.PermissionDeniedError=c9;mn.UnprocessableEntityError=h9;mn.InvalidWebhookSignatureError=nh;mn.toFile=uwe;mn.Completions=hP;mn.Chat=o4;mn.Embeddings=gP;mn.Files=yP;mn.Images=xP;mn.Audio=Em;mn.Moderations=TP;mn.Models=EP;mn.FineTuning=If;mn.Graders=v4;mn.VectorStores=u1;mn.Webhooks=DP;mn.Beta=Nf;mn.Batches=aP;mn.Uploads=b4;mn.Responses=l1;mn.Realtime=o1;mn.Conversations=d4;mn.Evals=h4;mn.Containers=c4;mn.Videos=PP;function _4(e){if(!e||typeof e!="object")return e;let t;return e.constructor.name===e1.name&&"message"in e&&typeof e.message=="string"?(t=new Error(e.message),t.name="TimeoutError"):e.constructor.name===ga.name&&"message"in e&&typeof e.message=="string"?(t=new Error(e.message),t.name="AbortError"):"status"in e&&e.status===400&&"message"in e&&typeof e.message=="string"&&e.message.includes("tool_calls")?t=Sg(e,"INVALID_TOOL_RESULTS"):"status"in e&&e.status===401?t=Sg(e,"MODEL_AUTHENTICATION"):"status"in e&&e.status===429?t=Sg(e,"MODEL_RATE_LIMIT"):"status"in e&&e.status===404?t=Sg(e,"MODEL_NOT_FOUND"):t=e,t}var Lwe=Object.defineProperty,xn=(e,t)=>{for(var n in t)Lwe(e,n,{get:t[n],enumerable:!0})};function yo(e){return typeof e=="object"&&e!==null&&"type"in e&&typeof e.type=="string"&&"source_type"in e&&(e.source_type==="url"||e.source_type==="base64"||e.source_type==="text"||e.source_type==="id")}function S4(e){return yo(e)&&e.source_type==="url"&&"url"in e&&typeof e.url=="string"}function C4(e){return yo(e)&&e.source_type==="base64"&&"data"in e&&typeof e.data=="string"}function Dwe(e){return yo(e)&&e.source_type==="text"&&"text"in e&&typeof e.text=="string"}function FP(e){return yo(e)&&e.source_type==="id"&&"id"in e&&typeof e.id=="string"}function BP(e){if(yo(e)){if(e.source_type==="url")return{type:"image_url",image_url:{url:e.url}};if(e.source_type==="base64"){if(!e.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${e.mime_type};base64,${e.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function k_(e){const t=e.split(";")[0].split("/");if(t.length!==2)throw new Error(`Invalid mime type: "${e}" - does not match type/subtype format.`);const n=t[0].trim(),r=t[1].trim();if(n===""||r==="")throw new Error(`Invalid mime type: "${e}" - type or subtype is empty.`);const s={};for(const a of e.split(";").slice(1)){const i=a.split("=");if(i.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${e}".`);const o=i[0].trim(),l=i[1].trim();if(o==="")throw new Error(`Invalid parameter syntax in mime type: "${e}".`);s[o]=l}return{type:n,subtype:r,parameters:s}}function Np({dataUrl:e,asTypedArray:t=!1}){const n=e.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(n){r=n[1].toLowerCase();const s=t?Uint8Array.from(atob(n[2]),a=>a.charCodeAt(0)):n[2];return{mime_type:r,data:s}}}function x4(e,t){if(e.type==="text"){if(!t.fromStandardTextBlock)throw new Error(`Converter for ${t.providerName} does not implement \`fromStandardTextBlock\` method.`);return t.fromStandardTextBlock(e)}if(e.type==="image"){if(!t.fromStandardImageBlock)throw new Error(`Converter for ${t.providerName} does not implement \`fromStandardImageBlock\` method.`);return t.fromStandardImageBlock(e)}if(e.type==="audio"){if(!t.fromStandardAudioBlock)throw new Error(`Converter for ${t.providerName} does not implement \`fromStandardAudioBlock\` method.`);return t.fromStandardAudioBlock(e)}if(e.type==="file"){if(!t.fromStandardFileBlock)throw new Error(`Converter for ${t.providerName} does not implement \`fromStandardFileBlock\` method.`);return t.fromStandardFileBlock(e)}throw new Error(`Unable to convert content block type '${e.type}' to provider-specific format: not recognized.`)}function jP(e){return typeof e=="object"&&e!==null&&"type"in e&&"content"in e&&(typeof e.content=="string"||Array.isArray(e.content))}var zwe=function(e,t){if(typeof e!="string")throw new TypeError("Expected a string");return t=typeof t>"u"?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()};const Fwe=Ua(zwe);var VP={exports:{}};const Bwe=/[\p{Lu}]/u,jwe=/[\p{Ll}]/u,l5=/^[\p{Lu}](?![\p{Lu}])/gu,HP=/([\p{Alpha}\p{N}_]|$)/u,UP=/[_.\- ]+/,Vwe=new RegExp("^"+UP.source),u5=new RegExp(UP.source+HP.source,"gu"),c5=new RegExp("\\d+"+HP.source,"gu"),Hwe=(e,t,n)=>{let r=!1,s=!1,a=!1;for(let i=0;i<e.length;i++){const o=e[i];r&&Bwe.test(o)?(e=e.slice(0,i)+"-"+e.slice(i),r=!1,a=s,s=!0,i++):s&&a&&jwe.test(o)?(e=e.slice(0,i-1)+"-"+e.slice(i-1),a=s,s=!1,r=!0):(r=t(o)===o&&n(o)!==o,a=s,s=n(o)===o&&t(o)!==o)}return e},Uwe=(e,t)=>(l5.lastIndex=0,e.replace(l5,n=>t(n))),Wwe=(e,t)=>(u5.lastIndex=0,c5.lastIndex=0,e.replace(u5,(n,r)=>t(r)).replace(c5,n=>t(n))),WP=(e,t)=>{if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(e)?e=e.map(a=>a.trim()).filter(a=>a.length).join("-"):e=e.trim(),e.length===0)return"";const n=t.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(t.locale),r=t.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(t.locale);return e.length===1?t.pascalCase?r(e):n(e):(e!==n(e)&&(e=Hwe(e,n,r)),e=e.replace(Vwe,""),t.preserveConsecutiveUppercase?e=Uwe(e,n):e=n(e),t.pascalCase&&(e=r(e.charAt(0))+e.slice(1)),Wwe(e,r))};VP.exports=WP;VP.exports.default=WP;function Kwe(e,t){return(t==null?void 0:t[e])||Fwe(e)}function Gwe(e,t,n){const r={};for(const s in e)Object.hasOwn(e,s)&&(r[t(s,n)]=e[s]);return r}const KP="__lc_escaped__";function Zwe(e){return"lc"in e||Object.keys(e).length===1&&KP in e}function Ywe(e){return{[KP]:e}}function qwe(e){return e!==null&&typeof e=="object"&&"lc_serializable"in e&&typeof e.toJSON=="function"}function Xwe(e){var n;let t;return e!==null&&typeof e=="object"?"lc_id"in e&&Array.isArray(e.lc_id)?t=e.lc_id:t=[((n=e.constructor)==null?void 0:n.name)??"Object"]:t=[typeof e],{lc:1,type:"not_implemented",id:t}}function N_(e,t=new WeakSet){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){if(t.has(e))return Xwe(e);if(qwe(e))return e;t.add(e);const n=e;if(Zwe(n))return t.delete(e),Ywe(n);const r={};for(const[s,a]of Object.entries(n))r[s]=N_(a,t);return t.delete(e),r}return Array.isArray(e)?e.map(n=>N_(n,t)):e}var Jwe={};xn(Jwe,{Serializable:()=>tf,get_lc_unique_name:()=>E4});function d5(e){return Array.isArray(e)?[...e]:{...e}}function Qwe(e,t){const n=d5(e);for(const[r,s]of Object.entries(t)){const[a,...i]=r.split(".").reverse();let o=n;for(const l of i.reverse()){if(o[l]===void 0)break;o[l]=d5(o[l]),o=o[l]}o[a]!==void 0&&(o[a]={lc:1,type:"secret",id:[s]})}return n}function E4(e){const t=Object.getPrototypeOf(e);return typeof e.lc_name=="function"&&(typeof t.lc_name!="function"||e.lc_name()!==t.lc_name())?e.lc_name():e.name}var tf=class GP{constructor(t,...n){se(this,"lc_serializable",!1);se(this,"lc_kwargs");this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(t||{}).filter(([r])=>{var s;return(s=this.lc_serializable_keys)==null?void 0:s.includes(r)})):this.lc_kwargs=t??{}}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,E4(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof GP||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const t={},n={},r=Object.keys(this.lc_kwargs).reduce((l,u)=>(l[u]=u in this?this[u]:this.lc_kwargs[u],l),{});for(let l=Object.getPrototypeOf(this);l;l=Object.getPrototypeOf(l))Object.assign(t,Reflect.get(l,"lc_aliases",this)),Object.assign(n,Reflect.get(l,"lc_secrets",this)),Object.assign(r,Reflect.get(l,"lc_attributes",this));Object.keys(n).forEach(l=>{let u=this,c=r;const[d,...h]=l.split(".").reverse();for(const p of h.reverse()){if(!(p in u)||u[p]===void 0)return;(!(p in c)||c[p]===void 0)&&(typeof u[p]=="object"&&u[p]!=null?c[p]={}:Array.isArray(u[p])&&(c[p]=[])),u=u[p],c=c[p]}d in u&&u[d]!==void 0&&(c[d]=c[d]||u[d])});const s={},a=new WeakSet;a.add(this);for(const[l,u]of Object.entries(r))s[l]=N_(u,a);const i=Object.keys(n).length?Qwe(s,n):s,o=Gwe(i,Kwe,t);return{lc:1,type:"constructor",id:this.lc_id,kwargs:o}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function zt(e,t){return Qt(e)&&e.type===t}function Qt(e){return typeof e=="object"&&e!==null}function mi(e){return Array.isArray(e)}function ft(e){return typeof e=="string"}function si(e){return typeof e=="number"}function T4(e){return e instanceof Uint8Array}function f5(e){try{return JSON.parse(e)}catch{return}}const Ip=e=>e();function e_e(e){if(e.type==="char_location"&&ft(e.document_title)&&si(e.start_char_index)&&si(e.end_char_index)&&ft(e.cited_text)){const{document_title:t,start_char_index:n,end_char_index:r,cited_text:s,...a}=e;return{...a,type:"citation",source:"char",title:t??void 0,startIndex:n,endIndex:r,citedText:s}}if(e.type==="page_location"&&ft(e.document_title)&&si(e.start_page_number)&&si(e.end_page_number)&&ft(e.cited_text)){const{document_title:t,start_page_number:n,end_page_number:r,cited_text:s,...a}=e;return{...a,type:"citation",source:"page",title:t??void 0,startIndex:n,endIndex:r,citedText:s}}if(e.type==="content_block_location"&&ft(e.document_title)&&si(e.start_block_index)&&si(e.end_block_index)&&ft(e.cited_text)){const{document_title:t,start_block_index:n,end_block_index:r,cited_text:s,...a}=e;return{...a,type:"citation",source:"block",title:t??void 0,startIndex:n,endIndex:r,citedText:s}}if(e.type==="web_search_result_location"&&ft(e.url)&&ft(e.title)&&ft(e.encrypted_index)&&ft(e.cited_text)){const{url:t,title:n,encrypted_index:r,cited_text:s,...a}=e;return{...a,type:"citation",source:"url",url:t,title:n,startIndex:Number(r),endIndex:Number(r),citedText:s}}if(e.type==="search_result_location"&&ft(e.source)&&ft(e.title)&&si(e.start_block_index)&&si(e.end_block_index)&&ft(e.cited_text)){const{source:t,title:n,start_block_index:r,end_block_index:s,cited_text:a,...i}=e;return{...i,type:"citation",source:"search",url:t,title:n??void 0,startIndex:r,endIndex:s,citedText:a}}}function ZP(e){if(zt(e,"document")&&Qt(e.source)&&"type"in e.source){if(e.source.type==="base64"&&ft(e.source.media_type)&&ft(e.source.data))return{type:"file",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&ft(e.source.url))return{type:"file",url:e.source.url};if(e.source.type==="file"&&ft(e.source.file_id))return{type:"file",fileId:e.source.file_id};if(e.source.type==="text"&&ft(e.source.data))return{type:"file",mimeType:String(e.source.media_type??"text/plain"),data:e.source.data}}else if(zt(e,"image")&&Qt(e.source)&&"type"in e.source){if(e.source.type==="base64"&&ft(e.source.media_type)&&ft(e.source.data))return{type:"image",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&ft(e.source.url))return{type:"image",url:e.source.url};if(e.source.type==="file"&&ft(e.source.file_id))return{type:"image",fileId:e.source.file_id}}}function t_e(e){function*t(){for(const n of e){const r=ZP(n);r?yield r:yield n}}return Array.from(t())}function h5(e){function*t(){var r;const n=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const s of n){if(zt(s,"text")&&ft(s.text)){const{text:a,citations:i,...o}=s;if(mi(i)&&i.length){const l=i.reduce((u,c)=>{const d=e_e(c);return d?[...u,d]:u},[]);yield{...o,type:"text",text:a,annotations:l};continue}else{yield{...o,type:"text",text:a};continue}}else if(zt(s,"thinking")&&ft(s.thinking)){const{thinking:a,signature:i,...o}=s;yield{...o,type:"reasoning",reasoning:a,signature:i};continue}else if(zt(s,"redacted_thinking")){yield{type:"non_standard",value:s};continue}else if(zt(s,"tool_use")&&ft(s.name)&&ft(s.id)){yield{type:"tool_call",id:s.id,name:s.name,args:s.input};continue}else if(zt(s,"input_json_delta")){if(r_e(e)&&((r=e.tool_call_chunks)!=null&&r.length)){const a=e.tool_call_chunks[0];yield{type:"tool_call_chunk",id:a.id,name:a.name,args:a.args,index:a.index};continue}}else if(zt(s,"server_tool_use")&&ft(s.name)&&ft(s.id)){const{name:a,id:i}=s;if(a==="web_search"){const o=Ip(()=>{if(typeof s.input=="string")return s.input;if(Qt(s.input)&&ft(s.input.query))return s.input.query;if(ft(s.partial_json)){const l=f5(s.partial_json);if(l!=null&&l.query)return l.query}return""});yield{id:i,type:"server_tool_call",name:"web_search",args:{query:o}};continue}else if(s.name==="code_execution"){const o=Ip(()=>{if(typeof s.input=="string")return s.input;if(Qt(s.input)&&ft(s.input.code))return s.input.code;if(ft(s.partial_json)){const l=f5(s.partial_json);if(l!=null&&l.code)return l.code}return""});yield{id:i,type:"server_tool_call",name:"code_execution",args:{code:o}};continue}}else if(zt(s,"web_search_tool_result")&&ft(s.tool_use_id)&&mi(s.content)){const{content:a,tool_use_id:i}=s,o=a.reduce((l,u)=>zt(u,"web_search_result")?[...l,u.url]:l,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:i,status:"success",output:{urls:o}};continue}else if(zt(s,"code_execution_tool_result")&&ft(s.tool_use_id)&&Qt(s.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:s.tool_use_id,status:"success",output:s.content};continue}else if(zt(s,"mcp_tool_use")){yield{id:s.id,type:"server_tool_call",name:"mcp_tool_use",args:s.input};continue}else if(zt(s,"mcp_tool_result")&&ft(s.tool_use_id)&&Qt(s.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:s.tool_use_id,status:"success",output:s.content};continue}else if(zt(s,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:s.input};continue}else if(zt(s,"search_result")){yield{id:s.id,type:"non_standard",value:s};continue}else if(zt(s,"tool_result")){yield{id:s.id,type:"non_standard",value:s};continue}else{const a=ZP(s);if(a){yield a;continue}}yield{type:"non_standard",value:s}}}return Array.from(t())}const n_e={translateContent:h5,translateContentChunk:h5};function r_e(e){return typeof(e==null?void 0:e._getType)=="function"&&typeof e.concat=="function"&&e._getType()==="ai"}function s_e(e){return S4(e)?{type:e.type,mimeType:e.mime_type,url:e.url,metadata:e.metadata}:C4(e)?{type:e.type,mimeType:e.mime_type??"application/octet-stream",data:e.data,metadata:e.metadata}:FP(e)?{type:e.type,mimeType:e.mime_type,fileId:e.id,metadata:e.metadata}:e}function a_e(e){return e.map(s_e)}function i_e(e){return!!(zt(e,"image_url")&&Qt(e.image_url)||zt(e,"input_audio")&&Qt(e.input_audio)||zt(e,"file")&&Qt(e.file))}function o_e(e){if(zt(e,"image_url")&&Qt(e.image_url)&&ft(e.image_url.url)){const t=Np({dataUrl:e.image_url.url});return t?{type:"image",mimeType:t.mime_type,data:t.data}:{type:"image",url:e.image_url.url}}else{if(zt(e,"input_audio")&&Qt(e.input_audio)&&ft(e.input_audio.data)&&ft(e.input_audio.format))return{type:"audio",data:e.input_audio.data,mimeType:`audio/${e.input_audio.format}`};if(zt(e,"file")&&Qt(e.file)&&ft(e.file.data)){const t=Np({dataUrl:e.file.data});if(t)return{type:"file",data:t.data,mimeType:t.mime_type};if(ft(e.file.file_id))return{type:"file",fileId:e.file.file_id}}}return e}function l_e(e){const t=[];typeof e.content=="string"?t.push({type:"text",text:e.content}):t.push(...k4(e.content));for(const n of e.tool_calls??[])t.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return t}function u_e(e){const t=[];typeof e.content=="string"?t.push({type:"text",text:e.content}):t.push(...k4(e.content));for(const n of e.tool_calls??[])t.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return t}function k4(e){const t=[];for(const n of e)i_e(n)?t.push(o_e(n)):t.push(n);return t}function c_e(e){if(e.type==="url_citation"){const{url:t,title:n,start_index:r,end_index:s}=e;return{type:"citation",url:t,title:n,startIndex:r,endIndex:s}}if(e.type==="file_citation"){const{file_id:t,filename:n,index:r}=e;return{type:"citation",title:n,startIndex:r,endIndex:r,fileId:t}}return e}function YP(e){function*t(){var r;Qt((r=e.additional_kwargs)==null?void 0:r.reasoning)&&mi(e.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:e.additional_kwargs.reasoning.summary.reduce((a,i)=>Qt(i)&&ft(i.text)?`${a}${i.text}`:a,"")});const n=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const s of n)if(zt(s,"text")){const{text:a,annotations:i,...o}=s;Array.isArray(i)?yield{...o,type:"text",text:String(a),annotations:i.map(c_e)}:yield{...o,type:"text",text:String(a)}}for(const s of e.tool_calls??[])yield{type:"tool_call",id:s.id,name:s.name,args:s.args};if(Qt(e.additional_kwargs)&&mi(e.additional_kwargs.tool_outputs))for(const s of e.additional_kwargs.tool_outputs){if(zt(s,"web_search_call")){yield{id:s.id,type:"server_tool_call",name:"web_search",args:{query:s.query}};continue}else if(zt(s,"file_search_call")){yield{id:s.id,type:"server_tool_call",name:"file_search",args:{query:s.query}};continue}else if(zt(s,"computer_call")){yield{type:"non_standard",value:s};continue}else if(zt(s,"code_interpreter_call")){if(ft(s.code)&&(yield{id:s.id,type:"server_tool_call",name:"code_interpreter",args:{code:s.code}}),mi(s.outputs)){const a=Ip(()=>{if(s.status!=="in_progress"){if(s.status==="completed")return 0;if(s.status==="incomplete")return 127;if(s.status!=="interpreting"&&s.status==="failed")return 1}});for(const i of s.outputs)if(zt(i,"logs")){yield{type:"server_tool_call_result",toolCallId:s.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:a??0,stderr:[0,void 0].includes(a)?void 0:String(i.logs),stdout:[0,void 0].includes(a)?String(i.logs):void 0}};continue}}continue}else if(zt(s,"mcp_call")){yield{id:s.id,type:"server_tool_call",name:"mcp_call",args:s.input};continue}else if(zt(s,"mcp_list_tools")){yield{id:s.id,type:"server_tool_call",name:"mcp_list_tools",args:s.input};continue}else if(zt(s,"mcp_approval_request")){yield{type:"non_standard",value:s};continue}else if(zt(s,"image_generation_call")){ft(s.result)&&(yield{type:"image",mimeType:"image/png",data:s.result,id:ft(s.id)?s.id:void 0,metadata:{status:ft(s.status)?s.status:void 0}}),yield{type:"non_standard",value:s};continue}Qt(s)&&(yield{type:"non_standard",value:s})}}return Array.from(t())}function d_e(e){function*t(){yield*YP(e);for(const n of e.tool_call_chunks??[])yield{type:"tool_call_chunk",id:n.id,name:n.name,args:n.args}}return Array.from(t())}const f_e={translateContent:e=>typeof e.content=="string"?l_e(e):YP(e),translateContentChunk:e=>typeof e.content=="string"?u_e(e):d_e(e)};function h_e(e,t="pretty"){return t==="pretty"?p_e(e):JSON.stringify(e)}function p_e(e){const t=[],n=` ${e.type.charAt(0).toUpperCase()+e.type.slice(1)} Message `,r=Math.floor((80-n.length)/2),s="=".repeat(r),a=n.length%2===0?s:`${s}=`;if(t.push(`${s}${n}${a}`),e.type==="ai"){const i=e;if(i.tool_calls&&i.tool_calls.length>0){t.push("Tool Calls:");for(const o of i.tool_calls){t.push(`  ${o.name} (${o.id})`),t.push(` Call ID: ${o.id}`),t.push("  Args:");for(const[l,u]of Object.entries(o.args))t.push(`    ${l}: ${typeof u=="object"?JSON.stringify(u):u}`)}}}if(e.type==="tool"){const i=e;i.name&&t.push(`Name: ${i.name}`)}return typeof e.content=="string"&&e.content.trim()&&(t.length>1&&t.push(""),t.push(e.content)),t.join(`
`)}const e2=Symbol.for("langchain.message");function rl(e,t){return typeof e=="string"?e===""?t:typeof t=="string"?e+t:Array.isArray(t)&&t.length===0?e:Array.isArray(t)&&t.some(n=>yo(n))?[{type:"text",source_type:"text",text:e},...t]:[{type:"text",text:e},...t]:Array.isArray(t)?Tm(e,t)??[...e,...t]:t===""?e:Array.isArray(e)&&e.some(n=>yo(n))?[...e,{type:"file",source_type:"text",text:t}]:[...e,{type:"text",text:t}]}function qP(e,t){return e==="error"||t==="error"?"error":"success"}function m_e(e,t){function n(r,s){if(typeof r!="object"||r===null||r===void 0)return r;if(s>=t)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(i=>n(i,s+1));const a={};for(const i of Object.keys(r))a[i]=n(r[i],s+1);return a}return JSON.stringify(n(e,0),null,2)}var hI,yl=class extends tf{constructor(t){const n=typeof t=="string"||Array.isArray(t)?{content:t}:t;n.additional_kwargs||(n.additional_kwargs={}),n.response_metadata||(n.response_metadata={});super(n);se(this,"lc_namespace",["langchain_core","messages"]);se(this,"lc_serializable",!0);se(this,hI,!0);se(this,"id");se(this,"name");se(this,"content");se(this,"additional_kwargs");se(this,"response_metadata");this.name=n.name,n.content===void 0&&n.contentBlocks!==void 0?(this.content=n.contentBlocks,this.response_metadata={output_version:"v1",...n.response_metadata}):n.content!==void 0?(this.content=n.content??[],this.response_metadata=n.response_metadata):(this.content=[],this.response_metadata=n.response_metadata),this.additional_kwargs=n.additional_kwargs,this.id=n.id}get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}_getType(){return this.type}getType(){return this._getType()}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(t=>typeof t=="string"?t:t.type==="text"?t.text:"").join(""):""}get contentBlocks(){const t=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[a_e,k4,t_e].reduce((s,a)=>a(s),t)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(t){return typeof t=="object"&&t!==null&&e2 in t&&t[e2]===!0&&jP(t)}_updateId(t){this.id=t,this.lc_kwargs.id=t}get[(hI=e2,Symbol.toStringTag)](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](t){if(t===null)return this;const n=m_e(this._printableFields,Math.max(4,t));return`${this.constructor.lc_name()} ${n}`}toFormattedString(t="pretty"){return h_e(this,t)}};function g_e(e){return Array.isArray(e)&&e.every(t=>typeof t.index=="number")}const XP=["index","created","timestamp"];function Cs(e,t,n){const r=(n==null?void 0:n.ignoreKeys)??XP;if(e==null&&t==null)return;if(e==null||t==null)return e??t;const s={...e};for(const[a,i]of Object.entries(t))if(s[a]==null)s[a]=i;else{if(i==null)continue;if(typeof s[a]!=typeof i||Array.isArray(s[a])!==Array.isArray(i))throw new Error(`field[${a}] already exists in the message chunk, but with a different type.`);if(typeof s[a]=="string"){if(a==="type")continue;if(["id","name","output_version","model_provider"].includes(a))i&&(s[a]=i);else{if(r.includes(a))continue;s[a]+=i}}else if(typeof s[a]=="number"){if(r.includes(a))continue;s[a]=s[a]+i}else if(typeof s[a]=="object"&&!Array.isArray(s[a]))s[a]=Cs(s[a],i,n);else if(Array.isArray(s[a]))s[a]=Tm(s[a],i,n);else{if(s[a]===i)continue;console.warn(`field[${a}] already exists in this message chunk and value has unsupported type.`)}}return s}function Tm(e,t,n){if(!(e==null&&t==null)){if(e==null||t==null)return e||t;{const r=[...e];for(const s of t)if(typeof s=="object"&&s!==null&&"index"in s&&typeof s.index=="number"){const a=r.findIndex(i=>{const o=typeof i=="object",l="index"in i&&i.index===s.index,u="id"in i&&"id"in s&&(i==null?void 0:i.id)===(s==null?void 0:s.id),c=!("id"in i)||!(i!=null&&i.id)||!("id"in s)||!(s!=null&&s.id);return o&&l&&(u||c)});a!==-1&&typeof r[a]=="object"&&r[a]!==null?r[a]=Cs(r[a],s,n):r.push(s)}else{if(typeof s=="object"&&s!==null&&"text"in s&&s.text==="")continue;r.push(s)}return r}}}function JP(e,t,n){if(!(e==null&&t==null)){if(e==null||t==null)return e??t;if(typeof e!=typeof t)throw new Error(`Cannot merge objects of different types.
Left ${typeof e}
Right ${typeof t}`);if(typeof e=="string"&&typeof t=="string")return e+t;if(Array.isArray(e)&&Array.isArray(t))return Tm(e,t,n);if(typeof e=="object"&&typeof t=="object")return Cs(e,t,n);if(e===t)return e;throw new Error(`Can not merge objects of different types.
Left ${e}
Right ${t}`)}}var pu=class QP extends yl{static isInstance(t){if(!super.isInstance(t))return!1;let n=Object.getPrototypeOf(t);for(;n!==null;){if(n===QP.prototype)return!0;n=Object.getPrototypeOf(n)}return!1}};function eL(e){return typeof e.role=="string"}function Ul(e){return typeof(e==null?void 0:e._getType)=="function"}function N4(e){return pu.isInstance(e)}function tL(e,t){return Cs(e,t)??{}}function nL(e,t){const n={};return((e==null?void 0:e.audio)!==void 0||(t==null?void 0:t.audio)!==void 0)&&(n.audio=((e==null?void 0:e.audio)??0)+((t==null?void 0:t.audio)??0)),((e==null?void 0:e.image)!==void 0||(t==null?void 0:t.image)!==void 0)&&(n.image=((e==null?void 0:e.image)??0)+((t==null?void 0:t.image)??0)),((e==null?void 0:e.video)!==void 0||(t==null?void 0:t.video)!==void 0)&&(n.video=((e==null?void 0:e.video)??0)+((t==null?void 0:t.video)??0)),((e==null?void 0:e.document)!==void 0||(t==null?void 0:t.document)!==void 0)&&(n.document=((e==null?void 0:e.document)??0)+((t==null?void 0:t.document)??0)),((e==null?void 0:e.text)!==void 0||(t==null?void 0:t.text)!==void 0)&&(n.text=((e==null?void 0:e.text)??0)+((t==null?void 0:t.text)??0)),n}function v_e(e,t){const n={...nL(e,t)};return((e==null?void 0:e.cache_read)!==void 0||(t==null?void 0:t.cache_read)!==void 0)&&(n.cache_read=((e==null?void 0:e.cache_read)??0)+((t==null?void 0:t.cache_read)??0)),((e==null?void 0:e.cache_creation)!==void 0||(t==null?void 0:t.cache_creation)!==void 0)&&(n.cache_creation=((e==null?void 0:e.cache_creation)??0)+((t==null?void 0:t.cache_creation)??0)),n}function y_e(e,t){const n={...nL(e,t)};return((e==null?void 0:e.reasoning)!==void 0||(t==null?void 0:t.reasoning)!==void 0)&&(n.reasoning=((e==null?void 0:e.reasoning)??0)+((t==null?void 0:t.reasoning)??0)),n}function I4(e,t){return{input_tokens:((e==null?void 0:e.input_tokens)??0)+((t==null?void 0:t.input_tokens)??0),output_tokens:((e==null?void 0:e.output_tokens)??0)+((t==null?void 0:t.output_tokens)??0),total_tokens:((e==null?void 0:e.total_tokens)??0)+((t==null?void 0:t.total_tokens)??0),input_token_details:v_e(e==null?void 0:e.input_token_details,t==null?void 0:t.input_token_details),output_token_details:y_e(e==null?void 0:e.output_token_details,t==null?void 0:t.output_token_details)}}var b_e={};xn(b_e,{ToolMessage:()=>bo,ToolMessageChunk:()=>km,defaultToolCallParser:()=>$4,isDirectToolOutput:()=>O4,isToolMessage:()=>rL,isToolMessageChunk:()=>sL});function O4(e){return e!=null&&typeof e=="object"&&"lc_direct_tool_output"in e&&e.lc_direct_tool_output===!0}var bo=class extends yl{constructor(t,n,r){const s=typeof t=="string"||Array.isArray(t)?{content:t,name:r,tool_call_id:n}:t;super(s);se(this,"lc_direct_tool_output",!0);se(this,"type","tool");se(this,"status");se(this,"tool_call_id");se(this,"metadata");se(this,"artifact");this.tool_call_id=s.tool_call_id,this.artifact=s.artifact,this.status=s.status,this.metadata=s.metadata}static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}static isInstance(t){return super.isInstance(t)&&t.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},km=class extends pu{constructor(t){super(t);se(this,"type","tool");se(this,"tool_call_id");se(this,"status");se(this,"artifact");this.tool_call_id=t.tool_call_id,this.artifact=t.artifact,this.status=t.status}static lc_name(){return"ToolMessageChunk"}concat(t){const n=this.constructor;return new n({content:rl(this.content,t.content),additional_kwargs:Cs(this.additional_kwargs,t.additional_kwargs),response_metadata:Cs(this.response_metadata,t.response_metadata),artifact:JP(this.artifact,t.artifact),tool_call_id:this.tool_call_id,id:this.id??t.id,status:qP(this.status,t.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function $4(e){const t=[],n=[];for(const r of e)if(r.function){const s=r.function.name;try{const a=JSON.parse(r.function.arguments);t.push({name:s||"",args:a||{},id:r.id})}catch{n.push({name:s,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[t,n]}function rL(e){return typeof e=="object"&&e!==null&&"getType"in e&&typeof e.getType=="function"&&e.getType()==="tool"}function sL(e){return e._getType()==="tool"}var Ac=class aL extends yl{constructor(n,r){(typeof n=="string"||Array.isArray(n))&&(n={content:n,role:r});super(n);se(this,"type","generic");se(this,"role");this.role=n.role}static lc_name(){return"ChatMessage"}static _chatMessageClass(){return aL}static isInstance(n){return super.isInstance(n)&&n.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},Nm=class extends pu{constructor(t,n){(typeof t=="string"||Array.isArray(t))&&(t={content:t,role:n});super(t);se(this,"type","generic");se(this,"role");this.role=t.role}static lc_name(){return"ChatMessageChunk"}concat(t){const n=this.constructor;return new n({content:rl(this.content,t.content),additional_kwargs:Cs(this.additional_kwargs,t.additional_kwargs),response_metadata:Cs(this.response_metadata,t.response_metadata),role:this.role,id:this.id??t.id})}static isInstance(t){return super.isInstance(t)&&t.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};function w_e(e){return e._getType()==="generic"}function __e(e){return e._getType()==="generic"}var c1=class extends yl{constructor(t){super(t);se(this,"type","function");se(this,"name");this.name=t.name}static lc_name(){return"FunctionMessage"}},Im=class extends pu{constructor(){super(...arguments);se(this,"type","function")}static lc_name(){return"FunctionMessageChunk"}concat(t){const n=this.constructor;return new n({content:rl(this.content,t.content),additional_kwargs:Cs(this.additional_kwargs,t.additional_kwargs),response_metadata:Cs(this.response_metadata,t.response_metadata),name:this.name??"",id:this.id??t.id})}};function S_e(e){return e._getType()==="function"}function C_e(e){return e._getType()==="function"}var xi=class extends yl{constructor(t){super(t);se(this,"type","human")}static lc_name(){return"HumanMessage"}static isInstance(t){return super.isInstance(t)&&t.type==="human"}},Om=class extends pu{constructor(t){super(t);se(this,"type","human")}static lc_name(){return"HumanMessageChunk"}concat(t){const n=this.constructor;return new n({content:rl(this.content,t.content),additional_kwargs:Cs(this.additional_kwargs,t.additional_kwargs),response_metadata:Cs(this.response_metadata,t.response_metadata),id:this.id??t.id})}static isInstance(t){return super.isInstance(t)&&t.type==="human"}};function x_e(e){return e.getType()==="human"}function E_e(e){return e.getType()==="human"}var O0=class extends yl{constructor(t){super({...t,content:[]});se(this,"type","remove");se(this,"id");this.id=t.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(t){return super.isInstance(t)&&t.type==="remove"}},sl=class kv extends yl{constructor(n){super(n);se(this,"type","system")}static lc_name(){return"SystemMessage"}concat(n){if(typeof n=="string")return new kv({...this,content:rl(this.content,n)});if(kv.isInstance(n))return new kv({...this,additional_kwargs:{...this.additional_kwargs,...n.additional_kwargs},response_metadata:{...this.response_metadata,...n.response_metadata},content:rl(this.content,n.content)});throw new Error("Unexpected chunk type for system message")}static isInstance(n){return super.isInstance(n)&&n.type==="system"}},iu=class extends pu{constructor(t){super(t);se(this,"type","system")}static lc_name(){return"SystemMessageChunk"}concat(t){const n=this.constructor;return new n({content:rl(this.content,t.content),additional_kwargs:Cs(this.additional_kwargs,t.additional_kwargs),response_metadata:Cs(this.response_metadata,t.response_metadata),id:this.id??t.id})}static isInstance(t){return super.isInstance(t)&&t.type==="system"}};function T_e(e){return e._getType()==="system"}function k_e(e){return e._getType()==="system"}var N_e={};xn(N_e,{ModelAbortError:()=>I_,addLangChainErrorFields:()=>A4});function A4(e,t){return e.lc_error_code=t,e.message=`${e.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${t}/
`,e}var I_=class iL extends Error{constructor(n,r){super(n);se(this,"name","ModelAbortError");se(this,"lc_error_code","MODEL_ABORTED");se(this,"partialOutput");this.partialOutput=r,Error.captureStackTrace&&Error.captureStackTrace(this,iL)}static isInstance(n){return typeof n=="object"&&n!==null&&"name"in n&&n.name==="ModelAbortError"&&"lc_error_code"in n&&n.lc_error_code==="MODEL_ABORTED"}};function Ph(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="tool_call")}function I_e(e){return!!(e&&typeof e=="object"&&"toolCall"in e&&e.toolCall!=null&&typeof e.toolCall=="object"&&"id"in e.toolCall&&typeof e.toolCall.id=="string")}var $0=class extends Error{constructor(t,n){super(t);se(this,"output");this.output=n}};function O_(e,t=d1){e=e.trim();const n=e.indexOf("```");if(n===-1)return t(e);let r=e.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const s=r.indexOf("```");let a=r;return s!==-1&&(a=r.substring(0,s)),t(a.trim())}function O_e(e){try{return JSON.parse(e)}catch{}const t=e.trim();if(t.length===0)throw new Error("Unexpected end of JSON input");let n=0;function r(){for(;n<t.length&&/\s/.test(t[n]);)n+=1}function s(){if(t[n]!=='"')throw new Error(`Expected '"' at position ${n}, got '${t[n]}'`);n+=1;let c="",d=!1;for(;n<t.length;){const h=t[n];if(d){if(h==="n")c+=`
`;else if(h==="t")c+="	";else if(h==="r")c+="\r";else if(h==="\\")c+="\\";else if(h==='"')c+='"';else if(h==="b")c+="\b";else if(h==="f")c+="\f";else if(h==="/")c+="/";else if(h==="u"){const p=t.substring(n+1,n+5);if(/^[0-9A-Fa-f]{0,4}$/.test(p))p.length===4?c+=String.fromCharCode(Number.parseInt(p,16)):c+=`u${p}`,n+=p.length;else throw new Error(`Invalid unicode escape sequence '\\u${p}' at position ${n}`)}else throw new Error(`Invalid escape sequence '\\${h}' at position ${n}`);d=!1}else if(h==="\\")d=!0;else{if(h==='"')return n+=1,c;c+=h}n+=1}return d&&(c+="\\"),c}function a(){const c=n;let d="";if(t[n]==="-"&&(d+="-",n+=1),n<t.length&&t[n]==="0"&&(d+="0",n+=1,t[n]>="0"&&t[n]<="9"))throw new Error(`Invalid number at position ${c}`);if(n<t.length&&t[n]>="1"&&t[n]<="9")for(;n<t.length&&t[n]>="0"&&t[n]<="9";)d+=t[n],n+=1;if(n<t.length&&t[n]===".")for(d+=".",n+=1;n<t.length&&t[n]>="0"&&t[n]<="9";)d+=t[n],n+=1;if(n<t.length&&(t[n]==="e"||t[n]==="E"))for(d+=t[n],n+=1,n<t.length&&(t[n]==="+"||t[n]==="-")&&(d+=t[n],n+=1);n<t.length&&t[n]>="0"&&t[n]<="9";)d+=t[n],n+=1;if(d==="-")return-0;const h=Number.parseFloat(d);if(Number.isNaN(h))throw n=c,new Error(`Invalid number '${d}' at position ${c}`);return h}function i(){if(r(),n>=t.length)throw new Error(`Unexpected end of input at position ${n}`);const c=t[n];if(c==="{")return l();if(c==="[")return o();if(c==='"')return s();if("null".startsWith(t.substring(n,n+4)))return n+=Math.min(4,t.length-n),null;if("true".startsWith(t.substring(n,n+4)))return n+=Math.min(4,t.length-n),!0;if("false".startsWith(t.substring(n,n+5)))return n+=Math.min(5,t.length-n),!1;if(c==="-"||c>="0"&&c<="9")return a();throw new Error(`Unexpected character '${c}' at position ${n}`)}function o(){if(t[n]!=="[")throw new Error(`Expected '[' at position ${n}, got '${t[n]}'`);const c=[];if(n+=1,r(),n>=t.length)return c;if(t[n]==="]")return n+=1,c;for(;n<t.length;){if(r(),n>=t.length||(c.push(i()),r(),n>=t.length))return c;if(t[n]==="]")return n+=1,c;if(t[n]===","){n+=1;continue}throw new Error(`Expected ',' or ']' at position ${n}, got '${t[n]}'`)}return c}function l(){if(t[n]!=="{")throw new Error(`Expected '{' at position ${n}, got '${t[n]}'`);const c={};if(n+=1,r(),n>=t.length)return c;if(t[n]==="}")return n+=1,c;for(;n<t.length;){if(r(),n>=t.length)return c;const d=s();if(r(),n>=t.length)return c;if(t[n]!==":")throw new Error(`Expected ':' at position ${n}, got '${t[n]}'`);if(n+=1,r(),n>=t.length||(c[d]=i(),r(),n>=t.length))return c;if(t[n]==="}")return n+=1,c;if(t[n]===","){n+=1;continue}throw new Error(`Expected ',' or '}' at position ${n}, got '${t[n]}'`)}return c}const u=i();if(r(),n<t.length)throw new Error(`Unexpected character '${t[n]}' at position ${n}`);return u}function d1(e){try{return typeof e>"u"?null:O_e(e)}catch{return null}}function R4(e){switch(e){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function $_e(e){if(Qt(e.document)&&Qt(e.document.source)){const t=Qt(e.document)&&ft(e.document.format)?e.document.format:"",n=R4(t);if(Qt(e.document.source)){if(Qt(e.document.source.s3Location)&&ft(e.document.source.s3Location.uri))return{type:"file",mimeType:n,fileId:e.document.source.s3Location.uri};if(T4(e.document.source.bytes))return{type:"file",mimeType:n,data:e.document.source.bytes};if(ft(e.document.source.text))return{type:"file",mimeType:n,data:Buffer.from(e.document.source.text).toString("base64")};if(mi(e.document.source.content)){const r=e.document.source.content.reduce((s,a)=>Qt(a)&&ft(a.text)?s+a.text:s,"");return{type:"file",mimeType:n,data:r}}}}return{type:"non_standard",value:e}}function A_e(e){if(zt(e,"image")&&Qt(e.image)){const t=Qt(e.image)&&ft(e.image.format)?e.image.format:"",n=R4(t);if(Qt(e.image.source)){if(Qt(e.image.source.s3Location)&&ft(e.image.source.s3Location.uri))return{type:"image",mimeType:n,fileId:e.image.source.s3Location.uri};if(T4(e.image.source.bytes))return{type:"image",mimeType:n,data:e.image.source.bytes}}}return{type:"non_standard",value:e}}function R_e(e){if(zt(e,"video")&&Qt(e.video)){const t=Qt(e.video)&&ft(e.video.format)?e.video.format:"",n=R4(t);if(Qt(e.video.source)){if(Qt(e.video.source.s3Location)&&ft(e.video.source.s3Location.uri))return{type:"video",mimeType:n,fileId:e.video.source.s3Location.uri};if(T4(e.video.source.bytes))return{type:"video",mimeType:n,data:e.video.source.bytes}}}return{type:"non_standard",value:e}}function p5(e){function*t(){const n=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const r of n){if(zt(r,"cache_point")){yield{type:"non_standard",value:r};continue}else if(zt(r,"citations_content")&&Qt(r.citationsContent)){const s=mi(r.citationsContent.content)?r.citationsContent.content.reduce((i,o)=>Qt(o)&&ft(o.text)?i+o.text:i,""):"",a=mi(r.citationsContent.citations)?r.citationsContent.citations.reduce((i,o)=>{if(Qt(o)){const l=mi(o.sourceContent)?o.sourceContent.reduce((c,d)=>Qt(d)&&ft(d.text)?c+d.text:c,""):"",u=Ip(()=>{if(Qt(o.location)){const c=o.location.documentChar||o.location.documentPage||o.location.documentChunk;if(Qt(c))return{source:si(c.documentIndex)?c.documentIndex.toString():void 0,startIndex:si(c.start)?c.start:void 0,endIndex:si(c.end)?c.end:void 0}}return{}});i.push({type:"citation",citedText:l,...u})}return i},[]):[];yield{type:"text",text:s,annotations:a};continue}else if(zt(r,"document")&&Qt(r.document)){yield $_e(r);continue}else if(zt(r,"guard_content")){yield{type:"non_standard",value:r};continue}else if(zt(r,"image")&&Qt(r.image)){yield A_e(r);continue}else if(zt(r,"reasoning_content")&&ft(r.reasoningText)){yield{type:"reasoning",reasoning:r.reasoningText};continue}else if(zt(r,"text")&&ft(r.text)){yield{type:"text",text:r.text};continue}else if(zt(r,"tool_result")){yield{type:"non_standard",value:r};continue}else{if(zt(r,"tool_call"))continue;if(zt(r,"video")&&Qt(r.video)){yield R_e(r);continue}}yield{type:"non_standard",value:r}}}return Array.from(t())}const M_e={translateContent:p5,translateContentChunk:p5};function m5(e){var r;const t=[],n=(r=e.additional_kwargs)==null?void 0:r.reasoning_content;if(ft(n)&&n.length>0&&t.push({type:"reasoning",reasoning:n}),typeof e.content=="string")e.content.length>0&&t.push({type:"text",text:e.content});else for(const s of e.content)typeof s=="object"&&"type"in s&&s.type==="text"&&"text"in s&&ft(s.text)&&t.push({type:"text",text:s.text});for(const s of e.tool_calls??[])t.push({type:"tool_call",id:s.id,name:s.name,args:s.args});return t}const P_e={translateContent:m5,translateContentChunk:m5};function g5(e){function*t(){const n=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const r of n){if(zt(r,"text")&&ft(r.text)){yield{type:"text",text:r.text};continue}else if(zt(r,"thinking")&&ft(r.thinking)){yield{type:"reasoning",reasoning:r.thinking,...r.signature?{signature:r.signature}:{}};continue}else if(zt(r,"inlineData")&&Qt(r.inlineData)&&ft(r.inlineData.mimeType)&&ft(r.inlineData.data)){yield{type:"file",mimeType:r.inlineData.mimeType,data:r.inlineData.data};continue}else if(zt(r,"functionCall")&&Qt(r.functionCall)&&ft(r.functionCall.name)&&Qt(r.functionCall.args)){yield{type:"tool_call",id:e.id,name:r.functionCall.name,args:r.functionCall.args};continue}else if(zt(r,"functionResponse")){yield{type:"non_standard",value:r};continue}else if(zt(r,"fileData")&&Qt(r.fileData)&&ft(r.fileData.mimeType)&&ft(r.fileData.fileUri)){yield{type:"file",mimeType:r.fileData.mimeType,fileId:r.fileData.fileUri};continue}else if(zt(r,"executableCode")){yield{type:"non_standard",value:r};continue}else if(zt(r,"codeExecutionResult")){yield{type:"non_standard",value:r};continue}yield{type:"non_standard",value:r}}}return Array.from(t())}const L_e={translateContent:g5,translateContentChunk:g5};function v5(e){function*t(){const n=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(const r of n){if(zt(r,"reasoning")&&ft(r.reasoning)){const s=Ip(()=>{var i;const a=n.indexOf(r);if(mi((i=e.additional_kwargs)==null?void 0:i.signatures)&&a>=0)return e.additional_kwargs.signatures.at(a)});ft(s)?yield{type:"reasoning",reasoning:r.reasoning,signature:s}:yield{type:"reasoning",reasoning:r.reasoning};continue}else if(zt(r,"thinking")&&ft(r.thinking)){yield{type:"reasoning",reasoning:r.thinking,...r.signature?{signature:r.signature}:{}};continue}else if(zt(r,"text")&&ft(r.text)){yield{type:"text",text:r.text};continue}else if(zt(r,"image_url")){if(ft(r.image_url))if(r.image_url.startsWith("data:")){const s=/^data:([^;]+);base64,(.+)$/,a=r.image_url.match(s);a?yield{type:"image",data:a[2],mimeType:a[1]}:yield{type:"image",url:r.image_url}}else yield{type:"image",url:r.image_url};continue}else if(zt(r,"media")&&ft(r.mimeType)&&ft(r.data)){yield{type:"file",mimeType:r.mimeType,data:r.data};continue}yield{type:"non_standard",value:r}}}return Array.from(t())}const D_e={translateContent:v5,translateContentChunk:v5};function y5(e){var r;const t=[],n=(r=e.additional_kwargs)==null?void 0:r.reasoning;if(ft(n)&&n.length>0&&t.push({type:"reasoning",reasoning:n}),typeof e.content=="string"){let s=e.content;const a=s.match(/<think>([\s\S]*?)<\/think>/);if(a){const i=a[1].trim();i.length>0&&t.push({type:"reasoning",reasoning:i}),s=s.replace(/<think>[\s\S]*?<\/think>/,"").trim()}s.length>0&&t.push({type:"text",text:s})}else for(const s of e.content)if(typeof s=="object"&&"type"in s&&s.type==="text"&&"text"in s&&ft(s.text)){let a=s.text;const i=a.match(/<think>([\s\S]*?)<\/think>/);if(i){const o=i[1].trim();o.length>0&&t.push({type:"reasoning",reasoning:o}),a=a.replace(/<think>[\s\S]*?<\/think>/,"").trim()}a.length>0&&t.push({type:"text",text:a})}for(const s of e.tool_calls??[])t.push({type:"tool_call",id:s.id,name:s.name,args:s.args});return t}const z_e={translateContent:y5,translateContentChunk:y5};function b5(e){var r;const t=[],n=(r=e.additional_kwargs)==null?void 0:r.reasoning_content;if(ft(n)&&n.length>0&&t.push({type:"reasoning",reasoning:n}),typeof e.content=="string")e.content.length>0&&t.push({type:"text",text:e.content});else for(const s of e.content)typeof s=="object"&&"type"in s&&s.type==="text"&&"text"in s&&ft(s.text)&&t.push({type:"text",text:s.text});for(const s of e.tool_calls??[])t.push({type:"tool_call",id:s.id,name:s.name,args:s.args});return t}const F_e={translateContent:b5,translateContentChunk:b5};function w5(e){var r,s;const t=[];if(Qt((r=e.additional_kwargs)==null?void 0:r.reasoning)){const a=e.additional_kwargs.reasoning;if(mi(a.summary)){const i=a.summary.reduce((o,l)=>Qt(l)&&ft(l.text)?`${o}${l.text}`:o,"");i.length>0&&t.push({type:"reasoning",reasoning:i})}}const n=(s=e.additional_kwargs)==null?void 0:s.reasoning_content;if(ft(n)&&n.length>0&&t.push({type:"reasoning",reasoning:n}),typeof e.content=="string")e.content.length>0&&t.push({type:"text",text:e.content});else for(const a of e.content)typeof a=="object"&&"type"in a&&a.type==="text"&&"text"in a&&ft(a.text)&&t.push({type:"text",text:a.text});for(const a of e.tool_calls??[])t.push({type:"tool_call",id:a.id,name:a.name,args:a.args});return t}const B_e={translateContent:w5,translateContentChunk:w5};globalThis.lc_block_translators_registry??(globalThis.lc_block_translators_registry=new Map([["anthropic",n_e],["bedrock-converse",M_e],["deepseek",P_e],["google-genai",L_e],["google-vertexai",D_e],["groq",z_e],["ollama",F_e],["openai",f_e],["xai",B_e]]));function oL(e){return globalThis.lc_block_translators_registry.get(e)}var xs=class extends yl{constructor(t){var r;let n;if(typeof t=="string"||Array.isArray(t))n={content:t,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{n=t;const s=(r=n.additional_kwargs)==null?void 0:r.tool_calls,a=n.tool_calls;s!=null&&s.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(s!=null&&a===void 0){const[i,o]=$4(s);n.tool_calls=i??[],n.invalid_tool_calls=o??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}if(n.response_metadata!==void 0&&"output_version"in n.response_metadata&&n.response_metadata.output_version==="v1"&&(n.contentBlocks=n.content,n.content=void 0),n.contentBlocks!==void 0){n.tool_calls&&n.contentBlocks.push(...n.tool_calls.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})));const i=n.contentBlocks.filter(o=>o.type==="tool_call").filter(o=>{var l;return!((l=n.tool_calls)!=null&&l.some(u=>u.id===o.id&&u.name===o.name))});i.length>0&&(n.tool_calls=i.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})))}}super(n);se(this,"type","ai");se(this,"tool_calls",[]);se(this,"invalid_tool_calls",[]);se(this,"usage_metadata");typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=oL(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const t=super.contentBlocks;if(this.tool_calls){const n=this.tool_calls.filter(r=>!t.some(s=>s.id===r.id&&s.name===r.name));t.push(...n.map(r=>({type:"tool_call",id:r.id,name:r.name,args:r.args})))}return t}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(t){return super.isInstance(t)&&t.type==="ai"}};function f1(e){return e._getType()==="ai"}function $_(e){return e._getType()==="ai"}var Eo=class extends pu{constructor(t){let n;if(typeof t=="string"||Array.isArray(t))n={content:t,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(t.tool_call_chunks===void 0||t.tool_call_chunks.length===0)n={...t,tool_calls:t.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:t.usage_metadata!==void 0?t.usage_metadata:void 0};else{const r=uL(t.tool_call_chunks??[]);n={...t,tool_call_chunks:r.tool_call_chunks,tool_calls:r.tool_calls,invalid_tool_calls:r.invalid_tool_calls,usage_metadata:t.usage_metadata!==void 0?t.usage_metadata:void 0}}super(n);se(this,"type","ai");se(this,"tool_calls",[]);se(this,"invalid_tool_calls",[]);se(this,"tool_call_chunks",[]);se(this,"usage_metadata");this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=oL(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const t=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){const n=this.content.filter(r=>r.type==="tool_call").map(r=>r.id);for(const r of this.tool_calls)r.id&&!n.includes(r.id)&&t.push({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})}return t}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(t){const n={content:rl(this.content,t.content),additional_kwargs:Cs(this.additional_kwargs,t.additional_kwargs),response_metadata:tL(this.response_metadata,t.response_metadata),tool_call_chunks:[],id:this.id??t.id};if(this.tool_call_chunks!==void 0||t.tool_call_chunks!==void 0){const s=Tm(this.tool_call_chunks,t.tool_call_chunks);s!==void 0&&s.length>0&&(n.tool_call_chunks=s)}(this.usage_metadata!==void 0||t.usage_metadata!==void 0)&&(n.usage_metadata=I4(this.usage_metadata,t.usage_metadata));const r=this.constructor;return new r(n)}static isInstance(t){return super.isInstance(t)&&t.type==="ai"}};const lL=e=>e();function j_e(e){return Ph(e)?e:typeof e.id=="string"&&e.type==="function"&&typeof e.function=="object"&&e.function!==null&&"arguments"in e.function&&typeof e.function.arguments=="string"&&"name"in e.function&&typeof e.function.name=="string"?{id:e.id,args:JSON.parse(e.function.arguments),name:e.function.name,type:"tool_call"}:e}function V_e(e){return typeof e=="object"&&e!=null&&e.lc===1&&Array.isArray(e.id)&&e.kwargs!=null&&typeof e.kwargs=="object"}function t2(e){let t,n;if(V_e(e)){const r=e.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?t="user":r==="AIMessage"||r==="AIMessageChunk"?t="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?t="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?t="function":r==="ToolMessage"||r==="ToolMessageChunk"?t="tool":t="unknown",n=e.kwargs}else{const{type:r,...s}=e;t=r,n=s}if(t==="human"||t==="user")return new xi(n);if(t==="ai"||t==="assistant"){const{tool_calls:r,...s}=n;if(!Array.isArray(r))return new xs(n);const a=r.map(j_e);return new xs({...s,tool_calls:a})}else{if(t==="system")return new sl(n);if(t==="developer")return new sl({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(t==="tool"&&"tool_call_id"in n)return new bo({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});if(t==="remove"&&"id"in n&&typeof n.id=="string")return new O0({...n,id:n.id});throw A4(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(e,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Lh(e){if(typeof e=="string")return new xi(e);if(Ul(e))return e;if(Array.isArray(e)){const[t,n]=e;return t2({type:t,content:n})}else if(eL(e)){const{role:t,...n}=e;return t2({...n,type:t})}else return t2(e)}function M4(e,t="Human",n="AI"){const r=[];for(const s of e){let a;if(s.type==="human")a=t;else if(s.type==="ai")a=n;else if(s.type==="system")a="System";else if(s.type==="tool")a="Tool";else if(s.type==="generic")a=s.role;else throw new Error(`Got unsupported message type: ${s.type}`);const i=s.name?`${s.name}, `:"",o=s.text;let l=`${a}: ${i}${o}`;if(s.type==="ai"){const u=s;u.tool_calls&&u.tool_calls.length>0?l+=JSON.stringify(u.tool_calls):u.additional_kwargs&&"function_call"in u.additional_kwargs&&(l+=JSON.stringify(u.additional_kwargs.function_call))}r.push(l)}return r.join(`
`)}function H_e(e){if(e.data!==void 0)return e;{const t=e;return{type:t.type,data:{content:t.text,role:t.role,name:void 0,tool_call_id:void 0}}}}function P4(e){const t=H_e(e);switch(t.type){case"human":return new xi(t.data);case"ai":return new xs(t.data);case"system":return new sl(t.data);case"function":if(t.data.name===void 0)throw new Error("Name must be defined for function messages");return new c1(t.data);case"tool":if(t.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new bo(t.data);case"generic":if(t.data.role===void 0)throw new Error("Role must be defined for chat messages");return new Ac(t.data);default:throw new Error(`Got unexpected type: ${t.type}`)}}function U_e(e){return e.map(P4)}function W_e(e){return e.map(t=>t.toDict())}function A0(e){var n;const t=e._getType();if(t==="human")return new Om({...e});if(t==="ai"){let r={...e};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(s=>({...s,type:"tool_call_chunk",index:void 0,args:JSON.stringify(s.args)}))}),new Eo({...r})}else{if(t==="system")return new iu({...e});if(t==="function")return new Im({...e});if(Ac.isInstance(e))return new Nm({...e});throw new Error("Unknown message type.")}}function uL(e){var s,a;const t=e.reduce((i,o)=>{const l=i.findIndex(([u])=>"id"in o&&o.id&&"index"in o&&o.index!==void 0?o.id===u.id&&o.index===u.index:"id"in o&&o.id?o.id===u.id:"index"in o&&o.index!==void 0?o.index===u.index:!1);return l!==-1?i[l].push(o):i.push([o]),i},[]),n=[],r=[];for(const i of t){let o=null;const l=((s=i[0])==null?void 0:s.name)??"",u=i.map(h=>h.args||"").join("").trim(),c=u.length?u:"{}",d=(a=i[0])==null?void 0:a.id;try{if(o=d1(c),!d||o===null||typeof o!="object"||Array.isArray(o))throw new Error("Malformed tool call chunk args.");n.push({name:l,args:o,id:d,type:"tool_call"})}catch{r.push({name:l,args:c,id:d,error:"Malformed args.",type:"invalid_tool_call"})}}return{tool_call_chunks:e,tool_calls:n,invalid_tool_calls:r}}const cL=Symbol.for("ls:tracing_async_local_storage"),Dh=Symbol.for("lc:context_variables"),K_e=e=>{globalThis[cL]=e},Op=()=>globalThis[cL];var n2={},G_e={};xn(G_e,{getEnv:()=>L4,getEnvironmentVariable:()=>oo,getRuntimeEnvironment:()=>mL,isBrowser:()=>dL,isDeno:()=>h1,isJsDom:()=>hL,isNode:()=>pL,isWebWorker:()=>fL});const dL=()=>typeof window<"u"&&typeof window.document<"u",fL=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",hL=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),h1=()=>typeof Deno<"u",pL=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!h1(),L4=()=>{let e;return dL()?e="browser":pL()?e="node":fL()?e="webworker":hL()?e="jsdom":h1()?e="deno":e="other",e};let r2;function mL(){return r2===void 0&&(r2={library:"langchain-js",runtime:L4()}),r2}function oo(e){try{return typeof process<"u"?n2==null?void 0:n2[e]:h1()?Deno==null?void 0:Deno.env.get(e):void 0}catch{return}}const Z_e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function zh(e){return typeof e=="string"&&Z_e.test(e)}function Y_e(e){if(!zh(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var Jr=[];for(var s2=0;s2<256;++s2)Jr.push((s2+256).toString(16).slice(1));function D4(e,t=0){return(Jr[e[t+0]]+Jr[e[t+1]]+Jr[e[t+2]]+Jr[e[t+3]]+"-"+Jr[e[t+4]]+Jr[e[t+5]]+"-"+Jr[e[t+6]]+Jr[e[t+7]]+"-"+Jr[e[t+8]]+Jr[e[t+9]]+"-"+Jr[e[t+10]]+Jr[e[t+11]]+Jr[e[t+12]]+Jr[e[t+13]]+Jr[e[t+14]]+Jr[e[t+15]]).toLowerCase()}var Og,q_e=new Uint8Array(16);function gL(){if(!Og&&(Og=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Og))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Og(q_e)}function X_e(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var J_e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Q_e="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function e3e(e,t,n){function r(s,a,i,o){var l;if(typeof s=="string"&&(s=X_e(s)),typeof a=="string"&&(a=Y_e(a)),((l=a)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+s.length);if(u.set(a),u.set(s,a.length),u=n(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,i){o=o||0;for(var c=0;c<16;++c)i[o+c]=u[c];return i}return D4(u)}try{r.name=e}catch{}return r.DNS=J_e,r.URL=Q_e,r}var t3e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const _5={randomUUID:t3e};function Du(e,t,n){if(_5.randomUUID&&!e)return _5.randomUUID();e=e||{};var r=e.random||(e.rng||gL)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,D4(r)}function n3e(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function a2(e,t){return e<<t|e>>>32-t}function r3e(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var s=0;s<r.length;++s)e.push(r.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,i=Math.ceil(a/16),o=new Array(i),l=0;l<i;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[l*64+c*4]<<24|e[l*64+c*4+1]<<16|e[l*64+c*4+2]<<8|e[l*64+c*4+3];o[l]=u}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(var d=0;d<i;++d){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=o[d][p];for(var m=16;m<80;++m)h[m]=a2(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var g=n[0],v=n[1],y=n[2],b=n[3],w=n[4],_=0;_<80;++_){var S=Math.floor(_/20),C=a2(g,5)+n3e(S,v,y,b)+w+t[S]+h[_]>>>0;w=b,b=y,y=a2(v,30)>>>0,v=g,g=C}n[0]=n[0]+g>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+w>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var s3e=e3e("v5",80,r3e),S5=null,C5=null,Za=0;function Ml(e,t,n){e=e||{};var r=0,s=new Uint8Array(16),a=e.random||(e.rng||gL)(),i=e.msecs!==void 0?e.msecs:Date.now(),o=e.seq!==void 0?e.seq:null,l=C5,u=S5;return i>Za&&e.msecs===void 0&&(Za=i,o!==null&&(l=null,u=null)),o!==null&&(o>2147483647&&(o=2147483647),l=o>>>19&4095,u=o&524287),(l===null||u===null)&&(l=a[6]&127,l=l<<8|a[7],u=a[8]&63,u=u<<8|a[9],u=u<<5|a[10]>>>3),i+1e4>Za&&o===null?++u>524287&&(u=0,++l>4095&&(l=0,Za++)):Za=i,C5=l,S5=u,s[r++]=Za/1099511627776&255,s[r++]=Za/4294967296&255,s[r++]=Za/16777216&255,s[r++]=Za/65536&255,s[r++]=Za/256&255,s[r++]=Za&255,s[r++]=l>>>4&15|112,s[r++]=l&255,s[r++]=u>>>13&63|128,s[r++]=u>>>5&255,s[r++]=u<<3&255|a[10]&7,s[r++]=a[11],s[r++]=a[12],s[r++]=a[13],s[r++]=a[14],s[r++]=a[15],t||D4(s)}var a3e={};xn(a3e,{BaseCallbackHandler:()=>$m,callbackHandlerPrefersStreaming:()=>z4,isBaseCallbackHandler:()=>vL});var i3e=class{};function z4(e){return"lc_prefer_streaming"in e&&e.lc_prefer_streaming}var $m=class extends i3e{constructor(t){super();se(this,"lc_serializable",!1);se(this,"lc_kwargs");se(this,"ignoreLLM",!1);se(this,"ignoreChain",!1);se(this,"ignoreAgent",!1);se(this,"ignoreRetriever",!1);se(this,"ignoreCustomEvent",!1);se(this,"raiseError",!1);se(this,"awaitHandlers",oo("LANGCHAIN_CALLBACKS_BACKGROUND")==="false");this.lc_kwargs=t||{},t&&(this.ignoreLLM=t.ignoreLLM??this.ignoreLLM,this.ignoreChain=t.ignoreChain??this.ignoreChain,this.ignoreAgent=t.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=t.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=t.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=t.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(t._awaitHandler??this.awaitHandlers))}get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,E4(this.constructor)]}copy(){return new this.constructor(this)}toJSON(){return tf.prototype.toJSON.call(this)}toJSONNotImplemented(){return tf.prototype.toJSONNotImplemented.call(this)}static fromMethods(t){class n extends $m{constructor(){super();se(this,"name",Ml());Object.assign(this,t)}}return new n}};const vL=e=>{const t=e;return t!==void 0&&typeof t.copy=="function"&&typeof t.name=="string"&&typeof t.awaitHandlers=="boolean"},o3e="gen_ai.operation.name",l3e="gen_ai.system",x5="gen_ai.request.model",u3e="gen_ai.response.model",E5="gen_ai.usage.input_tokens",T5="gen_ai.usage.output_tokens",k5="gen_ai.usage.total_tokens",c3e="gen_ai.request.max_tokens",d3e="gen_ai.request.temperature",f3e="gen_ai.request.top_p",h3e="gen_ai.request.frequency_penalty",p3e="gen_ai.request.presence_penalty",m3e="gen_ai.response.finish_reasons",g3e="gen_ai.prompt",v3e="gen_ai.completion",y3e="gen_ai.request.extra_query",b3e="gen_ai.request.extra_body",w3e="gen_ai.serialized.name",_3e="gen_ai.serialized.signature",S3e="gen_ai.serialized.doc",C3e="gen_ai.response.id",x3e="gen_ai.response.service_tier",E3e="gen_ai.response.system_fingerprint",T3e="gen_ai.usage.input_token_details",k3e="gen_ai.usage.output_token_details",N3e="langsmith.trace.session_id",I3e="langsmith.trace.session_name",O3e="langsmith.span.kind",$3e="langsmith.trace.name",A3e="langsmith.metadata",N5="langsmith.span.tags",R3e="langsmith.request.streaming",M3e="langsmith.request.headers",P3e=(...e)=>fetch(...e),yL=Symbol.for("ls:fetch_implementation"),L3e=()=>{const e=globalThis[yL];return e?typeof e=="function"&&"Headers"in e&&"Request"in e&&"Response"in e:!1},D3e=e=>async(...t)=>{if(e||Ps("DEBUG")==="true"){const[r,s]=t;console.log(` ${(s==null?void 0:s.method)||"GET"} ${r}`)}const n=await(globalThis[yL]??P3e)(...t);return(e||Ps("DEBUG")==="true")&&console.log(` ${n.status} ${n.statusText} ${n.url}`),n},bL=()=>Ps("PROJECT")??wo("LANGCHAIN_SESSION")??"default",I5={};function wL(e){I5[e]||(console.warn(e),I5[e]=!0)}const et=e=>BigInt(e),_L=et("0x9E3779B1"),SL=et("0x85EBCA77"),z3e=et("0xC2B2AE3D"),ou=et("0x9E3779B185EBCA87"),yc=et("0xC2B2AE3D27D4EB4F"),CL=et("0x165667B19E3779F9"),F4=et("0x85EBCA77C2B2AE63"),F3e=et("0x27D4EB2F165667C5"),B3e=et("0x165667919E3779F9"),j3e=et("0x9FB21C651E98DF25");function V3e(e){const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.substring(n,n+2),16);return t}const Zi=V3e("b8fe6c3923a44bbe7c01812cf721ad1cded46de9839097db7240a4a4b7b3671fcb79e64eccc0e578825ad07dccff7221b8084674f743248ee03590e6813a264c3c2852bb91c300cb88d0658b1b532ea371644897a20df94e3819ef46a9deacd8a8fa763fe39c343ff9dcbbc7c70b4f1d8a51e04bcdb45931c89f7ec9d9787364eac5ac8334d3ebc3c581a0fffa1363eb170ddd51b7f0da49d316552629d4689e2b16be587d47a1fc8ff8b8d17ad031ce45cb3a8f95160428afd7fbcabb4b407e"),Rd=(et(1)<<et(128))-et(1),fn=(et(1)<<et(64))-et(1),R0=(et(1)<<et(32))-et(1),Lo=64,xL=Lo/8,H3e=8,$g=4;function er(e,t=0){return new Uint8Array(e.buffer,e.byteOffset+t,e.length-t)}function sr(e,t=0){return new DataView(e.buffer,e.byteOffset+t).getBigUint64(0,!0)}function hd(e,t=0){return new DataView(e.buffer,e.byteOffset+t).getUint32(0,!0)}function i2(e,t=0){return e[t]}const U3e=e=>(e&et(255))<<et(56)|(e&et(65280))<<et(40)|(e&et(16711680))<<et(24)|(e&et(4278190080))<<et(8)|(e&et(0xff00000000))>>et(8)|(e&et(0xff0000000000))>>et(24)|(e&et(0xff000000000000))>>et(40)|(e&et(0xff00000000000000))>>et(56),W3e=e=>(e=(e&et(65535))<<et(16)|(e&et(4294901760))>>et(16),e=(e&et(16711935))<<et(8)|(e&et(4278255360))>>et(8),e),K3e=(e,t)=>(e&R0)*(t&R0)&fn,nf=e=>{if(!e)throw new Error("Assert failed")};function G3e(e,t){return(e<<t|e>>et(32)-t)&R0}function EL(e,t,n){for(let r=0;r<xL;r++){const s=sr(t,r*8),a=s^sr(n,r*8);e[r^1]+=s,e[r]+=K3e(a,a>>et(32))}return e}function O5(e,t,n,r){for(let s=0;s<r;s++)EL(e,er(t,s*Lo),er(n,s*8));return e}function Z3e(e,t){for(let n=0;n<xL;n++){const r=sr(t,n*8);let s=e[n];s=A_(s,et(47)),s^=r,s*=_L,e[n]=s&fn}return e}function Ag(e,t){return TL(e[0]^sr(t,0),e[1]^sr(t,H3e))}function $5(e,t,n){let r=n;return r+=Ag(e.slice(0),er(t,0*$g)),r+=Ag(e.slice(2),er(t,4*$g)),r+=Ag(e.slice(4),er(t,8*$g)),r+=Ag(e.slice(6),er(t,12*$g)),Qi(r&fn)}function Y3e(e,t,n,r,s){const a=Math.floor((n.byteLength-Lo)/8),i=Lo*a,o=Math.floor((t.byteLength-1)/i);for(let l=0;l<o;l++)e=O5(e,er(t,l*i),n,a),e=s(e,er(n,n.byteLength-Lo));{const l=Math.floor((t.byteLength-1-i*o)/Lo);e=O5(e,er(t,o*i),n,l),e=r(e,er(t,t.byteLength-Lo),er(n,n.byteLength-Lo-7))}return e}function q3e(e,t,n){let r=new BigUint64Array([z3e,ou,yc,CL,F4,SL,F3e,_L]);nf(e.length>128),r=Y3e(r,e,t,EL,Z3e),nf(r.length*8==64);{const s=$5(r,er(t,11),et(e.byteLength)*ou&fn);return $5(r,er(t,t.byteLength-Lo-11),~(et(e.byteLength)*yc)&fn)<<et(64)|s}}function TL(e,t){const n=e*t&Rd;return n&fn^n>>et(64)}function A5(e,t,n){return TL((sr(e,0)^sr(t,0)+n)&fn,(sr(e,8)^sr(t,8)-n)&fn)}function Nv(e,t,n,r,s){let a=e&fn,i=e>>et(64)&fn;return a+=A5(t,r,s),a^=sr(n,0)+sr(n,8),a&=fn,i+=A5(n,er(r,16),s),i^=sr(t,0)+sr(t,8),i&=fn,i<<et(64)|a}function Qi(e){return e^=e>>et(37),e*=B3e,e&=fn,e^=e>>et(32),e}function M0(e){return e^=e>>et(33),e*=yc,e&=fn,e^=e>>et(29),e*=CL,e&=fn,e^=e>>et(32),e}function X3e(e,t,n){const r=e.byteLength;nf(r>0&&r<=3);const s=et(i2(e,r-1))|et(r<<8)|et(i2(e,0)<<16)|et(i2(e,r>>1)<<24),a=(et(hd(t,0))^et(hd(t,4)))+n,i=(s^a)&fn,o=(et(hd(t,8))^et(hd(t,12)))-n,l=(G3e(W3e(s),et(13))^o)&fn;return(M0(l)&fn)<<et(64)|M0(i)}function A_(e,t){return e^e>>t}function J3e(e,t,n){const r=e.byteLength;nf(r>=4&&r<=8);{const s=hd(e,0),a=hd(e,r-4),i=et(s)|et(a)<<et(32),o=(sr(t,16)^sr(t,24))+n&fn;let u=(i^o)*(ou+(et(r)<<et(2)))&Rd;return u+=(u&fn)<<et(65),u&=Rd,u^=u>>et(67),A_(A_(u&fn,et(35))*j3e&fn,et(28))|Qi(u>>et(64))<<et(64)}}function Q3e(e,t,n){const r=e.byteLength;nf(r>=9&&r<=16);{const s=(sr(t,32)^sr(t,40))+n&fn,a=(sr(t,48)^sr(t,56))-n&fn,i=sr(e);let o=sr(e,r-8),l=(i^o^s)*ou;const u=(l&fn)+(et(r-1)<<et(54));l=l&(Rd^fn)|u,o^=a,l+=o+(o&R0)*(SL-et(1))<<et(64),l&=Rd,l^=U3e(l>>et(64));let c=(l&fn)*yc;return c+=(l>>et(64))*yc<<et(64),c&=Rd,Qi(c&fn)|Qi(c>>et(64))<<et(64)}}function e6e(e,t){const n=e.byteLength;return nf(n<=16),n>8?Q3e(e,Zi,t):n>=4?J3e(e,Zi,t):n>0?X3e(e,Zi,t):M0(t^sr(Zi,64)^sr(Zi,72))|M0(t^sr(Zi,80)^sr(Zi,88))<<et(64)}function R_(e){return~e+et(1)&fn}function t6e(e,t,n){let r=et(e.byteLength)*ou&fn,s=et(e.byteLength-1)/et(32);for(;s>=0;){const o=Number(s);r=Nv(r,er(e,16*o),er(e,e.byteLength-16*(o+1)),er(t,32*o),n),s--}let a=r+(r>>et(64))&fn;a=Qi(a);let i=(r&fn)*ou+(r>>et(64))*F4+(et(e.byteLength)-n&fn)*yc;return i&=fn,i=R_(Qi(i)),a|i<<et(64)}function n6e(e,t,n){let r=et(e.byteLength)*ou&fn;for(let i=32;i<160;i+=32)r=Nv(r,er(e,i-32),er(e,i-16),er(t,i-32),n);r=Qi(r&fn)|Qi(r>>et(64))<<et(64);for(let i=160;i<=e.byteLength;i+=32)r=Nv(r,er(e,i-32),er(e,i-16),er(t,3+i-160),n);r=Nv(r,er(e,e.byteLength-16),er(e,e.byteLength-32),er(t,103),R_(n));let s=r+(r>>et(64))&fn;s=Qi(s);let a=(r&fn)*ou+(r>>et(64))*F4+(et(e.byteLength)-n&fn)*yc;return a&=fn,a=R_(Qi(a)),s|a<<et(64)}function r6e(e,t=et(0)){const n=e.byteLength;return n<=16?e6e(e,t):n<=128?t6e(e,Zi,t):n<=240?n6e(e,Zi,t):q3e(e,Zi)}function s6e(e){const t=new Uint8Array(16),n=new DataView(t.buffer),r=e&fn,s=e>>et(64);return n.setBigUint64(0,s,!1),n.setBigUint64(8,r,!1),t}const kL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function an(e,t){if(!kL.test(e)){const n=t!==void 0?`Invalid UUID for ${t}: ${e}`:`Invalid UUID: ${e}`;throw new Error(n)}return e}function a6e(e){const t=typeof e=="string"?Date.parse(e):e;return Ml({msecs:t,seq:0})}function i6e(e){if(!kL.test(e))return null;const t=e[14];return parseInt(t,16)}function o6e(e){const t=e.replace(/-/g,""),n=new Uint8Array(16);for(let r=0;r<16;r++)n[r]=parseInt(t.slice(r*2,r*2+2),16);return n}function l6e(e){const t=Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("");return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20)}`}const u6e=new TextEncoder;function c6e(e){const t=u6e.encode(e),n=r6e(t);return s6e(n)}function Rg(e,t){const n=`${e}:${t}`,r=c6e(n),s=new Uint8Array(16);if(i6e(e)===7){const i=o6e(e);s.set(i.slice(0,6),0)}else{const i=Date.now();s[0]=i/1099511627776&255,s[1]=i/4294967296&255,s[2]=i/16777216&255,s[3]=i/65536&255,s[4]=i/256&255,s[5]=i&255}return s[6]=112|r[0]&15,s[7]=r[1],s[8]=128|r[2]&63,s.set(r.slice(3,10),9),l6e(s)}function d6e(e,t){throw new Error("dump() is not supported in browser environments.")}function f6e(e){throw new Error("load() is not supported in browser environments.")}function h6e(e,t){return t===null?!1:Date.now()-e.createdAt>t*1e3}class p6e{constructor(t={}){Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ttlSeconds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"refreshIntervalSeconds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"refreshTimer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_metrics",{enumerable:!0,configurable:!0,writable:!0,value:{hits:0,misses:0,refreshes:0,refreshErrors:0}}),this.configure(t)}get metrics(){return{...this._metrics}}get totalRequests(){return this._metrics.hits+this._metrics.misses}get hitRate(){const t=this.totalRequests;return t>0?this._metrics.hits/t:0}resetMetrics(){this._metrics={hits:0,misses:0,refreshes:0,refreshErrors:0}}get(t,n){if(this.maxSize===0)return;const r=this.cache.get(t);if(!r){this._metrics.misses+=1;return}return this.cache.delete(t),this.cache.set(t,{...r,refreshFunc:n}),this._metrics.hits+=1,r.value}set(t,n,r){if(this.maxSize===0)return;if(this.refreshTimer===void 0&&this.startRefreshLoop(),!this.cache.has(t)&&this.cache.size>=this.maxSize){const a=this.cache.keys().next().value;a!==void 0&&this.cache.delete(a)}const s={value:n,createdAt:Date.now(),refreshFunc:r};this.cache.delete(t),this.cache.set(t,s)}invalidate(t){this.cache.delete(t)}clear(){this.cache.clear()}get size(){return this.cache.size}stop(){this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=void 0)}dump(t){for(const[n,r]of this.cache.entries())r.value;d6e()}load(t){const n=f6e();if(!n)return 0;let r=0;const s=Date.now();for(const[a,i]of Object.entries(n)){if(this.cache.size>=this.maxSize)break;const o={value:i,createdAt:s};this.cache.set(a,o),r+=1}return r}startRefreshLoop(){this.stop(),this.ttlSeconds!==null&&(this.refreshTimer=setInterval(()=>{this.refreshStaleEntries().catch(t=>{console.warn("Unexpected error in cache refresh loop:",t)})},this.refreshIntervalSeconds*1e3),this.refreshTimer.unref&&this.refreshTimer.unref())}getStaleEntries(){const t=[];for(const[n,r]of this.cache.entries())h6e(r,this.ttlSeconds)&&t.push([n,r]);return t}async refreshStaleEntries(){const t=this.getStaleEntries();if(t.length!==0){for(const[n,r]of t)if(r.refreshFunc!==void 0)try{const s=await r.refreshFunc();this.set(n,s,r.refreshFunc),this._metrics.refreshes+=1}catch(s){this._metrics.refreshErrors+=1,console.warn(`Failed to refresh cache entry ${n}:`,s)}}}configure(t){this.stop(),this.refreshIntervalSeconds=t.refreshIntervalSeconds??60,this.maxSize=t.maxSize??100,this.ttlSeconds=t.ttlSeconds??5*60}}const m6e=new p6e,NL="0.5.0";var Fh={};let ji;const g6e=()=>typeof window<"u"&&typeof window.document<"u",v6e=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",y6e=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),IL=()=>typeof Deno<"u",b6e=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!IL(),OL=()=>ji||(typeof Bun<"u"?ji="bun":g6e()?ji="browser":b6e()?ji="node":v6e()?ji="webworker":y6e()?ji="jsdom":IL()?ji="deno":ji="other",ji);let o2;function $L(){if(o2===void 0){const e=OL(),t=_6e();o2={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:NL,...t}}return o2}function AL(){const e=w6e(),t={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,s]of Object.entries(e))typeof s=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?t.revision_id=s:t[r]=s);return t}function w6e(){const e={};try{if(typeof process<"u"&&Fh)for(const[t,n]of Object.entries(Fh))(t.startsWith("LANGCHAIN_")||t.startsWith("LANGSMITH_"))&&n!=null&&((t.toLowerCase().includes("key")||t.toLowerCase().includes("secret")||t.toLowerCase().includes("token"))&&typeof n=="string"?e[t]=n.slice(0,2)+"*".repeat(n.length-4)+n.slice(-2):e[t]=n)}catch{}return e}function wo(e){try{return typeof process<"u"?Fh==null?void 0:Fh[e]:void 0}catch{return}}function Ps(e){return wo(`LANGSMITH_${e}`)||wo(`LANGCHAIN_${e}`)}let l2;function _6e(){if(l2!==void 0)return l2;const e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],t={};for(const n of e){const r=wo(n);r!==void 0&&(t[n]=r)}return l2=t,t}function RL(){return wo("OTEL_ENABLED")==="true"||Ps("OTEL_ENABLED")==="true"}class S6e{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(t,...n){!this.hasWarned&&RL()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let r;if(n.length===1&&typeof n[0]=="function"?r=n[0]:n.length===2&&typeof n[1]=="function"?r=n[1]:n.length===3&&typeof n[2]=="function"&&(r=n[2]),typeof r=="function")return r()}}class C6e{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new S6e})}getTracer(t,n){return this.mockTracer}getActiveSpan(){}setSpan(t,n){return t}getSpan(t){}setSpanContext(t,n){return t}getTracerProvider(){}setGlobalTracerProvider(t){return!1}}class x6e{active(){return{}}with(t,n){return n()}}const u2=Symbol.for("ls:otel_trace"),c2=Symbol.for("ls:otel_context"),R5=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),E6e=new C6e,T6e=new x6e;class k6e{getTraceInstance(){return globalThis[u2]??E6e}getContextInstance(){return globalThis[c2]??T6e}initializeGlobalInstances(t){globalThis[u2]===void 0&&(globalThis[u2]=t.trace),globalThis[c2]===void 0&&(globalThis[c2]=t.context)}setDefaultOTLPTracerComponents(t){globalThis[R5]=t}getDefaultOTLPTracerComponents(){return globalThis[R5]??void 0}}const B4=new k6e;function ML(){return B4.getTraceInstance()}function N6e(){return B4.getContextInstance()}function I6e(){return B4.getDefaultOTLPTracerComponents()}const O6e={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function $6e(e){return O6e[e]||e}class A6e{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(t,n){for(const r of t)try{if(!r.run)continue;if(r.operation==="post"){const s=this.createSpanForRun(r,r.run,n.get(r.id));s&&!r.run.end_time&&this.spans.set(r.id,s)}else this.updateSpanForRun(r,r.run)}catch(s){console.error(`Error processing operation ${r.id}:`,s)}}createSpanForRun(t,n,r){const s=r&&ML().getSpan(r);if(s)try{return this.finishSpanSetup(s,n,t)}catch(a){console.error(`Failed to create span for run ${t.id}:`,a);return}}finishSpanSetup(t,n,r){return this.setSpanAttributes(t,n,r),n.error?(t.setStatus({code:2}),t.recordException(new Error(n.error))):t.setStatus({code:1}),n.end_time&&t.end(new Date(n.end_time)),t}updateSpanForRun(t,n){try{const r=this.spans.get(t.id);if(!r){console.debug(`No span found for run ${t.id} during update`);return}this.setSpanAttributes(r,n,t),n.error?(r.setStatus({code:2}),r.recordException(new Error(n.error))):r.setStatus({code:1});const s=n.end_time;s&&(r.end(new Date(s)),this.spans.delete(t.id))}catch(r){console.error(`Failed to update span for run ${t.id}:`,r)}}extractModelName(t){var n;if((n=t.extra)!=null&&n.metadata){const r=t.extra.metadata;if(r.ls_model_name)return r.ls_model_name;if(r.invocation_params){const s=r.invocation_params;if(s.model)return s.model;if(s.model_name)return s.model_name}}}setSpanAttributes(t,n,r){var o;if("run_type"in n&&n.run_type){t.setAttribute(O3e,n.run_type);const l=$6e(n.run_type||"chain");t.setAttribute(o3e,l)}"name"in n&&n.name&&t.setAttribute($3e,n.name),"session_id"in n&&n.session_id&&t.setAttribute(N3e,n.session_id),"session_name"in n&&n.session_name&&t.setAttribute(I3e,n.session_name),this.setGenAiSystem(t,n);const s=this.extractModelName(n);s&&t.setAttribute(x5,s),"prompt_tokens"in n&&typeof n.prompt_tokens=="number"&&t.setAttribute(E5,n.prompt_tokens),"completion_tokens"in n&&typeof n.completion_tokens=="number"&&t.setAttribute(T5,n.completion_tokens),"total_tokens"in n&&typeof n.total_tokens=="number"&&t.setAttribute(k5,n.total_tokens),this.setInvocationParameters(t,n);const a=((o=n.extra)==null?void 0:o.metadata)||{};for(const[l,u]of Object.entries(a))u!=null&&t.setAttribute(`${A3e}.${l}`,String(u));const i=n.tags;if(i&&Array.isArray(i)?t.setAttribute(N5,i.join(", ")):i&&t.setAttribute(N5,String(i)),"serialized"in n&&typeof n.serialized=="object"){const l=n.serialized;l.name&&t.setAttribute(w3e,String(l.name)),l.signature&&t.setAttribute(_3e,String(l.signature)),l.doc&&t.setAttribute(S3e,String(l.doc))}this.setIOAttributes(t,r)}setGenAiSystem(t,n){let r="langchain";const s=this.extractModelName(n);if(s){const a=s.toLowerCase();a.includes("anthropic")||a.startsWith("claude")?r="anthropic":a.includes("bedrock")?r="aws.bedrock":a.includes("azure")&&a.includes("openai")?r="az.ai.openai":a.includes("azure")&&a.includes("inference")?r="az.ai.inference":a.includes("cohere")?r="cohere":a.includes("deepseek")?r="deepseek":a.includes("gemini")?r="gemini":a.includes("groq")?r="groq":a.includes("watson")||a.includes("ibm")?r="ibm.watsonx.ai":a.includes("mistral")?r="mistral_ai":a.includes("gpt")||a.includes("openai")?r="openai":a.includes("perplexity")||a.includes("sonar")?r="perplexity":a.includes("vertex")?r="vertex_ai":(a.includes("xai")||a.includes("grok"))&&(r="xai")}t.setAttribute(l3e,r)}setInvocationParameters(t,n){var s,a;if(!((a=(s=n.extra)==null?void 0:s.metadata)!=null&&a.invocation_params))return;const r=n.extra.metadata.invocation_params;r.max_tokens!==void 0&&t.setAttribute(c3e,r.max_tokens),r.temperature!==void 0&&t.setAttribute(d3e,r.temperature),r.top_p!==void 0&&t.setAttribute(f3e,r.top_p),r.frequency_penalty!==void 0&&t.setAttribute(h3e,r.frequency_penalty),r.presence_penalty!==void 0&&t.setAttribute(p3e,r.presence_penalty)}setIOAttributes(t,n){if(n.run.inputs)try{const r=n.run.inputs;typeof r=="object"&&r!==null&&(r.model&&Array.isArray(r.messages)&&t.setAttribute(x5,r.model),r.stream!==void 0&&t.setAttribute(R3e,r.stream),r.extra_headers&&t.setAttribute(M3e,JSON.stringify(r.extra_headers)),r.extra_query&&t.setAttribute(y3e,JSON.stringify(r.extra_query)),r.extra_body&&t.setAttribute(b3e,JSON.stringify(r.extra_body))),t.setAttribute(g3e,JSON.stringify(r))}catch(r){console.debug(`Failed to process inputs for run ${n.id}`,r)}if(n.run.outputs)try{const r=n.run.outputs,s=this.getUnifiedRunTokens(r);if(s&&(t.setAttribute(E5,s[0]),t.setAttribute(T5,s[1]),t.setAttribute(k5,s[0]+s[1])),r&&typeof r=="object"){if(r.model&&t.setAttribute(u3e,String(r.model)),r.id&&t.setAttribute(C3e,r.id),r.choices&&Array.isArray(r.choices)){const a=r.choices.map(i=>i.finish_reason).filter(i=>i).map(String);a.length>0&&t.setAttribute(m3e,a.join(", "))}if(r.service_tier&&t.setAttribute(x3e,r.service_tier),r.system_fingerprint&&t.setAttribute(E3e,r.system_fingerprint),r.usage_metadata&&typeof r.usage_metadata=="object"){const a=r.usage_metadata;a.input_token_details&&t.setAttribute(T3e,JSON.stringify(a.input_token_details)),a.output_token_details&&t.setAttribute(k3e,JSON.stringify(a.output_token_details))}}t.setAttribute(v3e,JSON.stringify(r))}catch(r){console.debug(`Failed to process outputs for run ${n.id}`,r)}}getUnifiedRunTokens(t){if(!t)return null;let n=this.extractUnifiedRunTokens(t.usage_metadata);if(n)return n;const r=Object.keys(t);for(const i of r){const o=t[i];if(!(!o||typeof o!="object")&&(n=this.extractUnifiedRunTokens(o.usage_metadata),n||o.lc===1&&o.kwargs&&typeof o.kwargs=="object"&&(n=this.extractUnifiedRunTokens(o.kwargs.usage_metadata),n)))return n}const s=t.generations||[];if(!Array.isArray(s))return null;const a=Array.isArray(s[0])?s.flat():s;for(const i of a)if(typeof i=="object"&&i.message&&typeof i.message=="object"&&i.message.kwargs&&typeof i.message.kwargs=="object"&&(n=this.extractUnifiedRunTokens(i.message.kwargs.usage_metadata),n))return n;return null}extractUnifiedRunTokens(t){return!t||typeof t!="object"||typeof t.input_tokens!="number"||typeof t.output_tokens!="number"?null:[t.input_tokens,t.output_tokens]}}const R6e=Object.prototype.toString,M6e=e=>R6e.call(e)==="[object Error]",P6e=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function L6e(e){if(!(e&&M6e(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:n,stack:r}=e;return n==="Load failed"?r===void 0||"__sentry_captured__"in e:n.startsWith("error sending request for url")?!0:P6e.has(n)}function D6e(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Mg(e,t,{min:n=0,allowInfinity:r=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected \`${e}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(t))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(t<n)throw new TypeError(`Expected \`${e}\` to be  ${n}.`)}}let z6e=class extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}};function F6e(e,t){const n=Math.max(1,e+1),r=t.randomize?Math.random()+1:1;let s=Math.round(r*t.minTimeout*t.factor**(n-1));return s=Math.min(s,t.maxTimeout),s}function M5(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}async function B6e({error:e,attemptNumber:t,retriesConsumed:n,startTime:r,options:s}){var p,m,g;const a=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(a instanceof z6e)throw a.originalError;const i=Number.isFinite(s.retries)?Math.max(0,s.retries-n):s.retries,o=s.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:t,retriesLeft:i,retriesConsumed:n});if(await s.onFailedAttempt(l),M5(r,o)<=0)throw a;const u=await s.shouldConsumeRetry(l),c=M5(r,o);if(c<=0||i<=0)throw a;if(a instanceof TypeError&&!L6e(a)){if(u)throw a;return(p=s.signal)==null||p.throwIfAborted(),!1}if(!await s.shouldRetry(l))throw a;if(!u)return(m=s.signal)==null||m.throwIfAborted(),!1;const d=F6e(n,s),h=Math.min(d,c);return h>0&&await new Promise((v,y)=>{var _,S;const b=()=>{var C;clearTimeout(w),(C=s.signal)==null||C.removeEventListener("abort",b),y(s.signal.reason)},w=setTimeout(()=>{var C;(C=s.signal)==null||C.removeEventListener("abort",b),v()},h);s.unref&&((_=w.unref)==null||_.call(w)),(S=s.signal)==null||S.addEventListener("abort",b,{once:!0})}),(g=s.signal)==null||g.throwIfAborted(),!0}async function j6e(e,t={}){var a,i,o;if(t={...t},D6e(t.retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??(t.retries=10),t.factor??(t.factor=2),t.minTimeout??(t.minTimeout=1e3),t.maxTimeout??(t.maxTimeout=Number.POSITIVE_INFINITY),t.maxRetryTime??(t.maxRetryTime=Number.POSITIVE_INFINITY),t.randomize??(t.randomize=!1),t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.shouldConsumeRetry??(t.shouldConsumeRetry=()=>!0),Mg("factor",t.factor,{min:0,allowInfinity:!1}),Mg("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),Mg("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),Mg("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),(a=t.signal)==null||a.throwIfAborted();let n=0,r=0;const s=performance.now();for(;!Number.isFinite(t.retries)||r<=t.retries;){n++;try{(i=t.signal)==null||i.throwIfAborted();const l=await e(n);return(o=t.signal)==null||o.throwIfAborted(),l}catch(l){await B6e({error:l,attemptNumber:n,retriesConsumed:r,startTime:s,options:t})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var PL={},p1={exports:{}},V6e=(e,t)=>(t=t||(()=>{}),e.then(n=>new Promise(r=>{r(t())}).then(()=>n),n=>new Promise(r=>{r(t())}).then(()=>{throw n})));const H6e=V6e;class LL extends Error{constructor(t){super(t),this.name="TimeoutError"}}const DL=(e,t,n)=>new Promise((r,s)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){r(e);return}const a=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(l){s(l)}return}const i=typeof n=="string"?n:`Promise timed out after ${t} milliseconds`,o=n instanceof Error?n:new LL(i);typeof e.cancel=="function"&&e.cancel(),s(o)},t);H6e(e.then(r,s),()=>{clearTimeout(a)})});p1.exports=DL;p1.exports.default=DL;p1.exports.TimeoutError=LL;var U6e=p1.exports,j4={},V4={};Object.defineProperty(V4,"__esModule",{value:!0});function W6e(e,t,n){let r=0,s=e.length;for(;s>0;){const a=s/2|0;let i=r+a;n(e[i],t)<=0?(r=++i,s-=a+1):s=a}return r}V4.default=W6e;Object.defineProperty(j4,"__esModule",{value:!0});const K6e=V4;class G6e{constructor(){this._queue=[]}enqueue(t,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const s=K6e.default(this._queue,r,(a,i)=>i.priority-a.priority);this._queue.splice(s,0,r)}dequeue(){const t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return this._queue.length}}j4.default=G6e;Object.defineProperty(PL,"__esModule",{value:!0});const Z6e=yM,zL=U6e,Y6e=j4,Pg=()=>{},q6e=new zL.TimeoutError;class X6e extends Z6e{constructor(t){var n,r,s,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Pg,this._resolveIdle=Pg,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Y6e.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=t.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(a=(s=t.interval)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Pg,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Pg,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-t;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,n={}){return new Promise((r,s)=>{const a=async()=>{this._pendingCount++,this._intervalCount++;try{const i=this._timeout===void 0&&n.timeout===void 0?t():zL.default(Promise.resolve(t()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&s(q6e)});r(await i)}catch(i){s(i)}this._next()};this._queue.enqueue(a,n),this._tryToStartAnother(),this.emit("add")})}async addAll(t,n){return Promise.all(t.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}}var Go=PL.default=X6e;const J6e=[408,425,429,500,502,503,504];let P5=class{constructor(t){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,this.maxQueueSizeBytes=t.maxQueueSizeBytes,"default"in Go?this.queue=new Go.default({concurrency:this.maxConcurrency}):this.queue=new Go({concurrency:this.maxConcurrency}),this.onFailedResponseHook=t==null?void 0:t.onFailedResponseHook}call(t,...n){return this.callWithOptions({},t,...n)}callWithOptions(t,n,...r){const s=t.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&s>0&&this.queueSizeBytes+s>this.maxQueueSizeBytes)return Promise.reject(new Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${s} bytes.`));s>0&&(this.queueSizeBytes+=s);const a=this.onFailedResponseHook;let i=this.queue.add(()=>j6e(()=>n(...r).catch(o=>{throw o instanceof Error?o:new Error(o)}),{async onFailedAttempt({error:o}){if(typeof o!="object"||o==null)throw o;const l="message"in o&&typeof o.message=="string"?o.message:void 0;if(l!=null&&l.startsWith("Cancel")||l!=null&&l.startsWith("TimeoutError")||l!=null&&l.startsWith("AbortError")||"name"in o&&o.name==="TimeoutError"||"code"in o&&o.code==="ECONNABORTED")throw o;const u="response"in o?o.response:void 0;if(a&&await a(u))return;const c=(u==null?void 0:u.status)??("status"in o?o.status:void 0);if(c!=null&&(typeof c=="number"||typeof c=="string")&&!J6e.includes(+c))throw o},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return s>0&&(i=i.finally(()=>{this.queueSizeBytes-=s})),t.signal?Promise.race([i,new Promise((o,l)=>{var u;(u=t.signal)==null||u.addEventListener("abort",()=>{l(new Error("AbortError"))})})]):i}};function L5(e){return typeof(e==null?void 0:e._getType)=="function"}function D5(e){const t={type:e._getType(),data:{content:e.content}};return e!=null&&e.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}var M_={exports:{}};const Q6e="2.0.0",FL=256,eSe=Number.MAX_SAFE_INTEGER||9007199254740991,tSe=16,nSe=FL-6,rSe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var m1={MAX_LENGTH:FL,MAX_SAFE_COMPONENT_LENGTH:tSe,MAX_SAFE_BUILD_LENGTH:nSe,MAX_SAFE_INTEGER:eSe,RELEASE_TYPES:rSe,SEMVER_SPEC_VERSION:Q6e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},d2={};const sSe=typeof process=="object"&&d2&&d2.NODE_DEBUG&&/\bsemver\b/i.test(d2.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var g1=sSe;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=m1,a=g1;t=e.exports={};const i=t.re=[],o=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let d=0;const h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",s],[h,r]],m=v=>{for(const[y,b]of p)v=v.split(`${y}*`).join(`${y}{0,${b}}`).split(`${y}+`).join(`${y}{1,${b}}`);return v},g=(v,y,b)=>{const w=m(y),_=d++;a(v,_,y),c[v]=_,l[_]=y,u[_]=w,i[_]=new RegExp(y,b?"g":void 0),o[_]=new RegExp(w,b?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),g("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${h}+`),g("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),g("FULL",`^${l[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),g("LOOSE",`^${l[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),g("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[c.COERCE],!0),g("COERCERTLFULL",l[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(M_,M_.exports);var Am=M_.exports;const aSe=Object.freeze({loose:!0}),iSe=Object.freeze({}),oSe=e=>e?typeof e!="object"?aSe:e:iSe;var H4=oSe;const z5=/^[0-9]+$/,BL=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const n=z5.test(e),r=z5.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},lSe=(e,t)=>BL(t,e);var jL={compareIdentifiers:BL,rcompareIdentifiers:lSe};const Lg=g1,{MAX_LENGTH:F5,MAX_SAFE_INTEGER:Dg}=m1,{safeRe:zg,t:Fg}=Am,uSe=H4,{compareIdentifiers:f2}=jL;let cSe=class Wi{constructor(t,n){if(n=uSe(n),t instanceof Wi){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>F5)throw new TypeError(`version is longer than ${F5} characters`);Lg("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?zg[Fg.LOOSE]:zg[Fg.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Dg||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Dg||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Dg||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<Dg)return a}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Lg("SemVer.compare",this.version,this.options,t),!(t instanceof Wi)){if(typeof t=="string"&&t===this.version)return 0;t=new Wi(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Wi||(t=new Wi(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof Wi||(t=new Wi(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=t.prerelease[n];if(Lg("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return f2(r,s)}while(++n)}compareBuild(t){t instanceof Wi||(t=new Wi(t,this.options));let n=0;do{const r=this.build[n],s=t.build[n];if(Lg("build compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return f2(r,s)}while(++n)}inc(t,n,r){if(t.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const s=`-${n}`.match(this.options.loose?zg[Fg.PRERELEASELOOSE]:zg[Fg.PRERELEASE]);if(!s||s[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let a=[n,s];r===!1&&(a=[n]),f2(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var U4=cSe;const B5=U4,dSe=(e,t,n)=>new B5(e,n).compare(new B5(t,n));var Of=dSe;const fSe=Of,hSe=(e,t,n)=>fSe(e,t,n)>0;var pSe=hSe;const mSe=Of,gSe=(e,t,n)=>mSe(e,t,n)<0;var vSe=gSe;const ySe=Of,bSe=(e,t,n)=>ySe(e,t,n)===0;var wSe=bSe;const _Se=Of,SSe=(e,t,n)=>_Se(e,t,n)!==0;var CSe=SSe;const xSe=Of,ESe=(e,t,n)=>xSe(e,t,n)>=0;var TSe=ESe;const kSe=Of,NSe=(e,t,n)=>kSe(e,t,n)<=0;var ISe=NSe;const OSe=wSe,$Se=CSe,ASe=pSe,RSe=TSe,MSe=vSe,PSe=ISe,LSe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return OSe(e,n,r);case"!=":return $Se(e,n,r);case">":return ASe(e,n,r);case">=":return RSe(e,n,r);case"<":return MSe(e,n,r);case"<=":return PSe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var DSe=LSe;const{safeRe:uAe,t:cAe}=Am;class zSe{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,n)}return this}}var FSe=zSe,h2,j5;function Pi(){if(j5)return h2;j5=1;const e=/\s+/g;class t{constructor(V,G){if(G=s(G),V instanceof t)return V.loose===!!G.loose&&V.includePrerelease===!!G.includePrerelease?V:new t(V.raw,G);if(V instanceof a)return this.raw=V.value,this.set=[[V]],this.formatted=void 0,this;if(this.options=G,this.loose=!!G.loose,this.includePrerelease=!!G.includePrerelease,this.raw=V.trim().replace(e," "),this.set=this.raw.split("||").map(R=>this.parseRange(R.trim())).filter(R=>R.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const R=this.set[0];if(this.set=this.set.filter($=>!g($[0])),this.set.length===0)this.set=[R];else if(this.set.length>1){for(const $ of this.set)if($.length===1&&v($[0])){this.set=[$];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let V=0;V<this.set.length;V++){V>0&&(this.formatted+="||");const G=this.set[V];for(let R=0;R<G.length;R++)R>0&&(this.formatted+=" "),this.formatted+=G[R].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(V){const R=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+V,$=r.get(R);if($)return $;const D=this.options.loose,z=D?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];V=V.replace(z,O(this.options.includePrerelease)),i("hyphen replace",V),V=V.replace(l[u.COMPARATORTRIM],c),i("comparator trim",V),V=V.replace(l[u.TILDETRIM],d),i("tilde trim",V),V=V.replace(l[u.CARETTRIM],h),i("caret trim",V);let W=V.split(" ").map(J=>b(J,this.options)).join(" ").split(/\s+/).map(J=>A(J,this.options));D&&(W=W.filter(J=>(i("loose invalid filter",J,this.options),!!J.match(l[u.COMPARATORLOOSE])))),i("range list",W);const Y=new Map,U=W.map(J=>new a(J,this.options));for(const J of U){if(g(J))return[J];Y.set(J.value,J)}Y.size>1&&Y.has("")&&Y.delete("");const Q=[...Y.values()];return r.set(R,Q),Q}intersects(V,G){if(!(V instanceof t))throw new TypeError("a Range is required");return this.set.some(R=>y(R,G)&&V.set.some($=>y($,G)&&R.every(D=>$.every(z=>D.intersects(z,G)))))}test(V){if(!V)return!1;if(typeof V=="string")try{V=new o(V,this.options)}catch{return!1}for(let G=0;G<this.set.length;G++)if(F(this.set[G],V,this.options))return!0;return!1}}h2=t;const n=FSe,r=new n,s=H4,a=v1(),i=g1,o=U4,{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:h}=Am,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=m1,g=j=>j.value==="<0.0.0-0",v=j=>j.value==="",y=(j,V)=>{let G=!0;const R=j.slice();let $=R.pop();for(;G&&R.length;)G=R.every(D=>$.intersects(D,V)),$=R.pop();return G},b=(j,V)=>(j=j.replace(l[u.BUILD],""),i("comp",j,V),j=C(j,V),i("caret",j),j=_(j,V),i("tildes",j),j=x(j,V),i("xrange",j),j=k(j,V),i("stars",j),j),w=j=>!j||j.toLowerCase()==="x"||j==="*",_=(j,V)=>j.trim().split(/\s+/).map(G=>S(G,V)).join(" "),S=(j,V)=>{const G=V.loose?l[u.TILDELOOSE]:l[u.TILDE];return j.replace(G,(R,$,D,z,W)=>{i("tilde",j,R,$,D,z,W);let Y;return w($)?Y="":w(D)?Y=`>=${$}.0.0 <${+$+1}.0.0-0`:w(z)?Y=`>=${$}.${D}.0 <${$}.${+D+1}.0-0`:W?(i("replaceTilde pr",W),Y=`>=${$}.${D}.${z}-${W} <${$}.${+D+1}.0-0`):Y=`>=${$}.${D}.${z} <${$}.${+D+1}.0-0`,i("tilde return",Y),Y})},C=(j,V)=>j.trim().split(/\s+/).map(G=>T(G,V)).join(" "),T=(j,V)=>{i("caret",j,V);const G=V.loose?l[u.CARETLOOSE]:l[u.CARET],R=V.includePrerelease?"-0":"";return j.replace(G,($,D,z,W,Y)=>{i("caret",j,$,D,z,W,Y);let U;return w(D)?U="":w(z)?U=`>=${D}.0.0${R} <${+D+1}.0.0-0`:w(W)?D==="0"?U=`>=${D}.${z}.0${R} <${D}.${+z+1}.0-0`:U=`>=${D}.${z}.0${R} <${+D+1}.0.0-0`:Y?(i("replaceCaret pr",Y),D==="0"?z==="0"?U=`>=${D}.${z}.${W}-${Y} <${D}.${z}.${+W+1}-0`:U=`>=${D}.${z}.${W}-${Y} <${D}.${+z+1}.0-0`:U=`>=${D}.${z}.${W}-${Y} <${+D+1}.0.0-0`):(i("no pr"),D==="0"?z==="0"?U=`>=${D}.${z}.${W}${R} <${D}.${z}.${+W+1}-0`:U=`>=${D}.${z}.${W}${R} <${D}.${+z+1}.0-0`:U=`>=${D}.${z}.${W} <${+D+1}.0.0-0`),i("caret return",U),U})},x=(j,V)=>(i("replaceXRanges",j,V),j.split(/\s+/).map(G=>N(G,V)).join(" ")),N=(j,V)=>{j=j.trim();const G=V.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return j.replace(G,(R,$,D,z,W,Y)=>{i("xRange",j,R,$,D,z,W,Y);const U=w(D),Q=U||w(z),J=Q||w(W),B=J;return $==="="&&B&&($=""),Y=V.includePrerelease?"-0":"",U?$===">"||$==="<"?R="<0.0.0-0":R="*":$&&B?(Q&&(z=0),W=0,$===">"?($=">=",Q?(D=+D+1,z=0,W=0):(z=+z+1,W=0)):$==="<="&&($="<",Q?D=+D+1:z=+z+1),$==="<"&&(Y="-0"),R=`${$+D}.${z}.${W}${Y}`):Q?R=`>=${D}.0.0${Y} <${+D+1}.0.0-0`:J&&(R=`>=${D}.${z}.0${Y} <${D}.${+z+1}.0-0`),i("xRange return",R),R})},k=(j,V)=>(i("replaceStars",j,V),j.trim().replace(l[u.STAR],"")),A=(j,V)=>(i("replaceGTE0",j,V),j.trim().replace(l[V.includePrerelease?u.GTE0PRE:u.GTE0],"")),O=j=>(V,G,R,$,D,z,W,Y,U,Q,J,B)=>(w(R)?G="":w($)?G=`>=${R}.0.0${j?"-0":""}`:w(D)?G=`>=${R}.${$}.0${j?"-0":""}`:z?G=`>=${G}`:G=`>=${G}${j?"-0":""}`,w(U)?Y="":w(Q)?Y=`<${+U+1}.0.0-0`:w(J)?Y=`<${U}.${+Q+1}.0-0`:B?Y=`<=${U}.${Q}.${J}-${B}`:j?Y=`<${U}.${Q}.${+J+1}-0`:Y=`<=${Y}`,`${G} ${Y}`.trim()),F=(j,V,G)=>{for(let R=0;R<j.length;R++)if(!j[R].test(V))return!1;if(V.prerelease.length&&!G.includePrerelease){for(let R=0;R<j.length;R++)if(i(j[R].semver),j[R].semver!==a.ANY&&j[R].semver.prerelease.length>0){const $=j[R].semver;if($.major===V.major&&$.minor===V.minor&&$.patch===V.patch)return!0}return!1}return!0};return h2}var p2,V5;function v1(){if(V5)return p2;V5=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),i("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(c){const d=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],h=c.match(d);if(!h)throw new TypeError(`Invalid comparator: ${c}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(i("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new o(c,this.options)}catch{return!1}return a(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||a(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||a(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}p2=t;const n=H4,{safeRe:r,t:s}=Am,a=DSe,i=g1,o=U4,l=Pi();return p2}Pi();Pi();Pi();Pi();Pi();Pi();const BSe=v1(),{ANY:dAe}=BSe;Pi();Pi();Pi();const W4=v1(),{ANY:fAe}=W4;new W4(">=0.0.0-0");new W4(">=0.0.0");const m2=Am,H5=m1,U5=jL;v1();Pi();m2.re,m2.src,m2.t,H5.SEMVER_SPEC_VERSION,H5.RELEASE_TYPES,U5.compareIdentifiers,U5.rcompareIdentifiers;function El(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw new Error(`Invalid identifier format: ${e}`);const[t,n]=e.split(":"),r=n||"latest";if(t.includes("/")){const[s,a]=t.split("/",2);if(!s||!a)throw new Error(`Invalid identifier format: ${e}`);return[s,a,r]}else{if(!t)throw new Error(`Invalid identifier format: ${e}`);return["-",t,r]}}class jSe extends Error{constructor(t){super(t),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}class VSe extends Error{constructor(t){super(t),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithNotFoundError",this.status=404}}function W5(e){return e!=null&&typeof e=="object"&&"name"in e&&(e==null?void 0:e.name)==="LangSmithNotFoundError"}async function Dt(e,t,n){let r;if(e.ok){n&&(r=await e.text());return}if(e.status===403)try{const i=await e.json();(i==null?void 0:i.error)==="org_scoped_key_requires_workspace"&&(r="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const o=new Error(`${e.status} ${e.statusText}`);throw o.status=e==null?void 0:e.status,o}if(r===void 0)try{r=await e.text()}catch{r=""}const s=`Failed to ${t}. Received status [${e.status}]: ${e.statusText}. Message: ${r}`;if(e.status===404)throw new VSe(s);if(e.status===409)throw new jSe(s);const a=new Error(s);throw a.status=e.status,a}const VL="ERR_CONFLICTING_ENDPOINTS";class HSe extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:VL}),this.name="ConflictingEndpointsError"}}function USe(e){return typeof e=="object"&&e!==null&&e.code===VL}var K5="[...]",WSe={result:"[Circular]"},P0=[],pd=[];const KSe=new TextEncoder;function GSe(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Bg(e){return KSe.encode(e)}function HL(e){if(e&&typeof e=="object"&&e!==null){if(e instanceof Map)return Object.fromEntries(e);if(e instanceof Set)return Array.from(e);if(e instanceof Date)return e.toISOString();if(e instanceof RegExp)return e.toString();if(e instanceof Error)return{name:e.name,message:e.message}}else if(typeof e=="bigint")return e.toString();return e}function ZSe(e){return function(t,n){return HL(n)}}function oa(e,t,n,r,s){var a;try{const i=JSON.stringify(e,ZSe(n),r);return Bg(i)}catch(i){if(!((a=i.message)!=null&&a.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${t?`
Context: ${t}`:""}`),Bg("[Unserializable]");Ps("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${t?`
Context: ${t}`:""}`),typeof s>"u"&&(s=GSe()),P_(e,"",0,[],void 0,0,s);let o;try{pd.length===0?o=JSON.stringify(e,n,r):o=JSON.stringify(e,YSe(n),r)}catch{return Bg("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;P0.length!==0;){const l=P0.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return Bg(o)}}function g2(e,t,n,r){var s=Object.getOwnPropertyDescriptor(r,n);s.get!==void 0?s.configurable?(Object.defineProperty(r,n,{value:e}),P0.push([r,n,t,s])):pd.push([t,n,e]):(r[n]=e,P0.push([r,n,t]))}function P_(e,t,n,r,s,a,i){a+=1;var o;if(typeof e=="object"&&e!==null){for(o=0;o<r.length;o++)if(r[o]===e){g2(WSe,e,t,s);return}if(typeof i.depthLimit<"u"&&a>i.depthLimit){g2(K5,e,t,s);return}if(typeof i.edgesLimit<"u"&&n+1>i.edgesLimit){g2(K5,e,t,s);return}if(r.push(e),Array.isArray(e))for(o=0;o<e.length;o++)P_(e[o],o,o,r,e,a,i);else{e=HL(e);var l=Object.keys(e);for(o=0;o<l.length;o++){var u=l[o];P_(e[u],u,o,r,e,a,i)}}r.pop()}}function YSe(e){return e=typeof e<"u"?e:function(t,n){return n},function(t,n){if(pd.length>0)for(var r=0;r<pd.length;r++){var s=pd[r];if(s[1]===t&&s[0]===n){n=s[2],pd.splice(r,1);break}}return e.call(this,t,n)}}function G5(e,t,n){if(n)return e;const r=$L(),s=t??AL(),a=e.extra??{},i=a.metadata;return e.extra={...a,runtime:{...r,...a==null?void 0:a.runtime},metadata:{...s,...s.revision_id||"revision_id"in e&&e.revision_id?{revision_id:("revision_id"in e?e.revision_id:void 0)??s.revision_id}:{},...i}},e}const qSe=e=>{const t=(e==null?void 0:e.toString())??Ps("TRACING_SAMPLING_RATE");if(t===void 0)return;const n=parseFloat(t);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},XSe=e=>{const n=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function JSe(e){const t=[];for await(const n of e)t.push(n);return t}function jg(e){if(e!==void 0)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const QSe=async e=>{if((e==null?void 0:e.status)===429){const t=parseInt(e.headers.get("retry-after")??"10",10)*1e3;if(t>0)return await new Promise(n=>setTimeout(n,t)),!0}return!1};function Z5(e){return typeof e=="number"?Number(e.toFixed(4)):e}const e4e=24*1024*1024,UL=1024*1024*1024,t4e=1e4,n4e=100,Y5="https://api.smith.langchain.com";class r4e{constructor(t){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=t??UL}peek(){return this.items[0]}push(t){let n;const r=new Promise(a=>{n=a}),s=oa(t.item,`Serializing run with id: ${t.item.id}`).length;return this.sizeBytes+s>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${t.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${s} bytes.`),n(),r):(this.items.push({action:t.action,payload:t.item,otelContext:t.otelContext,apiKey:t.apiKey,apiUrl:t.apiUrl,itemPromiseResolve:n,itemPromise:r,size:s}),this.sizeBytes+=s,r)}pop({upToSizeBytes:t,upToSize:n}){var a;if(t<1)throw new Error("Number of bytes to pop off may not be less than 1.");const r=[];let s=0;for(;s+(((a=this.peek())==null?void 0:a.size)??0)<t&&this.items.length>0&&r.length<n;){const i=this.items.shift();i&&(r.push(i),s+=i.size,this.sizeBytes-=i.size)}if(r.length===0&&this.items.length>0){const i=this.items.shift();r.push(i),s+=i.size,this.sizeBytes-=i.size}return[r.map(i=>({action:i.action,item:i.payload,otelContext:i.otelContext,apiKey:i.apiKey,apiUrl:i.apiUrl,size:i.size})),()=>r.forEach(i=>i.itemPromiseResolve())]}}class $p{get _fetch(){return this.fetchImplementation||D3e(this.debug)}constructor(t={}){var s;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitTracedRuntimeInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:wo("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_promptCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_multipartDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_runCompressionDisabled",{enumerable:!0,configurable:!0,writable:!0,value:Ps("DISABLE_RUN_COMPRESSION")==="true"}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:wo("LANGSMITH_DEBUG")==="true"});const n=$p.getDefaultClientConfig();if(this.tracingSampleRate=qSe(t.tracingSamplingRate),this.apiUrl=jg(t.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=jg(t.apiKey??n.apiKey),this.webUrl=jg(t.webUrl??n.webUrl),(s=this.webUrl)!=null&&s.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=jg(t.workspaceId??Ps("WORKSPACE_ID")),this.timeout_ms=t.timeout_ms??9e4,this.caller=new P5({...t.callerOptions??{},maxRetries:4,debug:t.debug??this.debug}),this.traceBatchConcurrency=t.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=t.debug??this.debug,this.fetchImplementation=t.fetchImplementation;const r=t.maxIngestMemoryBytes??UL;this.batchIngestCaller=new P5({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:r,...t.callerOptions??{},onFailedResponseHook:QSe,debug:t.debug??this.debug}),this.hideInputs=t.hideInputs??t.anonymizer??n.hideInputs,this.hideOutputs=t.hideOutputs??t.anonymizer??n.hideOutputs,this.omitTracedRuntimeInfo=t.omitTracedRuntimeInfo??!1,this.autoBatchTracing=t.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new r4e(r),this.blockOnRootRunFinalization=t.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=t.batchSizeBytesLimit,this.batchSizeLimit=t.batchSizeLimit,this.fetchOptions=t.fetchOptions||{},this.manualFlushMode=t.manualFlushMode??this.manualFlushMode,RL()&&(this.langSmithToOTELTranslator=new A6e),this.cachedLSEnvVarsForMetadata=AL(),t.disablePromptCache||(this._promptCache=m6e)}static getDefaultClientConfig(){const t=Ps("API_KEY"),n=Ps("ENDPOINT")??Y5,r=Ps("HIDE_INPUTS")==="true",s=Ps("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:t,webUrl:void 0,hideInputs:r,hideOutputs:s}}getHostUrl(){return this.webUrl?this.webUrl:XSe(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const t={"User-Agent":`langsmith-js/${NL}`};return this.apiKey&&(t["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(t["x-tenant-id"]=this.workspaceId),t}_getPlatformEndpointPath(t){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${t}`:`/platform/${t}`}async processInputs(t){return this.hideInputs===!1?t:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(t):t}async processOutputs(t){return this.hideOutputs===!1?t:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(t):t}async prepareRunCreateOrUpdateInputs(t){const n={...t};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(t,n){const r=(n==null?void 0:n.toString())??"",s=`${this.apiUrl}${t}?${r}`;return await this.caller.call(async()=>{const i=await this._fetch(s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(i,`fetch ${t}`),i})}async _get(t,n){return(await this._getResponse(t,n)).json()}async*_getPaginated(t,n=new URLSearchParams,r){let s=Number(n.get("offset"))||0;const a=Number(n.get("limit"))||100;for(;;){n.set("offset",String(s)),n.set("limit",String(a));const i=`${this.apiUrl}${t}?${n}`,o=await this.caller.call(async()=>{const u=await this._fetch(i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(u,`fetch ${t}`),u}),l=r?r(await o.json()):await o.json();if(l.length===0||(yield l,l.length<a))break;s+=l.length}}async*_getCursorPaginatedList(t,n=null,r="POST",s="runs"){const a=n?{...n}:{};for(;;){const i=JSON.stringify(a),l=await(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}${t}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Dt(c,`fetch ${t}`),c})).json();if(!l||!l[s])break;yield l[s];const u=l.cursors;if(!u||!u.next)break;a.cursor=u.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(t,n=!1){if(this.tracingSampleRate===void 0)return t;if(n){const r=[];for(const s of t)this.filteredPostUuids.has(s.trace_id)?s.id===s.trace_id&&this.filteredPostUuids.delete(s.trace_id):r.push(s);return r}else{const r=[];for(const s of t){const a=s.trace_id??s.id;this.filteredPostUuids.has(a)||(s.id===a?this._shouldSample()?r.push(s):this.filteredPostUuids.add(a):r.push(s))}return r}}async _getBatchSizeLimitBytes(){var n;const t=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=t==null?void 0:t.batch_ingest_config)==null?void 0:n.size_limit_bytes)??e4e}async _getBatchSizeLimit(){var n;const t=await this._ensureServerInfo();return this.batchSizeLimit??((n=t==null?void 0:t.batch_ingest_config)==null?void 0:n.size_limit)??n4e}async _getDatasetExamplesMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue({batchSizeLimitBytes:t,batchSizeLimit:n}){const r=[];for(;this.autoBatchQueue.items.length>0;){const[s,a]=this.autoBatchQueue.pop({upToSizeBytes:t,upToSize:n});if(!s.length){a();break}const i=s.reduce((u,c)=>{const d=c.apiUrl??this.apiUrl,h=c.apiKey??this.apiKey,m=c.apiKey===this.apiKey&&c.apiUrl===this.apiUrl?"default":`${d}|${h}`;return u[m]||(u[m]=[]),u[m].push(c),u},{}),o=[];for(const[u,c]of Object.entries(i)){const d=this._processBatch(c,{apiUrl:u==="default"?void 0:u.split("|")[0],apiKey:u==="default"?void 0:u.split("|")[1]});o.push(d)}const l=Promise.all(o).finally(a);r.push(l)}return Promise.all(r)}async _processBatch(t,n){var s,a;if(!t.length)return;const r=t.reduce((i,o)=>i+(o.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(t);else{const i={runCreates:t.filter(u=>u.action==="create").map(u=>u.item),runUpdates:t.filter(u=>u.action==="update").map(u=>u.item)},o=await this._ensureServerInfo();if(!this._multipartDisabled&&(((s=o==null?void 0:o.batch_ingest_config)==null?void 0:s.use_multipart_endpoint)??!0)){const u=!this._runCompressionDisabled&&((a=o==null?void 0:o.instance_flags)==null?void 0:a.gzip_body_enabled);try{await this.multipartIngestRuns(i,{...n,useGzip:u,sizeBytes:r})}catch(c){if(W5(c))this._multipartDisabled=!0,await this.batchIngestRuns(i,{...n,sizeBytes:r});else throw c}}else await this.batchIngestRuns(i,{...n,sizeBytes:r})}}catch(i){console.error("Error exporting batch:",i)}}_sendBatchToOTELTranslator(t){if(this.langSmithToOTELTranslator!==void 0){const n=new Map,r=[];for(const s of t)s.item.id&&s.otelContext&&(n.set(s.item.id,s.otelContext),s.action==="create"?r.push({operation:"post",id:s.item.id,trace_id:s.item.trace_id??s.item.id,run:s.item}):r.push({operation:"patch",id:s.item.id,trace_id:s.item.trace_id??s.item.id,run:s.item}));this.langSmithToOTELTranslator.exportBatch(r,n)}}async processRunOperation(t){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,t.item=G5(t.item,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);const n=this.autoBatchQueue.push(t);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes(),s=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>r||this.autoBatchQueue.items.length>s)&&this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:s}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:s})},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const n=await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(t4e),...this.fetchOptions});return await Dt(r,"get server info"),r})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(t){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${t.status??"Unspecified status code"} ${t.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(t=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),t))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const t=await this._getBatchSizeLimitBytes(),n=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:t,batchSizeLimit:n})}_cloneCurrentOTELContext(){const t=ML(),n=N6e();if(this.langSmithToOTELTranslator!==void 0){const r=t.getActiveSpan();if(r)return t.setSpan(n.active(),r)}}async createRun(t,n){if(!this._filterForSampling([t]).length)return;const r={...this.headers,"Content-Type":"application/json"},s=t.project_name;delete t.project_name;const a=await this.prepareRunCreateOrUpdateInputs({session_name:s,...t,start_time:t.start_time??Date.now()});if(this.autoBatchTracing&&a.trace_id!==void 0&&a.dotted_order!==void 0){const l=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:a,otelContext:l,apiKey:n==null?void 0:n.apiKey,apiUrl:n==null?void 0:n.apiUrl}).catch(console.error);return}const i=G5(a,this.cachedLSEnvVarsForMetadata,this.omitTracedRuntimeInfo);(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),(n==null?void 0:n.workspaceId)!==void 0&&(r["x-tenant-id"]=n.workspaceId);const o=oa(i,`Creating run with id: ${i.id}`);await this.caller.call(async()=>{const l=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Dt(l,"create run",!0),l})}async batchIngestRuns({runCreates:t,runUpdates:n},r){if(t===void 0&&n===void 0)return;let s=await Promise.all((t==null?void 0:t.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]),a=await Promise.all((n==null?void 0:n.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]);if(s.length>0&&a.length>0){const l=s.reduce((c,d)=>(d.id&&(c[d.id]=d),c),{}),u=[];for(const c of a)c.id!==void 0&&l[c.id]?l[c.id]={...l[c.id],...c}:u.push(c);s=Object.values(l),a=u}const i={post:s,patch:a};if(!i.post.length&&!i.patch.length)return;const o={post:[],patch:[]};for(const l of["post","patch"]){const u=l,c=i[u].reverse();let d=c.pop();for(;d!==void 0;)o[u].push(d),d=c.pop()}if(o.post.length>0||o.patch.length>0){const l=o.post.map(u=>u.id).concat(o.patch.map(u=>u.id)).join(",");await this._postBatchIngestRuns(oa(o,`Ingesting runs with ids: ${l}`),r)}}async _postBatchIngestRuns(t,n){const r={...this.headers,"Content-Type":"application/json",Accept:"application/json"};(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:n==null?void 0:n.sizeBytes},async()=>{const s=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs/batch`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:t});return await Dt(s,"batch create run",!0),s})}async multipartIngestRuns({runCreates:t,runUpdates:n},r){if(t===void 0&&n===void 0)return;const s={};let a=[];for(const d of t??[]){const h=await this.prepareRunCreateOrUpdateInputs(d);h.id!==void 0&&h.attachments!==void 0&&(s[h.id]=h.attachments),delete h.attachments,a.push(h)}let i=[];for(const d of n??[])i.push(await this.prepareRunCreateOrUpdateInputs(d));if(a.find(d=>d.trace_id===void 0||d.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(i.find(d=>d.trace_id===void 0||d.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(a.length>0&&i.length>0){const d=a.reduce((p,m)=>(m.id&&(p[m.id]=m),p),{}),h=[];for(const p of i)p.id!==void 0&&d[p.id]?d[p.id]={...d[p.id],...p}:h.push(p);a=Object.values(d),i=h}if(a.length===0&&i.length===0)return;const u=[],c=[];for(const[d,h]of[["post",a],["patch",i]])for(const p of h){const{inputs:m,outputs:g,events:v,extra:y,error:b,serialized:w,attachments:_,...S}=p,C={inputs:m,outputs:g,events:v,extra:y,error:b,serialized:w},T=oa(S,`Serializing for multipart ingestion of run with id: ${S.id}`);c.push({name:`${d}.${S.id}`,payload:new Blob([T],{type:`application/json; length=${T.length}`})});for(const[x,N]of Object.entries(C)){if(N===void 0)continue;const k=oa(N,`Serializing ${x} for multipart ingestion of run with id: ${S.id}`);c.push({name:`${d}.${S.id}.${x}`,payload:new Blob([k],{type:`application/json; length=${k.length}`})})}if(S.id!==void 0){const x=s[S.id];if(x){delete s[S.id];for(const[N,k]of Object.entries(x)){let A,O;if(Array.isArray(k)?[A,O]=k:(A=k.mimeType,O=k.data),N.includes(".")){console.warn(`Skipping attachment '${N}' for run ${S.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}c.push({name:`attachment.${S.id}.${N}`,payload:new Blob([O],{type:`${A}; length=${O.byteLength}`})})}}}u.push(`trace=${S.trace_id},id=${S.id}`)}await this._sendMultipartRequest(c,u.join("; "),r)}async _createNodeFetchBody(t,n){const r=[];for(const i of t)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${i.name}"\r
`,`Content-Type: ${i.payload.type}\r
\r
`])),r.push(i.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(t,n){const r=new TextEncoder;return new ReadableStream({async start(a){const i=async o=>{typeof o=="string"?a.enqueue(r.encode(o)):a.enqueue(o)};for(const o of t){await i(`--${n}\r
`),await i(`Content-Disposition: form-data; name="${o.name}"\r
`),await i(`Content-Type: ${o.payload.type}\r
\r
`);const u=o.payload.stream().getReader();try{let c;for(;!(c=await u.read()).done;)a.enqueue(c.value)}finally{u.releaseLock()}await i(`\r
`)}await i(`--${n}--\r
`),a.close()}})}async _sendMultipartRequest(t,n,r){const s="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),a=L3e(),i=()=>this._createNodeFetchBody(t,s),o=()=>this._createMultipartStream(t,s),l=async u=>this.batchIngestCaller.callWithOptions({sizeBytes:r==null?void 0:r.sizeBytes},async()=>{const c=await u(),d={...this.headers,"Content-Type":`multipart/form-data; boundary=${s}`};(r==null?void 0:r.apiKey)!==void 0&&(d["x-api-key"]=r.apiKey);let h=c;r!=null&&r.useGzip&&typeof c=="object"&&"pipeThrough"in c&&(h=c.pipeThrough(new CompressionStream("gzip")),d["Content-Encoding"]="gzip");const p=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart`,{method:"POST",headers:d,body:h,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(p,"Failed to send multipart request",!0),p});try{let u,c=!1;!a&&!this.multipartStreamingDisabled&&OL()!=="bun"?(c=!0,u=await l(o)):u=await l(i),(!this.multipartStreamingDisabled||c)&&u.status===422&&((r==null?void 0:r.apiUrl)??this.apiUrl)!==Y5&&(console.warn(`Streaming multipart upload to ${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${n}".`),this.multipartStreamingDisabled=!0,u=await l(i))}catch(u){if(W5(u))throw u;console.warn(`${u.message.trim()}

Context: ${n}`)}}async updateRun(t,n,r){an(t),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const s={...n,id:t};if(!this._filterForSampling([s],!0).length)return;if(this.autoBatchTracing&&s.trace_id!==void 0&&s.dotted_order!==void 0){const o=this._cloneCurrentOTELContext();if(n.end_time!==void 0&&s.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:s,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:s,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}const a={...this.headers,"Content-Type":"application/json"};(r==null?void 0:r.apiKey)!==void 0&&(a["x-api-key"]=r.apiKey),(r==null?void 0:r.workspaceId)!==void 0&&(a["x-tenant-id"]=r.workspaceId);const i=oa(n,`Serializing payload to update run with id: ${t}`);await this.caller.call(async()=>{const o=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/${t}`,{method:"PATCH",headers:a,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Dt(o,"update run",!0),o})}async readRun(t,{loadChildRuns:n}={loadChildRuns:!1}){an(t);let r=await this._get(`/runs/${t}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:t,run:n,projectOpts:r}){if(n!==void 0){let s;n.session_id?s=n.session_id:r!=null&&r.projectName?s=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?s=r==null?void 0:r.projectId:s=(await this.readProject({projectName:Ps("PROJECT")||"default"})).id;const a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${s}/r/${n.id}?poll=true`}else if(t!==void 0){const s=await this.readRun(t);if(!s.app_path)throw new Error(`Run ${t} has no app_path`);return`${this.getHostUrl()}${s.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(t){var a;const n=await JSe(this.listRuns({isRoot:!1,projectId:t.session_id,traceId:t.trace_id})),r={},s={};n.sort((i,o)=>((i==null?void 0:i.dotted_order)??"").localeCompare((o==null?void 0:o.dotted_order)??""));for(const i of n){if(i.parent_run_id===null||i.parent_run_id===void 0)throw new Error(`Child run ${i.id} has no parent`);(a=i.dotted_order)!=null&&a.startsWith(t.dotted_order??"")&&i.id!==t.id&&(i.parent_run_id in r||(r[i.parent_run_id]=[]),r[i.parent_run_id].push(i),s[i.id]=i)}t.child_runs=r[t.id]||[];for(const i in r)i!==t.id&&(s[i].child_runs=r[i]);return t}async*listRuns(t){const{projectId:n,projectName:r,parentRunId:s,traceId:a,referenceExampleId:i,startTime:o,executionOrder:l,isRoot:u,runType:c,error:d,id:h,query:p,filter:m,traceFilter:g,treeFilter:v,limit:y,select:b,order:w}=t;let _=[];if(n&&(_=Array.isArray(n)?n:[n]),r){const x=Array.isArray(r)?r:[r],N=await Promise.all(x.map(k=>this.readProject({projectName:k}).then(A=>A.id)));_.push(...N)}const S=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],C={session:_.length?_:null,run_type:c,reference_example:i,query:p,filter:m,trace_filter:g,tree_filter:v,execution_order:l,parent_run:s,start_time:o?o.toISOString():null,error:d,id:h,limit:y,trace:a,select:b||S,is_root:u,order:w};C.select.includes("child_run_ids")&&wL("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let T=0;for await(const x of this._getCursorPaginatedList("/runs/query",C))if(y){if(T>=y)break;if(x.length+T>y){yield*x.slice(0,y-T);break}T+=x.length,yield*x}else yield*x}async*listGroupRuns(t){const{projectId:n,projectName:r,groupBy:s,filter:a,startTime:i,endTime:o,limit:l,offset:u}=t,d={session_id:n||(await this.readProject({projectName:r})).id,group_by:s,filter:a,start_time:i?i.toISOString():null,end_time:o?o.toISOString():null,limit:Number(l)||100};let h=Number(u)||0;const p="/runs/group",m=`${this.apiUrl}${p}`;for(;;){const g={...d,offset:h},v=Object.fromEntries(Object.entries(g).filter(([C,T])=>T!==void 0)),y=JSON.stringify(v),w=await(await this.caller.call(async()=>{const C=await this._fetch(m,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:y});return await Dt(C,`Failed to fetch ${p}`),C})).json(),{groups:_,total:S}=w;if(_.length===0)break;for(const C of _)yield C;if(h+=_.length,h>=S)break}}async getRunStats({id:t,trace:n,parentRun:r,runType:s,projectNames:a,projectIds:i,referenceExampleIds:o,startTime:l,endTime:u,error:c,query:d,filter:h,traceFilter:p,treeFilter:m,isRoot:g,dataSourceType:v}){let y=i||[];a&&(y=[...i||[],...await Promise.all(a.map(T=>this.readProject({projectName:T}).then(x=>x.id)))]);const w=Object.fromEntries(Object.entries({id:t,trace:n,parent_run:r,run_type:s,session:y,reference_example:o,start_time:l,end_time:u,error:c,query:d,filter:h,trace_filter:p,tree_filter:m,is_root:g,data_source_type:v}).filter(([T,x])=>x!==void 0)),_=JSON.stringify(w);return await(await this.caller.call(async()=>{const T=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await Dt(T,"get run stats"),T})).json()}async shareRun(t,{shareId:n}={}){const r={run_id:t,share_token:n||Du()};an(t);const s=JSON.stringify(r),i=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/runs/${t}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Dt(o,"share run"),o})).json();if(i===null||!("share_token"in i))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${i.share_token}/r`}async unshareRun(t){an(t),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/runs/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(n,"unshare run",!0),n})}async readRunSharedLink(t){an(t);const r=await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/runs/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(s,"read run shared link"),s})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(t,{runIds:n}={}){const r=new URLSearchParams({share_token:t});if(n!==void 0)for(const i of n)r.append("id",i);return an(t),await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/public/${t}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(i,"list shared runs"),i})).json()}async readDatasetSharedSchema(t,n){if(!t&&!n)throw new Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:n})).id),an(t);const s=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/datasets/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(a,"read dataset shared schema"),a})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async shareDataset(t,n){if(!t&&!n)throw new Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:n})).id);const r={dataset_id:t};an(t);const s=JSON.stringify(r),i=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${t}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Dt(o,"share dataset"),o})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async unshareDataset(t){an(t),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/datasets/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(n,"unshare dataset",!0),n})}async readSharedDataset(t){return an(t),await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/public/${t}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(s,"read shared dataset"),s})).json()}async listSharedExamples(t,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const s=new URLSearchParams;Object.entries(r).forEach(([o,l])=>{Array.isArray(l)?l.forEach(u=>s.append(o,u)):s.append(o,l)});const a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/public/${t}/examples?${s.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(o,"list shared examples"),o}),i=await a.json();if(!a.ok)throw"detail"in i?new Error(`Failed to list shared examples.
Status: ${a.status}
Message: ${Array.isArray(i.detail)?i.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${a.status} ${a.statusText}`);return i.map(o=>({...o,_hostUrl:this.getHostUrl()}))}async createProject({projectName:t,description:n=null,metadata:r=null,upsert:s=!1,projectExtra:a=null,referenceDatasetId:i=null}){const o=s?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,u=a||{};r&&(u.metadata=r);const c={name:t,extra:u,description:n};i!==null&&(c.reference_dataset_id=i);const d=JSON.stringify(c);return await(await this.caller.call(async()=>{const m=await this._fetch(l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:d});return await Dt(m,"create project"),m})).json()}async updateProject(t,{name:n=null,description:r=null,metadata:s=null,projectExtra:a=null,endTime:i=null}){const o=`${this.apiUrl}/sessions/${t}`;let l=a;s&&(l={...l||{},metadata:s});const u=JSON.stringify({name:n,extra:l,description:r,end_time:i?new Date(i).toISOString():null});return await(await this.caller.call(async()=>{const h=await this._fetch(o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Dt(h,"update project"),h})).json()}async hasProject({projectId:t,projectName:n}){let r="/sessions";const s=new URLSearchParams;if(t!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(t!==void 0)an(t),r+=`/${t}`;else if(n!==void 0)s.append("name",n);else throw new Error("Must provide projectName or projectId");const a=await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}${r}?${s}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(i,"has project"),i});try{const i=await a.json();return a.ok?Array.isArray(i)?i.length>0:!0:!1}catch{return!1}}async readProject({projectId:t,projectName:n,includeStats:r}){let s="/sessions";const a=new URLSearchParams;if(t!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(t!==void 0)an(t),s+=`/${t}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&a.append("include_stats",r.toString());const i=await this._get(s,a);let o;if(Array.isArray(i)){if(i.length===0)throw new Error(`Project[id=${t}, name=${n}] not found`);o=i[0]}else o=i;return o}async getProjectUrl({projectId:t,projectName:n}){if(t===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:t,projectName:n}),s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${r.id}`}async getDatasetUrl({datasetId:t,datasetName:n}){if(t===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:t,datasetName:n}),s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const t=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",t))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:t,name:n,nameContains:r,referenceDatasetId:s,referenceDatasetName:a,includeStats:i,datasetVersion:o,referenceFree:l,metadata:u}={}){const c=new URLSearchParams;if(t!==void 0)for(const d of t)c.append("id",d);if(n!==void 0&&c.append("name",n),r!==void 0&&c.append("name_contains",r),s!==void 0)c.append("reference_dataset",s);else if(a!==void 0){const d=await this.readDataset({datasetName:a});c.append("reference_dataset",d.id)}i!==void 0&&c.append("include_stats",i.toString()),o!==void 0&&c.append("dataset_version",o),l!==void 0&&c.append("reference_free",l.toString()),u!==void 0&&c.append("metadata",JSON.stringify(u));for await(const d of this._getPaginated("/sessions",c))yield*d}async deleteProject({projectId:t,projectName:n}){let r;if(t===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(t!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");t===void 0?r=(await this.readProject({projectName:n})).id:r=t,an(r),await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(s,`delete session ${r} (${n})`,!0),s})}async uploadCsv({csvFile:t,fileName:n,inputKeys:r,outputKeys:s,description:a,dataType:i,name:o}){const l=`${this.apiUrl}/datasets/upload`,u=new FormData,c=new Blob([t],{type:"text/csv"});return u.append("file",c,n),r.forEach(p=>{u.append("input_keys",p)}),s.forEach(p=>{u.append("output_keys",p)}),a&&u.append("description",a),i&&u.append("data_type",i),o&&u.append("name",o),await(await this.caller.call(async()=>{const p=await this._fetch(l,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Dt(p,"upload CSV"),p})).json()}async createDataset(t,{description:n,dataType:r,inputsSchema:s,outputsSchema:a,metadata:i}={}){const o={name:t,description:n,extra:i?{metadata:i}:void 0};r&&(o.data_type=r),s&&(o.inputs_schema_definition=s),a&&(o.outputs_schema_definition=a);const l=JSON.stringify(o);return await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Dt(d,"create dataset"),d})).json()}async readDataset({datasetId:t,datasetName:n}){let r="/datasets";const s=new URLSearchParams({limit:"1"});if(t&&n)throw new Error("Must provide either datasetName or datasetId, not both");if(t)an(t),r+=`/${t}`;else if(n)s.append("name",n);else throw new Error("Must provide datasetName or datasetId");const a=await this._get(r,s);let i;if(Array.isArray(a)){if(a.length===0)throw new Error(`Dataset[id=${t}, name=${n}] not found`);i=a[0]}else i=a;return i}async hasDataset({datasetId:t,datasetName:n}){try{return await this.readDataset({datasetId:t,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:t,datasetName:n,fromVersion:r,toVersion:s}){let a=t;if(a===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:n})).id);const i=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof s=="string"?s:s.toISOString()});return await this._get(`/datasets/${a}/versions/diff`,i)}async readDatasetOpenaiFinetuning({datasetId:t,datasetName:n}){const r="/datasets";if(t===void 0)if(n!==void 0)t=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${t}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:t=100,offset:n=0,datasetIds:r,datasetName:s,datasetNameContains:a,metadata:i}={}){const o="/datasets",l=new URLSearchParams({limit:t.toString(),offset:n.toString()});if(r!==void 0)for(const u of r)l.append("id",u);s!==void 0&&l.append("name",s),a!==void 0&&l.append("name_contains",a),i!==void 0&&l.append("metadata",JSON.stringify(i));for await(const u of this._getPaginated(o,l))yield*u}async updateDataset(t){const{datasetId:n,datasetName:r,...s}=t;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const a=n??(await this.readDataset({datasetName:r})).id;an(a);const i=JSON.stringify(s);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Dt(l,"update dataset"),l})).json()}async updateDatasetTag(t){const{datasetId:n,datasetName:r,asOf:s,tag:a}=t;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const i=n??(await this.readDataset({datasetName:r})).id;an(i);const o=JSON.stringify({as_of:typeof s=="string"?s:s.toISOString(),tag:a});await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${i}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Dt(l,"update dataset tags",!0),l})}async deleteDataset({datasetId:t,datasetName:n}){let r="/datasets",s=t;if(t!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(s=(await this.readDataset({datasetName:n})).id),s!==void 0)an(s),r+=`/${s}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const a=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(a,`delete ${r}`,!0),a})}async indexDataset({datasetId:t,datasetName:n,tag:r}){let s=t;if(!s&&!n)throw new Error("Must provide either datasetName or datasetId");if(s&&n)throw new Error("Must provide either datasetName or datasetId, not both");s||(s=(await this.readDataset({datasetName:n})).id),an(s);const i=JSON.stringify({tag:r});await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${s}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Dt(l,"index dataset"),l})).json()}async similarExamples(t,n,r,{filter:s}={}){const a={limit:r,inputs:t};s!==void 0&&(a.filter=s),an(n);const i=JSON.stringify(a);return(await(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/datasets/${n}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:i});return await Dt(u,"fetch similar examples"),u})).json()).examples}async createExample(t,n,r){var c;if(q5(t)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let s=n?r==null?void 0:r.datasetId:t.dataset_id;const a=n?r==null?void 0:r.datasetName:t.dataset_name;if(s===void 0&&a===void 0)throw new Error("Must provide either datasetName or datasetId");if(s!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");s===void 0&&(s=(await this.readDataset({datasetName:a})).id);const i=(n?r==null?void 0:r.createdAt:t.created_at)||new Date;let o;q5(t)?o=t:o={inputs:t,outputs:n,created_at:i==null?void 0:i.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const l=await this._uploadExamplesMultipart(s,[o]);return await this.readExample(((c=l.example_ids)==null?void 0:c[0])??Du())}async createExamples(t){if(Array.isArray(t)){if(t.length===0)return[];const b=t;let w=b[0].dataset_id;const _=b[0].dataset_name;if(w===void 0&&_===void 0)throw new Error("Must provide either datasetName or datasetId");if(w!==void 0&&_!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");w===void 0&&(w=(await this.readDataset({datasetName:_})).id);const S=await this._uploadExamplesMultipart(w,b);return await Promise.all(S.example_ids.map(T=>this.readExample(T)))}const{inputs:n,outputs:r,metadata:s,splits:a,sourceRunIds:i,useSourceRunIOs:o,useSourceRunAttachments:l,attachments:u,exampleIds:c,datasetId:d,datasetName:h}=t;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let p=d;const m=h;if(p===void 0&&m===void 0)throw new Error("Must provide either datasetName or datasetId");if(p!==void 0&&m!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");p===void 0&&(p=(await this.readDataset({datasetName:m})).id);const g=n.map((b,w)=>({dataset_id:p,inputs:b,outputs:r==null?void 0:r[w],metadata:s==null?void 0:s[w],split:a==null?void 0:a[w],id:c==null?void 0:c[w],attachments:u==null?void 0:u[w],source_run_id:i==null?void 0:i[w],use_source_run_io:o==null?void 0:o[w],use_source_run_attachments:l==null?void 0:l[w]})),v=await this._uploadExamplesMultipart(p,g);return await Promise.all(v.example_ids.map(b=>this.readExample(b)))}async createLLMExample(t,n,r){return this.createExample({input:t},{output:n},r)}async createChatExample(t,n,r){const s=t.map(i=>L5(i)?D5(i):i),a=L5(n)?D5(n):n;return this.createExample({input:s},{output:a},r)}async readExample(t){an(t);const n=`/examples/${t}`,r=await this._get(n),{attachment_urls:s,...a}=r,i=a;return s&&(i.attachments=Object.entries(s).reduce((o,[l,u])=>(o[l.slice(11)]={presigned_url:u.presigned_url,mime_type:u.mime_type},o),{})),i}async*listExamples({datasetId:t,datasetName:n,exampleIds:r,asOf:s,splits:a,inlineS3Urls:i,metadata:o,limit:l,offset:u,filter:c,includeAttachments:d}={}){let h;if(t!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0)h=t;else if(n!==void 0)h=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const p=new URLSearchParams({dataset:h}),m=s?typeof s=="string"?s:s==null?void 0:s.toISOString():void 0;m&&p.append("as_of",m);const g=i??!0;if(p.append("inline_s3_urls",g.toString()),r!==void 0)for(const y of r)p.append("id",y);if(a!==void 0)for(const y of a)p.append("splits",y);if(o!==void 0){const y=JSON.stringify(o);p.append("metadata",y)}l!==void 0&&p.append("limit",l.toString()),u!==void 0&&p.append("offset",u.toString()),c!==void 0&&p.append("filter",c),d===!0&&["attachment_urls","outputs","metadata"].forEach(y=>p.append("select",y));let v=0;for await(const y of this._getPaginated("/examples",p)){for(const b of y){const{attachment_urls:w,..._}=b,S=_;w&&(S.attachments=Object.entries(w).reduce((C,[T,x])=>(C[T.slice(11)]={presigned_url:x.presigned_url,mime_type:x.mime_type||void 0},C),{})),yield S,v++}if(l!==void 0&&v>=l)break}}async deleteExample(t){an(t);const n=`/examples/${t}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(r,`delete ${n}`,!0),r})}async deleteExamples(t,n){if(t.forEach(r=>an(r)),n!=null&&n.hardDelete){const r=this._getPlatformEndpointPath("datasets/examples/delete");await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}${r}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({example_ids:t,hard_delete:!0}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(s,"hard delete examples",!0),s})}else{const r=new URLSearchParams;t.forEach(s=>r.append("example_ids",s)),await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/examples?${r.toString()}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(s,"delete examples",!0),s})}}async updateExample(t,n){let r;n?r=t:r=t.id,an(r);let s;n?s={id:r,...n}:s=t;let a;return s.dataset_id!==void 0?a=s.dataset_id:a=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(a,[s])}async updateExamples(t){let n;return t[0].dataset_id===void 0?n=(await this.readExample(t[0].id)).dataset_id:n=t[0].dataset_id,this._updateExamplesMultipart(n,t)}async readDatasetVersion({datasetId:t,datasetName:n,asOf:r,tag:s}){let a;if(t?a=t:a=(await this.readDataset({datasetName:n})).id,an(a),r&&s||!r&&!s)throw new Error("Exactly one of asOf and tag must be specified.");const i=new URLSearchParams;return r!==void 0&&i.append("as_of",typeof r=="string"?r:r.toISOString()),s!==void 0&&i.append("tag",s),await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}/version?${i.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(l,"read dataset version"),l})).json()}async listDatasetSplits({datasetId:t,datasetName:n,asOf:r}){let s;if(t===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(t!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");t===void 0?s=(await this.readDataset({datasetName:n})).id:s=t,an(s);const a=new URLSearchParams,i=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return i&&a.append("as_of",i),await this._get(`/datasets/${s}/splits`,a)}async updateDatasetSplits({datasetId:t,datasetName:n,splitName:r,exampleIds:s,remove:a=!1}){let i;if(t===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(t!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");t===void 0?i=(await this.readDataset({datasetName:n})).id:i=t,an(i);const o={split_name:r,examples:s.map(u=>(an(u),u)),remove:a},l=JSON.stringify(o);await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/datasets/${i}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Dt(u,"update dataset splits",!0),u})}async createFeedback(t,n,{score:r,value:s,correction:a,comment:i,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:u,feedbackId:c,feedbackConfig:d,projectId:h,comparativeExperimentId:p,sessionId:m,startTime:g}){var _;if(!t&&!h)throw new Error("One of runId or projectId must be provided");if(t&&h)throw new Error("Only one of runId or projectId can be provided");const v={type:l??"api",metadata:o??{}};u!==void 0&&(v==null?void 0:v.metadata)!==void 0&&!v.metadata.__run&&(v.metadata.__run={run_id:u}),(v==null?void 0:v.metadata)!==void 0&&((_=v.metadata.__run)==null?void 0:_.run_id)!==void 0&&an(v.metadata.__run.run_id);const y={id:c??Du(),run_id:t,key:n,score:Z5(r),value:s,correction:a,comment:i,feedback_source:v,comparative_experiment_id:p,feedbackConfig:d,session_id:m??h,start_time:g},b=JSON.stringify(y),w=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const S=await this._fetch(w,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:b});return await Dt(S,"create feedback",!0),S}),y}async updateFeedback(t,{score:n,value:r,correction:s,comment:a}){const i={};n!=null&&(i.score=Z5(n)),r!=null&&(i.value=r),s!=null&&(i.correction=s),a!=null&&(i.comment=a),an(t);const o=JSON.stringify(i);await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Dt(l,"update feedback",!0),l})}async readFeedback(t){an(t);const n=`/feedback/${t}`;return await this._get(n)}async deleteFeedback(t){an(t);const n=`/feedback/${t}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(r,`delete ${n}`,!0),r})}async*listFeedback({runIds:t,feedbackKeys:n,feedbackSourceTypes:r}={}){const s=new URLSearchParams;if(t)for(const a of t)an(a),s.append("run",a);if(n)for(const a of n)s.append("key",a);if(r)for(const a of r)s.append("source",a);for await(const a of this._getPaginated("/feedback",s))yield*a}async createPresignedFeedbackToken(t,n,{expiration:r,feedbackConfig:s}={}){const a={run_id:t,feedback_key:n,feedback_config:s};r?typeof r=="string"?a.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(a.expires_in=r):a.expires_in={hours:3};const i=JSON.stringify(a);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Dt(l,"create presigned feedback token"),l})).json()}async createComparativeExperiment({name:t,experimentIds:n,referenceDatasetId:r,createdAt:s,description:a,metadata:i,id:o}){var d;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const l={id:o,name:t,experiment_ids:n,reference_dataset_id:r,description:a,created_at:(d=s??new Date)==null?void 0:d.toISOString(),extra:{}};i&&(l.extra.metadata=i);const u=JSON.stringify(l);return(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Dt(h,"create comparative experiment"),h})).json()}async*listPresignedFeedbackTokens(t){an(t);const n=new URLSearchParams({run_id:t});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(t){let n;return"results"in t?n=t.results:Array.isArray(t)?n=t:n=[t],n}async _logEvaluationFeedback(t,n,r){const s=this._selectEvalResults(t),a=[];for(const i of s){let o=r||{};i.evaluatorInfo&&(o={...i.evaluatorInfo,...o});let l=null;i.targetRunId?l=i.targetRunId:n&&(l=n.id),a.push(await this.createFeedback(l,i.key,{score:i.score,value:i.value,comment:i.comment,correction:i.correction,sourceInfo:o,sourceRunId:i.sourceRunId,feedbackConfig:i.feedbackConfig,feedbackSourceType:"model",sessionId:n==null?void 0:n.session_id,startTime:n==null?void 0:n.start_time}))}return[s,a]}async logEvaluationFeedback(t,n,r){const[s]=await this._logEvaluationFeedback(t,n,r);return s}async*listAnnotationQueues(t={}){const{queueIds:n,name:r,nameContains:s,limit:a}=t,i=new URLSearchParams;n&&n.forEach((l,u)=>{an(l,`queueIds[${u}]`),i.append("ids",l)}),r&&i.append("name",r),s&&i.append("name_contains",s),i.append("limit",(a!==void 0?Math.min(a,100):100).toString());let o=0;for await(const l of this._getPaginated("/annotation-queues",i))if(yield*l,o++,a!==void 0&&o>=a)break}async createAnnotationQueue(t){const{name:n,description:r,queueId:s,rubricInstructions:a}=t,i={name:n,description:r,id:s||Du(),rubric_instructions:a},o=JSON.stringify(Object.fromEntries(Object.entries(i).filter(([u,c])=>c!==void 0)));return(await this.caller.call(async()=>{const u=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Dt(u,"create annotation queue"),u})).json()}async readAnnotationQueue(t){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${an(t,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(r,"read annotation queue"),r})).json()}async updateAnnotationQueue(t,n){const{name:r,description:s,rubricInstructions:a}=n,i=JSON.stringify({name:r,description:s,rubric_instructions:a});await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/annotation-queues/${an(t,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Dt(o,"update annotation queue",!0),o})}async deleteAnnotationQueue(t){await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/annotation-queues/${an(t,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(n,"delete annotation queue",!0),n})}async addRunsToAnnotationQueue(t,n){const r=JSON.stringify(n.map((s,a)=>an(s,`runIds[${a}]`).toString()));await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/annotation-queues/${an(t,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Dt(s,"add runs to annotation queue",!0),s})}async getRunFromAnnotationQueue(t,n){const r=`/annotation-queues/${an(t,"queueId")}/run`;return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(a,"get run from annotation queue"),a})).json()}async deleteRunFromAnnotationQueue(t,n){await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${an(t,"queueId")}/runs/${an(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(r,"delete run from annotation queue",!0),r})}async getSizeFromAnnotationQueue(t){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${an(t,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(r,"get size from annotation queue"),r})).json()}async _currentTenantIsOwner(t){const n=await this._getSettings();return t=="-"||n.tenant_handle===t}async _ownerConflictError(t,n){const r=await this._getSettings();return new Error(`Cannot ${t} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(t){const r=await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/commits/${t}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(s,"get latest commit hash"),s})).json();if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(t,n){const[r,s,a]=El(t),i=JSON.stringify({like:n});return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/likes/${r}/${s}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Dt(l,`${n?"like":"unlike"} prompt`),l})).json()}async _getPromptUrl(t){const[n,r,s]=El(t);if(await this._currentTenantIsOwner(n)){const a=await this._getSettings();return s!=="latest"?`${this.getHostUrl()}/prompts/${r}/${s.substring(0,8)}?organizationId=${a.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${a.id}`}else return s!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${s.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(t){return!!await this.getPrompt(t)}async likePrompt(t){return this._likeOrUnlikePrompt(t,!0)}async unlikePrompt(t){return this._likeOrUnlikePrompt(t,!1)}async*listCommits(t){for await(const n of this._getPaginated(`/commits/${t}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(t){const n=new URLSearchParams;n.append("sort_field",(t==null?void 0:t.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(t!=null&&t.isArchived)).toString()),(t==null?void 0:t.isPublic)!==void 0&&n.append("is_public",t.isPublic.toString()),t!=null&&t.query&&n.append("query",t.query);for await(const r of this._getPaginated("/repos",n,s=>s.repos))yield*r}async getPrompt(t){const[n,r,s]=El(t),a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return(o==null?void 0:o.status)===404?null:(await Dt(o,"get prompt"),o)}),i=await(a==null?void 0:a.json());return i!=null&&i.repo?i.repo:null}async createPrompt(t,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[s,a,i]=El(t);if(!await this._currentTenantIsOwner(s))throw await this._ownerConflictError("create a prompt",s);const o={repo_handle:a,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},l=JSON.stringify(o),u=await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Dt(d,"create prompt"),d}),{repo:c}=await u.json();return c}async createCommit(t,n,r){if(!await this.promptExists(t))throw new Error("Prompt does not exist, you must create it first.");const[s,a,i]=El(t),o=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${s}/${a}`):r==null?void 0:r.parentCommitHash,l={manifest:JSON.parse(JSON.stringify(n)),parent_commit:o},u=JSON.stringify(l),d=await(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/commits/${s}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Dt(h,"create commit"),h})).json();return this._getPromptUrl(`${s}/${a}${d.commit_hash?`:${d.commit_hash}`:""}`)}async updateExamplesMultipart(t,n=[]){return this._updateExamplesMultipart(t,n)}async _updateExamplesMultipart(t,n=[]){var i;if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const o of n){const l=o.id,u={...o.metadata&&{metadata:o.metadata},...o.split&&{split:o.split}},c=oa(u,`Serializing body for example with id: ${l}`),d=new Blob([c],{type:"application/json"});if(r.append(l,d),o.inputs){const h=oa(o.inputs,`Serializing inputs for example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.inputs`,p)}if(o.outputs){const h=oa(o.outputs,`Serializing outputs whle updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.outputs`,p)}if(o.attachments)for(const[h,p]of Object.entries(o.attachments)){let m,g;Array.isArray(p)?[m,g]=p:(m=p.mimeType,g=p.data);const v=new Blob([g],{type:`${m}; length=${g.byteLength}`});r.append(`${l}.attachment.${h}`,v)}if(o.attachments_operations){const h=oa(o.attachments_operations,`Serializing attachments while updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.attachments_operations`,p)}}const s=t??((i=n[0])==null?void 0:i.dataset_id);return(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${s}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Dt(o,"update examples"),o})).json()}async uploadExamplesMultipart(t,n=[]){return this._uploadExamplesMultipart(t,n)}async _uploadExamplesMultipart(t,n=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const a of n){const i=(a.id??Du()).toString(),o={created_at:a.created_at,...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split},...a.source_run_id&&{source_run_id:a.source_run_id},...a.use_source_run_io&&{use_source_run_io:a.use_source_run_io},...a.use_source_run_attachments&&{use_source_run_attachments:a.use_source_run_attachments}},l=oa(o,`Serializing body for uploaded example with id: ${i}`),u=new Blob([l],{type:"application/json"});if(r.append(i,u),a.inputs){const c=oa(a.inputs,`Serializing inputs for uploaded example with id: ${i}`),d=new Blob([c],{type:"application/json"});r.append(`${i}.inputs`,d)}if(a.outputs){const c=oa(a.outputs,`Serializing outputs for uploaded example with id: ${i}`),d=new Blob([c],{type:"application/json"});r.append(`${i}.outputs`,d)}if(a.attachments)for(const[c,d]of Object.entries(a.attachments)){let h,p;Array.isArray(d)?[h,p]=d:(h=d.mimeType,p=d.data);const m=new Blob([p],{type:`${h}; length=${p.byteLength}`});r.append(`${i}.attachment.${c}`,m)}}return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${t}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Dt(a,"upload examples"),a})).json()}async updatePrompt(t,n){if(!await this.promptExists(t))throw new Error("Prompt does not exist, you must create it first.");const[r,s]=El(t);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const a={};if((n==null?void 0:n.description)!==void 0&&(a.description=n.description),(n==null?void 0:n.readme)!==void 0&&(a.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(a.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(a.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(a.is_archived=n.isArchived),Object.keys(a).length===0)throw new Error("No valid update options provided");const i=JSON.stringify(a);return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/repos/${r}/${s}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Dt(l,"update prompt"),l})).json()}async deletePrompt(t){if(!await this.promptExists(t))throw new Error("Prompt does not exist, you must create it first.");const[n,r,s]=El(t);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(i,"delete prompt"),i})).json()}_getPromptCacheKey(t,n){return`${t}${n?":with_model":""}`}async _fetchPromptFromApi(t,n){const[r,s,a]=El(t),o=await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/commits/${r}/${s}/${a}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Dt(l,"pull prompt commit"),l})).json();return{owner:r,repo:s,commit_hash:o.commit_hash,manifest:o.manifest,examples:o.examples}}async pullPromptCommit(t,n){const r=this._fetchPromptFromApi.bind(this,t,n);if(!(n!=null&&n.skipCache)&&this._promptCache){const s=this._getPromptCacheKey(t,n==null?void 0:n.includeModel),a=this._promptCache.get(s,r);if(a)return a;const i=await r();return this._promptCache.set(s,i,r),i}return this._fetchPromptFromApi(t,n)}async _pullPrompt(t,n){const r=await this.pullPromptCommit(t,{includeModel:n==null?void 0:n.includeModel,skipCache:n==null?void 0:n.skipCache});return JSON.stringify(r.manifest)}async pushPrompt(t,n){return await this.promptExists(t)?n&&Object.keys(n).some(s=>s!=="object")&&await this.updatePrompt(t,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(t,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(t,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(t)}async clonePublicDataset(t,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:s}=n,[a,i]=this.parseTokenOrUrl(t,r),o=new $p({apiUrl:a,apiKey:"placeholder"}),l=await o.readSharedDataset(i),u=s||l.name;try{if(await this.hasDataset({datasetId:u})){console.log(`Dataset ${u} already exists in your tenant. Skipping.`);return}}catch{}const c=await o.listSharedExamples(i),d=await this.createDataset(u,{description:l.description,dataType:l.data_type||"kv",inputsSchema:l.inputs_schema_definition??void 0,outputsSchema:l.outputs_schema_definition??void 0});try{await this.createExamples({inputs:c.map(h=>h.inputs),outputs:c.flatMap(h=>h.outputs?[h.outputs]:[]),datasetId:d.id})}catch(h){throw console.error(`An error occurred while creating dataset ${u}. You should delete it manually.`),h}}parseTokenOrUrl(t,n,r=2,s="dataset"){try{return an(t),[n,t]}catch{}try{const i=new URL(t).pathname.split("/").filter(o=>o!=="");if(i.length>=r){const o=i[i.length-r];return[n,o]}else throw new Error(`Invalid public ${s} URL: ${t}`)}catch{throw new Error(`Invalid public ${s} URL or token: ${t}`)}}cleanup(){this._promptCache&&this._promptCache.stop()}async awaitPendingTraceBatches(){var t,n;if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await new Promise(r=>setTimeout(r,1)),await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:r})=>r),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await((n=(t=I6e())==null?void 0:t.DEFAULT_LANGSMITH_SPAN_PROCESSOR)==null?void 0:n.forceFlush())}}function q5(e){return"dataset_id"in e||"dataset_name"in e}const s4e=e=>!!["TRACING_V2","TRACING"].find(n=>Ps(n)==="true"),Zl=Symbol.for("lc:context_variables"),v2=Symbol.for("langsmith:replica_trace_roots");function X5(e,t){if(Zl in e)return e[Zl][t]}function a4e(e,t,n){const r=Zl in e?e[Zl]:{};r[t]=n,e[Zl]=r}const i4e="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function J5(e){const n=Object.keys(e).sort().map(r=>`${r}:${e[r]??""}`).join("|");return s3e(n,i4e)}function o4e(e){return e.replace(/[-:.]/g,"")}function WL(e,t=1){const n=t.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${n}Z`}function KL(e,t,n=1){const r=WL(e,n);return{dottedOrder:o4e(r)+t,microsecondPrecisionDatestring:r}}const l4e=new Set(["projectName","updates","reroot"]);function u4e(e){const t={};for(const n of Object.keys(e))l4e.has(n)&&(t[n]=e[n]);return t}class L0{constructor(t,n,r,s){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=t,this.tags=n,this.project_name=r,this.replicas=s}static fromHeader(t){const n=t.split(",");let r={},s=[],a,i;for(const o of n){const[l,u]=o.split("="),c=decodeURIComponent(u);l==="langsmith-metadata"?r=JSON.parse(c):l==="langsmith-tags"?s=c.split(","):l==="langsmith-project"?a=c:l==="langsmith-replicas"&&(i=JSON.parse(c).map(h=>Array.isArray(h)?h:u4e(h)))}return new L0(r,s,a,i)}toHeader(){const t=[];return this.metadata&&Object.keys(this.metadata).length>0&&t.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&t.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&t.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),t.join(",")}}class Gs{constructor(t){var o;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_awaitInputsOnPost",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),c4e(t)){Object.assign(this,{...t});return}const n=Gs.getDefaultConfig(),{metadata:r,...s}=t,a=s.client??Gs.getSharedClient(),i={...r,...(o=s==null?void 0:s.extra)==null?void 0:o.metadata};if(s.extra={...s.extra,metadata:i},"id"in s&&s.id==null&&delete s.id,Object.assign(this,{...n,...s,client:a}),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),this.dotted_order||(this._serialized_start_time=WL(this.start_time,this.execution_order)),this.id||(this.id=a6e(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=p4e(this.replicas),!this.dotted_order){const{dottedOrder:l}=KL(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+l:this.dotted_order=l}}set metadata(t){var n;this.extra={...this.extra,metadata:{...(n=this.extra)==null?void 0:n.metadata,...t}}}get metadata(){var t;return(t=this.extra)==null?void 0:t.metadata}static getDefaultConfig(){const t=Date.now();return{run_type:"chain",project_name:bL(),child_runs:[],api_url:wo("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:wo("LANGCHAIN_API_KEY"),caller_options:{},start_time:t,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return Gs.sharedClient||(Gs.sharedClient=new $p),Gs.sharedClient}createChild(t){var c,d,h,p,m,g,v;const n=this.child_execution_order+1,r=(c=this.replicas)==null?void 0:c.map(y=>{const{reroot:b,...w}=y;return w}),s=t.replicas??r,a=new Gs({...t,parent_run:this,project_name:this.project_name,replicas:s,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});Zl in this&&(a[Zl]=this[Zl]);const i=Symbol.for("lc:child_config"),o=((d=t.extra)==null?void 0:d[i])??this.extra[i];if(f4e(o)){const y={...o},b=d4e(y.callbacks)?(p=(h=y.callbacks).copy)==null?void 0:p.call(h):void 0;b&&(Object.assign(b,{_parentRunId:a.id}),(v=(g=(m=b.handlers)==null?void 0:m.find(GL))==null?void 0:g.updateFromRunTree)==null||v.call(g,a),y.callbacks=b),a.extra[i]=y}const l=new Set;let u=this;for(;u!=null&&!l.has(u.id);)l.add(u.id),u.child_execution_order=Math.max(u.child_execution_order,n),u=u.parent_run;return this.child_runs.push(a),a}async end(t,n,r=Date.now(),s){this.outputs=this.outputs??t,this.error=this.error??n,this.end_time=this.end_time??r,s&&Object.keys(s).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...s}}:{metadata:s})}_convertToCreate(t,n,r=!0){var o,l;const s=t.extra??{};if(((o=s==null?void 0:s.runtime)==null?void 0:o.library)===void 0&&(s.runtime||(s.runtime={}),n))for(const[u,c]of Object.entries(n))s.runtime[u]||(s.runtime[u]=c);let a,i;return r?(i=((l=t.parent_run)==null?void 0:l.id)??t.parent_run_id,a=[]):(a=t.child_runs.map(u=>this._convertToCreate(u,n,r)),i=void 0),{id:t.id,name:t.name,start_time:t._serialized_start_time??t.start_time,end_time:t.end_time,run_type:t.run_type,reference_example_id:t.reference_example_id,extra:s,serialized:t.serialized,error:t.error,inputs:t.inputs,outputs:t.outputs,session_name:t.project_name,child_runs:a,parent_run_id:i,trace_id:t.trace_id,dotted_order:t.dotted_order,tags:t.tags,attachments:t.attachments,events:t.events}}_sliceParentId(t,n){if(n.dotted_order){const r=n.dotted_order.split(".");let s=null;for(let a=0;a<r.length;a++)if(r[a].slice(-36)===t){s=a;break}if(s!==null){const a=r.slice(s+1);n.dotted_order=a.join("."),a.length>0?n.trace_id=a[0].slice(-36):n.trace_id=n.id}}n.parent_run_id===t&&(n.parent_run_id=void 0)}_setReplicaTraceRoot(t,n){const r=X5(this,v2)??{};r[t]=n,a4e(this,v2,r);for(const s of this.child_runs)s._setReplicaTraceRoot(t,n)}_remapForProject(t){const{projectName:n,runtimeEnv:r,excludeChildRuns:s=!0,reroot:a=!1,distributedParentId:i,apiUrl:o,apiKey:l,workspaceId:u}=t,c=this._convertToCreate(this,r,s);if(n===this.project_name)return{...c,session_name:n};if(a){if(i)this._sliceParentId(i,c);else if(c.parent_run_id=void 0,c.dotted_order){const b=c.dotted_order.split(".");b.length>0&&(c.dotted_order=b[b.length-1],c.trace_id=c.id)}const y=J5({projectName:n,apiUrl:o,apiKey:l,workspaceId:u});this._setReplicaTraceRoot(y,c.id)}let d;if(!a){const y=X5(this,v2)??{},b=J5({projectName:n,apiUrl:o,apiKey:l,workspaceId:u});if(d=y[b],d&&(c.trace_id=d,c.dotted_order)){const w=c.dotted_order.split(".");let _=null;for(let S=0;S<w.length;S++)if(w[S].slice(-36)===d){_=S;break}if(_!==null){const S=w.slice(_);c.dotted_order=S.join(".")}}}const h=c.id,p=Rg(h,n);let m;c.trace_id?m=Rg(c.trace_id,n):m=p;let g;c.parent_run_id&&(g=Rg(c.parent_run_id,n));let v;return c.dotted_order&&(v=c.dotted_order.split(".").map(w=>{const _=w.slice(-36),S=Rg(_,n);return w.slice(0,-36)+S}).join(".")),{...c,id:p,trace_id:m,parent_run_id:g,dotted_order:v,session_name:n}}async postRun(t=!0){this._awaitInputsOnPost&&(this.inputs=await this.inputs);try{const n=$L();if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:s,apiUrl:a,workspaceId:i,reroot:o}of this.replicas){const l=this._remapForProject({projectName:r??this.project_name,runtimeEnv:n,excludeChildRuns:!0,reroot:o,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:s,workspaceId:i});await this.client.createRun(l,{apiKey:s,apiUrl:a,workspaceId:i})}else{const r=this._convertToCreate(this,n,t);await this.client.createRun(r)}if(!t){wL("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const r of this.child_runs)await r.postRun(!1)}this.child_runs=[]}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(t){var n;if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:s,apiUrl:a,workspaceId:i,updates:o,reroot:l}of this.replicas){const u=this._remapForProject({projectName:r??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:l,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:s,workspaceId:i}),c={id:u.id,name:u.name,run_type:u.run_type,start_time:u.start_time,outputs:u.outputs,error:u.error,parent_run_id:u.parent_run_id,session_name:u.session_name,reference_example_id:u.reference_example_id,end_time:u.end_time,dotted_order:u.dotted_order,trace_id:u.trace_id,events:u.events,tags:u.tags,extra:u.extra,attachments:this.attachments,...o};t!=null&&t.excludeInputs||(c.inputs=u.inputs),await this.client.updateRun(u.id,c,{apiKey:s,apiUrl:a,workspaceId:i})}else try{const r={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:((n=this.parent_run)==null?void 0:n.id)??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};t!=null&&t.excludeInputs||(r.inputs=this.inputs),await this.client.updateRun(this.id,r)}catch(r){console.error(`Error in patchRun for run ${this.id}`,r)}this.child_runs=[]}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(t){this.events||(this.events=[]),typeof t=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:t}):this.events.push({...t,time:t.time??new Date().toISOString()})}static fromRunnableConfig(t,n){var u,c,d,h;const r=t==null?void 0:t.callbacks;let s,a,i,o=s4e();if(r){const p=((u=r==null?void 0:r.getParentRunId)==null?void 0:u.call(r))??"",m=(c=r==null?void 0:r.handlers)==null?void 0:c.find(g=>(g==null?void 0:g.name)=="langchain_tracer");s=(d=m==null?void 0:m.getRun)==null?void 0:d.call(m,p),a=m==null?void 0:m.projectName,i=m==null?void 0:m.client,o=o||!!m}return s?new Gs({name:s.name,id:s.id,trace_id:s.trace_id,dotted_order:s.dotted_order,client:i,tracingEnabled:o,project_name:a,tags:[...new Set(((s==null?void 0:s.tags)??[]).concat((t==null?void 0:t.tags)??[]))],extra:{metadata:{...(h=s==null?void 0:s.extra)==null?void 0:h.metadata,...t==null?void 0:t.metadata}}}).createChild(n):new Gs({...n,client:i,tracingEnabled:o,project_name:a})}static fromDottedOrder(t){return this.fromHeaders({"langsmith-trace":t})}static fromHeaders(t,n){var c;const r="get"in t&&typeof t.get=="function"?{"langsmith-trace":t.get("langsmith-trace"),baggage:t.get("baggage")}:t,s=r["langsmith-trace"];if(!s||typeof s!="string")return;const a=s.trim(),i=a.split(".").map(d=>{const[h,p]=d.split("Z");return{strTime:h,time:Date.parse(h+"Z"),uuid:p}}),o=i[0].uuid,l={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(c=i.at(-1))==null?void 0:c.uuid,trace_id:o,dotted_order:a};if(r.baggage&&typeof r.baggage=="string"){const d=L0.fromHeader(r.baggage);l.metadata=d.metadata,l.tags=d.tags,l.project_name=d.project_name,l.replicas=d.replicas}const u=new Gs(l);return u.distributedParentId=u.id,u}toHeaders(t){var r;const n={"langsmith-trace":this.dotted_order,baggage:new L0((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(t)for(const[s,a]of Object.entries(n))t.set(s,a);return n}}Object.defineProperty(Gs,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function c4e(e){return e!=null&&typeof e.createChild=="function"&&typeof e.postRun=="function"}function GL(e){return typeof e=="object"&&e!=null&&typeof e.name=="string"&&e.name==="langchain_tracer"}function Q5(e){return Array.isArray(e)&&e.some(t=>GL(t))}function d4e(e){return typeof e=="object"&&e!=null&&Array.isArray(e.handlers)}function f4e(e){const t=e==null?void 0:e.callbacks;return e!=null&&typeof t=="object"&&(Q5(t==null?void 0:t.handlers)||Q5(t))}function h4e(){const e=wo("LANGSMITH_RUNS_ENDPOINTS");if(!e)return[];try{const t=JSON.parse(e);if(Array.isArray(t)){const n=[];for(const r of t){if(typeof r!="object"||r===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof r}`);continue}if(typeof r.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_url}`);continue}if(typeof r.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_key}`);continue}n.push({apiUrl:r.api_url.replace(/\/$/,""),apiKey:r.api_key})}return n}else if(typeof t=="object"&&t!==null){m4e(t);const n=[];for(const[r,s]of Object.entries(t)){const a=r.replace(/\/$/,"");if(typeof s=="string")n.push({apiUrl:a,apiKey:s});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${r}: expected string, got ${typeof s}`);continue}}return n}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof t}`),[]}catch(t){if(USe(t))throw t;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function p4e(e){return e?e.map(t=>Array.isArray(t)?{projectName:t[0],updates:t[1]}:t):h4e()}function m4e(e){if(Object.keys(e).length>0&&Ps("ENDPOINT"))throw new HSe}var g4e={};xn(g4e,{BaseTracer:()=>$f,isBaseTracer:()=>sd});const v4e=e=>{if(e)return e.events=e.events??[],e.child_runs=e.child_runs??[],e};function L_(e,t){if(e)return new Gs({...e,start_time:e._serialized_start_time??e.start_time,parent_run:L_(t),child_runs:e.child_runs.map(n=>L_(n)).filter(n=>n!==void 0),extra:{...e.extra,runtime:mL()},tracingEnabled:!1})}function y2(e,t){return e&&!Array.isArray(e)&&typeof e=="object"?e:{[t]:e}}function sd(e){return typeof e._addRunToRunMap=="function"}var $f=class extends $m{constructor(t){super(...arguments);se(this,"runMap",new Map);se(this,"runTreeMap",new Map);se(this,"usesRunTreeMap",!1)}copy(){return this}getRunById(t){if(t!==void 0)return this.usesRunTreeMap?v4e(this.runTreeMap.get(t)):this.runMap.get(t)}stringifyError(t){return t instanceof Error?t.message+(t!=null&&t.stack?`

${t.stack}`:""):typeof t=="string"?t:`${t}`}_addChildRun(t,n){t.child_runs.push(n)}_addRunToRunMap(t){const{dottedOrder:n,microsecondPrecisionDatestring:r}=KL(new Date(t.start_time).getTime(),t.id,t.execution_order),s={...t},a=this.getRunById(s.parent_run_id);if(s.parent_run_id!==void 0?a?(this._addChildRun(a,s),a.child_execution_order=Math.max(a.child_execution_order,s.child_execution_order),s.trace_id=a.trace_id,a.dotted_order!==void 0&&(s.dotted_order=[a.dotted_order,n].join("."),s._serialized_start_time=r)):s.parent_run_id=void 0:(s.trace_id=s.id,s.dotted_order=n,s._serialized_start_time=r),this.usesRunTreeMap){const i=L_(s,a);i!==void 0&&this.runTreeMap.set(s.id,i)}else this.runMap.set(s.id,s);return s}async _endTrace(t){var r;const n=t.parent_run_id!==void 0&&this.getRunById(t.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,t.child_execution_order):await this.persistRun(t),await((r=this.onRunUpdate)==null?void 0:r.call(this,t)),this.usesRunTreeMap?this.runTreeMap.delete(t.id):this.runMap.delete(t.id)}_getExecutionOrder(t){const n=t!==void 0&&this.getRunById(t);return n?n.child_execution_order+1:1}_createRunForLLMStart(t,n,r,s,a,i,o,l){const u=this._getExecutionOrder(s),c=Date.now(),d=o?{...a,metadata:o}:a,h={id:r,name:l??t.id[t.id.length-1],parent_run_id:s,start_time:c,serialized:t,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:i||[]};return this._addRunToRunMap(h)}async handleLLMStart(t,n,r,s,a,i,o,l){var c,d;const u=this.getRunById(r)??this._createRunForLLMStart(t,n,r,s,a,i,o,l);return await((c=this.onRunCreate)==null?void 0:c.call(this,u)),await((d=this.onLLMStart)==null?void 0:d.call(this,u)),u}_createRunForChatModelStart(t,n,r,s,a,i,o,l){const u=this._getExecutionOrder(s),c=Date.now(),d=o?{...a,metadata:o}:a,h={id:r,name:l??t.id[t.id.length-1],parent_run_id:s,start_time:c,serialized:t,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:n},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:i||[]};return this._addRunToRunMap(h)}async handleChatModelStart(t,n,r,s,a,i,o,l){var c,d;const u=this.getRunById(r)??this._createRunForChatModelStart(t,n,r,s,a,i,o,l);return await((c=this.onRunCreate)==null?void 0:c.call(this,u)),await((d=this.onLLMStart)==null?void 0:d.call(this,u)),u}async handleLLMEnd(t,n,r,s,a){var o;const i=this.getRunById(n);if(!i||(i==null?void 0:i.run_type)!=="llm")throw new Error("No LLM run to end.");return i.end_time=Date.now(),i.outputs=t,i.events.push({name:"end",time:new Date(i.end_time).toISOString()}),i.extra={...i.extra,...a},await((o=this.onLLMEnd)==null?void 0:o.call(this,i)),await this._endTrace(i),i}async handleLLMError(t,n,r,s,a){var o;const i=this.getRunById(n);if(!i||(i==null?void 0:i.run_type)!=="llm")throw new Error("No LLM run to end.");return i.end_time=Date.now(),i.error=this.stringifyError(t),i.events.push({name:"error",time:new Date(i.end_time).toISOString()}),i.extra={...i.extra,...a},await((o=this.onLLMError)==null?void 0:o.call(this,i)),await this._endTrace(i),i}_createRunForChainStart(t,n,r,s,a,i,o,l,u){const c=this._getExecutionOrder(s),d=Date.now(),h={id:r,name:l??t.id[t.id.length-1],parent_run_id:s,start_time:d,serialized:t,events:[{name:"start",time:new Date(d).toISOString()}],inputs:n,execution_order:c,child_execution_order:c,run_type:o??"chain",child_runs:[],extra:i?{...u,metadata:i}:{...u},tags:a||[]};return this._addRunToRunMap(h)}async handleChainStart(t,n,r,s,a,i,o,l){var c,d;const u=this.getRunById(r)??this._createRunForChainStart(t,n,r,s,a,i,o,l);return await((c=this.onRunCreate)==null?void 0:c.call(this,u)),await((d=this.onChainStart)==null?void 0:d.call(this,u)),u}async handleChainEnd(t,n,r,s,a){var o;const i=this.getRunById(n);if(!i)throw new Error("No chain run to end.");return i.end_time=Date.now(),i.outputs=y2(t,"output"),i.events.push({name:"end",time:new Date(i.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(i.inputs=y2(a.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,i)),await this._endTrace(i),i}async handleChainError(t,n,r,s,a){var o;const i=this.getRunById(n);if(!i)throw new Error("No chain run to end.");return i.end_time=Date.now(),i.error=this.stringifyError(t),i.events.push({name:"error",time:new Date(i.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(i.inputs=y2(a.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,i)),await this._endTrace(i),i}_createRunForToolStart(t,n,r,s,a,i,o){const l=this._getExecutionOrder(s),u=Date.now(),c={id:r,name:o??t.id[t.id.length-1],parent_run_id:s,start_time:u,serialized:t,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:i?{metadata:i}:{},tags:a||[]};return this._addRunToRunMap(c)}async handleToolStart(t,n,r,s,a,i,o){var u,c;const l=this.getRunById(r)??this._createRunForToolStart(t,n,r,s,a,i,o);return await((u=this.onRunCreate)==null?void 0:u.call(this,l)),await((c=this.onToolStart)==null?void 0:c.call(this,l)),l}async handleToolEnd(t,n){var s;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:t},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((s=this.onToolEnd)==null?void 0:s.call(this,r)),await this._endTrace(r),r}async handleToolError(t,n){var s;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(t),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((s=this.onToolError)==null?void 0:s.call(this,r)),await this._endTrace(r),r}async handleAgentAction(t,n){var a;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const s=r;s.actions=s.actions||[],s.actions.push(t),s.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:t}}),await((a=this.onAgentAction)==null?void 0:a.call(this,r))}async handleAgentEnd(t,n){var s;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:t}}),await((s=this.onAgentEnd)==null?void 0:s.call(this,r)))}_createRunForRetrieverStart(t,n,r,s,a,i,o){const l=this._getExecutionOrder(s),u=Date.now(),c={id:r,name:o??t.id[t.id.length-1],parent_run_id:s,start_time:u,serialized:t,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:i?{metadata:i}:{},tags:a||[]};return this._addRunToRunMap(c)}async handleRetrieverStart(t,n,r,s,a,i,o){var u,c;const l=this.getRunById(r)??this._createRunForRetrieverStart(t,n,r,s,a,i,o);return await((u=this.onRunCreate)==null?void 0:u.call(this,l)),await((c=this.onRetrieverStart)==null?void 0:c.call(this,l)),l}async handleRetrieverEnd(t,n){var s;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:t},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((s=this.onRetrieverEnd)==null?void 0:s.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(t,n){var s;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(t),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((s=this.onRetrieverError)==null?void 0:s.call(this,r)),await this._endTrace(r),r}async handleText(t,n){var s;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:t}}),await((s=this.onText)==null?void 0:s.call(this,r)))}async handleLLMNewToken(t,n,r,s,a,i){var l;const o=this.getRunById(r);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:t,idx:n,chunk:i==null?void 0:i.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,o,t,{chunk:i==null?void 0:i.chunk})),o}},K4={exports:{}};K4.exports;(function(e){const n=(a=0)=>i=>`\x1B[${38+a};5;${i}m`,r=(a=0)=>(i,o,l)=>`\x1B[${38+a};2;${i};${o};${l}m`;function s(){const a=new Map,i={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};i.color.gray=i.color.blackBright,i.bgColor.bgGray=i.bgColor.bgBlackBright,i.color.grey=i.color.blackBright,i.bgColor.bgGrey=i.bgColor.bgBlackBright;for(const[o,l]of Object.entries(i)){for(const[u,c]of Object.entries(l))i[u]={open:`\x1B[${c[0]}m`,close:`\x1B[${c[1]}m`},l[u]=i[u],a.set(c[0],c[1]);Object.defineProperty(i,o,{value:l,enumerable:!1})}return Object.defineProperty(i,"codes",{value:a,enumerable:!1}),i.color.close="\x1B[39m",i.bgColor.close="\x1B[49m",i.color.ansi256=n(),i.color.ansi16m=r(),i.bgColor.ansi256=n(10),i.bgColor.ansi16m=r(10),Object.defineProperties(i,{rgbToAnsi256:{value:(o,l,u)=>o===l&&l===u?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(u/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:u}=l.groups;u.length===3&&(u=u.split("").map(d=>d+d).join(""));const c=Number.parseInt(u,16);return[c>>16&255,c>>8&255,c&255]},enumerable:!1},hexToAnsi256:{value:o=>i.rgbToAnsi256(...i.hexToRgb(o)),enumerable:!1}}),i}Object.defineProperty(e,"exports",{enumerable:!0,get:s})})(K4);var y4e=K4.exports;const ZL=Ua(y4e);var b4e={};xn(b4e,{ConsoleCallbackHandler:()=>D_});function Is(e,t){return`${e.open}${t}${e.close}`}function Aa(e,t){try{return JSON.stringify(e,null,2)}catch{return t}}function eN(e){return typeof e=="string"?e.trim():e==null?e:Aa(e,e.toString())}function Tl(e){if(!e.end_time)return"";const t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}const{color:Ks}=ZL;var D_=class extends $f{constructor(){super(...arguments);se(this,"name","console_callback_handler")}persistRun(t){return Promise.resolve()}getParents(t){const n=[];let r=t;for(;r.parent_run_id;){const s=this.runMap.get(r.parent_run_id);if(s)n.push(s),r=s;else break}return n}getBreadcrumbs(t){const r=[...this.getParents(t).reverse(),t].map((s,a,i)=>{const o=`${s.execution_order}:${s.run_type}:${s.name}`;return a===i.length-1?Is(ZL.bold,o):o}).join(" > ");return Is(Ks.grey,r)}onChainStart(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.green,"[chain/start]")} [${n}] Entering Chain run with input: ${Aa(t.inputs,"[inputs]")}`)}onChainEnd(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.cyan,"[chain/end]")} [${n}] [${Tl(t)}] Exiting Chain run with output: ${Aa(t.outputs,"[outputs]")}`)}onChainError(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.red,"[chain/error]")} [${n}] [${Tl(t)}] Chain run errored with error: ${Aa(t.error,"[error]")}`)}onLLMStart(t){const n=this.getBreadcrumbs(t),r="prompts"in t.inputs?{prompts:t.inputs.prompts.map(s=>s.trim())}:t.inputs;console.log(`${Is(Ks.green,"[llm/start]")} [${n}] Entering LLM run with input: ${Aa(r,"[inputs]")}`)}onLLMEnd(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.cyan,"[llm/end]")} [${n}] [${Tl(t)}] Exiting LLM run with output: ${Aa(t.outputs,"[response]")}`)}onLLMError(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.red,"[llm/error]")} [${n}] [${Tl(t)}] LLM run errored with error: ${Aa(t.error,"[error]")}`)}onToolStart(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.green,"[tool/start]")} [${n}] Entering Tool run with input: "${eN(t.inputs.input)}"`)}onToolEnd(t){var r;const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.cyan,"[tool/end]")} [${n}] [${Tl(t)}] Exiting Tool run with output: "${eN((r=t.outputs)==null?void 0:r.output)}"`)}onToolError(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.red,"[tool/error]")} [${n}] [${Tl(t)}] Tool run errored with error: ${Aa(t.error,"[error]")}`)}onRetrieverStart(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${Aa(t.inputs,"[inputs]")}`)}onRetrieverEnd(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.cyan,"[retriever/end]")} [${n}] [${Tl(t)}] Exiting Retriever run with output: ${Aa(t.outputs,"[outputs]")}`)}onRetrieverError(t){const n=this.getBreadcrumbs(t);console.log(`${Is(Ks.red,"[retriever/error]")} [${n}] [${Tl(t)}] Retriever run errored with error: ${Aa(t.error,"[error]")}`)}onAgentAction(t){const n=t,r=this.getBreadcrumbs(t);console.log(`${Is(Ks.blue,"[agent/action]")} [${r}] Agent selected action: ${Aa(n.actions[n.actions.length-1],"[action]")}`)}};let b2;const YL=()=>{if(b2===void 0){const e=oo("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};b2=new $p(e)}return b2};let w4e=class{getStore(){}run(t,n){return n()}};const w2=Symbol.for("ls:tracing_async_local_storage"),_4e=new w4e;let S4e=class{getInstance(){return globalThis[w2]??_4e}initializeGlobalInstance(t){globalThis[w2]===void 0&&(globalThis[w2]=t)}};const C4e=new S4e;function x4e(e=!1){const t=C4e.getInstance().getStore();if(!e&&t===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return t}function G4(e){return typeof e=="function"&&"langsmith:traceable"in e}var E4e={};xn(E4e,{LangChainTracer:()=>Iv});function T4e(e){let t;for(const n of e)for(const r of n)xs.isInstance(r.message)&&r.message.usage_metadata!==void 0&&(t=I4(t,r.message.usage_metadata));return t}var Iv=class qL extends $f{constructor(n={}){super(n);se(this,"name","langchain_tracer");se(this,"projectName");se(this,"exampleId");se(this,"client");se(this,"replicas");se(this,"usesRunTreeMap",!0);const{exampleId:r,projectName:s,client:a,replicas:i}=n;this.projectName=s??bL(),this.replicas=i,this.exampleId=r,this.client=a??YL();const o=qL.getTraceableRunTree();o&&this.updateFromRunTree(o)}async persistRun(n){}async onRunCreate(n){var r;if(!((r=n.extra)!=null&&r.lc_defers_inputs)){const s=this.getRunTreeWithTracingConfig(n.id);await(s==null?void 0:s.postRun())}}async onRunUpdate(n){var s;const r=this.getRunTreeWithTracingConfig(n.id);(s=n.extra)!=null&&s.lc_defers_inputs?await(r==null?void 0:r.postRun()):await(r==null?void 0:r.patchRun())}onLLMEnd(n){const r=n.outputs;if(r!=null&&r.generations){const s=T4e(r.generations);if(s!==void 0){n.extra=n.extra??{};const a=n.extra.metadata??{};a.usage_metadata=s,n.extra.metadata=a}}}getRun(n){return this.runTreeMap.get(n)}updateFromRunTree(n){this.runTreeMap.set(n.id,n);let r=n;const s=new Set;for(;r.parent_run&&!(s.has(r.id)||(s.add(r.id),!r.parent_run));)r=r.parent_run;s.clear();const a=[r];for(;a.length>0;){const i=a.shift();!i||s.has(i.id)||(s.add(i.id),this.runTreeMap.set(i.id,i),i.child_runs&&a.push(...i.child_runs))}this.client=n.client??this.client,this.replicas=n.replicas??this.replicas,this.projectName=n.project_name??this.projectName,this.exampleId=n.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(n){const r=this.runTreeMap.get(n);if(r)return new Gs({...r,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return x4e(!0)}catch{return}}};let tc;function k4e(){const e="default"in Go?Go.default:Go;return new e({autoStart:!0,concurrency:1})}function N4e(){return typeof tc>"u"&&(tc=k4e()),tc}async function kr(e,t){if(t===!0){const n=Op();n!==void 0?await n.run(void 0,async()=>e()):await e()}else tc=N4e(),tc.add(async()=>{const n=Op();n!==void 0?await n.run(void 0,async()=>e()):await e()})}async function I4e(){const e=YL();await Promise.allSettled([typeof tc<"u"?tc.onIdle():Promise.resolve(),e.awaitPendingTraceBatches()])}var O4e={};xn(O4e,{awaitAllCallbacks:()=>I4e,consumeCallback:()=>kr});const $4e=e=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>oo(n)==="true");function XL(e){var r;const t=Op();if(t===void 0)return;const n=t.getStore();return(r=n==null?void 0:n[Dh])==null?void 0:r[e]}const A4e=Symbol("lc:configure_hooks"),R4e=()=>XL(A4e)||[];var M4e={};xn(M4e,{BaseCallbackManager:()=>JL,BaseRunManager:()=>Rm,CallbackManager:()=>Qs,CallbackManagerForChainRun:()=>eD,CallbackManagerForLLMRun:()=>z_,CallbackManagerForRetrieverRun:()=>QL,CallbackManagerForToolRun:()=>tD,ensureHandler:()=>Ap,parseCallbackConfigArg:()=>y1});function y1(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}var JL=class{setHandler(e){return this.setHandlers([e])}},Rm=class{constructor(e,t,n,r,s,a,i,o){this.runId=e,this.handlers=t,this.inheritableHandlers=n,this.tags=r,this.inheritableTags=s,this.metadata=a,this.inheritableMetadata=i,this._parentRunId=o}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(t=>kr(async()=>{var n;try{await((n=t.handleText)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleText: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleCustomEvent(e,t,n,r,s){await Promise.all(this.handlers.map(a=>kr(async()=>{var i;try{await((i=a.handleCustomEvent)==null?void 0:i.call(a,e,t,this.runId,this.tags,this.metadata))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},QL=class extends Rm{getChild(e){const t=new Qs(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(t=>kr(async()=>{var n;if(!t.ignoreRetriever)try{await((n=t.handleRetrieverEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetriever`),t.raiseError)throw r}},t.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(t=>kr(async()=>{var n;if(!t.ignoreRetriever)try{await((n=t.handleRetrieverError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetrieverError: ${r}`),t.raiseError)throw e}},t.awaitHandlers)))}},z_=class extends Rm{async handleLLMNewToken(e,t,n,r,s,a){await Promise.all(this.handlers.map(i=>kr(async()=>{var o;if(!i.ignoreLLM)try{await((o=i.handleLLMNewToken)==null?void 0:o.call(i,e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(l){if((i.raiseError?console.error:console.warn)(`Error in handler ${i.constructor.name}, handleLLMNewToken: ${l}`),i.raiseError)throw l}},i.awaitHandlers)))}async handleLLMError(e,t,n,r,s){await Promise.all(this.handlers.map(a=>kr(async()=>{var i;if(!a.ignoreLLM)try{await((i=a.handleLLMError)==null?void 0:i.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleLLMEnd(e,t,n,r,s){await Promise.all(this.handlers.map(a=>kr(async()=>{var i;if(!a.ignoreLLM)try{await((i=a.handleLLMEnd)==null?void 0:i.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},eD=class extends Rm{getChild(e){const t=new Qs(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,n,r,s){await Promise.all(this.handlers.map(a=>kr(async()=>{var i;if(!a.ignoreChain)try{await((i=a.handleChainError)==null?void 0:i.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleChainEnd(e,t,n,r,s){await Promise.all(this.handlers.map(a=>kr(async()=>{var i;if(!a.ignoreChain)try{await((i=a.handleChainEnd)==null?void 0:i.call(a,e,this.runId,this._parentRunId,this.tags,s))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>kr(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentAction)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentAction: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>kr(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleAgentEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},tD=class extends Rm{getChild(e){const t=new Qs(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>kr(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolError)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolError: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>kr(async()=>{var n;if(!t.ignoreAgent)try{await((n=t.handleToolEnd)==null?void 0:n.call(t,e,this.runId,this._parentRunId,this.tags))}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},Qs=class dh extends JL{constructor(n,r){super();se(this,"handlers",[]);se(this,"inheritableHandlers",[]);se(this,"tags",[]);se(this,"inheritableTags",[]);se(this,"metadata",{});se(this,"inheritableMetadata",{});se(this,"name","callback_manager");se(this,"_parentRunId");this.handlers=(r==null?void 0:r.handlers)??this.handlers,this.inheritableHandlers=(r==null?void 0:r.inheritableHandlers)??this.inheritableHandlers,this.tags=(r==null?void 0:r.tags)??this.tags,this.inheritableTags=(r==null?void 0:r.inheritableTags)??this.inheritableTags,this.metadata=(r==null?void 0:r.metadata)??this.metadata,this.inheritableMetadata=(r==null?void 0:r.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=n}getParentRunId(){return this._parentRunId}async handleLLMStart(n,r,s=void 0,a=void 0,i=void 0,o=void 0,l=void 0,u=void 0){return Promise.all(r.map(async(c,d)=>{const h=d===0&&s?s:Ml();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return sd(p)&&p._createRunForLLMStart(n,[c],h,this._parentRunId,i,this.tags,this.metadata,u),kr(async()=>{var m;try{await((m=p.handleLLMStart)==null?void 0:m.call(p,n,[c],h,this._parentRunId,i,this.tags,this.metadata,u))}catch(g){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${g}`),p.raiseError)throw g}},p.awaitHandlers)})),new z_(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,r,s=void 0,a=void 0,i=void 0,o=void 0,l=void 0,u=void 0){return Promise.all(r.map(async(c,d)=>{const h=d===0&&s?s:Ml();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return sd(p)&&p._createRunForChatModelStart(n,[c],h,this._parentRunId,i,this.tags,this.metadata,u),kr(async()=>{var m,g;try{if(p.handleChatModelStart)await((m=p.handleChatModelStart)==null?void 0:m.call(p,n,[c],h,this._parentRunId,i,this.tags,this.metadata,u));else if(p.handleLLMStart){const v=M4(c);await((g=p.handleLLMStart)==null?void 0:g.call(p,n,[v],h,this._parentRunId,i,this.tags,this.metadata,u))}}catch(v){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${v}`),p.raiseError)throw v}},p.awaitHandlers)})),new z_(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,r,s=Ml(),a=void 0,i=void 0,o=void 0,l=void 0,u=void 0,c=void 0){return await Promise.all(this.handlers.map(d=>{if(!d.ignoreChain)return sd(d)&&d._createRunForChainStart(n,r,s,this._parentRunId,this.tags,this.metadata,a,l,c),kr(async()=>{var h;try{await((h=d.handleChainStart)==null?void 0:h.call(d,n,r,s,this._parentRunId,this.tags,this.metadata,a,l,c))}catch(p){if((d.raiseError?console.error:console.warn)(`Error in handler ${d.constructor.name}, handleChainStart: ${p}`),d.raiseError)throw p}},d.awaitHandlers)})),new eD(s,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,r,s=Ml(),a=void 0,i=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreAgent)return sd(u)&&u._createRunForToolStart(n,r,s,this._parentRunId,this.tags,this.metadata,l),kr(async()=>{var c;try{await((c=u.handleToolStart)==null?void 0:c.call(u,n,r,s,this._parentRunId,this.tags,this.metadata,l))}catch(d){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleToolStart: ${d}`),u.raiseError)throw d}},u.awaitHandlers)})),new tD(s,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,r,s=Ml(),a=void 0,i=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreRetriever)return sd(u)&&u._createRunForRetrieverStart(n,r,s,this._parentRunId,this.tags,this.metadata,l),kr(async()=>{var c;try{await((c=u.handleRetrieverStart)==null?void 0:c.call(u,n,r,s,this._parentRunId,this.tags,this.metadata,l))}catch(d){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleRetrieverStart: ${d}`),u.raiseError)throw d}},u.awaitHandlers)})),new QL(s,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(n,r,s,a,i){await Promise.all(this.handlers.map(o=>kr(async()=>{var l;if(!o.ignoreCustomEvent)try{await((l=o.handleCustomEvent)==null?void 0:l.call(o,n,r,s,this.tags,this.metadata))}catch(u){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${u}`),o.raiseError)throw u}},o.awaitHandlers)))}addHandler(n,r=!0){this.handlers.push(n),r&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(r=>r!==n),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==n)}setHandlers(n,r=!0){this.handlers=[],this.inheritableHandlers=[];for(const s of n)this.addHandler(s,r)}addTags(n,r=!0){this.removeTags(n),this.tags.push(...n),r&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(r=>!n.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!n.includes(r))}addMetadata(n,r=!0){this.metadata={...this.metadata,...n},r&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const r of Object.keys(n))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(n=[],r=!0){const s=new dh(this._parentRunId);for(const a of this.handlers){const i=this.inheritableHandlers.includes(a);s.addHandler(a,i)}for(const a of this.tags){const i=this.inheritableTags.includes(a);s.addTags([a],i)}for(const a of Object.keys(this.metadata)){const i=Object.keys(this.inheritableMetadata).includes(a);s.addMetadata({[a]:this.metadata[a]},i)}for(const a of n)s.handlers.filter(i=>i.name==="console_callback_handler").some(i=>i.name===a.name)||s.addHandler(a,r);return s}static fromHandlers(n){class r extends $m{constructor(){super();se(this,"name",Ml());Object.assign(this,n)}}const s=new this;return s.addHandler(new r),s}static configure(n,r,s,a,i,o,l){return this._configureSync(n,r,s,a,i,o,l)}static _configureSync(n,r,s,a,i,o,l){var p;let u;(n||r)&&(Array.isArray(n)||!n?(u=new dh,u.setHandlers((n==null?void 0:n.map(Ap))??[],!0)):u=n,u=u.copy(Array.isArray(r)?r.map(Ap):r==null?void 0:r.handlers,!1));const c=oo("LANGCHAIN_VERBOSE")==="true"||(l==null?void 0:l.verbose),d=((p=Iv.getTraceableRunTree())==null?void 0:p.tracingEnabled)??$4e(),h=d||(oo("LANGCHAIN_TRACING")??!1);if(c||h){if(u||(u=new dh),c&&!u.handlers.some(m=>m.name===D_.prototype.name)){const m=new D_;u.addHandler(m,!0)}if(h&&!u.handlers.some(m=>m.name==="langchain_tracer")&&d){const m=new Iv;u.addHandler(m,!0)}if(d){const m=Iv.getTraceableRunTree();if(m&&u._parentRunId===void 0){u._parentRunId=m.id;const g=u.handlers.find(v=>v.name==="langchain_tracer");g==null||g.updateFromRunTree(m)}}}for(const{contextVar:m,inheritable:g=!0,handlerClass:v,envVar:y}of R4e()){const b=y&&oo(y)==="true"&&v;let w;const _=m!==void 0?XL(m):void 0;_&&vL(_)?w=_:b&&(w=new v({})),w!==void 0&&(u||(u=new dh),u.handlers.some(S=>S.name===w.name)||u.addHandler(w,g))}return(s||a)&&u&&(u.addTags(s??[]),u.addTags(a??[],!1)),(i||o)&&u&&(u.addMetadata(i??{}),u.addMetadata(o??{},!1)),u}};function Ap(e){return"name"in e?e:$m.fromMethods(e)}var nD=class{getStore(){}run(e,t){return t()}enterWith(e){}};const P4e=new nD,tN=Symbol.for("lc:child_config");var L4e=class{getInstance(){return Op()??P4e}getRunnableConfig(){var t,n;return(n=(t=this.getInstance().getStore())==null?void 0:t.extra)==null?void 0:n[tN]}runWithConfig(e,t,n){var u;const r=Qs._configureSync(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata),s=this.getInstance(),a=s.getStore(),i=r==null?void 0:r.getParentRunId(),o=(u=r==null?void 0:r.handlers)==null?void 0:u.find(c=>(c==null?void 0:c.name)==="langchain_tracer");let l;return o&&i?l=o.getRunTreeWithTracingConfig(i):n||(l=new Gs({name:"<runnable_lambda>",tracingEnabled:!1})),l&&(l.extra={...l.extra,[tN]:e}),a!==void 0&&a[Dh]!==void 0&&(l===void 0&&(l={}),l[Dh]=a[Dh]),s.run(l,t)}initializeGlobalInstance(e){Op()===void 0&&K_e(e)}};const Ei=new L4e;var D4e={};xn(D4e,{AsyncLocalStorageProviderSingleton:()=>Ei,MockAsyncLocalStorage:()=>nD,_CONTEXT_VARIABLES_KEY:()=>Dh});const _2=25;async function Sa(e){return Qs._configureSync(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata)}function D0(...e){const t={};for(const n of e.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")t[r]={...t[r],...n[r]};else if(r==="tags"){const s=t[r]??[];t[r]=[...new Set(s.concat(n[r]??[]))]}else if(r==="configurable")t[r]={...t[r],...n[r]};else if(r==="timeout")t.timeout===void 0?t.timeout=n.timeout:n.timeout!==void 0&&(t.timeout=Math.min(t.timeout,n.timeout));else if(r==="signal")t.signal===void 0?t.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?t.signal=AbortSignal.any([t.signal,n.signal]):t.signal=n.signal);else if(r==="callbacks"){const s=t.callbacks,a=n.callbacks;if(Array.isArray(a))if(!s)t.callbacks=a;else if(Array.isArray(s))t.callbacks=s.concat(a);else{const i=s.copy();for(const o of a)i.addHandler(Ap(o),!0);t.callbacks=i}else if(a)if(!s)t.callbacks=a;else if(Array.isArray(s)){const i=a.copy();for(const o of s)i.addHandler(Ap(o),!0);t.callbacks=i}else t.callbacks=new Qs(a._parentRunId,{handlers:s.handlers.concat(a.handlers),inheritableHandlers:s.inheritableHandlers.concat(a.inheritableHandlers),tags:Array.from(new Set(s.tags.concat(a.tags))),inheritableTags:Array.from(new Set(s.inheritableTags.concat(a.inheritableTags))),metadata:{...s.metadata,...a.metadata}})}else{const s=r;t[s]=n[s]??t[s]}return t}const z4e=new Set(["string","number","boolean"]);function On(e){var r;const t=Ei.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(t){const{runId:s,runName:a,...i}=t;n=Object.entries(i).reduce((o,[l,u])=>(u!==void 0&&(o[l]=u),o),n)}if(e&&(n=Object.entries(e).reduce((s,[a,i])=>(i!==void 0&&(s[a]=i),s),n)),n!=null&&n.configurable)for(const s of Object.keys(n.configurable))z4e.has(typeof n.configurable[s])&&!((r=n.metadata)!=null&&r[s])&&(n.metadata||(n.metadata={}),n.metadata[s]=n.configurable[s]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const s=n.timeout,a=AbortSignal.timeout(s);n.metadata||(n.metadata={}),n.metadata.timeoutMs===void 0&&(n.metadata.timeoutMs=s),n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,a])):n.signal=a,delete n.timeout}return n}function ar(e={},{callbacks:t,maxConcurrency:n,recursionLimit:r,runName:s,configurable:a,runId:i}={}){const o=On(e);return t!==void 0&&(delete o.runName,o.callbacks=t),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),s!==void 0&&(o.runName=s),a!==void 0&&(o.configurable={...o.configurable,...a}),i!==void 0&&delete o.runId,o}function al(e){if(e)return{configurable:e.configurable,recursionLimit:e.recursionLimit,callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,maxConcurrency:e.maxConcurrency,timeout:e.timeout,signal:e.signal,store:e.store}}async function il(e,t){if(t===void 0)return e;let n;return Promise.race([e.catch(r=>{if(!(t!=null&&t.aborted))throw r}),new Promise((r,s)=>{n=()=>{s(Rp(t))},t.addEventListener("abort",n,{once:!0}),t.aborted&&s(Rp(t))})]).finally(()=>t.removeEventListener("abort",n))}function Rp(e){return(e==null?void 0:e.reason)instanceof Error?e.reason:typeof(e==null?void 0:e.reason)=="string"?new Error(e.reason):new Error("Aborted")}var F4e={};xn(F4e,{AsyncGeneratorWithSetup:()=>Rc,IterableReadableStream:()=>Ti,atee:()=>Z4,concat:()=>lu,pipeGeneratorWithSetup:()=>rD});var Ti=class F_ extends ReadableStream{constructor(){super(...arguments);se(this,"reader")}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:n.value}}catch(n){throw this.reader.releaseLock(),n}}async return(){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}return{done:!0,value:void 0}}async throw(n){if(this.ensureReader(),this.locked){const r=this.reader.cancel();this.reader.releaseLock(),await r}throw n}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(n){const r=n.getReader();return new F_({start(s){return a();function a(){return r.read().then(({done:i,value:o})=>{if(i){s.close();return}return s.enqueue(o),a()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(n){return new F_({async pull(r){const{value:s,done:a}=await n.next();a&&r.close(),r.enqueue(s)},async cancel(r){await n.return(r)}})}};function Z4(e,t=2){const n=Array.from({length:t},()=>[]);return n.map(async function*(s){for(;;)if(s.length===0){const a=await e.next();for(const i of n)i.push(a)}else{if(s[0].done)return;yield s.shift().value}})}function lu(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(typeof e=="string"&&typeof t=="string")return e+t;if(typeof e=="number"&&typeof t=="number")return e+t;if("concat"in e&&typeof e.concat=="function")return e.concat(t);if(typeof e=="object"&&typeof t=="object"){const n={...e};for(const[r,s]of Object.entries(t))r in n&&!Array.isArray(n[r])?n[r]=lu(n[r],s):n[r]=s;return n}else throw new Error(`Cannot concat ${typeof e} and ${typeof t}`)}var Rc=class{constructor(e){se(this,"generator");se(this,"setup");se(this,"config");se(this,"signal");se(this,"firstResult");se(this,"firstResultUsed",!1);var t;this.generator=e.generator,this.config=e.config,this.signal=e.signal??((t=this.config)==null?void 0:t.signal),this.setup=new Promise((n,r)=>{Ei.runWithConfig(al(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(n,r):this.firstResult.then(s=>n(void 0),r)},!0)})}async next(...e){var t;return(t=this.signal)==null||t.throwIfAborted(),this.firstResultUsed?Ei.runWithConfig(al(this.config),this.signal?async()=>il(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function rD(e,t,n,r,...s){const a=new Rc({generator:t,startSetup:n,signal:r}),i=await a.setup;return{output:e(a,i,...s),setup:i}}/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/const B4e=Object.prototype.hasOwnProperty;function B_(e,t){return B4e.call(e,t)}function j_(e){if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(e);let t=[];for(let n in e)B_(e,n)&&t.push(n);return t}function li(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function V_(e){let t=0;const n=e.length;let r;for(;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Yc(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function j4e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function H_(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(H_(e[n]))return!0}else if(typeof e=="object"){const n=j_(e),r=n.length;for(var t=0;t<r;t++)if(H_(e[n[t]]))return!0}}return!1}function nN(e,t){const n=[e];for(const r in t){const s=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof s<"u"&&n.push(`${r}: ${s}`)}return n.join(`
`)}var V4e=class extends Error{constructor(e,t,n,r,s){super(nN(e,{name:t,index:n,operation:r,tree:s})),this.name=t,this.index=n,this.operation=r,this.tree=s,Object.setPrototypeOf(this,new.target.prototype),this.message=nN(e,{name:t,index:n,operation:r,tree:s})}},sD={};xn(sD,{JsonPatchError:()=>yr,_areEquals:()=>Mp,applyOperation:()=>nc,applyPatch:()=>rf,applyReducer:()=>W4e,deepClone:()=>H4e,getValueByPointer:()=>z0,validate:()=>aD,validator:()=>F0});const yr=V4e,H4e=li,md={add:function(e,t,n){if(t==="__proto__"||t==="constructor")throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor` prop is banned for security reasons");return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){if(t==="__proto__"||t==="constructor")throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor` prop is banned for security reasons");var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){if(t==="__proto__"||t==="constructor")throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor` prop is banned for security reasons");var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){let r=z0(n,this.path);r&&(r=li(r));const s=nc(n,{op:"remove",path:this.from}).removed;return nc(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:r}},copy:function(e,t,n){const r=z0(n,this.from);return nc(n,{op:"add",path:this.path,value:li(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Mp(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}};var U4e={add:function(e,t,n){return V_(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:md.move,copy:md.copy,test:md.test,_get:md._get};function z0(e,t){if(t=="")return e;var n={op:"_get",path:t};return nc(e,n),n.value}function nc(e,t,n=!1,r=!0,s=!0,a=0){if(n&&(typeof n=="function"?n(t,0,e,t.path):F0(t,0)),t.path===""){let i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=z0(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=Mp(e,t.value),i.test===!1)throw new yr("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new yr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return i}}else{r||(e=li(e));const o=(t.path||"").split("/");let l=e,u=1,c=o.length,d,h,p;for(typeof n=="function"?p=n:p=F0;;){if(h=o[u],h&&h.indexOf("~")!=-1&&(h=j4e(h)),s&&(h=="__proto__"||h=="prototype"&&u>0&&o[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=o.slice(0,u).join("/"):u==c-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),u++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!V_(h))throw new yr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);V_(h)&&(h=~~h)}if(u>=c){if(n&&t.op==="add"&&h>l.length)throw new yr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);const m=U4e[t.op].call(t,l,h,e);if(m.test===!1)throw new yr("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return m}}else if(u>=c){const m=md[t.op].call(t,l,h,e);if(m.test===!1)throw new yr("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return m}if(l=l[h],n&&u<c&&(!l||typeof l!="object"))throw new yr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function rf(e,t,n,r=!0,s=!0){if(n&&!Array.isArray(t))throw new yr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=li(e));const a=new Array(t.length);for(let i=0,o=t.length;i<o;i++)a[i]=nc(e,t[i],n,!0,s,i),e=a[i].newDocument;return a.newDocument=e,a}function W4e(e,t,n){const r=nc(e,t);if(r.test===!1)throw new yr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function F0(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new yr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(md[e.op]){if(typeof e.path!="string")throw new yr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new yr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new yr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new yr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&H_(e.value))throw new yr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var s=e.path.split("/").length,a=r.split("/").length;if(s!==a+1&&s!==a)throw new yr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new yr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},o=aD([i],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new yr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new yr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function aD(e,t,n){try{if(!Array.isArray(e))throw new yr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)rf(li(t),li(e),n||!0);else{n=n||F0;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(s){if(s instanceof yr)return s;throw s}}function Mp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),s,a,i;if(n&&r){if(a=e.length,a!=t.length)return!1;for(s=a;s--!==0;)if(!Mp(e[s],t[s]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(e);if(a=o.length,a!==Object.keys(t).length)return!1;for(s=a;s--!==0;)if(!t.hasOwnProperty(o[s]))return!1;for(s=a;s--!==0;)if(i=o[s],!Mp(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}function iD(e,t,n,r,s){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=j_(t),i=j_(e),o=!1,l=i.length-1;l>=0;l--){var u=i[l],c=e[u];if(B_(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?iD(c,d,n,r+"/"+Yc(u),s):c!==d&&(s&&n.push({op:"test",path:r+"/"+Yc(u),value:li(c)}),n.push({op:"replace",path:r+"/"+Yc(u),value:li(d)}))}else Array.isArray(e)===Array.isArray(t)?(s&&n.push({op:"test",path:r+"/"+Yc(u),value:li(c)}),n.push({op:"remove",path:r+"/"+Yc(u)}),o=!0):(s&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!o&&a.length==i.length))for(var l=0;l<a.length;l++){var u=a[l];!B_(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Yc(u),value:li(t[u])})}}}function Y4(e,t,n=!1){var r=[];return iD(e,t,r,"",n),r}({...sD});var K4e={};xn(K4e,{LogStreamCallbackHandler:()=>W_,RunLog:()=>q4,RunLogPatch:()=>Do,isLogStreamHandler:()=>oD});var Do=class{constructor(e){se(this,"ops");this.ops=e.ops??[]}concat(e){const t=this.ops.concat(e.ops),n=rf({},t);return new q4({ops:t,state:n[n.length-1].newDocument})}},q4=class U_ extends Do{constructor(n){super(n);se(this,"state");this.state=n.state}concat(n){const r=this.ops.concat(n.ops),s=rf(this.state,n.ops);return new U_({ops:r,state:s[s.length-1].newDocument})}static fromRunLogPatch(n){const r=rf({},n.ops);return new U_({ops:n.ops,state:r[r.length-1].newDocument})}};const oD=e=>e.name==="log_stream_tracer";async function rN(e,t){if(t==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=e;if(["retriever","llm","prompt"].includes(e.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function sN(e,t){const{outputs:n}=e;return t==="original"||["retriever","llm","prompt"].includes(e.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function G4e(e){return e!==void 0&&e.message!==void 0}var W_=class extends $f{constructor(t){super({_awaitHandler:!0,...t});se(this,"autoClose",!0);se(this,"includeNames");se(this,"includeTypes");se(this,"includeTags");se(this,"excludeNames");se(this,"excludeTypes");se(this,"excludeTags");se(this,"_schemaFormat","original");se(this,"rootId");se(this,"keyMapByRunId",{});se(this,"counterMapByRunName",{});se(this,"transformStream");se(this,"writer");se(this,"receiveStream");se(this,"name","log_stream_tracer");se(this,"lc_prefer_streaming",!0);this.autoClose=(t==null?void 0:t.autoClose)??!0,this.includeNames=t==null?void 0:t.includeNames,this.includeTypes=t==null?void 0:t.includeTypes,this.includeTags=t==null?void 0:t.includeTags,this.excludeNames=t==null?void 0:t.excludeNames,this.excludeTypes=t==null?void 0:t.excludeTypes,this.excludeTags=t==null?void 0:t.excludeTags,this._schemaFormat=(t==null?void 0:t._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Ti.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(t){}_includeRun(t){if(t.id===this.rootId)return!1;const n=t.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(t.run_type)),this.includeTags!==void 0&&(r=r||n.find(s=>{var a;return(a=this.includeTags)==null?void 0:a.includes(s)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(t.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(s=>{var a;return!((a=this.excludeTags)!=null&&a.includes(s))})),r}async*tapOutputIterable(t,n){for await(const r of n){if(t!==this.rootId){const s=this.keyMapByRunId[t];s&&await this.writer.write(new Do({ops:[{op:"add",path:`/logs/${s}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(t){var s;if(this.rootId===void 0&&(this.rootId=t.id,await this.writer.write(new Do({ops:[{op:"replace",path:"",value:{id:t.id,name:t.name,type:t.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(t))return;this.counterMapByRunName[t.name]===void 0&&(this.counterMapByRunName[t.name]=0),this.counterMapByRunName[t.name]+=1;const n=this.counterMapByRunName[t.name];this.keyMapByRunId[t.id]=n===1?t.name:`${t.name}:${n}`;const r={id:t.id,name:t.name,type:t.run_type,tags:t.tags??[],metadata:((s=t.extra)==null?void 0:s.metadata)??{},start_time:new Date(t.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await rN(t,this._schemaFormat)),await this.writer.write(new Do({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[t.id]}`,value:r}]}))}async onRunUpdate(t){try{const n=this.keyMapByRunId[t.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await rN(t,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await sN(t,this._schemaFormat)}),t.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(t.end_time).toISOString()});const s=new Do({ops:r});await this.writer.write(s)}finally{if(t.id===this.rootId){const n=new Do({ops:[{op:"replace",path:"/final_output",value:await sN(t,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(t,n,r){const s=this.keyMapByRunId[t.id];if(s===void 0)return;const a=t.inputs.messages!==void 0;let i;a?G4e(r==null?void 0:r.chunk)?i=r==null?void 0:r.chunk:i=new Eo({id:`run-${t.id}`,content:n}):i=n;const o=new Do({ops:[{op:"add",path:`/logs/${s}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${s}/streamed_output/-`,value:i}]});await this.writer.write(o)}},Z4e={};xn(Z4e,{ChatGenerationChunk:()=>af,GenerationChunk:()=>sf,RUN_KEY:()=>Pp});const Pp="__run";var sf=class lD{constructor(t){se(this,"text");se(this,"generationInfo");this.text=t.text,this.generationInfo=t.generationInfo}concat(t){return new lD({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo}})}},af=class uD extends sf{constructor(n){super(n);se(this,"message");this.message=n.message}concat(n){return new uD({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo},message:this.message.concat(n.message)})}};function Vg({name:e,serialized:t}){return e!==void 0?e:(t==null?void 0:t.name)!==void 0?t.name:(t==null?void 0:t.id)!==void 0&&Array.isArray(t==null?void 0:t.id)?t.id[t.id.length-1]:"Unnamed"}const Y4e=e=>e.name==="event_stream_tracer";var q4e=class extends $f{constructor(t){super({_awaitHandler:!0,...t});se(this,"autoClose",!0);se(this,"includeNames");se(this,"includeTypes");se(this,"includeTags");se(this,"excludeNames");se(this,"excludeTypes");se(this,"excludeTags");se(this,"runInfoMap",new Map);se(this,"tappedPromises",new Map);se(this,"transformStream");se(this,"writer");se(this,"receiveStream");se(this,"readableStreamClosed",!1);se(this,"name","event_stream_tracer");se(this,"lc_prefer_streaming",!0);this.autoClose=(t==null?void 0:t.autoClose)??!0,this.includeNames=t==null?void 0:t.includeNames,this.includeTypes=t==null?void 0:t.includeTypes,this.includeTags=t==null?void 0:t.includeTags,this.excludeNames=t==null?void 0:t.excludeNames,this.excludeTypes=t==null?void 0:t.excludeTypes,this.excludeTags=t==null?void 0:t.excludeTags,this.transformStream=new TransformStream({flush:()=>{this.readableStreamClosed=!0}}),this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Ti.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(t){}_includeRun(t){const n=t.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(t.runType)),this.includeTags!==void 0&&(r=r||n.find(s=>{var a;return(a=this.includeTags)==null?void 0:a.includes(s)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(t.runType)),this.excludeTags!==void 0&&(r=r&&n.every(s=>{var a;return!((a=this.excludeTags)!=null&&a.includes(s))})),r}async*tapOutputIterable(t,n){const r=await n.next();if(r.done)return;const s=this.runInfoMap.get(t);if(s===void 0){yield r.value;return}function a(o,l){return o==="llm"&&typeof l=="string"?new sf({text:l}):l}let i=this.tappedPromises.get(t);if(i===void 0){let o;i=new Promise(l=>{o=l}),this.tappedPromises.set(t,i);try{const l={event:`on_${s.runType}_stream`,run_id:t,name:s.name,tags:s.tags,metadata:s.metadata,data:{}};await this.send({...l,data:{chunk:a(s.runType,r.value)}},s),yield r.value;for await(const u of n)s.runType!=="tool"&&s.runType!=="retriever"&&await this.send({...l,data:{chunk:a(s.runType,u)}},s),yield u}finally{o==null||o()}}else{yield r.value;for await(const o of n)yield o}}async send(t,n){this.readableStreamClosed||this._includeRun(n)&&await this.writer.write(t)}async sendEndEvent(t,n){const r=this.tappedPromises.get(t.run_id);r!==void 0?r.then(()=>{this.send(t,n)}):await this.send(t,n)}async onLLMStart(t){var i,o;const n=Vg(t),r=t.inputs.messages!==void 0?"chat_model":"llm",s={tags:t.tags??[],metadata:((i=t.extra)==null?void 0:i.metadata)??{},name:n,runType:r,inputs:t.inputs};this.runInfoMap.set(t.id,s);const a=`on_${r}_start`;await this.send({event:a,data:{input:t.inputs},name:n,tags:t.tags??[],run_id:t.id,metadata:((o=t.extra)==null?void 0:o.metadata)??{}},s)}async onLLMNewToken(t,n,r){const s=this.runInfoMap.get(t.id);let a,i;if(s===void 0)throw new Error(`onLLMNewToken: Run ID ${t.id} not found in run map.`);if(this.runInfoMap.size!==1){if(s.runType==="chat_model")i="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?a=new Eo({content:n,id:`run-${t.id}`}):a=r.chunk.message;else if(s.runType==="llm")i="on_llm_stream",(r==null?void 0:r.chunk)===void 0?a=new sf({text:n}):a=r.chunk;else throw new Error(`Unexpected run type ${s.runType}`);await this.send({event:i,data:{chunk:a},run_id:t.id,name:s.name,tags:s.tags,metadata:s.metadata},s)}}async onLLMEnd(t){var i,o,l;const n=this.runInfoMap.get(t.id);this.runInfoMap.delete(t.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${t.id} not found in run map.`);const s=(i=t.outputs)==null?void 0:i.generations;let a;if(n.runType==="chat_model"){for(const u of s??[]){if(a!==void 0)break;a=(o=u[0])==null?void 0:o.message}r="on_chat_model_end"}else if(n.runType==="llm")a={generations:s==null?void 0:s.map(u=>u.map(c=>({text:c.text,generationInfo:c.generationInfo}))),llmOutput:((l=t.outputs)==null?void 0:l.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:a,input:n.inputs},run_id:t.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(t){var i,o;const n=Vg(t),r=t.run_type??"chain",s={tags:t.tags??[],metadata:((i=t.extra)==null?void 0:i.metadata)??{},name:n,runType:t.run_type};let a={};t.inputs.input===""&&Object.keys(t.inputs).length===1?(a={},s.inputs={}):t.inputs.input!==void 0?(a.input=t.inputs.input,s.inputs=t.inputs.input):(a.input=t.inputs,s.inputs=t.inputs),this.runInfoMap.set(t.id,s),await this.send({event:`on_${r}_start`,data:a,name:n,tags:t.tags??[],run_id:t.id,metadata:((o=t.extra)==null?void 0:o.metadata)??{}},s)}async onChainEnd(t){var o;const n=this.runInfoMap.get(t.id);if(this.runInfoMap.delete(t.id),n===void 0)throw new Error(`onChainEnd: Run ID ${t.id} not found in run map.`);const r=`on_${t.run_type}_end`,s=t.inputs??n.inputs??{},i={output:((o=t.outputs)==null?void 0:o.output)??t.outputs,input:s};s.input&&Object.keys(s).length===1&&(i.input=s.input,n.inputs=s.input),await this.sendEndEvent({event:r,data:i,run_id:t.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(t){var s,a;const n=Vg(t),r={tags:t.tags??[],metadata:((s=t.extra)==null?void 0:s.metadata)??{},name:n,runType:"tool",inputs:t.inputs??{}};this.runInfoMap.set(t.id,r),await this.send({event:"on_tool_start",data:{input:t.inputs??{}},name:n,run_id:t.id,tags:t.tags??[],metadata:((a=t.extra)==null?void 0:a.metadata)??{}},r)}async onToolEnd(t){var s;const n=this.runInfoMap.get(t.id);if(this.runInfoMap.delete(t.id),n===void 0)throw new Error(`onToolEnd: Run ID ${t.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${t.id} is a tool call, and is expected to have traced inputs.`);const r=((s=t.outputs)==null?void 0:s.output)===void 0?t.outputs:t.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:t.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onToolError(t){const n=this.runInfoMap.get(t.id);if(this.runInfoMap.delete(t.id),n===void 0)throw new Error(`onToolEnd: Run ID ${t.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${t.id} is a tool call, and is expected to have traced inputs.`);await this.sendEndEvent({event:"on_tool_error",data:{input:n.inputs,error:t.error},run_id:t.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(t){var a,i;const n=Vg(t),s={tags:t.tags??[],metadata:((a=t.extra)==null?void 0:a.metadata)??{},name:n,runType:"retriever",inputs:{query:t.inputs.query}};this.runInfoMap.set(t.id,s),await this.send({event:"on_retriever_start",data:{input:{query:t.inputs.query}},name:n,tags:t.tags??[],run_id:t.id,metadata:((i=t.extra)==null?void 0:i.metadata)??{}},s)}async onRetrieverEnd(t){var r;const n=this.runInfoMap.get(t.id);if(this.runInfoMap.delete(t.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${t.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=t.outputs)==null?void 0:r.documents)??t.outputs,input:n.inputs},run_id:t.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(t,n,r){const s=this.runInfoMap.get(r);if(s===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:t,tags:s.tags,metadata:s.metadata,data:n},s)}async finish(){const t=[...this.tappedPromises.values()];Promise.all(t).finally(()=>{this.writer.close()})}};const X4e=Object.prototype.toString,J4e=e=>X4e.call(e)==="[object Error]",Q4e=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function eCe(e){if(!(e&&J4e(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:n,stack:r}=e;return n==="Load failed"?r===void 0||"__sentry_captured__"in e:n.startsWith("error sending request for url")?!0:Q4e.has(n)}function tCe(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Hg(e,t,{min:n=0,allowInfinity:r=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected \`${e}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(t))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(t<n)throw new TypeError(`Expected \`${e}\` to be  ${n}.`)}}var nCe=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function rCe(e,t){const n=Math.max(1,e+1),r=t.randomize?Math.random()+1:1;let s=Math.round(r*t.minTimeout*t.factor**(n-1));return s=Math.min(s,t.maxTimeout),s}function aN(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}async function sCe({error:e,attemptNumber:t,retriesConsumed:n,startTime:r,options:s}){var p,m,g;const a=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(a instanceof nCe)throw a.originalError;const i=Number.isFinite(s.retries)?Math.max(0,s.retries-n):s.retries,o=s.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:t,retriesLeft:i,retriesConsumed:n});if(await s.onFailedAttempt(l),aN(r,o)<=0)throw a;const u=await s.shouldConsumeRetry(l),c=aN(r,o);if(c<=0||i<=0)throw a;if(a instanceof TypeError&&!eCe(a)){if(u)throw a;return(p=s.signal)==null||p.throwIfAborted(),!1}if(!await s.shouldRetry(l))throw a;if(!u)return(m=s.signal)==null||m.throwIfAborted(),!1;const d=rCe(n,s),h=Math.min(d,c);return h>0&&await new Promise((v,y)=>{var _,S;const b=()=>{var C;clearTimeout(w),(C=s.signal)==null||C.removeEventListener("abort",b),y(s.signal.reason)},w=setTimeout(()=>{var C;(C=s.signal)==null||C.removeEventListener("abort",b),v()},h);s.unref&&((_=w.unref)==null||_.call(w)),(S=s.signal)==null||S.addEventListener("abort",b,{once:!0})}),(g=s.signal)==null||g.throwIfAborted(),!0}async function K_(e,t={}){var a,i,o;if(t={...t},tCe(t.retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??(t.retries=10),t.factor??(t.factor=2),t.minTimeout??(t.minTimeout=1e3),t.maxTimeout??(t.maxTimeout=Number.POSITIVE_INFINITY),t.maxRetryTime??(t.maxRetryTime=Number.POSITIVE_INFINITY),t.randomize??(t.randomize=!1),t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.shouldConsumeRetry??(t.shouldConsumeRetry=()=>!0),Hg("factor",t.factor,{min:0,allowInfinity:!1}),Hg("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),Hg("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),Hg("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),(a=t.signal)==null||a.throwIfAborted();let n=0,r=0;const s=performance.now();for(;!Number.isFinite(t.retries)||r<=t.retries;){n++;try{(i=t.signal)==null||i.throwIfAborted();const l=await e(n);return(o=t.signal)==null||o.throwIfAborted(),l}catch(l){await sCe({error:l,attemptNumber:n,retriesConsumed:r,startTime:s,options:t})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var aCe={};xn(aCe,{AsyncCaller:()=>Mm});const iCe=[400,401,402,403,404,405,406,407,409],oCe=e=>{if(typeof e!="object"||e===null)return;if("message"in e&&typeof e.message=="string"&&(e.message.startsWith("Cancel")||e.message.startsWith("AbortError"))||"name"in e&&typeof e.name=="string"&&e.name==="AbortError"||"code"in e&&typeof e.code=="string"&&e.code==="ECONNABORTED")throw e;const t="response"in e&&typeof e.response=="object"&&e.response!==null&&"status"in e.response&&typeof e.response.status=="number"?e.response.status:void 0,n="status"in e&&typeof e.status=="number"?e.status:void 0,r=t??n;if(r&&iCe.includes(+r))throw e;if(("error"in e&&typeof e.error=="object"&&e.error!==null&&"code"in e.error&&typeof e.error.code=="string"?e.error.code:void 0)==="insufficient_quota"){const a=new Error("message"in e&&typeof e.message=="string"?e.message:"Insufficient quota");throw a.name="InsufficientQuotaError",a}};var Mm=class{constructor(e){se(this,"maxConcurrency");se(this,"maxRetries");se(this,"onFailedAttempt");se(this,"queue");this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??oCe;const t="default"in Go?Go.default:Go;this.queue=new t({concurrency:this.maxConcurrency})}async call(e,...t){return this.queue.add(()=>K_(()=>e(...t).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:({error:n})=>{var r;return(r=this.onFailedAttempt)==null?void 0:r.call(this,n)},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...n){if(e.signal){let r;return Promise.race([this.call(t,...n),new Promise((s,a)=>{var i;r=()=>{a(Rp(e.signal))},(i=e.signal)==null||i.addEventListener("abort",r,{once:!0})})]).finally(()=>{e.signal&&r&&e.signal.removeEventListener("abort",r)})}return this.call(t,...n)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}},cD=class extends $f{constructor({config:t,onStart:n,onEnd:r,onError:s}){super({_awaitHandler:!0});se(this,"name","RootListenersTracer");se(this,"rootId");se(this,"config");se(this,"argOnStart");se(this,"argOnEnd");se(this,"argOnError");this.config=t,this.argOnStart=n,this.argOnEnd=r,this.argOnError=s}persistRun(t){return Promise.resolve()}async onRunCreate(t){this.rootId||(this.rootId=t.id,this.argOnStart&&await this.argOnStart(t,this.config))}async onRunUpdate(t){t.id===this.rootId&&(t.error?this.argOnError&&await this.argOnError(t,this.config):this.argOnEnd&&await this.argOnEnd(t,this.config))}};function X4(e){return e?e.lc_runnable:!1}var lCe=class{constructor(e){se(this,"includeNames");se(this,"includeTypes");se(this,"includeTags");se(this,"excludeNames");se(this,"excludeTypes");se(this,"excludeTags");this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,t){let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const r=e.tags??[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(t)),this.includeTags!==void 0&&(n=n||r.some(s=>{var a;return(a=this.includeTags)==null?void 0:a.includes(s)})),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(t)),this.excludeTags!==void 0&&(n=n&&r.every(s=>{var a;return!((a=this.excludeTags)!=null&&a.includes(s))})),n}};const uCe=e=>btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");function Ze(e,t,n){function r(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:i,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,l);const u=i.prototype,c=Object.keys(u);for(let d=0;d<c.length;d++){const h=c[d];h in o||(o[h]=u[h].bind(o))}}const s=(n==null?void 0:n.Parent)??Object;class a extends s{}Object.defineProperty(a,"name",{value:e});function i(o){var l;const u=n!=null&&n.Parent?new a:this;r(u,o),(l=u._zod).deferred??(l.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:o=>{var l,u;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(u=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:u.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class Md extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class dD extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const fD={};function uu(e){return fD}function hD(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function G_(e,t){return typeof t=="bigint"?t.toString():t}function J4(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Q4(e){return e==null}function eC(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function cCe(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l!=null&&l[1]&&(s=Number.parseInt(l[1]))}const a=n>s?n:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}const iN=Symbol("evaluating");function Kn(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==iN)return r===void 0&&(r=iN,r=n()),r},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Mc(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function mu(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function oN(e){return JSON.stringify(e)}function dCe(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const pD="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function B0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const fCe=J4(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function of(e){if(B0(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(B0(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function mD(e){return of(e)?{...e}:Array.isArray(e)?[...e]:e}const hCe=new Set(["string","number","symbol"]);function lf(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ss(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Ut(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function pCe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const mCe={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function gCe(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=mu(e._zod.def,{get shape(){const i={};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(i[o]=n.shape[o])}return Mc(this,"shape",i),i},checks:[]});return ss(e,a)}function vCe(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=mu(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete i[o]}return Mc(this,"shape",i),i},checks:[]});return ss(e,a)}function gD(e,t){if(!of(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const a=e._zod.def.shape;for(const i in t)if(Object.getOwnPropertyDescriptor(a,i)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=mu(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Mc(this,"shape",a),a}});return ss(e,s)}function yCe(e,t){if(!of(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=mu(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Mc(this,"shape",r),r}});return ss(e,n)}function bCe(e,t){const n=mu(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Mc(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ss(e,n)}function vD(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const i=mu(t._zod.def,{get shape(){const o=t._zod.def.shape,l={...o};if(n)for(const u in n){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=e?new e({type:"optional",innerType:o[u]}):o[u])}else for(const u in o)l[u]=e?new e({type:"optional",innerType:o[u]}):o[u];return Mc(this,"shape",l),l},checks:[]});return ss(t,i)}function wCe(e,t,n){const r=mu(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(n)for(const i in n){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(a[i]=new e({type:"nonoptional",innerType:s[i]}))}else for(const i in s)a[i]=new e({type:"nonoptional",innerType:s[i]});return Mc(this,"shape",a),a}});return ss(t,r)}function gd(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function vd(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ug(e){return typeof e=="string"?e:e==null?void 0:e.message}function cu(e,t,n){var s,a,i,o,l,u;const r={...e,path:e.path??[]};if(!e.message){const c=Ug((i=(a=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:a.error)==null?void 0:i.call(a,e))??Ug((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??Ug((l=n.customError)==null?void 0:l.call(n,e))??Ug((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=c}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function tC(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Lp(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const yD=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,G_,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},bD=Ze("$ZodError",yD),b1=Ze("$ZodError",yD,{Parent:Error});function _Ce(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function SCe(e,t=n=>n.message){const n={_errors:[]},r=s=>{for(const a of s.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(i=>r({issues:i}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let i=n,o=0;for(;o<a.path.length;){const l=a.path[o];o===a.path.length-1?(i[l]=i[l]||{_errors:[]},i[l]._errors.push(t(a))):i[l]=i[l]||{_errors:[]},i=i[l],o++}}};return r(e),n}function CCe(e){const t=[],n=e.map(r=>typeof r=="object"?r.key:r);for(const r of n)typeof r=="number"?t.push(`[${r}]`):typeof r=="symbol"?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function xCe(e){var r;const t=[],n=[...e.issues].sort((s,a)=>(s.path??[]).length-(a.path??[]).length);for(const s of n)t.push(` ${s.message}`),(r=s.path)!=null&&r.length&&t.push(`   at ${CCe(s.path)}`);return t.join(`
`)}const w1=e=>(t,n,r,s)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},a);if(i instanceof Promise)throw new Md;if(i.issues.length){const o=new((s==null?void 0:s.Err)??e)(i.issues.map(l=>cu(l,a,uu())));throw pD(o,s==null?void 0:s.callee),o}return i.value},_1=w1(b1),S1=e=>async(t,n,r,s)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},a);if(i instanceof Promise&&(i=await i),i.issues.length){const o=new((s==null?void 0:s.Err)??e)(i.issues.map(l=>cu(l,a,uu())));throw pD(o,s==null?void 0:s.callee),o}return i.value},wD=S1(b1),C1=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new Md;return a.issues.length?{success:!1,error:new(e??bD)(a.issues.map(i=>cu(i,s,uu())))}:{success:!0,data:a.value}},ECe=C1(b1),x1=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(i=>cu(i,s,uu())))}:{success:!0,data:a.value}},TCe=x1(b1),kCe=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return w1(e)(t,n,s)},NCe=e=>(t,n,r)=>w1(e)(t,n,r),ICe=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return S1(e)(t,n,s)},OCe=e=>async(t,n,r)=>S1(e)(t,n,r),$Ce=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return C1(e)(t,n,s)},ACe=e=>(t,n,r)=>C1(e)(t,n,r),RCe=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return x1(e)(t,n,s)},MCe=e=>async(t,n,r)=>x1(e)(t,n,r),PCe=/^[cC][^\s-]{8,}$/,LCe=/^[0-9a-z]+$/,DCe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,zCe=/^[0-9a-vA-V]{20}$/,FCe=/^[A-Za-z0-9]{27}$/,BCe=/^[a-zA-Z0-9_-]{21}$/,jCe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,VCe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,lN=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,HCe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,UCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function WCe(){return new RegExp(UCe,"u")}const KCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,GCe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ZCe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,YCe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qCe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,_D=/^[A-Za-z0-9_-]*$/,XCe=/^\+[1-9]\d{6,14}$/,SD="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",JCe=new RegExp(`^${SD}$`);function CD(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function QCe(e){return new RegExp(`^${CD(e)}$`)}function exe(e){const t=CD({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${SD}T(?:${r})$`)}const txe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},nxe=/^-?\d+$/,xD=/^-?\d+(?:\.\d+)?$/,rxe=/^[^A-Z]*$/,sxe=/^[^a-z]*$/,ra=Ze("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),ED={number:"number",bigint:"bigint",object:"date"},TD=Ze("$ZodCheckLessThan",(e,t)=>{ra.init(e,t);const n=ED[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,a=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),kD=Ze("$ZodCheckGreaterThan",(e,t)=>{ra.init(e,t);const n=ED[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,a=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),axe=Ze("$ZodCheckMultipleOf",(e,t)=>{ra.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):cCe(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),ixe=Ze("$ZodCheckNumberFormat",(e,t)=>{var i;ra.init(e,t),t.format=t.format||"float64";const n=(i=t.format)==null?void 0:i.includes("int"),r=n?"int":"number",[s,a]=mCe[t.format];e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,l.minimum=s,l.maximum=a,n&&(l.pattern=nxe)}),e._zod.check=o=>{const l=o.value;if(n){if(!Number.isInteger(l)){o.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}l<s&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),l>a&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),oxe=Ze("$ZodCheckMaxLength",(e,t)=>{var n;ra.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Q4(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const i=tC(s);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),lxe=Ze("$ZodCheckMinLength",(e,t)=>{var n;ra.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Q4(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const i=tC(s);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),uxe=Ze("$ZodCheckLengthEquals",(e,t)=>{var n;ra.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Q4(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,a=s.length;if(a===t.length)return;const i=tC(s),o=a>t.length;r.issues.push({origin:i,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),E1=Ze("$ZodCheckStringFormat",(e,t)=>{var n,r;ra.init(e,t),e._zod.onattach.push(s=>{const a=s._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),cxe=Ze("$ZodCheckRegex",(e,t)=>{E1.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),dxe=Ze("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=rxe),E1.init(e,t)}),fxe=Ze("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=sxe),E1.init(e,t)}),hxe=Ze("$ZodCheckIncludes",(e,t)=>{ra.init(e,t);const n=lf(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),pxe=Ze("$ZodCheckStartsWith",(e,t)=>{ra.init(e,t);const n=new RegExp(`^${lf(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),mxe=Ze("$ZodCheckEndsWith",(e,t)=>{ra.init(e,t);const n=new RegExp(`.*${lf(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),gxe=Ze("$ZodCheckOverwrite",(e,t)=>{ra.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class vxe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(i=>i),s=Math.min(...r.map(i=>i.length-i.trimStart().length)),a=r.map(i=>i.slice(s)).map(i=>" ".repeat(this.indent*2)+i);for(const i of a)this.content.push(i)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new t(...n,s.join(`
`))}}const yxe={major:4,minor:3,patch:6},Sr=Ze("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=yxe;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const a of r)for(const i of a._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,l,u)=>{let c=gd(o),d;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(c)continue;const p=o.issues.length,m=h._zod.check(o);if(m instanceof Promise&&(u==null?void 0:u.async)===!1)throw new Md;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,o.issues.length!==p&&(c||(c=gd(o,p)))});else{if(o.issues.length===p)continue;c||(c=gd(o,p))}}return d?d.then(()=>o):o},i=(o,l,u)=>{if(gd(o))return o.aborted=!0,o;const c=a(l,r,u);if(c instanceof Promise){if(u.async===!1)throw new Md;return c.then(d=>e._zod.parse(d,u))}return e._zod.parse(c,u)};e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){const c=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return c instanceof Promise?c.then(d=>i(d,o,l)):i(c,o,l)}const u=e._zod.parse(o,l);if(u instanceof Promise){if(l.async===!1)throw new Md;return u.then(c=>a(c,r,l))}return a(u,r,l)}}Kn(e,"~standard",()=>({validate:a=>{var i;try{const o=ECe(e,a);return o.success?{value:o.data}:{issues:(i=o.error)==null?void 0:i.issues}}catch{return TCe(e,a).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}))}),nC=Ze("$ZodString",(e,t)=>{var n;Sr.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??txe(e._zod.bag),e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),hr=Ze("$ZodStringFormat",(e,t)=>{E1.init(e,t),nC.init(e,t)}),bxe=Ze("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=VCe),hr.init(e,t)}),wxe=Ze("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=lN(r))}else t.pattern??(t.pattern=lN());hr.init(e,t)}),_xe=Ze("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=HCe),hr.init(e,t)}),Sxe=Ze("$ZodURL",(e,t)=>{hr.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Cxe=Ze("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=WCe()),hr.init(e,t)}),xxe=Ze("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=BCe),hr.init(e,t)}),Exe=Ze("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=PCe),hr.init(e,t)}),Txe=Ze("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=LCe),hr.init(e,t)}),kxe=Ze("$ZodULID",(e,t)=>{t.pattern??(t.pattern=DCe),hr.init(e,t)}),Nxe=Ze("$ZodXID",(e,t)=>{t.pattern??(t.pattern=zCe),hr.init(e,t)}),Ixe=Ze("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=FCe),hr.init(e,t)}),Oxe=Ze("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=exe(t)),hr.init(e,t)}),$xe=Ze("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=JCe),hr.init(e,t)}),Axe=Ze("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=QCe(t)),hr.init(e,t)}),Rxe=Ze("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=jCe),hr.init(e,t)}),Mxe=Ze("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=KCe),hr.init(e,t),e._zod.bag.format="ipv4"}),Pxe=Ze("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=GCe),hr.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Lxe=Ze("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=ZCe),hr.init(e,t)}),Dxe=Ze("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=YCe),hr.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,a]=r;if(!a)throw new Error;const i=Number(a);if(`${i}`!==a)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function ND(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const zxe=Ze("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=qCe),hr.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{ND(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Fxe(e){if(!_D.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return ND(n)}const Bxe=Ze("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=_D),hr.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Fxe(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),jxe=Ze("$ZodE164",(e,t)=>{t.pattern??(t.pattern=XCe),hr.init(e,t)});function Vxe(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Hxe=Ze("$ZodJWT",(e,t)=>{hr.init(e,t),e._zod.check=n=>{Vxe(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),ID=Ze("$ZodNumber",(e,t)=>{Sr.init(e,t),e._zod.pattern=e._zod.bag.pattern??xD,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const a=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...a?{received:a}:{}}),n}}),Uxe=Ze("$ZodNumberFormat",(e,t)=>{ixe.init(e,t),ID.init(e,t)}),OD=Ze("$ZodUnknown",(e,t)=>{Sr.init(e,t),e._zod.parse=n=>n}),$D=Ze("$ZodNever",(e,t)=>{Sr.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function uN(e,t,n){e.issues.length&&t.issues.push(...vd(n,e.issues)),t.value[n]=e.value}const Wxe=Ze("$ZodArray",(e,t)=>{Sr.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const a=[];for(let i=0;i<s.length;i++){const o=s[i],l=t.element._zod.run({value:o,issues:[]},r);l instanceof Promise?a.push(l.then(u=>uN(u,n,i))):uN(l,n,i)}return a.length?Promise.all(a).then(()=>n):n}});function j0(e,t,n,r,s){if(e.issues.length){if(s&&!(n in r))return;t.issues.push(...vd(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function AD(e){var r,s,a,i;const t=Object.keys(e.shape);for(const o of t)if(!((i=(a=(s=(r=e.shape)==null?void 0:r[o])==null?void 0:s._zod)==null?void 0:a.traits)!=null&&i.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=pCe(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function RD(e,t,n,r,s,a){const i=[],o=s.keySet,l=s.catchall._zod,u=l.def.type,c=l.optout==="optional";for(const d in t){if(o.has(d))continue;if(u==="never"){i.push(d);continue}const h=l.run({value:t[d],issues:[]},r);h instanceof Promise?e.push(h.then(p=>j0(p,n,d,t,c))):j0(h,n,d,t,c)}return i.length&&n.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const Kxe=Ze("$ZodObject",(e,t)=>{Sr.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...o};return Object.defineProperty(t,"shape",{value:l}),l}})}const r=J4(()=>AD(t));Kn(e._zod,"propValues",()=>{const o=t.shape,l={};for(const u in o){const c=o[u]._zod;if(c.values){l[u]??(l[u]=new Set);for(const d of c.values)l[u].add(d)}}return l});const s=B0,a=t.catchall;let i;e._zod.parse=(o,l)=>{i??(i=r.value);const u=o.value;if(!s(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};const c=[],d=i.shape;for(const h of i.keys){const p=d[h],m=p._zod.optout==="optional",g=p._zod.run({value:u[h],issues:[]},l);g instanceof Promise?c.push(g.then(v=>j0(v,o,h,u,m))):j0(g,o,h,u,m)}return a?RD(c,u,o,l,r.value,e):c.length?Promise.all(c).then(()=>o):o}}),Gxe=Ze("$ZodObjectJIT",(e,t)=>{Kxe.init(e,t);const n=e._zod.parse,r=J4(()=>AD(t)),s=h=>{var w;const p=new vxe(["shape","payload","ctx"]),m=r.value,g=_=>{const S=oN(_);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};p.write("const input = payload.value;");const v=Object.create(null);let y=0;for(const _ of m.keys)v[_]=`key_${y++}`;p.write("const newResult = {};");for(const _ of m.keys){const S=v[_],C=oN(_),T=h[_],x=((w=T==null?void 0:T._zod)==null?void 0:w.optout)==="optional";p.write(`const ${S} = ${g(_)};`),x?p.write(`
        if (${S}.issues.length) {
          if (${C} in input) {
            payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${C}, ...iss.path] : [${C}]
            })));
          }
        }
        
        if (${S}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${S}.value;
        }
        
      `):p.write(`
        if (${S}.issues.length) {
          payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        if (${S}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${S}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const b=p.compile();return(_,S)=>b(h,_,S)};let a;const i=B0,o=!fD.jitless,u=o&&fCe.value,c=t.catchall;let d;e._zod.parse=(h,p)=>{d??(d=r.value);const m=h.value;return i(m)?o&&u&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(a||(a=s(t.shape)),h=a(h,p),c?RD([],m,h,p,d,e):h):n(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h)}});function cN(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const s=e.filter(a=>!gd(a));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(i=>cu(i,r,uu())))}),t)}const Zxe=Ze("$ZodUnion",(e,t)=>{Sr.init(e,t),Kn(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Kn(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Kn(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Kn(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${s.map(a=>eC(a.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(s,a)=>{if(n)return r(s,a);let i=!1;const o=[];for(const l of t.options){const u=l._zod.run({value:s.value,issues:[]},a);if(u instanceof Promise)o.push(u),i=!0;else{if(u.issues.length===0)return u;o.push(u)}}return i?Promise.all(o).then(l=>cN(l,s,e,a)):cN(o,s,e,a)}}),Yxe=Ze("$ZodIntersection",(e,t)=>{Sr.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,a=t.left._zod.run({value:s,issues:[]},r),i=t.right._zod.run({value:s,issues:[]},r);return a instanceof Promise||i instanceof Promise?Promise.all([a,i]).then(([l,u])=>dN(n,l,u)):dN(n,a,i)}});function Z_(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(of(e)&&of(t)){const n=Object.keys(t),r=Object.keys(e).filter(a=>n.indexOf(a)!==-1),s={...e,...t};for(const a of r){const i=Z_(e[a],t[a]);if(!i.valid)return{valid:!1,mergeErrorPath:[a,...i.mergeErrorPath]};s[a]=i.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r],i=Z_(s,a);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function dN(e,t,n){const r=new Map;let s;for(const o of t.issues)if(o.code==="unrecognized_keys"){s??(s=o);for(const l of o.keys)r.has(l)||r.set(l,{}),r.get(l).l=!0}else e.issues.push(o);for(const o of n.issues)if(o.code==="unrecognized_keys")for(const l of o.keys)r.has(l)||r.set(l,{}),r.get(l).r=!0;else e.issues.push(o);const a=[...r].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(a.length&&s&&e.issues.push({...s,keys:a}),gd(e))return e;const i=Z_(t.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const qxe=Ze("$ZodRecord",(e,t)=>{Sr.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!of(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const a=[],i=t.keyType._zod.values;if(i){n.value={};const o=new Set;for(const u of i)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){o.add(typeof u=="number"?u.toString():u);const c=t.valueType._zod.run({value:s[u],issues:[]},r);c instanceof Promise?a.push(c.then(d=>{d.issues.length&&n.issues.push(...vd(u,d.issues)),n.value[u]=d.value})):(c.issues.length&&n.issues.push(...vd(u,c.issues)),n.value[u]=c.value)}let l;for(const u in s)o.has(u)||(l=l??[],l.push(u));l&&l.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:l})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;let l=t.keyType._zod.run({value:o,issues:[]},r);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof o=="string"&&xD.test(o)&&l.issues.length){const d=t.keyType._zod.run({value:Number(o),issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(l=d)}if(l.issues.length){t.mode==="loose"?n.value[o]=s[o]:n.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(d=>cu(d,r,uu())),input:o,path:[o],inst:e});continue}const c=t.valueType._zod.run({value:s[o],issues:[]},r);c instanceof Promise?a.push(c.then(d=>{d.issues.length&&n.issues.push(...vd(o,d.issues)),n.value[l.value]=d.value})):(c.issues.length&&n.issues.push(...vd(o,c.issues)),n.value[l.value]=c.value)}}return a.length?Promise.all(a).then(()=>n):n}}),Xxe=Ze("$ZodEnum",(e,t)=>{Sr.init(e,t);const n=hD(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(s=>hCe.has(typeof s)).map(s=>typeof s=="string"?lf(s):s.toString()).join("|")})$`),e._zod.parse=(s,a)=>{const i=s.value;return r.has(i)||s.issues.push({code:"invalid_value",values:n,input:i,inst:e}),s}}),Jxe=Ze("$ZodLiteral",(e,t)=>{if(Sr.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?lf(r):r?lf(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,s)=>{const a=r.value;return n.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),Qxe=Ze("$ZodTransform",(e,t)=>{Sr.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new dD(e.constructor.name);const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(i=>(n.value=i,n));if(s instanceof Promise)throw new Md;return n.value=s,n}});function fN(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const T1=Ze("$ZodOptional",(e,t)=>{Sr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Kn(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Kn(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${eC(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>fN(a,n.value)):fN(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),eEe=Ze("$ZodExactOptional",(e,t)=>{T1.init(e,t),Kn(e._zod,"values",()=>t.innerType._zod.values),Kn(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),tEe=Ze("$ZodNullable",(e,t)=>{Sr.init(e,t),Kn(e._zod,"optin",()=>t.innerType._zod.optin),Kn(e._zod,"optout",()=>t.innerType._zod.optout),Kn(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${eC(n.source)}|null)$`):void 0}),Kn(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),nEe=Ze("$ZodDefault",(e,t)=>{Sr.init(e,t),e._zod.optin="optional",Kn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>hN(a,t)):hN(s,t)}});function hN(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const rEe=Ze("$ZodPrefault",(e,t)=>{Sr.init(e,t),e._zod.optin="optional",Kn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),sEe=Ze("$ZodNonOptional",(e,t)=>{Sr.init(e,t),Kn(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>pN(a,e)):pN(s,e)}});function pN(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const aEe=Ze("$ZodCatch",(e,t)=>{Sr.init(e,t),Kn(e._zod,"optin",()=>t.innerType._zod.optin),Kn(e._zod,"optout",()=>t.innerType._zod.optout),Kn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(i=>cu(i,r,uu()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(a=>cu(a,r,uu()))},input:n.value}),n.issues=[]),n)}}),iEe=Ze("$ZodPipe",(e,t)=>{Sr.init(e,t),Kn(e._zod,"values",()=>t.in._zod.values),Kn(e._zod,"optin",()=>t.in._zod.optin),Kn(e._zod,"optout",()=>t.out._zod.optout),Kn(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=t.out._zod.run(n,r);return a instanceof Promise?a.then(i=>Wg(i,t.in,r)):Wg(a,t.in,r)}const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(a=>Wg(a,t.out,r)):Wg(s,t.out,r)}});function Wg(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const oEe=Ze("$ZodReadonly",(e,t)=>{Sr.init(e,t),Kn(e._zod,"propValues",()=>t.innerType._zod.propValues),Kn(e._zod,"values",()=>t.innerType._zod.values),Kn(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Kn(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(mN):mN(s)}});function mN(e){return e.value=Object.freeze(e.value),e}const lEe=Ze("$ZodCustom",(e,t)=>{ra.init(e,t),Sr.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(a=>gN(a,n,r,e));gN(s,n,r,e)}});function gN(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(Lp(s))}}var vN;class uEe{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function cEe(){return new uEe}(vN=globalThis).__zod_globalRegistry??(vN.__zod_globalRegistry=cEe());const Kr=globalThis.__zod_globalRegistry;function dEe(e,t){return new e({type:"string",...Ut(t)})}function fEe(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ut(t)})}function yN(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ut(t)})}function hEe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ut(t)})}function pEe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ut(t)})}function mEe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ut(t)})}function gEe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ut(t)})}function vEe(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ut(t)})}function yEe(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ut(t)})}function bEe(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ut(t)})}function wEe(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ut(t)})}function _Ee(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ut(t)})}function SEe(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ut(t)})}function CEe(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ut(t)})}function xEe(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ut(t)})}function EEe(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ut(t)})}function TEe(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ut(t)})}function kEe(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ut(t)})}function NEe(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ut(t)})}function IEe(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ut(t)})}function OEe(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ut(t)})}function $Ee(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ut(t)})}function AEe(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ut(t)})}function REe(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ut(t)})}function MEe(e,t){return new e({type:"string",format:"date",check:"string_format",...Ut(t)})}function PEe(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ut(t)})}function LEe(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ut(t)})}function DEe(e,t){return new e({type:"number",checks:[],...Ut(t)})}function zEe(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ut(t)})}function MD(e){return new e({type:"unknown"})}function PD(e,t){return new e({type:"never",...Ut(t)})}function bN(e,t){return new TD({check:"less_than",...Ut(t),value:e,inclusive:!1})}function S2(e,t){return new TD({check:"less_than",...Ut(t),value:e,inclusive:!0})}function wN(e,t){return new kD({check:"greater_than",...Ut(t),value:e,inclusive:!1})}function C2(e,t){return new kD({check:"greater_than",...Ut(t),value:e,inclusive:!0})}function _N(e,t){return new axe({check:"multiple_of",...Ut(t),value:e})}function LD(e,t){return new oxe({check:"max_length",...Ut(t),maximum:e})}function V0(e,t){return new lxe({check:"min_length",...Ut(t),minimum:e})}function DD(e,t){return new uxe({check:"length_equals",...Ut(t),length:e})}function FEe(e,t){return new cxe({check:"string_format",format:"regex",...Ut(t),pattern:e})}function BEe(e){return new dxe({check:"string_format",format:"lowercase",...Ut(e)})}function jEe(e){return new fxe({check:"string_format",format:"uppercase",...Ut(e)})}function VEe(e,t){return new hxe({check:"string_format",format:"includes",...Ut(t),includes:e})}function HEe(e,t){return new pxe({check:"string_format",format:"starts_with",...Ut(t),prefix:e})}function UEe(e,t){return new mxe({check:"string_format",format:"ends_with",...Ut(t),suffix:e})}function Af(e){return new gxe({check:"overwrite",tx:e})}function WEe(e){return Af(t=>t.normalize(e))}function KEe(){return Af(e=>e.trim())}function GEe(){return Af(e=>e.toLowerCase())}function ZEe(){return Af(e=>e.toUpperCase())}function YEe(){return Af(e=>dCe(e))}function qEe(e,t,n){return new e({type:"array",element:t,...Ut(n)})}function XEe(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Ut(n)})}function JEe(e){const t=QEe(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Lp(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Lp(s))}},e(n.value,n)));return t}function QEe(e,t){const n=new ra({check:"custom",...Ut(t)});return n._zod.check=e,n}function H0(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Kr,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function tr(e,t,n={path:[],schemaPath:[]}){var c,d;var r;const s=e._zod.def,a=t.seen.get(e);if(a)return a.count++,n.schemaPath.includes(e)&&(a.cycle=n.path),a.schema;const i={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,i);const o=(d=(c=e._zod).toJSONSchema)==null?void 0:d.call(c);if(o)i.schema=o;else{const h={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,i.schema,h);else{const m=i.schema,g=t.processors[s.type];if(!g)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);g(e,t,m,h)}const p=e._zod.parent;p&&(i.ref||(i.ref=p),tr(p,t,h),t.seen.get(p).isParent=!0)}const l=t.metadataRegistry.get(e);return l&&Object.assign(i.schema,l),t.io==="input"&&As(e)&&(delete i.schema.examples,delete i.schema.default),t.io==="input"&&i.schema._prefault&&((r=i.schema).default??(r.default=i.schema._prefault)),delete i.schema._prefault,t.seen.get(e).schema}function U0(e,t){var i,o,l,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const c of e.seen.entries()){const d=(i=e.metadataRegistry.get(c[0]))==null?void 0:i.id;if(d){const h=r.get(d);if(h&&h!==c[0])throw new Error(`Duplicate schema id "${d}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(d,c[0])}}const s=c=>{var g;const d=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const v=(g=e.external.registry.get(c[0]))==null?void 0:g.id,y=e.external.uri??(w=>w);if(v)return{ref:y(v)};const b=c[1].defId??c[1].schema.id??`schema${e.counter++}`;return c[1].defId=b,{defId:b,ref:`${y("__shared")}#/${d}/${b}`}}if(c[1]===n)return{ref:"#"};const p=`#/${d}/`,m=c[1].schema.id??`__schema${e.counter++}`;return{defId:m,ref:p+m}},a=c=>{if(c[1].schema.$ref)return;const d=c[1],{ref:h,defId:p}=s(c);d.def={...d.schema},p&&(d.defId=p);const m=d.schema;for(const g in m)delete m[g];m.$ref=h};if(e.cycles==="throw")for(const c of e.seen.entries()){const d=c[1];if(d.cycle)throw new Error(`Cycle detected: #/${(o=d.cycle)==null?void 0:o.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of e.seen.entries()){const d=c[1];if(t===c[0]){a(c);continue}if(e.external){const p=(l=e.external.registry.get(c[0]))==null?void 0:l.id;if(t!==c[0]&&p){a(c);continue}}if((u=e.metadataRegistry.get(c[0]))==null?void 0:u.id){a(c);continue}if(d.cycle){a(c);continue}if(d.count>1&&e.reused==="ref"){a(c);continue}}}function W0(e,t){var i,o,l;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=u=>{const c=e.seen.get(u);if(c.ref===null)return;const d=c.def??c.schema,h={...d},p=c.ref;if(c.ref=null,p){r(p);const g=e.seen.get(p),v=g.schema;if(v.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(v)):Object.assign(d,v),Object.assign(d,h),u._zod.parent===p)for(const b in d)b==="$ref"||b==="allOf"||b in h||delete d[b];if(v.$ref&&g.def)for(const b in d)b==="$ref"||b==="allOf"||b in g.def&&JSON.stringify(d[b])===JSON.stringify(g.def[b])&&delete d[b]}const m=u._zod.parent;if(m&&m!==p){r(m);const g=e.seen.get(m);if(g!=null&&g.schema.$ref&&(d.$ref=g.schema.$ref,g.def))for(const v in d)v==="$ref"||v==="allOf"||v in g.def&&JSON.stringify(d[v])===JSON.stringify(g.def[v])&&delete d[v]}e.override({zodSchema:u,jsonSchema:d,path:c.path??[]})};for(const u of[...e.seen.entries()].reverse())r(u[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,(i=e.external)!=null&&i.uri){const u=(o=e.external.registry.get(t))==null?void 0:o.id;if(!u)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(u)}Object.assign(s,n.def??n.schema);const a=((l=e.external)==null?void 0:l.defs)??{};for(const u of e.seen.entries()){const c=u[1];c.def&&c.defId&&(a[c.defId]=c.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?s.$defs=a:s.definitions=a);try{const u=JSON.parse(JSON.stringify(s));return Object.defineProperty(u,"~standard",{value:{...t["~standard"],jsonSchema:{input:K0(t,"input",e.processors),output:K0(t,"output",e.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function As(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return As(r.element,n);if(r.type==="set")return As(r.valueType,n);if(r.type==="lazy")return As(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return As(r.innerType,n);if(r.type==="intersection")return As(r.left,n)||As(r.right,n);if(r.type==="record"||r.type==="map")return As(r.keyType,n)||As(r.valueType,n);if(r.type==="pipe")return As(r.in,n)||As(r.out,n);if(r.type==="object"){for(const s in r.shape)if(As(r.shape[s],n))return!0;return!1}if(r.type==="union"){for(const s of r.options)if(As(s,n))return!0;return!1}if(r.type==="tuple"){for(const s of r.items)if(As(s,n))return!0;return!!(r.rest&&As(r.rest,n))}return!1}const eTe=(e,t={})=>n=>{const r=H0({...n,processors:t});return tr(e,r),U0(r,e),W0(r,e)},K0=(e,t,n={})=>r=>{const{libraryOptions:s,target:a}=r??{},i=H0({...s??{},target:a,io:t,processors:n});return tr(e,i),U0(i,e),W0(i,e)},tTe={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},zD=(e,t,n,r)=>{const s=n;s.type="string";const{minimum:a,maximum:i,format:o,patterns:l,contentEncoding:u}=e._zod.bag;if(typeof a=="number"&&(s.minLength=a),typeof i=="number"&&(s.maxLength=i),o&&(s.format=tTe[o]??o,s.format===""&&delete s.format,o==="time"&&delete s.format),u&&(s.contentEncoding=u),l&&l.size>0){const c=[...l];c.length===1?s.pattern=c[0].source:c.length>1&&(s.allOf=[...c.map(d=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},FD=(e,t,n,r)=>{const s=n,{minimum:a,maximum:i,format:o,multipleOf:l,exclusiveMaximum:u,exclusiveMinimum:c}=e._zod.bag;typeof o=="string"&&o.includes("int")?s.type="integer":s.type="number",typeof c=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=c,s.exclusiveMinimum=!0):s.exclusiveMinimum=c),typeof a=="number"&&(s.minimum=a,typeof c=="number"&&t.target!=="draft-04"&&(c>=a?delete s.minimum:delete s.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=u,s.exclusiveMaximum=!0):s.exclusiveMaximum=u),typeof i=="number"&&(s.maximum=i,typeof u=="number"&&t.target!=="draft-04"&&(u<=i?delete s.maximum:delete s.exclusiveMaximum)),typeof l=="number"&&(s.multipleOf=l)},nTe=(e,t,n,r)=>{n.type="boolean"},rTe=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},sTe=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},aTe=(e,t,n,r)=>{t.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},iTe=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},oTe=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},BD=(e,t,n,r)=>{n.not={}},lTe=(e,t,n,r)=>{},jD=(e,t,n,r)=>{},uTe=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},VD=(e,t,n,r)=>{const s=e._zod.def,a=hD(s.entries);a.every(i=>typeof i=="number")&&(n.type="number"),a.every(i=>typeof i=="string")&&(n.type="string"),n.enum=a},HD=(e,t,n,r)=>{const s=e._zod.def,a=[];for(const i of s.values)if(i===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof i=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(i))}else a.push(i);if(a.length!==0)if(a.length===1){const i=a[0];n.type=i===null?"null":typeof i,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[i]:n.const=i}else a.every(i=>typeof i=="number")&&(n.type="number"),a.every(i=>typeof i=="string")&&(n.type="string"),a.every(i=>typeof i=="boolean")&&(n.type="boolean"),a.every(i=>i===null)&&(n.type="null"),n.enum=a},cTe=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},dTe=(e,t,n,r)=>{const s=n,a=e._zod.pattern;if(!a)throw new Error("Pattern not found in template literal");s.type="string",s.pattern=a.source},fTe=(e,t,n,r)=>{const s=n,a={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:o,mime:l}=e._zod.bag;i!==void 0&&(a.minLength=i),o!==void 0&&(a.maxLength=o),l?l.length===1?(a.contentMediaType=l[0],Object.assign(s,a)):(Object.assign(s,a),s.anyOf=l.map(u=>({contentMediaType:u}))):Object.assign(s,a)},hTe=(e,t,n,r)=>{n.type="boolean"},UD=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},pTe=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},WD=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},mTe=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},gTe=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},KD=(e,t,n,r)=>{const s=n,a=e._zod.def,{minimum:i,maximum:o}=e._zod.bag;typeof i=="number"&&(s.minItems=i),typeof o=="number"&&(s.maxItems=o),s.type="array",s.items=tr(a.element,t,{...r,path:[...r.path,"items"]})},GD=(e,t,n,r)=>{var u;const s=n,a=e._zod.def;s.type="object",s.properties={};const i=a.shape;for(const c in i)s.properties[c]=tr(i[c],t,{...r,path:[...r.path,"properties",c]});const o=new Set(Object.keys(i)),l=new Set([...o].filter(c=>{const d=a.shape[c]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));l.size>0&&(s.required=Array.from(l)),((u=a.catchall)==null?void 0:u._zod.def.type)==="never"?s.additionalProperties=!1:a.catchall?a.catchall&&(s.additionalProperties=tr(a.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},ZD=(e,t,n,r)=>{const s=e._zod.def,a=s.inclusive===!1,i=s.options.map((o,l)=>tr(o,t,{...r,path:[...r.path,a?"oneOf":"anyOf",l]}));a?n.oneOf=i:n.anyOf=i},YD=(e,t,n,r)=>{const s=e._zod.def,a=tr(s.left,t,{...r,path:[...r.path,"allOf",0]}),i=tr(s.right,t,{...r,path:[...r.path,"allOf",1]}),o=u=>"allOf"in u&&Object.keys(u).length===1,l=[...o(a)?a.allOf:[a],...o(i)?i.allOf:[i]];n.allOf=l},vTe=(e,t,n,r)=>{const s=n,a=e._zod.def;s.type="array";const i=t.target==="draft-2020-12"?"prefixItems":"items",o=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",l=a.items.map((h,p)=>tr(h,t,{...r,path:[...r.path,i,p]})),u=a.rest?tr(a.rest,t,{...r,path:[...r.path,o,...t.target==="openapi-3.0"?[a.items.length]:[]]}):null;t.target==="draft-2020-12"?(s.prefixItems=l,u&&(s.items=u)):t.target==="openapi-3.0"?(s.items={anyOf:l},u&&s.items.anyOf.push(u),s.minItems=l.length,u||(s.maxItems=l.length)):(s.items=l,u&&(s.additionalItems=u));const{minimum:c,maximum:d}=e._zod.bag;typeof c=="number"&&(s.minItems=c),typeof d=="number"&&(s.maxItems=d)},qD=(e,t,n,r)=>{const s=n,a=e._zod.def;s.type="object";const i=a.keyType,o=i._zod.bag,l=o==null?void 0:o.patterns;if(a.mode==="loose"&&l&&l.size>0){const c=tr(a.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});s.patternProperties={};for(const d of l)s.patternProperties[d.source]=c}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=tr(a.keyType,t,{...r,path:[...r.path,"propertyNames"]})),s.additionalProperties=tr(a.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const u=i._zod.values;if(u){const c=[...u].filter(d=>typeof d=="string"||typeof d=="number");c.length>0&&(s.required=c)}},XD=(e,t,n,r)=>{const s=e._zod.def,a=tr(s.innerType,t,r),i=t.seen.get(e);t.target==="openapi-3.0"?(i.ref=s.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},JD=(e,t,n,r)=>{const s=e._zod.def;tr(s.innerType,t,r);const a=t.seen.get(e);a.ref=s.innerType},QD=(e,t,n,r)=>{const s=e._zod.def;tr(s.innerType,t,r);const a=t.seen.get(e);a.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},ez=(e,t,n,r)=>{const s=e._zod.def;tr(s.innerType,t,r);const a=t.seen.get(e);a.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},tz=(e,t,n,r)=>{const s=e._zod.def;tr(s.innerType,t,r);const a=t.seen.get(e);a.ref=s.innerType;let i;try{i=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=i},nz=(e,t,n,r)=>{const s=e._zod.def,a=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;tr(a,t,r);const i=t.seen.get(e);i.ref=a},rz=(e,t,n,r)=>{const s=e._zod.def;tr(s.innerType,t,r);const a=t.seen.get(e);a.ref=s.innerType,n.readOnly=!0},yTe=(e,t,n,r)=>{const s=e._zod.def;tr(s.innerType,t,r);const a=t.seen.get(e);a.ref=s.innerType},rC=(e,t,n,r)=>{const s=e._zod.def;tr(s.innerType,t,r);const a=t.seen.get(e);a.ref=s.innerType},bTe=(e,t,n,r)=>{const s=e._zod.innerType;tr(s,t,r);const a=t.seen.get(e);a.ref=s},SN={string:zD,number:FD,boolean:nTe,bigint:rTe,symbol:sTe,null:aTe,undefined:iTe,void:oTe,never:BD,any:lTe,unknown:jD,date:uTe,enum:VD,literal:HD,nan:cTe,template_literal:dTe,file:fTe,success:hTe,custom:UD,function:pTe,transform:WD,map:mTe,set:gTe,array:KD,object:GD,union:ZD,intersection:YD,tuple:vTe,record:qD,nullable:XD,nonoptional:JD,default:QD,prefault:ez,catch:tz,pipe:nz,readonly:rz,promise:yTe,optional:rC,lazy:bTe};function Y_(e,t){if("_idmap"in e){const r=e,s=H0({...t,processors:SN}),a={};for(const l of r._idmap.entries()){const[u,c]=l;tr(c,s)}const i={},o={registry:r,uri:t==null?void 0:t.uri,defs:a};s.external=o;for(const l of r._idmap.entries()){const[u,c]=l;U0(s,c),i[u]=W0(s,c)}if(Object.keys(a).length>0){const l=s.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[l]:a}}return{schemas:i}}const n=H0({...t,processors:SN});return tr(e,n),U0(n,e),W0(n,e)}function pr(e){if(typeof e!="object"||e===null)return!1;const t=e;if(!("_zod"in t))return!1;const n=t._zod;return typeof n=="object"&&n!==null&&"def"in n}function Ar(e){if(typeof e!="object"||e===null)return!1;const t=e;if(!("_def"in t)||"_zod"in t)return!1;const n=t._def;return typeof n=="object"&&n!=null&&"typeName"in n}function wTe(e){return pr(e)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),Ar(e)}function eo(e){return!e||typeof e!="object"||Array.isArray(e)?!1:!!(pr(e)||Ar(e))}function sz(e){return typeof e=="object"&&e!==null&&"_def"in e&&typeof e._def=="object"&&e._def!==null&&"typeName"in e._def&&e._def.typeName==="ZodLiteral"}function az(e){return pr(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="literal":!1}function _Te(e){return!!(sz(e)||az(e))}async function iz(e,t){if(pr(e))try{return{success:!0,data:await wD(e,t)}}catch(n){return{success:!1,error:n}}if(Ar(e))return await e.safeParseAsync(t);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function k1(e,t){if(pr(e))return await wD(e,t);if(Ar(e))return await e.parseAsync(t);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function STe(e,t){if(pr(e))try{return{success:!0,data:_1(e,t)}}catch(n){return{success:!1,error:n}}if(Ar(e))return e.safeParse(t);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function CTe(e,t){if(pr(e))return _1(e,t);if(Ar(e))return e.parse(t);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function N1(e){var t;if(pr(e))return(t=Kr.get(e))==null?void 0:t.description;if(Ar(e)||"description"in e&&typeof e.description=="string")return e.description}function xTe(e){if(!eo(e))return!1;if(Ar(e)){const t=e._def;if(t.typeName==="ZodObject"){const n=e;return!n.shape||Object.keys(n.shape).length===0}if(t.typeName==="ZodRecord")return!0}if(pr(e)){const t=e._zod.def;if(t.type==="object"){const n=e;return!n.shape||Object.keys(n.shape).length===0}if(t.type==="record")return!0}return typeof e=="object"&&e!==null&&!("shape"in e)}function sC(e){return eo(e)?Ar(e)?e._def.typeName==="ZodString":pr(e)?e._zod.def.type==="string":!1:!1}function aC(e){return typeof e=="object"&&e!==null&&"_def"in e&&typeof e._def=="object"&&e._def!==null&&"typeName"in e._def&&e._def.typeName==="ZodObject"}function lo(e){return pr(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="object":!1}function I1(e){return pr(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="array":!1}function oz(e){return pr(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="optional":!1}function lz(e){return pr(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="nullable":!1}function ETe(e){return!!(aC(e)||lo(e))}function q_(e){if(Ar(e))return e.shape;if(pr(e))return e._zod.def.shape;throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function TTe(e,t){if(Ar(e))return e.extend(t);if(pr(e))return gD(e,t);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function kTe(e){if(Ar(e))return e.partial();if(pr(e))return vD(T1,e,void 0);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function G0(e,t=!1){if(Ar(e))return e.strict();if(lo(e)){const n=e._zod.def.shape;if(t)for(const[a,i]of Object.entries(e._zod.def.shape)){if(lo(i)){const l=G0(i,t);n[a]=l}else if(I1(i)){let l=i._zod.def.element;lo(l)&&(l=G0(l,t)),n[a]=ss(i,{...i._zod.def,element:l})}else n[a]=i;const o=Kr.get(i);o&&Kr.add(n[a],o)}const r=ss(e,{...e._zod.def,shape:n,catchall:PD($D)}),s=Kr.get(e);return s&&Kr.add(r,s),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function X_(e,t=!1){if(aC(e))return e.passthrough();if(lo(e)){const n=e._zod.def.shape;if(t)for(const[a,i]of Object.entries(e._zod.def.shape)){if(lo(i)){const l=X_(i,t);n[a]=l}else if(I1(i)){let l=i._zod.def.element;lo(l)&&(l=X_(l,t)),n[a]=ss(i,{...i._zod.def,element:l})}else n[a]=i;const o=Kr.get(i);o&&Kr.add(n[a],o)}const r=ss(e,{...e._zod.def,shape:n,catchall:MD(OD)}),s=Kr.get(e);return s&&Kr.add(r,s),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function NTe(e){if(Ar(e))try{const t=e.parse(void 0);return()=>t}catch{return}if(pr(e))try{const t=_1(e,void 0);return()=>t}catch{return}}function ITe(e){return Ar(e)&&"typeName"in e._def&&e._def.typeName==="ZodEffects"}function OTe(e){return pr(e)&&e._zod.def.type==="pipe"}function Iu(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(Ar(e))return ITe(e)?Iu(e._def.schema,t,n):e;if(pr(e)){let s=e;if(OTe(e)&&(s=Iu(e._zod.def.in,t,n)),t){if(lo(s)){const i={};for(const[o,l]of Object.entries(s._zod.def.shape))i[o]=Iu(l,t,n);s=ss(s,{...s._zod.def,shape:i})}else if(I1(s)){const i=Iu(s._zod.def.element,t,n);s=ss(s,{...s._zod.def,element:i})}else if(oz(s)){const i=Iu(s._zod.def.innerType,t,n);s=ss(s,{...s._zod.def,innerType:i})}else if(lz(s)){const i=Iu(s._zod.def.innerType,t,n);s=ss(s,{...s._zod.def,innerType:i})}}const a=Kr.get(e);return a&&Kr.add(s,a),n.set(e,s),s}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function uz(e,t=!1){return Iu(e,t,new WeakMap)}function $Te(e,t){if(Ar(e)){const n=q_(e),r={};for(const[s,a]of Object.entries(n))t(s,a)?r[s]=a.optional():r[s]=a;return e.extend(r)}if(pr(e)){const n=q_(e),r={...e._zod.def.shape};for(const[i,o]of Object.entries(n))t(i,o)&&(r[i]=new T1({type:"optional",innerType:o}));const s=ss(e,{...e._zod.def,shape:r}),a=Kr.get(e);return a&&Kr.add(s,a),s}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function cz(e){return e instanceof Error&&(e.constructor.name==="ZodError"||e.constructor.name==="$ZodError")}function x2(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}const ATe=["*","_","`"];function RTe(e){let t="";for(const[n,r]of Object.entries(e))t+=`	classDef ${n} ${r};
`;return t}function MTe(e,t,n){const{firstNode:r,lastNode:s,nodeColors:a,withStyles:i=!0,curveStyle:o="linear",wrapLabelNWords:l=9}=n??{};let u=i?`%%{init: {'flowchart': {'curve': '${o}'}}}%%
graph TD;
`:`graph TD;
`;if(i){const m="default",g={[m]:"{0}({1})"};r!==void 0&&(g[r]="{0}([{1}]):::first"),s!==void 0&&(g[s]="{0}([{1}]):::last");for(const[v,y]of Object.entries(e)){const b=y.name.split(":").pop()??"";let _=ATe.some(C=>b.startsWith(C)&&b.endsWith(C))?`<p>${b}</p>`:b;Object.keys(y.metadata??{}).length&&(_+=`<hr/><small><em>${Object.entries(y.metadata??{}).map(([C,T])=>`${C} = ${T}`).join(`
`)}</em></small>`);const S=(g[v]??g[m]).replace("{0}",x2(v)).replace("{1}",_);u+=`	${S}
`}}const c={};for(const m of t){const g=m.source.split(":"),v=m.target.split(":"),y=g.filter((b,w)=>b===v[w]).join(":");c[y]||(c[y]=[]),c[y].push(m)}const d=new Set;function h(m){return[...m].sort((g,v)=>g.split(":").length-v.split(":").length)}function p(m,g){const v=m.length===1&&m[0].source===m[0].target;if(g&&!v){const b=g.split(":").pop();if(d.has(g))throw new Error(`Found duplicate subgraph '${b}' at '${g} -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);d.add(g),u+=`	subgraph ${b}
`}const y=h(Object.keys(c).filter(b=>b.startsWith(`${g}:`)&&b!==g&&b.split(":").length===g.split(":").length+1));for(const b of y)p(c[b],b);for(const b of m){const{source:w,target:_,data:S,conditional:C}=b;let T="";if(S!==void 0){let x=S;const N=x.split(" ");N.length>l&&(x=Array.from({length:Math.ceil(N.length/l)},(k,A)=>N.slice(A*l,(A+1)*l).join(" ")).join("&nbsp;<br>&nbsp;")),T=C?` -. &nbsp;${x}&nbsp; .-> `:` -- &nbsp;${x}&nbsp; --> `}else T=C?" -.-> ":" --> ";u+=`	${x2(w)}${T}${x2(_)};
`}g&&!v&&(u+=`	end
`)}p(c[""]??[],"");for(const m in c)!m.includes(":")&&m!==""&&p(c[m],m);return i&&(u+=RTe(a??{})),u}async function PTe(e,t){let n=(t==null?void 0:t.backgroundColor)??"white";const r=(t==null?void 0:t.imageType)??"png",s=uCe(e);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const a=`https://mermaid.ink/img/${s}?bgColor=${n}&type=${r}`,i=await fetch(a);if(!i.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${i.status}`,`Status text: ${i.statusText}`].join(`
`));return await i.blob()}const LTe=Symbol("Let zodToJsonSchema decide on which parser to use"),DTe={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},zTe=e=>({...DTe,...e}),FTe=e=>{const t=zTe(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},dz=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")};function xa(e){if(e.target!=="openAi")return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?dz(t,e.currentPath):t.join("/")}}function fz(e,t,n,r){r!=null&&r.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function Hn(e,t,n,r,s){e[t]=n,fz(e,t,r,s)}var An;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(An||(An={}));var CN;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(CN||(CN={}));const $t=An.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Pl=e=>{switch(typeof e){case"undefined":return $t.undefined;case"string":return $t.string;case"number":return Number.isNaN(e)?$t.nan:$t.number;case"boolean":return $t.boolean;case"function":return $t.function;case"bigint":return $t.bigint;case"symbol":return $t.symbol;case"object":return Array.isArray(e)?$t.array:e===null?$t.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$t.promise:typeof Map<"u"&&e instanceof Map?$t.map:typeof Set<"u"&&e instanceof Set?$t.set:typeof Date<"u"&&e instanceof Date?$t.date:$t.object;default:return $t.unknown}},lt=An.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ol extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let o=r,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(i))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return s(this),r}static assert(t){if(!(t instanceof ol))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,An.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n=Object.create(null),r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ol.create=e=>new ol(e);const J_=(e,t)=>{let n;switch(e.code){case lt.invalid_type:e.received===$t.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case lt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,An.jsonStringifyReplacer)}`;break;case lt.unrecognized_keys:n=`Unrecognized key(s) in object: ${An.joinValues(e.keys,", ")}`;break;case lt.invalid_union:n="Invalid input";break;case lt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${An.joinValues(e.options)}`;break;case lt.invalid_enum_value:n=`Invalid enum value. Expected ${An.joinValues(e.options)}, received '${e.received}'`;break;case lt.invalid_arguments:n="Invalid function arguments";break;case lt.invalid_return_type:n="Invalid function return type";break;case lt.invalid_date:n="Invalid date";break;case lt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:An.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case lt.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case lt.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case lt.custom:n="Invalid input";break;case lt.invalid_intersection_types:n="Intersection results could not be merged";break;case lt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case lt.not_finite:n="Number must be finite";break;default:n=t.defaultError,An.assertNever(e)}return{message:n}};let BTe=J_;function jTe(){return BTe}const VTe=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(i,{data:t,defaultError:o}).message;return{...s,path:a,message:o}};function Ct(e,t){const n=jTe(),r=VTe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===J_?void 0:J_].filter(s=>!!s)});e.common.issues.push(r)}class Ea{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return ln;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return Ea.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return ln;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:t.value,value:r}}}const ln=Object.freeze({status:"aborted"}),fh=e=>({status:"dirty",value:e}),Wa=e=>({status:"valid",value:e}),xN=e=>e.status==="aborted",EN=e=>e.status==="dirty",uf=e=>e.status==="valid",Z0=e=>typeof Promise<"u"&&e instanceof Promise;var Pt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Pt||(Pt={}));class du{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const TN=(e,t)=>{if(uf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ol(e.common.issues);return this._error=n,this._error}}};function gn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,o)=>{const{message:l}=e;return i.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:s}}let In=class{get description(){return this._def.description}_getType(t){return Pl(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Pl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ea,ctx:{common:t.parent.common,data:t.data,parsedType:Pl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Z0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Pl(t)},s=this._parseSync({data:t,path:r.path,parent:r});return TN(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Pl(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return uf(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>uf(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Pl(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(Z0(s)?s:Promise.resolve(s));return TN(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=t(s),o=()=>a.addIssue({code:lt.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new df({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Yl.create(this,this._def)}nullable(){return ff.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cf.create(this)}promise(){return J0.create(this,this._def)}or(t){return q0.create([this,t],this._def)}and(t){return X0.create(this,t,this._def)}transform(t){return new df({...gn(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new s3({...gn(this._def),innerType:this,defaultValue:n,typeName:je.ZodDefault})}brand(){return new dke({typeName:je.ZodBranded,type:this,...gn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new a3({...gn(this._def),innerType:this,catchValue:n,typeName:je.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return oC.create(this,t)}readonly(){return i3.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const HTe=/^c[^\s-]{8,}$/i,UTe=/^[0-9a-z]+$/,WTe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,KTe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,GTe=/^[a-z0-9_-]{21}$/i,ZTe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,YTe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qTe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XTe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let E2;const JTe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,QTe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nke=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rke=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ske=new RegExp(`^${hz}$`);function pz(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function ake(e){return new RegExp(`^${pz(e)}$`)}function ike(e){let t=`${hz}T${pz(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function oke(e,t){return!!((t==="v4"||!t)&&JTe.test(e)||(t==="v6"||!t)&&eke.test(e))}function lke(e,t){if(!ZTe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function uke(e,t){return!!((t==="v4"||!t)&&QTe.test(e)||(t==="v6"||!t)&&tke.test(e))}let Q_=class hh extends In{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$t.string){const a=this._getOrReturnCtx(t);return Ct(a,{code:lt.invalid_type,expected:$t.string,received:a.parsedType}),ln}const r=new Ea;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,o=t.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(t,s),i?Ct(s,{code:lt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Ct(s,{code:lt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")qTe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"email",code:lt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")E2||(E2=new RegExp(XTe,"u")),E2.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"emoji",code:lt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")KTe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"uuid",code:lt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")GTe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"nanoid",code:lt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")HTe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"cuid",code:lt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")UTe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"cuid2",code:lt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")WTe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"ulid",code:lt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ct(s,{validation:"url",code:lt.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"regex",code:lt.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?ike(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?ske.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?ake(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?YTe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"duration",code:lt.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?oke(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"ip",code:lt.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?lke(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"jwt",code:lt.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?uke(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"cidr",code:lt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?nke.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"base64",code:lt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?rke.test(t.data)||(s=this._getOrReturnCtx(t,s),Ct(s,{validation:"base64url",code:lt.invalid_string,message:a.message}),r.dirty()):An.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:lt.invalid_string,...Pt.errToObj(r)})}_addCheck(t){return new hh({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Pt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Pt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Pt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Pt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Pt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Pt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Pt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Pt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Pt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Pt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Pt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Pt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Pt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Pt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Pt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Pt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Pt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Pt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Pt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Pt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Pt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Pt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Pt.errToObj(n)})}nonempty(t){return this.min(1,Pt.errToObj(t))}trim(){return new hh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Q_.create=e=>new Q_({checks:[],typeName:je.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...gn(e)});function cke(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return a%i/10**s}let kN=class e3 extends In{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$t.number){const a=this._getOrReturnCtx(t);return Ct(a,{code:lt.invalid_type,expected:$t.number,received:a.parsedType}),ln}let r;const s=new Ea;for(const a of this._def.checks)a.kind==="int"?An.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ct(r,{code:lt.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:lt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:lt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?cke(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:lt.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ct(r,{code:lt.not_finite,message:a.message}),s.dirty()):An.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Pt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Pt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Pt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Pt.toString(n))}setLimit(t,n,r,s){return new e3({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Pt.toString(s)}]})}_addCheck(t){return new e3({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Pt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Pt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Pt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&An.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};kN.create=e=>new kN({checks:[],typeName:je.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...gn(e)});class Dp extends In{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==$t.bigint)return this._getInvalidInput(t);let r;const s=new Ea;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:lt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:lt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ct(r,{code:lt.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):An.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Ct(n,{code:lt.invalid_type,expected:$t.bigint,received:n.parsedType}),ln}gte(t,n){return this.setLimit("min",t,!0,Pt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Pt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Pt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Pt.toString(n))}setLimit(t,n,r,s){return new Dp({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Pt.toString(s)}]})}_addCheck(t){return new Dp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Pt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Dp.create=e=>new Dp({checks:[],typeName:je.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...gn(e)});class NN extends In{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$t.boolean){const r=this._getOrReturnCtx(t);return Ct(r,{code:lt.invalid_type,expected:$t.boolean,received:r.parsedType}),ln}return Wa(t.data)}}NN.create=e=>new NN({typeName:je.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...gn(e)});class Y0 extends In{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$t.date){const a=this._getOrReturnCtx(t);return Ct(a,{code:lt.invalid_type,expected:$t.date,received:a.parsedType}),ln}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Ct(a,{code:lt.invalid_date}),ln}const r=new Ea;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Ct(s,{code:lt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):An.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Y0({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Pt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Pt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Y0.create=e=>new Y0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:je.ZodDate,...gn(e)});class IN extends In{_parse(t){if(this._getType(t)!==$t.symbol){const r=this._getOrReturnCtx(t);return Ct(r,{code:lt.invalid_type,expected:$t.symbol,received:r.parsedType}),ln}return Wa(t.data)}}IN.create=e=>new IN({typeName:je.ZodSymbol,...gn(e)});class ON extends In{_parse(t){if(this._getType(t)!==$t.undefined){const r=this._getOrReturnCtx(t);return Ct(r,{code:lt.invalid_type,expected:$t.undefined,received:r.parsedType}),ln}return Wa(t.data)}}ON.create=e=>new ON({typeName:je.ZodUndefined,...gn(e)});class $N extends In{_parse(t){if(this._getType(t)!==$t.null){const r=this._getOrReturnCtx(t);return Ct(r,{code:lt.invalid_type,expected:$t.null,received:r.parsedType}),ln}return Wa(t.data)}}$N.create=e=>new $N({typeName:je.ZodNull,...gn(e)});class t3 extends In{constructor(){super(...arguments),this._any=!0}_parse(t){return Wa(t.data)}}t3.create=e=>new t3({typeName:je.ZodAny,...gn(e)});let AN=class extends In{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Wa(t.data)}};AN.create=e=>new AN({typeName:je.ZodUnknown,...gn(e)});let fu=class extends In{_parse(t){const n=this._getOrReturnCtx(t);return Ct(n,{code:lt.invalid_type,expected:$t.never,received:n.parsedType}),ln}};fu.create=e=>new fu({typeName:je.ZodNever,...gn(e)});class RN extends In{_parse(t){if(this._getType(t)!==$t.undefined){const r=this._getOrReturnCtx(t);return Ct(r,{code:lt.invalid_type,expected:$t.void,received:r.parsedType}),ln}return Wa(t.data)}}RN.create=e=>new RN({typeName:je.ZodVoid,...gn(e)});let cf=class Ov extends In{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==$t.array)return Ct(n,{code:lt.invalid_type,expected:$t.array,received:n.parsedType}),ln;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(i||o)&&(Ct(n,{code:i?lt.too_big:lt.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ct(n,{code:lt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ct(n,{code:lt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>s.type._parseAsync(new du(n,i,n.path,o)))).then(i=>Ea.mergeArray(r,i));const a=[...n.data].map((i,o)=>s.type._parseSync(new du(n,i,n.path,o)));return Ea.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new Ov({...this._def,minLength:{value:t,message:Pt.toString(n)}})}max(t,n){return new Ov({...this._def,maxLength:{value:t,message:Pt.toString(n)}})}length(t,n){return new Ov({...this._def,exactLength:{value:t,message:Pt.toString(n)}})}nonempty(t){return this.min(1,t)}};cf.create=(e,t)=>new cf({type:e,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...gn(t)});function ad(e){if(e instanceof ll){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Yl.create(ad(r))}return new ll({...e._def,shape:()=>t})}else return e instanceof cf?new cf({...e._def,type:ad(e.element)}):e instanceof Yl?Yl.create(ad(e.unwrap())):e instanceof ff?ff.create(ad(e.unwrap())):e instanceof bc?bc.create(e.items.map(t=>ad(t))):e}let ll=class ti extends In{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=An.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==$t.object){const u=this._getOrReturnCtx(t);return Ct(u,{code:lt.invalid_type,expected:$t.object,received:u.parsedType}),ln}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof fu&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||o.push(u);const l=[];for(const u of i){const c=a[u],d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new du(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof fu){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")o.length>0&&(Ct(s,{code:lt.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new du(s,d,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>Ea.mergeObjectSync(r,u)):Ea.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Pt.errToObj,new ti({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i;const s=((i=(a=this._def).errorMap)==null?void 0:i.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Pt.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new ti({...this._def,unknownKeys:"strip"})}passthrough(){return new ti({...this._def,unknownKeys:"passthrough"})}extend(t){return new ti({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ti({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:je.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ti({...this._def,catchall:t})}pick(t){const n={};for(const r of An.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ti({...this._def,shape:()=>n})}omit(t){const n={};for(const r of An.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new ti({...this._def,shape:()=>n})}deepPartial(){return ad(this)}partial(t){const n={};for(const r of An.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new ti({...this._def,shape:()=>n})}required(t){const n={};for(const r of An.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Yl;)a=a._def.innerType;n[r]=a}return new ti({...this._def,shape:()=>n})}keyof(){return mz(An.objectKeys(this.shape))}};ll.create=(e,t)=>new ll({shape:()=>e,unknownKeys:"strip",catchall:fu.create(),typeName:je.ZodObject,...gn(t)});ll.strictCreate=(e,t)=>new ll({shape:()=>e,unknownKeys:"strict",catchall:fu.create(),typeName:je.ZodObject,...gn(t)});ll.lazycreate=(e,t)=>new ll({shape:e,unknownKeys:"strip",catchall:fu.create(),typeName:je.ZodObject,...gn(t)});let q0=class extends In{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new ol(o.ctx.common.issues));return Ct(n,{code:lt.invalid_union,unionErrors:i}),ln}if(n.common.async)return Promise.all(r.map(async a=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(l=>new ol(l));return Ct(n,{code:lt.invalid_union,unionErrors:o}),ln}}get options(){return this._def.options}};q0.create=(e,t)=>new q0({options:e,typeName:je.ZodUnion,...gn(t)});function n3(e,t){const n=Pl(e),r=Pl(t);if(e===t)return{valid:!0,data:e};if(n===$t.object&&r===$t.object){const s=An.objectKeys(t),a=An.objectKeys(e).filter(o=>s.indexOf(o)!==-1),i={...e,...t};for(const o of a){const l=n3(e[o],t[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(n===$t.array&&r===$t.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],o=t[a],l=n3(i,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===$t.date&&r===$t.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let X0=class extends In{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,i)=>{if(xN(a)||xN(i))return ln;const o=n3(a.value,i.value);return o.valid?((EN(a)||EN(i))&&n.dirty(),{status:n.value,value:o.data}):(Ct(r,{code:lt.invalid_intersection_types}),ln)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};X0.create=(e,t,n)=>new X0({left:e,right:t,typeName:je.ZodIntersection,...gn(n)});class bc extends In{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.array)return Ct(r,{code:lt.invalid_type,expected:$t.array,received:r.parsedType}),ln;if(r.data.length<this._def.items.length)return Ct(r,{code:lt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ln;!this._def.rest&&r.data.length>this._def.items.length&&(Ct(r,{code:lt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new du(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>Ea.mergeArray(n,i)):Ea.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new bc({...this._def,rest:t})}}bc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bc({items:e,typeName:je.ZodTuple,rest:null,...gn(t)})};class MN extends In{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.map)return Ct(r,{code:lt.invalid_type,expected:$t.map,received:r.parsedType}),ln;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,l],u)=>({key:s._parse(new du(r,o,r.path,[u,"key"])),value:a._parse(new du(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ln;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of i){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ln;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}}}}MN.create=(e,t,n)=>new MN({valueType:t,keyType:e,typeName:je.ZodMap,...gn(n)});class zp extends In{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.set)return Ct(r,{code:lt.invalid_type,expected:$t.set,received:r.parsedType}),ln;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ct(r,{code:lt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ct(r,{code:lt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ln;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>a._parse(new du(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(t,n){return new zp({...this._def,minSize:{value:t,message:Pt.toString(n)}})}max(t,n){return new zp({...this._def,maxSize:{value:t,message:Pt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}zp.create=(e,t)=>new zp({valueType:e,minSize:null,maxSize:null,typeName:je.ZodSet,...gn(t)});class PN extends In{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}PN.create=(e,t)=>new PN({getter:e,typeName:je.ZodLazy,...gn(t)});let LN=class extends In{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ct(n,{received:n.data,code:lt.invalid_literal,expected:this._def.value}),ln}return{status:"valid",value:t.data}}get value(){return this._def.value}};LN.create=(e,t)=>new LN({value:e,typeName:je.ZodLiteral,...gn(t)});function mz(e,t){return new iC({values:e,typeName:je.ZodEnum,...gn(t)})}let iC=class r3 extends In{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Ct(n,{expected:An.joinValues(r),received:n.parsedType,code:lt.invalid_type}),ln}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Ct(n,{received:n.data,code:lt.invalid_enum_value,options:r}),ln}return Wa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return r3.create(t,{...this._def,...n})}exclude(t,n=this._def){return r3.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}};iC.create=mz;class DN extends In{_parse(t){const n=An.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==$t.string&&r.parsedType!==$t.number){const s=An.objectValues(n);return Ct(r,{expected:An.joinValues(s),received:r.parsedType,code:lt.invalid_type}),ln}if(this._cache||(this._cache=new Set(An.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=An.objectValues(n);return Ct(r,{received:r.data,code:lt.invalid_enum_value,options:s}),ln}return Wa(t.data)}get enum(){return this._def.values}}DN.create=(e,t)=>new DN({values:e,typeName:je.ZodNativeEnum,...gn(t)});class J0 extends In{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==$t.promise&&n.common.async===!1)return Ct(n,{code:lt.invalid_type,expected:$t.promise,received:n.parsedType}),ln;const r=n.parsedType===$t.promise?n.data:Promise.resolve(n.data);return Wa(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}J0.create=(e,t)=>new J0({type:e,typeName:je.ZodPromise,...gn(t)});class df extends In{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{Ct(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async o=>{if(n.value==="aborted")return ln;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?ln:l.status==="dirty"||n.value==="dirty"?fh(l.value):l});{if(n.value==="aborted")return ln;const o=this._def.schema._parseSync({data:i,path:r.path,parent:r});return o.status==="aborted"?ln:o.status==="dirty"||n.value==="dirty"?fh(o.value):o}}if(s.type==="refinement"){const i=o=>{const l=s.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ln:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?ln:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!uf(i))return ln;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>uf(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:n.value,value:o})):ln);An.assertNever(s)}}df.create=(e,t,n)=>new df({schema:e,typeName:je.ZodEffects,effect:t,...gn(n)});df.createWithPreprocess=(e,t,n)=>new df({schema:t,effect:{type:"preprocess",transform:e},typeName:je.ZodEffects,...gn(n)});let Yl=class extends In{_parse(t){return this._getType(t)===$t.undefined?Wa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Yl.create=(e,t)=>new Yl({innerType:e,typeName:je.ZodOptional,...gn(t)});let ff=class extends In{_parse(t){return this._getType(t)===$t.null?Wa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};ff.create=(e,t)=>new ff({innerType:e,typeName:je.ZodNullable,...gn(t)});let s3=class extends In{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===$t.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};s3.create=(e,t)=>new s3({innerType:e,typeName:je.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...gn(t)});let a3=class extends In{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Z0(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ol(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ol(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};a3.create=(e,t)=>new a3({innerType:e,typeName:je.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...gn(t)});class zN extends In{_parse(t){if(this._getType(t)!==$t.nan){const r=this._getOrReturnCtx(t);return Ct(r,{code:lt.invalid_type,expected:$t.nan,received:r.parsedType}),ln}return{status:"valid",value:t.data}}}zN.create=e=>new zN({typeName:je.ZodNaN,...gn(e)});class dke extends In{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class oC extends In{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ln:a.status==="dirty"?(n.dirty(),fh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ln:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new oC({in:t,out:n,typeName:je.ZodPipeline})}}let i3=class extends In{_parse(t){const n=this._def.innerType._parse(t),r=s=>(uf(s)&&(s.value=Object.freeze(s.value)),s);return Z0(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}};i3.create=(e,t)=>new i3({innerType:e,typeName:je.ZodReadonly,...gn(t)});var je;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(je||(je={}));const O1=Q_.create,FN=t3.create;fu.create;cf.create;const $1=ll.create;q0.create;X0.create;bc.create;iC.create;J0.create;Yl.create;ff.create;function fke(e,t){var r,s,a;const n={type:"array"};return(r=e.type)!=null&&r._def&&((a=(s=e.type)==null?void 0:s._def)==null?void 0:a.typeName)!==je.ZodAny&&(n.items=Fn(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Hn(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Hn(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Hn(n,"minItems",e.exactLength.value,e.exactLength.message,t),Hn(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function hke(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?Hn(n,"minimum",r.value,r.message,t):Hn(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Hn(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Hn(n,"maximum",r.value,r.message,t):Hn(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Hn(n,"maximum",r.value,r.message,t));break;case"multipleOf":Hn(n,"multipleOf",r.value,r.message,t);break}return n}function pke(){return{type:"boolean"}}function gz(e,t){return Fn(e.type._def,t)}const mke=(e,t)=>Fn(e.innerType._def,t);function vz(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(s=>vz(e,t,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return gke(e,t)}}const gke=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const r of e.checks)switch(r.kind){case"min":Hn(n,"minimum",r.value,r.message,t);break;case"max":Hn(n,"maximum",r.value,r.message,t);break}return n};function vke(e,t){return{...Fn(e.innerType._def,t),default:e.defaultValue()}}function yke(e,t){return t.effectStrategy==="input"?Fn(e.schema._def,t):xa(t)}function bke(e){return{type:"string",enum:Array.from(e.values)}}const wke=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function _ke(e,t){const n=[Fn(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Fn(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a);let r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(a=>{if(wke(a))s.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let i=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;i=l}else r=void 0;s.push(i)}}),s.length?{allOf:s,...r}:void 0}function Ske(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}let T2;const Ya={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(T2===void 0&&(T2=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),T2),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function yz(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":Hn(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":Hn(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":qa(n,"email",r.message,t);break;case"format:idn-email":qa(n,"idn-email",r.message,t);break;case"pattern:zod":Os(n,Ya.email,r.message,t);break}break;case"url":qa(n,"uri",r.message,t);break;case"uuid":qa(n,"uuid",r.message,t);break;case"regex":Os(n,r.regex,r.message,t);break;case"cuid":Os(n,Ya.cuid,r.message,t);break;case"cuid2":Os(n,Ya.cuid2,r.message,t);break;case"startsWith":Os(n,RegExp(`^${k2(r.value,t)}`),r.message,t);break;case"endsWith":Os(n,RegExp(`${k2(r.value,t)}$`),r.message,t);break;case"datetime":qa(n,"date-time",r.message,t);break;case"date":qa(n,"date",r.message,t);break;case"time":qa(n,"time",r.message,t);break;case"duration":qa(n,"duration",r.message,t);break;case"length":Hn(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),Hn(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":Os(n,RegExp(k2(r.value,t)),r.message,t);break;case"ip":r.version!=="v6"&&qa(n,"ipv4",r.message,t),r.version!=="v4"&&qa(n,"ipv6",r.message,t);break;case"base64url":Os(n,Ya.base64url,r.message,t);break;case"jwt":Os(n,Ya.jwt,r.message,t);break;case"cidr":r.version!=="v6"&&Os(n,Ya.ipv4Cidr,r.message,t),r.version!=="v4"&&Os(n,Ya.ipv6Cidr,r.message,t);break;case"emoji":Os(n,Ya.emoji(),r.message,t);break;case"ulid":Os(n,Ya.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":qa(n,"binary",r.message,t);break;case"contentEncoding:base64":Hn(n,"contentEncoding","base64",r.message,t);break;case"pattern:zod":Os(n,Ya.base64,r.message,t);break}break;case"nanoid":Os(n,Ya.nanoid,r.message,t);break}return n}function k2(e,t){return t.patternStrategy==="escape"?xke(e):e}const Cke=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function xke(e){let t="";for(let n=0;n<e.length;n++)Cke.has(e[n])||(t+="\\"),t+=e[n];return t}function qa(e,t,n,r){var s;e.format||(s=e.anyOf)!=null&&s.some(a=>a.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Hn(e,"format",t,n,r)}function Os(e,t,n,r){var s;e.pattern||(s=e.allOf)!=null&&s.some(a=>a.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:BN(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Hn(e,"pattern",BN(t,r),n,r)}function BN(e,t){var l;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source;let s="",a=!1,i=!1,o=!1;for(let u=0;u<r.length;u++){if(a){s+=r[u],a=!1;continue}if(n.i){if(i){if(r[u].match(/[a-z]/)){o?(s+=r[u],s+=`${r[u-2]}-${r[u]}`.toUpperCase(),o=!1):r[u+1]==="-"&&((l=r[u+2])!=null&&l.match(/[a-z]/))?(s+=r[u],o=!0):s+=`${r[u]}${r[u].toUpperCase()}`;continue}}else if(r[u].match(/[a-z]/)){s+=`[${r[u]}${r[u].toUpperCase()}]`;continue}}if(n.m){if(r[u]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(r[u]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&r[u]==="."){s+=i?`${r[u]}\r
`:`[${r[u]}\r
]`;continue}s+=r[u],r[u]==="\\"?a=!0:i&&r[u]==="]"?i=!1:!i&&r[u]==="["&&(i=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function bz(e,t){var r,s,a,i,o,l;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((r=e.keyType)==null?void 0:r._def.typeName)===je.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((u,c)=>({...u,[c]:Fn(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",c]})??xa(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const n={type:"object",additionalProperties:Fn(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return n;if(((s=e.keyType)==null?void 0:s._def.typeName)===je.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:u,...c}=yz(e.keyType._def,t);return{...n,propertyNames:c}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===je.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===je.ZodBranded&&e.keyType._def.type._def.typeName===je.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:u,...c}=gz(e.keyType._def,t);return{...n,propertyNames:c}}}return n}function Eke(e,t){if(t.mapStrategy==="record")return bz(e,t);const n=Fn(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||xa(t),r=Fn(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||xa(t);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function Tke(e){const t=e.values,r=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),s=Array.from(new Set(r.map(a=>typeof a)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function kke(e){return e.target==="openAi"?void 0:{not:xa({...e,currentPath:[...e.currentPath,"not"]})}}function Nke(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Q0={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Ike(e,t){if(t.target==="openApi3")return jN(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in Q0&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,a)=>{const i=Q0[a._def.typeName];return i&&!s.includes(i)?[...s,i]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,a)=>{const i=typeof a._def.value;switch(i){case"string":case"number":case"boolean":return[...s,i];case"bigint":return[...s,"integer"];case"object":return a._def.value===null?[...s,"null"]:s;case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((a,i,o)=>o.indexOf(a)===i);return{type:s.length>1?s:s[0],enum:n.reduce((a,i)=>a.includes(i._def.value)?a:[...a,i._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(a=>!r.includes(a))],[])};return jN(e,t)}const jN=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,s)=>Fn(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function Oke(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:Q0[e.innerType._def.typeName],nullable:!0}:{type:[Q0[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const r=Fn(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Fn(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function $ke(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",fz(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?Hn(n,"minimum",r.value,r.message,t):Hn(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Hn(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Hn(n,"maximum",r.value,r.message,t):Hn(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Hn(n,"maximum",r.value,r.message,t));break;case"multipleOf":Hn(n,"multipleOf",r.value,r.message,t);break}return n}function Ake(e,t){const n=t.target==="openAi",r={type:"object",properties:{}},s=[],a=e.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;let u=Mke(l);u&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),u=!1);const c=Fn(l._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});c!==void 0&&(r.properties[o]=c,u||s.push(o))}s.length&&(r.required=s);const i=Rke(e,t);return i!==void 0&&(r.additionalProperties=i),r}function Rke(e,t){if(e.catchall._def.typeName!=="ZodNever")return Fn(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function Mke(e){try{return e.isOptional()}catch{return!0}}const Pke=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Fn(e.innerType._def,t);const n=Fn(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:xa(t)},n]}:xa(t)},Lke=(e,t)=>{if(t.pipeStrategy==="input")return Fn(e.in._def,t);if(t.pipeStrategy==="output")return Fn(e.out._def,t);const n=Fn(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Fn(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function Dke(e,t){return Fn(e.type._def,t)}function zke(e,t){const r={type:"array",uniqueItems:!0,items:Fn(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Hn(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Hn(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function Fke(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Fn(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Fn(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Fn(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function Bke(e){return{not:xa(e)}}function jke(e){return xa(e)}const Vke=(e,t)=>Fn(e.innerType._def,t),Hke=(e,t,n)=>{switch(t){case je.ZodString:return yz(e,n);case je.ZodNumber:return $ke(e,n);case je.ZodObject:return Ake(e,n);case je.ZodBigInt:return hke(e,n);case je.ZodBoolean:return pke();case je.ZodDate:return vz(e,n);case je.ZodUndefined:return Bke(n);case je.ZodNull:return Nke(n);case je.ZodArray:return fke(e,n);case je.ZodUnion:case je.ZodDiscriminatedUnion:return Ike(e,n);case je.ZodIntersection:return _ke(e,n);case je.ZodTuple:return Fke(e,n);case je.ZodRecord:return bz(e,n);case je.ZodLiteral:return Ske(e,n);case je.ZodEnum:return bke(e);case je.ZodNativeEnum:return Tke(e);case je.ZodNullable:return Oke(e,n);case je.ZodOptional:return Pke(e,n);case je.ZodMap:return Eke(e,n);case je.ZodSet:return zke(e,n);case je.ZodLazy:return()=>e.getter()._def;case je.ZodPromise:return Dke(e,n);case je.ZodNaN:case je.ZodNever:return kke(n);case je.ZodEffects:return yke(e,n);case je.ZodAny:return xa(n);case je.ZodUnknown:return jke(n);case je.ZodDefault:return vke(e,n);case je.ZodBranded:return gz(e,n);case je.ZodReadonly:return Vke(e,n);case je.ZodCatch:return mke(e,n);case je.ZodPipeline:return Lke(e,n);case je.ZodFunction:case je.ZodVoid:case je.ZodSymbol:return;default:return(r=>{})()}};function Fn(e,t,n=!1){var o;const r=t.seen.get(e);if(t.override){const l=(o=t.override)==null?void 0:o.call(t,e,t,r,n);if(l!==LTe)return l}if(r&&!n){const l=Uke(r,t);if(l!==void 0)return l}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const a=Hke(e,e.typeName,t),i=typeof a=="function"?Fn(a(),t):a;if(i&&Wke(e,t,i),t.postProcess){const l=t.postProcess(i,e,t);return s.jsonSchema=i,l}return s.jsonSchema=i,i}const Uke=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:dz(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),xa(t)):t.$refStrategy==="seen"?xa(t):void 0}},Wke=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),Kke=(e,t)=>{const n=FTe(t);let r;const s=Fn(e._def,n,!1)??xa(n);n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const a=r?{...s,[n.definitionPath]:r}:s;return n.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};function rc(e,t){const n=typeof e;if(n!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(!rc(e[s],t[s]))return!1;return!0}if(n==="object"){if(!e||!t)return e===t;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const i of r)if(!rc(e[i],t[i]))return!1;return!0}return e===t}function ni(e){return encodeURI(Gke(e))}function Gke(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}const Zke={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},Yke={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},qke={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let Xke=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Wl(e,t=Object.create(null),n=Xke,r=""){if(e&&typeof e=="object"&&!Array.isArray(e)){const a=e.$id||e.id;if(a){const i=new URL(a,n.href);i.hash.length>1?t[i.href]=e:(i.hash="",r===""?n=i:Wl(e,t,n))}}else if(e!==!0&&e!==!1)return t;const s=n.href+(r?"#"+r:"");if(t[s]!==void 0)throw new Error(`Duplicate schema URI "${s}".`);if(t[s]=e,e===!0||e===!1)return t;if(e.__absolute_uri__===void 0&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:s}),e.$ref&&e.__absolute_ref__===void 0){const a=new URL(e.$ref,n.href);a.hash=a.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:a.href})}if(e.$recursiveRef&&e.__absolute_recursive_ref__===void 0){const a=new URL(e.$recursiveRef,n.href);a.hash=a.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:a.href})}if(e.$anchor){const a=new URL("#"+e.$anchor,n.href);t[a.href]=e}for(let a in e){if(qke[a])continue;const i=`${r}/${ni(a)}`,o=e[a];if(Array.isArray(o)){if(Zke[a]){const l=o.length;for(let u=0;u<l;u++)Wl(o[u],t,n,`${i}/${u}`)}}else if(Yke[a])for(let l in o)Wl(o[l],t,n,`${i}/${ni(l)}`);else Wl(o,t,n,i)}return t}const Jke=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Qke=[0,31,28,31,30,31,30,31,31,30,31,30,31],e5e=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,t5e=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,n5e=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,r5e=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,s5e=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,a5e=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,i5e=/^(?:\/(?:[^~/]|~0|~1)*)*$/,o5e=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,l5e=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,u5e=e=>{if(e[0]==='"')return!1;const[t,n,...r]=e.split("@");return!t||!n||r.length!==0||t.length>64||n.length>253||t[0]==="."||t.endsWith(".")||t.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t)?!1:n.split(".").every(s=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(s))},c5e=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,d5e=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,f5e=e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e));function Vi(e){return e.test.bind(e)}const VN={date:wz,time:_z.bind(void 0,!1),"date-time":m5e,duration:f5e,uri:y5e,"uri-reference":Vi(n5e),"uri-template":Vi(r5e),url:Vi(s5e),email:u5e,hostname:Vi(t5e),ipv4:Vi(c5e),ipv6:Vi(d5e),regex:w5e,uuid:Vi(a5e),"json-pointer":Vi(i5e),"json-pointer-uri-fragment":Vi(o5e),"relative-json-pointer":Vi(l5e)};function h5e(e){return e%4===0&&(e%100!==0||e%400===0)}function wz(e){const t=e.match(Jke);if(!t)return!1;const n=+t[1],r=+t[2],s=+t[3];return r>=1&&r<=12&&s>=1&&s<=(r==2&&h5e(n)?29:Qke[r])}function _z(e,t){const n=t.match(e5e);if(!n)return!1;const r=+n[1],s=+n[2],a=+n[3],i=!!n[5];return(r<=23&&s<=59&&a<=59||r==23&&s==59&&a==60)&&(!e||i)}const p5e=/t|\s/i;function m5e(e){const t=e.split(p5e);return t.length==2&&wz(t[0])&&_z(!0,t[1])}const g5e=/\/|:/,v5e=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function y5e(e){return g5e.test(e)&&v5e.test(e)}const b5e=/[^\\]\\Z/;function w5e(e){if(b5e.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}function _5e(e){let t=0,n=e.length,r=0,s;for(;r<n;)t++,s=e.charCodeAt(r++),s>=55296&&s<=56319&&r<n&&(s=e.charCodeAt(r),(s&64512)==56320&&r++);return t}function cr(e,t,n="2019-09",r=Wl(t),s=!0,a=null,i="#",o="#",l=Object.create(null)){if(t===!0)return{valid:!0,errors:[]};if(t===!1)return{valid:!1,errors:[{instanceLocation:i,keyword:"false",keywordLocation:i,error:"False boolean schema."}]};const u=typeof e;let c;switch(u){case"boolean":case"number":case"string":c=u;break;case"object":e===null?c="null":Array.isArray(e)?c="array":c="object";break;default:throw new Error(`Instances of "${u}" type are not supported.`)}const{$ref:d,$recursiveRef:h,$recursiveAnchor:p,type:m,const:g,enum:v,required:y,not:b,anyOf:w,allOf:_,oneOf:S,if:C,then:T,else:x,format:N,properties:k,patternProperties:A,additionalProperties:O,unevaluatedProperties:F,minProperties:j,maxProperties:V,propertyNames:G,dependentRequired:R,dependentSchemas:$,dependencies:D,prefixItems:z,items:W,additionalItems:Y,unevaluatedItems:U,contains:Q,minContains:J,maxContains:B,minItems:P,maxItems:ae,uniqueItems:ee,minimum:oe,maximum:X,exclusiveMinimum:H,exclusiveMaximum:te,multipleOf:ue,minLength:ye,maxLength:he,pattern:_e,__absolute_ref__:Re,__absolute_recursive_ref__:De}=t,pe=[];if(p===!0&&a===null&&(a=t),h==="#"){const be=a===null?r[De]:a,me=`${o}/$recursiveRef`,Te=cr(e,a===null?t:a,n,r,s,be,i,me,l);Te.valid||pe.push({instanceLocation:i,keyword:"$recursiveRef",keywordLocation:me,error:"A subschema had errors."},...Te.errors)}if(d!==void 0){const me=r[Re||d];if(me===void 0){let Oe=`Unresolved $ref "${d}".`;throw Re&&Re!==d&&(Oe+=`  Absolute URI "${Re}".`),Oe+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(Oe)}const Te=`${o}/$ref`,xe=cr(e,me,n,r,s,a,i,Te,l);if(xe.valid||pe.push({instanceLocation:i,keyword:"$ref",keywordLocation:Te,error:"A subschema had errors."},...xe.errors),n==="4"||n==="7")return{valid:pe.length===0,errors:pe}}if(Array.isArray(m)){let be=m.length,me=!1;for(let Te=0;Te<be;Te++)if(c===m[Te]||m[Te]==="integer"&&c==="number"&&e%1===0&&e===e){me=!0;break}me||pe.push({instanceLocation:i,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${c}" is invalid. Expected "${m.join('", "')}".`})}else m==="integer"?(c!=="number"||e%1||e!==e)&&pe.push({instanceLocation:i,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${c}" is invalid. Expected "${m}".`}):m!==void 0&&c!==m&&pe.push({instanceLocation:i,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${c}" is invalid. Expected "${m}".`});if(g!==void 0&&(c==="object"||c==="array"?rc(e,g)||pe.push({instanceLocation:i,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`}):e!==g&&pe.push({instanceLocation:i,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`})),v!==void 0&&(c==="object"||c==="array"?v.some(be=>rc(e,be))||pe.push({instanceLocation:i,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`}):v.some(be=>e===be)||pe.push({instanceLocation:i,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`})),b!==void 0){const be=`${o}/not`;cr(e,b,n,r,s,a,i,be).valid&&pe.push({instanceLocation:i,keyword:"not",keywordLocation:be,error:'Instance matched "not" schema.'})}let ve=[];if(w!==void 0){const be=`${o}/anyOf`,me=pe.length;let Te=!1;for(let xe=0;xe<w.length;xe++){const Oe=w[xe],Ce=Object.create(l),Ee=cr(e,Oe,n,r,s,p===!0?a:null,i,`${be}/${xe}`,Ce);pe.push(...Ee.errors),Te=Te||Ee.valid,Ee.valid&&ve.push(Ce)}Te?pe.length=me:pe.splice(me,0,{instanceLocation:i,keyword:"anyOf",keywordLocation:be,error:"Instance does not match any subschemas."})}if(_!==void 0){const be=`${o}/allOf`,me=pe.length;let Te=!0;for(let xe=0;xe<_.length;xe++){const Oe=_[xe],Ce=Object.create(l),Ee=cr(e,Oe,n,r,s,p===!0?a:null,i,`${be}/${xe}`,Ce);pe.push(...Ee.errors),Te=Te&&Ee.valid,Ee.valid&&ve.push(Ce)}Te?pe.length=me:pe.splice(me,0,{instanceLocation:i,keyword:"allOf",keywordLocation:be,error:"Instance does not match every subschema."})}if(S!==void 0){const be=`${o}/oneOf`,me=pe.length,Te=S.filter((xe,Oe)=>{const Ce=Object.create(l),Ee=cr(e,xe,n,r,s,p===!0?a:null,i,`${be}/${Oe}`,Ce);return pe.push(...Ee.errors),Ee.valid&&ve.push(Ce),Ee.valid}).length;Te===1?pe.length=me:pe.splice(me,0,{instanceLocation:i,keyword:"oneOf",keywordLocation:be,error:`Instance does not match exactly one subschema (${Te} matches).`})}if((c==="object"||c==="array")&&Object.assign(l,...ve),C!==void 0){const be=`${o}/if`;if(cr(e,C,n,r,s,a,i,be,l).valid){if(T!==void 0){const Te=cr(e,T,n,r,s,a,i,`${o}/then`,l);Te.valid||pe.push({instanceLocation:i,keyword:"if",keywordLocation:be,error:'Instance does not match "then" schema.'},...Te.errors)}}else if(x!==void 0){const Te=cr(e,x,n,r,s,a,i,`${o}/else`,l);Te.valid||pe.push({instanceLocation:i,keyword:"if",keywordLocation:be,error:'Instance does not match "else" schema.'},...Te.errors)}}if(c==="object"){if(y!==void 0)for(const xe of y)xe in e||pe.push({instanceLocation:i,keyword:"required",keywordLocation:`${o}/required`,error:`Instance does not have required property "${xe}".`});const be=Object.keys(e);if(j!==void 0&&be.length<j&&pe.push({instanceLocation:i,keyword:"minProperties",keywordLocation:`${o}/minProperties`,error:`Instance does not have at least ${j} properties.`}),V!==void 0&&be.length>V&&pe.push({instanceLocation:i,keyword:"maxProperties",keywordLocation:`${o}/maxProperties`,error:`Instance does not have at least ${V} properties.`}),G!==void 0){const xe=`${o}/propertyNames`;for(const Oe in e){const Ce=`${i}/${ni(Oe)}`,Ee=cr(Oe,G,n,r,s,a,Ce,xe);Ee.valid||pe.push({instanceLocation:i,keyword:"propertyNames",keywordLocation:xe,error:`Property name "${Oe}" does not match schema.`},...Ee.errors)}}if(R!==void 0){const xe=`${o}/dependantRequired`;for(const Oe in R)if(Oe in e){const Ce=R[Oe];for(const Ee of Ce)Ee in e||pe.push({instanceLocation:i,keyword:"dependentRequired",keywordLocation:xe,error:`Instance has "${Oe}" but does not have "${Ee}".`})}}if($!==void 0)for(const xe in $){const Oe=`${o}/dependentSchemas`;if(xe in e){const Ce=cr(e,$[xe],n,r,s,a,i,`${Oe}/${ni(xe)}`,l);Ce.valid||pe.push({instanceLocation:i,keyword:"dependentSchemas",keywordLocation:Oe,error:`Instance has "${xe}" but does not match dependant schema.`},...Ce.errors)}}if(D!==void 0){const xe=`${o}/dependencies`;for(const Oe in D)if(Oe in e){const Ce=D[Oe];if(Array.isArray(Ce))for(const Ee of Ce)Ee in e||pe.push({instanceLocation:i,keyword:"dependencies",keywordLocation:xe,error:`Instance has "${Oe}" but does not have "${Ee}".`});else{const Ee=cr(e,Ce,n,r,s,a,i,`${xe}/${ni(Oe)}`);Ee.valid||pe.push({instanceLocation:i,keyword:"dependencies",keywordLocation:xe,error:`Instance has "${Oe}" but does not match dependant schema.`},...Ee.errors)}}}const me=Object.create(null);let Te=!1;if(k!==void 0){const xe=`${o}/properties`;for(const Oe in k){if(!(Oe in e))continue;const Ce=`${i}/${ni(Oe)}`,Ee=cr(e[Oe],k[Oe],n,r,s,a,Ce,`${xe}/${ni(Oe)}`);if(Ee.valid)l[Oe]=me[Oe]=!0;else if(Te=s,pe.push({instanceLocation:i,keyword:"properties",keywordLocation:xe,error:`Property "${Oe}" does not match schema.`},...Ee.errors),Te)break}}if(!Te&&A!==void 0){const xe=`${o}/patternProperties`;for(const Oe in A){const Ce=new RegExp(Oe,"u"),Ee=A[Oe];for(const Be in e){if(!Ce.test(Be))continue;const Bt=`${i}/${ni(Be)}`,Gt=cr(e[Be],Ee,n,r,s,a,Bt,`${xe}/${ni(Oe)}`);Gt.valid?l[Be]=me[Be]=!0:(Te=s,pe.push({instanceLocation:i,keyword:"patternProperties",keywordLocation:xe,error:`Property "${Be}" matches pattern "${Oe}" but does not match associated schema.`},...Gt.errors))}}}if(!Te&&O!==void 0){const xe=`${o}/additionalProperties`;for(const Oe in e){if(me[Oe])continue;const Ce=`${i}/${ni(Oe)}`,Ee=cr(e[Oe],O,n,r,s,a,Ce,xe);Ee.valid?l[Oe]=!0:(Te=s,pe.push({instanceLocation:i,keyword:"additionalProperties",keywordLocation:xe,error:`Property "${Oe}" does not match additional properties schema.`},...Ee.errors))}}else if(!Te&&F!==void 0){const xe=`${o}/unevaluatedProperties`;for(const Oe in e)if(!l[Oe]){const Ce=`${i}/${ni(Oe)}`,Ee=cr(e[Oe],F,n,r,s,a,Ce,xe);Ee.valid?l[Oe]=!0:pe.push({instanceLocation:i,keyword:"unevaluatedProperties",keywordLocation:xe,error:`Property "${Oe}" does not match unevaluated properties schema.`},...Ee.errors)}}}else if(c==="array"){ae!==void 0&&e.length>ae&&pe.push({instanceLocation:i,keyword:"maxItems",keywordLocation:`${o}/maxItems`,error:`Array has too many items (${e.length} > ${ae}).`}),P!==void 0&&e.length<P&&pe.push({instanceLocation:i,keyword:"minItems",keywordLocation:`${o}/minItems`,error:`Array has too few items (${e.length} < ${P}).`});const be=e.length;let me=0,Te=!1;if(z!==void 0){const xe=`${o}/prefixItems`,Oe=Math.min(z.length,be);for(;me<Oe;me++){const Ce=cr(e[me],z[me],n,r,s,a,`${i}/${me}`,`${xe}/${me}`);if(l[me]=!0,!Ce.valid&&(Te=s,pe.push({instanceLocation:i,keyword:"prefixItems",keywordLocation:xe,error:"Items did not match schema."},...Ce.errors),Te))break}}if(W!==void 0){const xe=`${o}/items`;if(Array.isArray(W)){const Oe=Math.min(W.length,be);for(;me<Oe;me++){const Ce=cr(e[me],W[me],n,r,s,a,`${i}/${me}`,`${xe}/${me}`);if(l[me]=!0,!Ce.valid&&(Te=s,pe.push({instanceLocation:i,keyword:"items",keywordLocation:xe,error:"Items did not match schema."},...Ce.errors),Te))break}}else for(;me<be;me++){const Oe=cr(e[me],W,n,r,s,a,`${i}/${me}`,xe);if(l[me]=!0,!Oe.valid&&(Te=s,pe.push({instanceLocation:i,keyword:"items",keywordLocation:xe,error:"Items did not match schema."},...Oe.errors),Te))break}if(!Te&&Y!==void 0){const Oe=`${o}/additionalItems`;for(;me<be;me++){const Ce=cr(e[me],Y,n,r,s,a,`${i}/${me}`,Oe);l[me]=!0,Ce.valid||(Te=s,pe.push({instanceLocation:i,keyword:"additionalItems",keywordLocation:Oe,error:"Items did not match additional items schema."},...Ce.errors))}}}if(Q!==void 0)if(be===0&&J===void 0)pe.push({instanceLocation:i,keyword:"contains",keywordLocation:`${o}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(J!==void 0&&be<J)pe.push({instanceLocation:i,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array has less items (${be}) than minContains (${J}).`});else{const xe=`${o}/contains`,Oe=pe.length;let Ce=0;for(let Ee=0;Ee<be;Ee++){const Be=cr(e[Ee],Q,n,r,s,a,`${i}/${Ee}`,xe);Be.valid?(l[Ee]=!0,Ce++):pe.push(...Be.errors)}Ce>=(J||0)&&(pe.length=Oe),J===void 0&&B===void 0&&Ce===0?pe.splice(Oe,0,{instanceLocation:i,keyword:"contains",keywordLocation:xe,error:"Array does not contain item matching schema."}):J!==void 0&&Ce<J?pe.push({instanceLocation:i,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array must contain at least ${J} items matching schema. Only ${Ce} items were found.`}):B!==void 0&&Ce>B&&pe.push({instanceLocation:i,keyword:"maxContains",keywordLocation:`${o}/maxContains`,error:`Array may contain at most ${B} items matching schema. ${Ce} items were found.`})}if(!Te&&U!==void 0){const xe=`${o}/unevaluatedItems`;for(me;me<be;me++){if(l[me])continue;const Oe=cr(e[me],U,n,r,s,a,`${i}/${me}`,xe);l[me]=!0,Oe.valid||pe.push({instanceLocation:i,keyword:"unevaluatedItems",keywordLocation:xe,error:"Items did not match unevaluated items schema."},...Oe.errors)}}if(ee)for(let xe=0;xe<be;xe++){const Oe=e[xe],Ce=typeof Oe=="object"&&Oe!==null;for(let Ee=0;Ee<be;Ee++){if(xe===Ee)continue;const Be=e[Ee];(Oe===Be||Ce&&(typeof Be=="object"&&Be!==null)&&rc(Oe,Be))&&(pe.push({instanceLocation:i,keyword:"uniqueItems",keywordLocation:`${o}/uniqueItems`,error:`Duplicate items at indexes ${xe} and ${Ee}.`}),xe=Number.MAX_SAFE_INTEGER,Ee=Number.MAX_SAFE_INTEGER)}}}else if(c==="number"){if(n==="4"?(oe!==void 0&&(H===!0&&e<=oe||e<oe)&&pe.push({instanceLocation:i,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${e} is less than ${H?"or equal to ":""} ${oe}.`}),X!==void 0&&(te===!0&&e>=X||e>X)&&pe.push({instanceLocation:i,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${e} is greater than ${te?"or equal to ":""} ${X}.`})):(oe!==void 0&&e<oe&&pe.push({instanceLocation:i,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${e} is less than ${oe}.`}),X!==void 0&&e>X&&pe.push({instanceLocation:i,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${e} is greater than ${X}.`}),H!==void 0&&e<=H&&pe.push({instanceLocation:i,keyword:"exclusiveMinimum",keywordLocation:`${o}/exclusiveMinimum`,error:`${e} is less than ${H}.`}),te!==void 0&&e>=te&&pe.push({instanceLocation:i,keyword:"exclusiveMaximum",keywordLocation:`${o}/exclusiveMaximum`,error:`${e} is greater than or equal to ${te}.`})),ue!==void 0){const be=e%ue;Math.abs(0-be)>=11920929e-14&&Math.abs(ue-be)>=11920929e-14&&pe.push({instanceLocation:i,keyword:"multipleOf",keywordLocation:`${o}/multipleOf`,error:`${e} is not a multiple of ${ue}.`})}}else if(c==="string"){const be=ye===void 0&&he===void 0?0:_5e(e);ye!==void 0&&be<ye&&pe.push({instanceLocation:i,keyword:"minLength",keywordLocation:`${o}/minLength`,error:`String is too short (${be} < ${ye}).`}),he!==void 0&&be>he&&pe.push({instanceLocation:i,keyword:"maxLength",keywordLocation:`${o}/maxLength`,error:`String is too long (${be} > ${he}).`}),_e!==void 0&&!new RegExp(_e,"u").test(e)&&pe.push({instanceLocation:i,keyword:"pattern",keywordLocation:`${o}/pattern`,error:"String does not match pattern."}),N!==void 0&&VN[N]&&!VN[N](e)&&pe.push({instanceLocation:i,keyword:"format",keywordLocation:`${o}/format`,error:`String does not match format "${N}".`})}return{valid:pe.length===0,errors:pe}}class S5e{constructor(t,n="2019-09",r=!0){se(this,"schema");se(this,"draft");se(this,"shortCircuit");se(this,"lookup");this.schema=t,this.draft=n,this.shortCircuit=r,this.lookup=Wl(t)}validate(t){return cr(t,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(t,n){n&&(t={...t,$id:n}),Wl(t,this.lookup)}}var C5e={};xn(C5e,{Validator:()=>S5e,deepCompareStrict:()=>rc,toJsonSchema:()=>ui,validatesOnlyStrings:()=>Bh});function ui(e,t){if(pr(e)){const n=uz(e,!0);if(lo(n)){const r=G0(n,!0);return Y_(r,t)}else return Y_(e,t)}return Ar(e)?Kke(e):e}function Bh(e){if(!e||typeof e!="object"||Object.keys(e).length===0||Array.isArray(e))return!1;if("type"in e)return typeof e.type=="string"?e.type==="string":Array.isArray(e.type)?e.type.every(t=>t==="string"):!1;if("enum"in e)return Array.isArray(e.enum)&&e.enum.length>0&&e.enum.every(t=>typeof t=="string");if("const"in e)return typeof e.const=="string";if("allOf"in e&&Array.isArray(e.allOf))return e.allOf.some(t=>Bh(t));if("anyOf"in e&&Array.isArray(e.anyOf)||"oneOf"in e&&Array.isArray(e.oneOf)){const t="anyOf"in e?e.anyOf:e.oneOf;return t.length>0&&t.every(n=>Bh(n))}if("not"in e)return!1;if("$ref"in e&&typeof e.$ref=="string"){const t=e.$ref,n=Wl(e);return n[t]?Bh(n[t]):!1}return!1}var x5e={};xn(x5e,{Graph:()=>lC});function E5e(e,t){if(e!==void 0&&!zh(e))return e;if(X4(t))try{let n=t.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return t.getName()}else return t.name??"UnknownSchema"}function T5e(e){return X4(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...ui(e.data.schema),title:e.data.name}}}var lC=class Sz{constructor(t){se(this,"nodes",{});se(this,"edges",[]);this.nodes=(t==null?void 0:t.nodes)??this.nodes,this.edges=(t==null?void 0:t.edges)??this.edges}toJSON(){const t={};return Object.values(this.nodes).forEach((n,r)=>{t[n.id]=zh(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:t[n.id],...T5e(n)})),edges:this.edges.map(n=>{const r={source:t[n.source],target:t[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(t,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const s=n??Du(),a={id:s,data:t,name:E5e(n,t),metadata:r};return this.nodes[s]=a,a}removeNode(t){delete this.nodes[t.id],this.edges=this.edges.filter(n=>n.source!==t.id&&n.target!==t.id)}addEdge(t,n,r,s){if(this.nodes[t.id]===void 0)throw new Error(`Source node ${t.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const a={source:t.id,target:n.id,data:r,conditional:s};return this.edges.push(a),a}firstNode(){return HN(this)}lastNode(){return UN(this)}extend(t,n=""){let r=n;Object.values(t.nodes).map(u=>u.id).every(zh)&&(r="");const a=u=>r?`${r}:${u}`:u;Object.entries(t.nodes).forEach(([u,c])=>{this.nodes[a(u)]={...c,id:a(u)}});const i=t.edges.map(u=>({...u,source:a(u.source),target:a(u.target)}));this.edges=[...this.edges,...i];const o=t.firstNode(),l=t.lastNode();return[o?{id:a(o.id),data:o.data}:void 0,l?{id:a(l.id),data:l.data}:void 0]}trimFirstNode(){const t=this.firstNode();t&&HN(this,[t.id])&&this.removeNode(t)}trimLastNode(){const t=this.lastNode();t&&UN(this,[t.id])&&this.removeNode(t)}reid(){const t=Object.fromEntries(Object.values(this.nodes).map(s=>[s.id,s.name])),n=new Map;Object.values(t).forEach(s=>{n.set(s,(n.get(s)||0)+1)});const r=s=>{const a=t[s];return zh(s)&&n.get(a)===1?a:s};return new Sz({nodes:Object.fromEntries(Object.entries(this.nodes).map(([s,a])=>[r(s),{...a,id:r(s)}])),edges:this.edges.map(s=>({...s,source:r(s.source),target:r(s.target)}))})}drawMermaid(t){const{withStyles:n,curveStyle:r,nodeColors:s={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:a}=t??{},i=this.reid(),o=i.firstNode(),l=i.lastNode();return MTe(i.nodes,i.edges,{firstNode:o==null?void 0:o.id,lastNode:l==null?void 0:l.id,withStyles:n,curveStyle:r,nodeColors:s,wrapLabelNWords:a})}async drawMermaidPng(t){const n=this.drawMermaid(t);return PTe(n,{backgroundColor:t==null?void 0:t.backgroundColor})}};function HN(e,t=[]){const n=new Set(e.edges.filter(s=>!t.includes(s.source)).map(s=>s.target)),r=[];for(const s of Object.values(e.nodes))!t.includes(s.id)&&!n.has(s.id)&&r.push(s);return r.length===1?r[0]:void 0}function UN(e,t=[]){const n=new Set(e.edges.filter(s=>!t.includes(s.target)).map(s=>s.source)),r=[];for(const s of Object.values(e.nodes))!t.includes(s.id)&&!n.has(s.id)&&r.push(s);return r.length===1?r[0]:void 0}function k5e(e){const t=new TextEncoder,n=new ReadableStream({async start(r){for await(const s of e)r.enqueue(t.encode(`event: data
data: ${JSON.stringify(s)}

`));r.enqueue(t.encode(`event: end

`)),r.close()}});return Ti.fromReadableStream(n)}function WN(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}const N5e=e=>e!=null&&typeof e=="object"&&"next"in e&&typeof e.next=="function";function o3(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function"}function*KN(e,t){for(;;){const{value:n,done:r}=Ei.runWithConfig(al(e),t.next.bind(t),!0);if(r)break;yield n}}async function*l3(e,t){const n=t[Symbol.asyncIterator]();for(;;){const{value:r,done:s}=await Ei.runWithConfig(al(e),n.next.bind(t),!0);if(s)break;yield r}}function Lr(e,t){return e&&!Array.isArray(e)&&!(e instanceof Date)&&typeof e=="object"?e:{[t]:e}}var Er=class extends tf{constructor(){super(...arguments);se(this,"lc_runnable",!0);se(this,"name")}getName(t){const n=this.name??this.constructor.lc_name()??this.constructor.name;return t?`${n}${t}`:n}withRetry(t){return new uC({bound:this,kwargs:{},config:{},maxAttemptNumber:t==null?void 0:t.stopAfterAttempt,...t})}withConfig(t){return new hf({bound:this,config:t,kwargs:{}})}withFallbacks(t){const n=Array.isArray(t)?t:t.fallbacks;return new Nz({runnable:this,fallbacks:n})}_getOptionsList(t,n=0){if(Array.isArray(t)&&t.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${t.length} options for ${n} inputs`);if(Array.isArray(t))return t.map(On);if(n>1&&!Array.isArray(t)&&t.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(t).filter(([s])=>s!=="runId"));return Array.from({length:n},(s,a)=>On(a===0?t:r))}return Array.from({length:n},()=>On(t))}async batch(t,n,r){var l;const s=this._getOptionsList(n??{},t.length),a=((l=s[0])==null?void 0:l.maxConcurrency)??(r==null?void 0:r.maxConcurrency),i=new Mm({maxConcurrency:a,onFailedAttempt:u=>{throw u}}),o=t.map((u,c)=>i.call(async()=>{try{return await this.invoke(u,s[c])}catch(d){if(r!=null&&r.returnExceptions)return d;throw d}}));return Promise.all(o)}async*_streamIterator(t,n){yield this.invoke(t,n)}async stream(t,n){const r=On(n),s=new Rc({generator:this._streamIterator(t,r),config:r});return await s.setup,Ti.fromAsyncGenerator(s)}_separateRunnableConfigFromCallOptions(t){let n;t===void 0?n=On(t):n=On({callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,runName:t.runName,configurable:t.configurable,recursionLimit:t.recursionLimit,maxConcurrency:t.maxConcurrency,runId:t.runId,timeout:t.timeout,signal:t.signal});const r={...t};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(t,n,r){const s=On(r),a=await Sa(s),i=await(a==null?void 0:a.handleChainStart(this.toJSON(),Lr(n,"input"),s.runId,s==null?void 0:s.runType,void 0,void 0,(s==null?void 0:s.runName)??this.getName()));delete s.runId;let o;try{const l=t.call(this,n,s,i);o=await il(l,r==null?void 0:r.signal)}catch(l){throw await(i==null?void 0:i.handleChainError(l)),l}return await(i==null?void 0:i.handleChainEnd(Lr(o,"output"))),o}async _batchWithConfig(t,n,r,s){var u;const a=this._getOptionsList(r??{},n.length),i=await Promise.all(a.map(Sa)),o=await Promise.all(i.map(async(c,d)=>{const h=await(c==null?void 0:c.handleChainStart(this.toJSON(),Lr(n[d],"input"),a[d].runId,a[d].runType,void 0,void 0,a[d].runName??this.getName()));return delete a[d].runId,h}));let l;try{const c=t.call(this,n,a,o,s);l=await il(c,(u=a==null?void 0:a[0])==null?void 0:u.signal)}catch(c){throw await Promise.all(o.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(o.map(c=>c==null?void 0:c.handleChainEnd(Lr(l,"output")))),l}_concatOutputChunks(t,n){return lu(t,n)}async*_transformStreamWithConfig(t,n,r){let s,a=!0,i,o=!0;const l=On(r),u=await Sa(l),c=this;async function*d(){for await(const p of t){if(a)if(s===void 0)s=p;else try{s=c._concatOutputChunks(s,p)}catch{s=void 0,a=!1}yield p}}let h;try{const p=await rD(n.bind(this),d(),async()=>u==null?void 0:u.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName(),void 0,{lc_defers_inputs:!0}),r==null?void 0:r.signal,l);delete l.runId,h=p.setup;const m=h==null?void 0:h.handlers.find(Y4e);let g=p.output;m!==void 0&&h!==void 0&&(g=m.tapOutputIterable(h.runId,g));const v=h==null?void 0:h.handlers.find(oD);v!==void 0&&h!==void 0&&(g=v.tapOutputIterable(h.runId,g));for await(const y of g)if(yield y,o)if(i===void 0)i=y;else try{i=this._concatOutputChunks(i,y)}catch{i=void 0,o=!1}}catch(p){throw await(h==null?void 0:h.handleChainError(p,void 0,void 0,void 0,{inputs:Lr(s,"input")})),p}await(h==null?void 0:h.handleChainEnd(i??{},void 0,void 0,void 0,{inputs:Lr(s,"input")}))}getGraph(t){const n=new lC,r=n.addNode({name:`${this.getName()}Input`,schema:FN()}),s=n.addNode(this),a=n.addNode({name:`${this.getName()}Output`,schema:FN()});return n.addEdge(r,s),n.addEdge(s,a),n}pipe(t){return new Pm({first:this,last:ci(t)})}pick(t){return this.pipe(new Iz(t))}assign(t){return this.pipe(new cC(new Rf({steps:t})))}async*transform(t,n){let r;for await(const s of t)r===void 0?r=s:r=this._concatOutputChunks(r,s);yield*this._streamIterator(r,On(n))}async*streamLog(t,n,r){const s=new W_({...r,autoClose:!1,_schemaFormat:"original"}),a=On(n);yield*this._streamLog(t,s,a)}async*_streamLog(t,n,r){const{callbacks:s}=r;if(s===void 0)r.callbacks=[n];else if(Array.isArray(s))r.callbacks=s.concat([n]);else{const l=s.copy();l.addHandler(n,!0),r.callbacks=l}const a=this.stream(t,r);async function i(){try{const l=await a;for await(const u of l){const c=new Do({ops:[{op:"add",path:"/streamed_output/-",value:u}]});await n.writer.write(c)}}finally{await n.writer.close()}}const o=i();try{for await(const l of n)yield l}finally{await o}}streamEvents(t,n,r){let s;if(n.version==="v1")s=this._streamEventsV1(t,n,r);else if(n.version==="v2")s=this._streamEventsV2(t,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?k5e(s):Ti.fromAsyncGenerator(s)}async*_streamEventsV2(t,n,r){var m;const s=new q4e({...r,autoClose:!1}),a=On(n),i=a.runId??Du();a.runId=i;const o=a.callbacks;if(o===void 0)a.callbacks=[s];else if(Array.isArray(o))a.callbacks=o.concat(s);else{const g=o.copy();g.addHandler(s,!0),a.callbacks=g}const l=new AbortController,u=this;async function c(){let g,v=null;try{n!=null&&n.signal?"any"in AbortSignal?g=AbortSignal.any([l.signal,n.signal]):(g=n.signal,v=()=>{l.abort()},n.signal.addEventListener("abort",v,{once:!0})):g=l.signal;const y=await u.stream(t,{...a,signal:g}),b=s.tapOutputIterable(i,y);for await(const w of b)if(l.signal.aborted)break}finally{await s.finish(),g&&v&&g.removeEventListener("abort",v)}}const d=c();let h=!1,p;try{for await(const g of s){if(!h){g.data.input=t,h=!0,p=g.run_id,yield g;continue}g.run_id===p&&g.event.endsWith("_end")&&(m=g.data)!=null&&m.input&&delete g.data.input,yield g}}finally{l.abort(),await d}}async*_streamEventsV1(t,n,r){let s,a=!1;const i=On(n),o=i.tags??[],l=i.metadata??{},u=i.runName??this.getName(),c=new W_({...r,autoClose:!1,_schemaFormat:"streaming_events"}),d=new lCe({...r}),h=this._streamLog(t,c,i);for await(const m of h){if(s?s=s.concat(m):s=q4.fromRunLogPatch(m),s.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const b={...s.state},w={run_id:b.id,event:`on_${b.type}_start`,name:u,tags:o,metadata:l,data:{input:t}};d.includeEvent(w,b.type)&&(yield w)}const g=m.ops.filter(b=>b.path.startsWith("/logs/")).map(b=>b.path.split("/")[2]),v=[...new Set(g)];for(const b of v){let w,_={};const S=s.state.logs[b];if(S.end_time===void 0?S.streamed_output.length>0?w="stream":w="start":w="end",w==="start")S.inputs!==void 0&&(_.input=S.inputs);else if(w==="end")S.inputs!==void 0&&(_.input=S.inputs),_.output=S.final_output;else if(w==="stream"){const C=S.streamed_output.length;if(C!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${C} instead. Encountered in: "${S.name}"`);_={chunk:S.streamed_output[0]},S.streamed_output=[]}yield{event:`on_${S.type}_${w}`,name:S.name,run_id:S.id,tags:S.tags,metadata:S.metadata,data:_}}const{state:y}=s;if(y.streamed_output.length>0){const b=y.streamed_output.length;if(b!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${b} instead. Encountered in: "${y.name}"`);const w={chunk:y.streamed_output[0]};y.streamed_output=[];const _={event:`on_${y.type}_stream`,run_id:y.id,tags:o,metadata:l,name:u,data:w};d.includeEvent(_,y.type)&&(yield _)}}const p=s==null?void 0:s.state;if(p!==void 0){const m={event:`on_${p.type}_end`,name:u,run_id:p.id,tags:o,metadata:l,data:{output:p.final_output}};d.includeEvent(m,p.type)&&(yield m)}}static isRunnable(t){return X4(t)}withListeners({onStart:t,onEnd:n,onError:r}){return new hf({bound:this,config:{},configFactories:[s=>({callbacks:[new cD({config:s,onStart:t,onEnd:n,onError:r})]})]})}asTool(t){return R5e(this,t)}},hf=class Cz extends Er{constructor(n){super(n);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"lc_serializable",!0);se(this,"bound");se(this,"config");se(this,"kwargs");se(this,"configFactories");this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config,this.configFactories=n.configFactories}static lc_name(){return"RunnableBinding"}getName(n){return this.bound.getName(n)}async _mergeConfig(...n){const r=D0(this.config,...n);return D0(r,...this.configFactories?await Promise.all(this.configFactories.map(async s=>await s(r))):[])}withConfig(n){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return new uC({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:n==null?void 0:n.stopAfterAttempt,...n})}async invoke(n,r){return this.bound.invoke(n,await this._mergeConfig(r,this.kwargs))}async batch(n,r,s){const a=Array.isArray(r)?await Promise.all(r.map(async i=>this._mergeConfig(On(i),this.kwargs))):await this._mergeConfig(On(r),this.kwargs);return this.bound.batch(n,a,s)}_concatOutputChunks(n,r){return this.bound._concatOutputChunks(n,r)}async*_streamIterator(n,r){yield*this.bound._streamIterator(n,await this._mergeConfig(On(r),this.kwargs))}async stream(n,r){return this.bound.stream(n,await this._mergeConfig(On(r),this.kwargs))}async*transform(n,r){yield*this.bound.transform(n,await this._mergeConfig(On(r),this.kwargs))}streamEvents(n,r,s){const a=this,i=async function*(){yield*a.bound.streamEvents(n,{...await a._mergeConfig(On(r),a.kwargs),version:r.version},s)};return Ti.fromAsyncGenerator(i())}static isRunnableBinding(n){return n.bound&&Er.isRunnable(n.bound)}withListeners({onStart:n,onEnd:r,onError:s}){return new Cz({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[a=>({callbacks:[new cD({config:a,onStart:n,onEnd:r,onError:s})]})]})}},I5e=class xz extends Er{constructor(n){super(n);se(this,"lc_serializable",!0);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"bound");this.bound=n.bound}static lc_name(){return"RunnableEach"}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async _invoke(n,r,s){return this.bound.batch(n,ar(r,{callbacks:s==null?void 0:s.getChild()}))}withListeners({onStart:n,onEnd:r,onError:s}){return new xz({bound:this.bound.withListeners({onStart:n,onEnd:r,onError:s})})}},uC=class extends hf{constructor(t){super(t);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"maxAttemptNumber",3);se(this,"onFailedAttempt",()=>{});this.maxAttemptNumber=t.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=t.onFailedAttempt??this.onFailedAttempt}static lc_name(){return"RunnableRetry"}_patchConfigForRetry(t,n,r){const s=t>1?`retry:attempt:${t}`:void 0;return ar(n,{callbacks:r==null?void 0:r.getChild(s)})}async _invoke(t,n,r){return K_(s=>super.invoke(t,this._patchConfigForRetry(s,n,r)),{onFailedAttempt:({error:s})=>this.onFailedAttempt(s,t),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(t,n){return this._callWithConfig(this._invoke.bind(this),t,n)}async _batch(t,n,r,s){const a={};try{await K_(async i=>{const o=t.map((h,p)=>p).filter(h=>a[h.toString()]===void 0||a[h.toString()]instanceof Error),l=o.map(h=>t[h]),u=o.map(h=>this._patchConfigForRetry(i,n==null?void 0:n[h],r==null?void 0:r[h])),c=await super.batch(l,u,{...s,returnExceptions:!0});let d;for(let h=0;h<c.length;h+=1){const p=c[h],m=o[h];p instanceof Error&&d===void 0&&(d=p,d.input=l[h]),a[m.toString()]=p}if(d)throw d;return c},{onFailedAttempt:({error:i})=>this.onFailedAttempt(i,i.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(i){if((s==null?void 0:s.returnExceptions)!==!0)throw i}return Object.keys(a).sort((i,o)=>parseInt(i,10)-parseInt(o,10)).map(i=>a[parseInt(i,10)])}async batch(t,n,r){return this._batchWithConfig(this._batch.bind(this),t,n,r)}},Pm=class ph extends Er{constructor(n){super(n);se(this,"first");se(this,"middle",[]);se(this,"last");se(this,"omitSequenceTags",!1);se(this,"lc_serializable",!0);se(this,"lc_namespace",["langchain_core","runnables"]);this.first=n.first,this.middle=n.middle??this.middle,this.last=n.last,this.name=n.name,this.omitSequenceTags=n.omitSequenceTags??this.omitSequenceTags}static lc_name(){return"RunnableSequence"}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,r){var u;const s=On(r),a=await Sa(s),i=await(a==null?void 0:a.handleChainStart(this.toJSON(),Lr(n,"input"),s.runId,void 0,void 0,void 0,s==null?void 0:s.runName));delete s.runId;let o=n,l;try{const c=[this.first,...this.middle];for(let d=0;d<c.length;d+=1){const p=c[d].invoke(o,ar(s,{callbacks:i==null?void 0:i.getChild(this.omitSequenceTags?void 0:`seq:step:${d+1}`)}));o=await il(p,r==null?void 0:r.signal)}if((u=r==null?void 0:r.signal)!=null&&u.aborted)throw Rp(r.signal);l=await this.last.invoke(o,ar(s,{callbacks:i==null?void 0:i.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(c){throw await(i==null?void 0:i.handleChainError(c)),c}return await(i==null?void 0:i.handleChainEnd(Lr(l,"output"))),l}async batch(n,r,s){var u;const a=this._getOptionsList(r??{},n.length),i=await Promise.all(a.map(Sa)),o=await Promise.all(i.map(async(c,d)=>{const h=await(c==null?void 0:c.handleChainStart(this.toJSON(),Lr(n[d],"input"),a[d].runId,void 0,void 0,void 0,a[d].runName));return delete a[d].runId,h}));let l=n;try{for(let c=0;c<this.steps.length;c+=1){const h=this.steps[c].batch(l,o.map((p,m)=>{const g=p==null?void 0:p.getChild(this.omitSequenceTags?void 0:`seq:step:${c+1}`);return ar(a[m],{callbacks:g})}),s);l=await il(h,(u=a[0])==null?void 0:u.signal)}}catch(c){throw await Promise.all(o.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(o.map(c=>c==null?void 0:c.handleChainEnd(Lr(l,"output")))),l}_concatOutputChunks(n,r){return this.last._concatOutputChunks(n,r)}async*_streamIterator(n,r){var h;const s=await Sa(r),{runId:a,...i}=r??{},o=await(s==null?void 0:s.handleChainStart(this.toJSON(),Lr(n,"input"),a,void 0,void 0,void 0,i==null?void 0:i.runName)),l=[this.first,...this.middle,this.last];let u=!0,c;async function*d(){yield n}try{let p=l[0].transform(d(),ar(i,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let m=1;m<l.length;m+=1)p=await l[m].transform(p,ar(i,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`)}));for await(const m of p)if((h=r==null?void 0:r.signal)==null||h.throwIfAborted(),yield m,u)if(c===void 0)c=m;else try{c=this._concatOutputChunks(c,m)}catch{c=void 0,u=!1}}catch(p){throw await(o==null?void 0:o.handleChainError(p)),p}await(o==null?void 0:o.handleChainEnd(Lr(c,"output")))}getGraph(n){const r=new lC;let s=null;return this.steps.forEach((a,i)=>{const o=a.getGraph(n);i!==0&&o.trimFirstNode(),i!==this.steps.length-1&&o.trimLastNode(),r.extend(o);const l=o.firstNode();if(!l)throw new Error(`Runnable ${a} has no first node`);s&&r.addEdge(s,l),s=o.lastNode()}),r}pipe(n){return ph.isRunnableSequence(n)?new ph({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last,name:this.name??n.name}):new ph({first:this.first,middle:[...this.middle,this.last],last:ci(n),name:this.name})}static isRunnableSequence(n){return Array.isArray(n.middle)&&Er.isRunnable(n)}static from([n,...r],s){let a={};return typeof s=="string"?a.name=s:s!==void 0&&(a=s),new ph({...a,first:ci(n),middle:r.slice(0,-1).map(ci),last:ci(r[r.length-1])})}},Rf=class Ez extends Er{constructor(n){super(n);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"lc_serializable",!0);se(this,"steps");this.steps={};for(const[r,s]of Object.entries(n.steps))this.steps[r]=ci(s)}static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}static from(n){return new Ez({steps:n})}async invoke(n,r){const s=On(r),a=await Sa(s),i=await(a==null?void 0:a.handleChainStart(this.toJSON(),{input:n},s.runId,void 0,void 0,void 0,s==null?void 0:s.runName));delete s.runId;const o={};try{const l=Object.entries(this.steps).map(async([u,c])=>{o[u]=await c.invoke(n,ar(s,{callbacks:i==null?void 0:i.getChild(`map:key:${u}`)}))});await il(Promise.all(l),r==null?void 0:r.signal)}catch(l){throw await(i==null?void 0:i.handleChainError(l)),l}return await(i==null?void 0:i.handleChainEnd(o)),o}async*_transform(n,r,s){const a={...this.steps},i=Z4(n,Object.keys(a).length),o=new Map(Object.entries(a).map(([l,u],c)=>{const d=u.transform(i[c],ar(s,{callbacks:r==null?void 0:r.getChild(`map:key:${l}`)}));return[l,d.next().then(h=>({key:l,gen:d,result:h}))]}));for(;o.size;){const l=Promise.race(o.values()),{key:u,result:c,gen:d}=await il(l,s==null?void 0:s.signal);o.delete(u),c.done||(yield{[u]:c.value},o.set(u,d.next().then(h=>({key:u,gen:d,result:h}))))}}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*s(){yield n}const a=On(r),i=new Rc({generator:this.transform(s(),a),config:a});return await i.setup,Ti.fromAsyncGenerator(i)}},O5e=class Tz extends Er{constructor(n){super(n);se(this,"lc_serializable",!1);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"func");if(!G4(n.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=n.func}async invoke(n,r){const[s]=this._getOptionsList(r??{},1),a=await Sa(s),i=this.func(ar(s,{callbacks:a}),n);return il(i,s==null?void 0:s.signal)}async*_streamIterator(n,r){var i,o;const[s]=this._getOptionsList(r??{},1),a=await this.invoke(n,r);if(o3(a)){for await(const l of a)(i=s==null?void 0:s.signal)==null||i.throwIfAborted(),yield l;return}if(N5e(a)){for(;;){(o=s==null?void 0:s.signal)==null||o.throwIfAborted();const l=a.next();if(l.done)break;yield l.value}return}yield a}static from(n){return new Tz({func:n})}};function $5e(e){if(G4(e))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var bl=class kz extends Er{constructor(n){if(G4(n.func))return O5e.from(n.func);super(n);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"func");$5e(n.func),this.func=n.func}static lc_name(){return"RunnableLambda"}static from(n){return new kz({func:n})}async _invoke(n,r,s){return new Promise((a,i)=>{const o=ar(r,{callbacks:s==null?void 0:s.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??_2)-1});Ei.runWithConfig(al(o),async()=>{var l,u;try{let c=await this.func(n,{...o});if(c&&Er.isRunnable(c)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");c=await c.invoke(n,{...o,recursionLimit:(o.recursionLimit??_2)-1})}else if(o3(c)){let d;for await(const h of l3(o,c))if((l=r==null?void 0:r.signal)==null||l.throwIfAborted(),d===void 0)d=h;else try{d=this._concatOutputChunks(d,h)}catch{d=h}c=d}else if(WN(c)){let d;for(const h of KN(o,c))if((u=r==null?void 0:r.signal)==null||u.throwIfAborted(),d===void 0)d=h;else try{d=this._concatOutputChunks(d,h)}catch{d=h}c=d}a(c)}catch(c){i(c)}})})}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async*_transform(n,r,s){var l,u;let a;for await(const c of n)if(a===void 0)a=c;else try{a=this._concatOutputChunks(a,c)}catch{a=c}const i=ar(s,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((s==null?void 0:s.recursionLimit)??_2)-1}),o=await new Promise((c,d)=>{Ei.runWithConfig(al(i),async()=>{try{const h=await this.func(a,{...i,config:i});c(h)}catch(h){d(h)}})});if(o&&Er.isRunnable(o)){if((s==null?void 0:s.recursionLimit)===0)throw new Error("Recursion limit reached.");const c=await o.stream(a,i);for await(const d of c)yield d}else if(o3(o))for await(const c of l3(i,o))(l=s==null?void 0:s.signal)==null||l.throwIfAborted(),yield c;else if(WN(o))for(const c of KN(i,o))(u=s==null?void 0:s.signal)==null||u.throwIfAborted(),yield c;else yield o}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*s(){yield n}const a=On(r),i=new Rc({generator:this.transform(s(),a),config:a});return await i.setup,Ti.fromAsyncGenerator(i)}},A5e=class extends Rf{},Nz=class extends Er{constructor(t){super(t);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"lc_serializable",!0);se(this,"runnable");se(this,"fallbacks");this.runnable=t.runnable,this.fallbacks=t.fallbacks}static lc_name(){return"RunnableWithFallbacks"}*runnables(){yield this.runnable;for(const t of this.fallbacks)yield t}async invoke(t,n){const r=On(n),s=await Sa(r),{runId:a,...i}=r,o=await(s==null?void 0:s.handleChainStart(this.toJSON(),Lr(t,"input"),a,void 0,void 0,void 0,i==null?void 0:i.runName)),l=ar(i,{callbacks:o==null?void 0:o.getChild()});return await Ei.runWithConfig(l,async()=>{var d;let c;for(const h of this.runnables()){(d=r==null?void 0:r.signal)==null||d.throwIfAborted();try{const p=await h.invoke(t,l);return await(o==null?void 0:o.handleChainEnd(Lr(p,"output"))),p}catch(p){c===void 0&&(c=p)}}throw c===void 0?new Error("No error stored at end of fallback."):(await(o==null?void 0:o.handleChainError(c)),c)})}async*_streamIterator(t,n){var d;const r=On(n),s=await Sa(r),{runId:a,...i}=r,o=await(s==null?void 0:s.handleChainStart(this.toJSON(),Lr(t,"input"),a,void 0,void 0,void 0,i==null?void 0:i.runName));let l,u;for(const h of this.runnables()){(d=r==null?void 0:r.signal)==null||d.throwIfAborted();const p=ar(i,{callbacks:o==null?void 0:o.getChild()});try{const m=await h.stream(t,p);u=l3(p,m);break}catch(m){l===void 0&&(l=m)}}if(u===void 0){const h=l??new Error("No error stored at end of fallback.");throw await(o==null?void 0:o.handleChainError(h)),h}let c;try{for await(const h of u){yield h;try{c=c===void 0?c:this._concatOutputChunks(c,h)}catch{c=void 0}}}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}await(o==null?void 0:o.handleChainEnd(Lr(c,"output")))}async batch(t,n,r){var l;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const s=this._getOptionsList(n??{},t.length),a=await Promise.all(s.map(u=>Sa(u))),i=await Promise.all(a.map(async(u,c)=>{const d=await(u==null?void 0:u.handleChainStart(this.toJSON(),Lr(t[c],"input"),s[c].runId,void 0,void 0,void 0,s[c].runName));return delete s[c].runId,d}));let o;for(const u of this.runnables()){(l=s[0].signal)==null||l.throwIfAborted();try{const c=await u.batch(t,i.map((d,h)=>ar(s[h],{callbacks:d==null?void 0:d.getChild()})),r);return await Promise.all(i.map((d,h)=>d==null?void 0:d.handleChainEnd(Lr(c[h],"output")))),c}catch(c){o===void 0&&(o=c)}}throw o?(await Promise.all(i.map(u=>u==null?void 0:u.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}};function ci(e){if(typeof e=="function")return new bl({func:e});if(Er.isRunnable(e))return e;if(!Array.isArray(e)&&typeof e=="object"){const t={};for(const[n,r]of Object.entries(e))t[n]=ci(r);return new Rf({steps:t})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var cC=class extends Er{constructor(t){t instanceof Rf&&(t={mapper:t});super(t);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"lc_serializable",!0);se(this,"mapper");this.mapper=t.mapper}static lc_name(){return"RunnableAssign"}async invoke(t,n){const r=await this.mapper.invoke(t,n);return{...t,...r}}async*_transform(t,n,r){const s=this.mapper.getStepsKeys(),[a,i]=Z4(t),o=this.mapper.transform(i,ar(r,{callbacks:n==null?void 0:n.getChild()})),l=o.next();for await(const u of a){if(typeof u!="object"||Array.isArray(u))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof u}`);const c=Object.fromEntries(Object.entries(u).filter(([d])=>!s.includes(d)));Object.keys(c).length>0&&(yield c)}yield(await l).value;for await(const u of o)yield u}transform(t,n){return this._transformStreamWithConfig(t,this._transform.bind(this),n)}async stream(t,n){async function*r(){yield t}const s=On(n),a=new Rc({generator:this.transform(r(),s),config:s});return await a.setup,Ti.fromAsyncGenerator(a)}},Iz=class extends Er{constructor(t){(typeof t=="string"||Array.isArray(t))&&(t={keys:t});super(t);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"lc_serializable",!0);se(this,"keys");this.keys=t.keys}static lc_name(){return"RunnablePick"}async _pick(t){if(typeof this.keys=="string")return t[this.keys];{const n=this.keys.map(r=>[r,t[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(t,n){return this._callWithConfig(this._pick.bind(this),t,n)}async*_transform(t){for await(const n of t){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(t,n){return this._transformStreamWithConfig(t,this._transform.bind(this),n)}async stream(t,n){async function*r(){yield t}const s=On(n),a=new Rc({generator:this.transform(r(),s),config:s});return await a.setup,Ti.fromAsyncGenerator(a)}},u3=class extends hf{constructor(t){const n=Pm.from([bl.from(async r=>{let s;if(Ph(r))try{s=await k1(this.schema,r.args)}catch{throw new $0("Received tool input did not match expected schema",JSON.stringify(r.args))}else s=r;return s}).withConfig({runName:`${t.name}:parse_input`}),t.bound]).withConfig({runName:t.name});super({bound:n,config:t.config??{}});se(this,"name");se(this,"description");se(this,"schema");this.name=t.name,this.description=t.description,this.schema=t.schema}static lc_name(){return"RunnableToolLike"}};function R5e(e,t){const n=t.name??e.getName(),r=t.description??N1(t.schema);return sC(t.schema)?new u3({name:n,description:r,schema:$1({input:O1()}).transform(s=>s.input),bound:e}):new u3({name:n,description:r,schema:t.schema,bound:e})}const ey=(e,t)=>{const n=[...new Set(t==null?void 0:t.map(s=>{if(typeof s=="string")return s;const a=new s({});if(!("getType"in a)||typeof a.getType!="function")throw new Error("Invalid type provided.");return a.getType()}))],r=e.getType();return n.some(s=>s===r)};function M5e(e,t){return Array.isArray(e)?GN(e,t):bl.from(n=>GN(n,e))}function GN(e,t={}){const{includeNames:n,excludeNames:r,includeTypes:s,excludeTypes:a,includeIds:i,excludeIds:o}=t,l=[];for(const u of e)if(!(r&&u.name&&r.includes(u.name))){{if(a&&ey(u,a))continue;if(o&&u.id&&o.includes(u.id))continue}s||i||n?(n&&u.name&&n.some(c=>c===u.name)||s&&ey(u,s)||i&&u.id&&i.some(c=>c===u.id))&&l.push(u):l.push(u)}return l}function P5e(e){return Array.isArray(e)?ZN(e):bl.from(ZN)}function ZN(e){if(!e.length)return[];const t=[];for(const n of e){const r=n,s=t.pop();if(!s)t.push(r);else if(r.getType()==="tool"||r.getType()!==s.getType())t.push(s,r);else{const a=A0(s),i=A0(r),o=a.concat(i);typeof a.content=="string"&&typeof i.content=="string"&&(o.content=`${a.content}
${i.content}`),t.push(z5e(o))}}return t}function L5e(e,t){if(Array.isArray(e)){const n=e;if(!t)throw new Error("Options parameter is required when providing messages.");return YN(n,t)}else{const n=e;return bl.from(r=>YN(r,n)).withConfig({runName:"trim_messages"})}}async function YN(e,t){const{maxTokens:n,tokenCounter:r,strategy:s="last",allowPartial:a=!1,endOn:i,startOn:o,includeSystem:l=!1,textSplitter:u}=t;if(o&&s==="first")throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(l&&s==="first")throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let c;"getNumTokens"in r?c=async h=>(await Promise.all(h.map(m=>r.getNumTokens(m.content)))).reduce((m,g)=>m+g,0):c=async h=>r(h);let d=$z;if(u&&("splitText"in u?d=u.splitText:d=async h=>u(h)),s==="first")return Oz(e,{maxTokens:n,tokenCounter:c,textSplitter:d,partialStrategy:a?"first":void 0,endOn:i});if(s==="last")return D5e(e,{maxTokens:n,tokenCounter:c,textSplitter:d,allowPartial:a,includeSystem:l,startOn:o,endOn:i});throw new Error(`Unrecognized strategy: '${s}'. Must be one of 'first' or 'last'.`)}async function Oz(e,t){const{maxTokens:n,tokenCounter:r,textSplitter:s,partialStrategy:a,endOn:i}=t;let o=[...e],l=0;for(let u=0;u<o.length;u+=1){const c=u>0?o.slice(0,-u):o;if(await r(c)<=n){l=o.length-u;break}}if(l<o.length&&a){let u=!1;if(Array.isArray(o[l].content)){const c=o[l];if(typeof c.content=="string")throw new Error("Expected content to be an array.");const d=c.content.length,h=a==="last"?[...c.content].reverse():c.content;for(let p=1;p<=d;p+=1){const m=a==="first"?h.slice(0,p):h.slice(-p),g=Object.fromEntries(Object.entries(c).filter(([b])=>b!=="type"&&!b.startsWith("lc_"))),v=dC(c.getType(),{...g,content:m}),y=[...o.slice(0,l),v];if(await r(y)<=n)o=y,l+=1,u=!0;else break}u&&a==="last"&&(c.content=[...h].reverse())}if(!u){const c=o[l];let d;if(Array.isArray(c.content)&&c.content.some(h=>typeof h=="string"||h.type==="text")){const h=c.content.find(p=>p.type==="text"&&p.text);d=h==null?void 0:h.text}else typeof c.content=="string"&&(d=c.content);if(d){const h=await s(d),p=h.length;a==="last"&&h.reverse();for(let m=0;m<p-1;m+=1)if(h.pop(),c.content=h.join(""),await r([...o.slice(0,l),c])<=n){a==="last"&&(c.content=[...h].reverse().join("")),o=[...o.slice(0,l),c],l+=1;break}}}}if(i){const u=Array.isArray(i)?i:[i];for(;l>0&&!ey(o[l-1],u);)l-=1}return o.slice(0,l)}async function D5e(e,t){var c;const{allowPartial:n=!1,includeSystem:r=!1,endOn:s,startOn:a,...i}=t;let o=e.map(d=>{const h=Object.fromEntries(Object.entries(d).filter(([p])=>p!=="type"&&!p.startsWith("lc_")));return dC(d.getType(),h,N4(d))});if(s){const d=Array.isArray(s)?s:[s];for(;o.length>0&&!ey(o[o.length-1],d);)o=o.slice(0,-1)}const l=r&&((c=o[0])==null?void 0:c.getType())==="system";let u=l?o.slice(0,1).concat(o.slice(1).reverse()):o.reverse();return u=await Oz(u,{...i,partialStrategy:n?"last":void 0,endOn:a}),l?[u[0],...u.slice(1).reverse()]:u.reverse()}const qN={human:{message:xi,messageChunk:Om},ai:{message:xs,messageChunk:Eo},system:{message:sl,messageChunk:iu},developer:{message:sl,messageChunk:iu},tool:{message:bo,messageChunk:km},function:{message:c1,messageChunk:Im},generic:{message:Ac,messageChunk:Nm},remove:{message:O0,messageChunk:O0}};function dC(e,t,n){var a;let r,s;switch(e){case"human":n?r=new Om(t):s=new xi(t);break;case"ai":if(n){let i={...t};"tool_calls"in i&&(i={...i,tool_call_chunks:(a=i.tool_calls)==null?void 0:a.map(o=>({...o,type:"tool_call_chunk",index:void 0,args:JSON.stringify(o.args)}))}),r=new Eo(i)}else s=new xs(t);break;case"system":n?r=new iu(t):s=new sl(t);break;case"developer":n?r=new iu({...t,additional_kwargs:{...t.additional_kwargs,__openai_role__:"developer"}}):s=new sl({...t,additional_kwargs:{...t.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in t)n?r=new km(t):s=new bo(t);else throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(n)r=new Im(t);else{if(!t.name)throw new Error("FunctionMessage must have a 'name' field");s=new c1(t)}break;case"generic":if("role"in t)n?r=new Nm(t):s=new Ac(t);else throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw new Error(`Unrecognized message type ${e}`)}if(n&&r)return r;if(s)return s;throw new Error(`Unrecognized message type ${e}`)}function z5e(e){const t=e.getType();let n;const r=Object.fromEntries(Object.entries(e).filter(([s])=>!["type","tool_call_chunks"].includes(s)&&!s.startsWith("lc_")));if(t in qN&&(n=dC(t,r)),!n)throw new Error(`Unrecognized message chunk class ${t}. Supported classes are ${Object.keys(qN)}`);return n}function $z(e){const t=e.split(`
`);return Promise.resolve([...t.slice(0,-1).map(n=>`${n}
`),t[t.length-1]])}const F5e=["tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result"],B5e=["image","video","audio","text-plain","file"],j5e=["text","reasoning",...F5e,...B5e];var V5e={};xn(V5e,{AIMessage:()=>xs,AIMessageChunk:()=>Eo,BaseMessage:()=>yl,BaseMessageChunk:()=>pu,ChatMessage:()=>Ac,ChatMessageChunk:()=>Nm,DEFAULT_MERGE_IGNORE_KEYS:()=>XP,FunctionMessage:()=>c1,FunctionMessageChunk:()=>Im,HumanMessage:()=>xi,HumanMessageChunk:()=>Om,KNOWN_BLOCK_TYPES:()=>j5e,RemoveMessage:()=>O0,SystemMessage:()=>sl,SystemMessageChunk:()=>iu,ToolMessage:()=>bo,ToolMessageChunk:()=>km,_isMessageFieldWithRole:()=>eL,_mergeDicts:()=>Cs,_mergeLists:()=>Tm,_mergeObj:()=>JP,_mergeStatus:()=>qP,coerceMessageLikeToMessage:()=>Lh,collapseToolCallChunks:()=>uL,convertToChunk:()=>A0,convertToOpenAIImageBlock:()=>BP,convertToProviderContentBlock:()=>x4,defaultTextSplitter:()=>$z,defaultToolCallParser:()=>$4,filterMessages:()=>M5e,getBufferString:()=>M4,iife:()=>lL,isAIMessage:()=>f1,isAIMessageChunk:()=>$_,isBase64ContentBlock:()=>C4,isBaseMessage:()=>Ul,isBaseMessageChunk:()=>N4,isChatMessage:()=>w_e,isChatMessageChunk:()=>__e,isDataContentBlock:()=>yo,isDirectToolOutput:()=>O4,isFunctionMessage:()=>S_e,isFunctionMessageChunk:()=>C_e,isHumanMessage:()=>x_e,isHumanMessageChunk:()=>E_e,isIDContentBlock:()=>FP,isMessage:()=>jP,isOpenAIToolCallArray:()=>g_e,isPlainTextContentBlock:()=>Dwe,isSystemMessage:()=>T_e,isSystemMessageChunk:()=>k_e,isToolMessage:()=>rL,isToolMessageChunk:()=>sL,isURLContentBlock:()=>S4,mapChatMessagesToStoredMessages:()=>W_e,mapStoredMessageToChatMessage:()=>P4,mapStoredMessagesToChatMessages:()=>U_e,mergeContent:()=>rl,mergeMessageRuns:()=>P5e,mergeResponseMetadata:()=>tL,mergeUsageMetadata:()=>I4,parseBase64DataUrl:()=>Np,parseMimeType:()=>k_,trimMessages:()=>L5e});const sc=e=>e();function Lm(e){return e?!!(/^o\d/.test(e??"")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat")):!1}function H5e(e){return e.role!=="system"&&e.role!=="developer"&&e.role!=="assistant"&&e.role!=="user"&&e.role!=="function"&&e.role!=="tool"&&console.warn(`Unknown message role: ${e.role}`),e.role}function XN(e){var t,n,r;return((t=e.metadata)==null?void 0:t.filename)??((n=e.metadata)==null?void 0:n.name)??((r=e.metadata)==null?void 0:r.title)}function ty(e){var n,r,s;const t=((n=e.metadata)==null?void 0:n.filename)??((r=e.metadata)==null?void 0:r.name)??((s=e.metadata)==null?void 0:s.title);if(!t)throw new Error("a filename or name or title is needed via meta-data for OpenAI when working with multimodal blocks");return t}function Dm(e){const t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!Ac.isInstance(e))throw new Error("Invalid generic chat message");return H5e(e);default:throw new Error(`Unknown message type: ${t}`)}}function U5e(e){return!!(e.includes("gpt-5.2-pro")||e.includes("codex"))}function W5e(e){const{azureOpenAIApiDeploymentName:t,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:r,azureOpenAIBasePath:s,baseURL:a,azureADTokenProvider:i,azureOpenAIEndpoint:o}=e;if((r||i)&&s&&t)return`${s}/${t}`;if((r||i)&&o&&t)return`${o}/openai/deployments/${t}`;if(r||i){if(!n)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!t)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${t}`}return a}function JN(e){return typeof Headers<"u"&&e!==null&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Headers]"}function K5e(e){const t=sc(()=>{if(JN(e))return e;if(Array.isArray(e))return new Headers(e);if(typeof e=="object"&&e!==null&&"values"in e&&JN(e.values))return e.values;if(typeof e=="object"&&e!==null){const n=Object.entries(e).filter(([,r])=>typeof r=="string").map(([r,s])=>[r,s]);return new Headers(n)}return new Headers});return Object.fromEntries(t.entries())}function G5e(){let e=L4();return(e==="node"||e==="deno")&&(e=`(${e}/${process.version}; ${process.platform}; ${process.arch})`),e}function Z5e(e,t=!1,n="1.0.0"){const r=K5e(e),s=G5e(),a=`langchainjs${t?"-azure":""}-openai`;return{...r,"User-Agent":r["User-Agent"]?`${a}/${n} (${s})${r["User-Agent"]}`:`${a}/${n} (${s})`}}function fC(e){return e!==void 0&&Array.isArray(e.lc_namespace)}function hC(e){return e!==void 0&&Er.isRunnable(e)&&"lc_name"in e.constructor&&typeof e.constructor.lc_name=="function"&&e.constructor.lc_name()==="RunnableToolLike"}function pC(e){return!!e&&typeof e=="object"&&"name"in e&&"schema"in e&&(eo(e.schema)||e.schema!=null&&typeof e.schema=="object"&&"type"in e.schema&&typeof e.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(e.schema.type))}function A1(e){return pC(e)||hC(e)||fC(e)}var Y5e={};xn(Y5e,{convertToOpenAIFunction:()=>Az,convertToOpenAITool:()=>Rz,isLangChainTool:()=>A1,isRunnableToolLike:()=>hC,isStructuredTool:()=>fC,isStructuredToolParams:()=>pC});function Az(e,t){const n=typeof t=="number"?void 0:t;return{name:e.name,description:e.description,parameters:ui(e.schema),...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}}function Rz(e,t){const n=typeof t=="number"?void 0:t;let r;return A1(e)?r={type:"function",function:Az(e)}:r=e,(n==null?void 0:n.strict)!==void 0&&(r.function.strict=n.strict),r}var q5e={};xn(q5e,{extendInteropZodObject:()=>TTe,getInteropZodDefaultGetter:()=>NTe,getInteropZodObjectShape:()=>q_,getSchemaDescription:()=>N1,interopParse:()=>CTe,interopParseAsync:()=>k1,interopSafeParse:()=>STe,interopSafeParseAsync:()=>iz,interopZodObjectMakeFieldsOptional:()=>$Te,interopZodObjectPartial:()=>kTe,interopZodObjectPassthrough:()=>X_,interopZodObjectStrict:()=>G0,interopZodTransformInputSchema:()=>uz,isInteropZodError:()=>cz,isInteropZodLiteral:()=>_Te,isInteropZodObject:()=>ETe,isInteropZodSchema:()=>eo,isShapelessZodSchema:()=>xTe,isSimpleStringZodSchema:()=>sC,isZodArrayV4:()=>I1,isZodLiteralV3:()=>sz,isZodLiteralV4:()=>az,isZodNullableV4:()=>lz,isZodObjectV3:()=>aC,isZodObjectV4:()=>lo,isZodOptionalV4:()=>oz,isZodSchema:()=>wTe,isZodSchemaV3:()=>Ar,isZodSchemaV4:()=>pr});function X5e(e,t){let n;return A1(e)?n=Rz(e):n=e,(t==null?void 0:t.strict)!==void 0&&(n.function.strict=t.strict),n}function J5e(e){return e.anyOf!==void 0&&Array.isArray(e.anyOf)}function Q5e(e){const t=["namespace functions {",""];for(const n of e)n.description&&t.push(`// ${n.description}`),Object.keys(n.parameters.properties??{}).length>0?(t.push(`type ${n.name} = (_: {`),t.push(Mz(n.parameters,0)),t.push("}) => any;")):t.push(`type ${n.name} = () => any;`),t.push("");return t.push("} // namespace functions"),t.join(`
`)}function Mz(e,t){var r;const n=[];for(const[s,a]of Object.entries(e.properties??{}))a.description&&t<2&&n.push(`// ${a.description}`),(r=e.required)!=null&&r.includes(s)?n.push(`${s}: ${ny(a,t)},`):n.push(`${s}?: ${ny(a,t)},`);return n.map(s=>" ".repeat(t)+s).join(`
`)}function ny(e,t){if(J5e(e))return e.anyOf.map(n=>ny(n,t)).join(" | ");switch(e.type){case"string":return e.enum?e.enum.map(n=>`"${n}"`).join(" | "):"string";case"number":return e.enum?e.enum.map(n=>`${n}`).join(" | "):"number";case"integer":return e.enum?e.enum.map(n=>`${n}`).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",Mz(e,t+2),"}"].join(`
`);case"array":return e.items?`${ny(e.items,t)}[]`:"any[]";default:return""}}function Pz(e){if(e)return e==="any"||e==="required"?"required":e==="auto"?"auto":e==="none"?"none":typeof e=="string"?{type:"function",function:{name:e}}:e}function mC(e){return"type"in e&&e.type!=="function"}function eNe(e){return typeof e=="object"&&e!==null&&"extras"in e&&typeof e.extras=="object"&&e.extras!==null&&"providerToolDefinition"in e.extras&&typeof e.extras.providerToolDefinition=="object"&&e.extras.providerToolDefinition!==null}function tNe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type!=="function"}function ry(e){return typeof e=="object"&&e!==null&&"metadata"in e&&typeof e.metadata=="object"&&e.metadata!==null&&"customTool"in e.metadata&&typeof e.metadata.customTool=="object"&&e.metadata.customTool!==null}function Lz(e){return"type"in e&&e.type==="custom"&&"custom"in e&&typeof e.custom=="object"&&e.custom!==null}function nNe(e){if(e.type==="custom_tool_call")return{...e,type:"tool_call",call_id:e.id,id:e.call_id,name:e.name,isCustomTool:!0,args:{input:e.input}}}function rNe(e){if(e.type==="computer_call")return{...e,type:"tool_call",call_id:e.id,id:e.call_id,name:"computer_use",isComputerTool:!0,args:{action:e.action}}}function sNe(e){return typeof e=="object"&&e!==null&&"type"in e&&e.type==="tool_call"&&"isComputerTool"in e&&e.isComputerTool===!0}function aNe(e){return typeof e=="object"&&e!==null&&"type"in e&&e.type==="tool_call"&&"isCustomTool"in e&&e.isCustomTool===!0}function iNe(e){const t=()=>{if(e.custom.format){if(e.custom.format.type==="grammar")return{type:"grammar",definition:e.custom.format.grammar.definition,syntax:e.custom.format.grammar.syntax};if(e.custom.format.type==="text")return{type:"text"}}};return{type:"custom",name:e.custom.name,description:e.custom.description,format:t()}}function oNe(e){const t=()=>{if(e.format){if(e.format.type==="grammar")return{type:"grammar",grammar:{definition:e.format.definition,syntax:e.format.syntax}};if(e.format.type==="text")return{type:"text"}}};return{type:"custom",custom:{name:e.name,description:e.description,format:t()}}}const lNe=Ze("ZodISODateTime",(e,t)=>{Oxe.init(e,t),vr.init(e,t)});function uNe(e){return REe(lNe,e)}const cNe=Ze("ZodISODate",(e,t)=>{$xe.init(e,t),vr.init(e,t)});function dNe(e){return MEe(cNe,e)}const fNe=Ze("ZodISOTime",(e,t)=>{Axe.init(e,t),vr.init(e,t)});function hNe(e){return PEe(fNe,e)}const pNe=Ze("ZodISODuration",(e,t)=>{Rxe.init(e,t),vr.init(e,t)});function mNe(e){return LEe(pNe,e)}const gNe=(e,t)=>{bD.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>SCe(e,n)},flatten:{value:n=>_Ce(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,G_,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,G_,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ka=Ze("ZodError",gNe,{Parent:Error}),vNe=w1(Ka),yNe=S1(Ka),bNe=C1(Ka),wNe=x1(Ka),_Ne=kCe(Ka),SNe=NCe(Ka),CNe=ICe(Ka),xNe=OCe(Ka),ENe=$Ce(Ka),TNe=ACe(Ka),kNe=RCe(Ka),NNe=MCe(Ka),Cr=Ze("ZodType",(e,t)=>(Sr.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:K0(e,"input"),output:K0(e,"output")}}),e.toJSONSchema=eTe(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(mu(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>ss(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>vNe(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>bNe(e,n,r),e.parseAsync=async(n,r)=>yNe(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>wNe(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>_Ne(e,n,r),e.decode=(n,r)=>SNe(e,n,r),e.encodeAsync=async(n,r)=>CNe(e,n,r),e.decodeAsync=async(n,r)=>xNe(e,n,r),e.safeEncode=(n,r)=>ENe(e,n,r),e.safeDecode=(n,r)=>TNe(e,n,r),e.safeEncodeAsync=async(n,r)=>kNe(e,n,r),e.safeDecodeAsync=async(n,r)=>NNe(e,n,r),e.refine=(n,r)=>e.check(_Ie(n,r)),e.superRefine=n=>e.check(SIe(n)),e.overwrite=n=>e.check(Af(n)),e.optional=()=>nI(e),e.exactOptional=()=>lIe(e),e.nullable=()=>rI(e),e.nullish=()=>nI(rI(e)),e.nonoptional=n=>pIe(e,n),e.array=()=>zm(e),e.or=n=>R1([e,n]),e.and=n=>tIe(e,n),e.transform=n=>sI(e,iIe(n)),e.default=n=>dIe(e,n),e.prefault=n=>hIe(e,n),e.catch=n=>gIe(e,n),e.pipe=n=>sI(e,n),e.readonly=()=>bIe(e),e.describe=n=>{const r=e.clone();return Kr.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Kr.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Kr.get(e);const r=e.clone();return Kr.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),Dz=Ze("_ZodString",(e,t)=>{nC.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(r,s,a)=>zD(e,r,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(FEe(...r)),e.includes=(...r)=>e.check(VEe(...r)),e.startsWith=(...r)=>e.check(HEe(...r)),e.endsWith=(...r)=>e.check(UEe(...r)),e.min=(...r)=>e.check(V0(...r)),e.max=(...r)=>e.check(LD(...r)),e.length=(...r)=>e.check(DD(...r)),e.nonempty=(...r)=>e.check(V0(1,...r)),e.lowercase=r=>e.check(BEe(r)),e.uppercase=r=>e.check(jEe(r)),e.trim=()=>e.check(KEe()),e.normalize=(...r)=>e.check(WEe(...r)),e.toLowerCase=()=>e.check(GEe()),e.toUpperCase=()=>e.check(ZEe()),e.slugify=()=>e.check(YEe())}),INe=Ze("ZodString",(e,t)=>{nC.init(e,t),Dz.init(e,t),e.email=n=>e.check(fEe(ONe,n)),e.url=n=>e.check(vEe($Ne,n)),e.jwt=n=>e.check(AEe(KNe,n)),e.emoji=n=>e.check(yEe(ANe,n)),e.guid=n=>e.check(yN(QN,n)),e.uuid=n=>e.check(hEe(Kg,n)),e.uuidv4=n=>e.check(pEe(Kg,n)),e.uuidv6=n=>e.check(mEe(Kg,n)),e.uuidv7=n=>e.check(gEe(Kg,n)),e.nanoid=n=>e.check(bEe(RNe,n)),e.guid=n=>e.check(yN(QN,n)),e.cuid=n=>e.check(wEe(MNe,n)),e.cuid2=n=>e.check(_Ee(PNe,n)),e.ulid=n=>e.check(SEe(LNe,n)),e.base64=n=>e.check(IEe(HNe,n)),e.base64url=n=>e.check(OEe(UNe,n)),e.xid=n=>e.check(CEe(DNe,n)),e.ksuid=n=>e.check(xEe(zNe,n)),e.ipv4=n=>e.check(EEe(FNe,n)),e.ipv6=n=>e.check(TEe(BNe,n)),e.cidrv4=n=>e.check(kEe(jNe,n)),e.cidrv6=n=>e.check(NEe(VNe,n)),e.e164=n=>e.check($Ee(WNe,n)),e.datetime=n=>e.check(uNe(n)),e.date=n=>e.check(dNe(n)),e.time=n=>e.check(hNe(n)),e.duration=n=>e.check(mNe(n))});function ca(e){return dEe(INe,e)}const vr=Ze("ZodStringFormat",(e,t)=>{hr.init(e,t),Dz.init(e,t)}),ONe=Ze("ZodEmail",(e,t)=>{_xe.init(e,t),vr.init(e,t)}),QN=Ze("ZodGUID",(e,t)=>{bxe.init(e,t),vr.init(e,t)}),Kg=Ze("ZodUUID",(e,t)=>{wxe.init(e,t),vr.init(e,t)}),$Ne=Ze("ZodURL",(e,t)=>{Sxe.init(e,t),vr.init(e,t)}),ANe=Ze("ZodEmoji",(e,t)=>{Cxe.init(e,t),vr.init(e,t)}),RNe=Ze("ZodNanoID",(e,t)=>{xxe.init(e,t),vr.init(e,t)}),MNe=Ze("ZodCUID",(e,t)=>{Exe.init(e,t),vr.init(e,t)}),PNe=Ze("ZodCUID2",(e,t)=>{Txe.init(e,t),vr.init(e,t)}),LNe=Ze("ZodULID",(e,t)=>{kxe.init(e,t),vr.init(e,t)}),DNe=Ze("ZodXID",(e,t)=>{Nxe.init(e,t),vr.init(e,t)}),zNe=Ze("ZodKSUID",(e,t)=>{Ixe.init(e,t),vr.init(e,t)}),FNe=Ze("ZodIPv4",(e,t)=>{Mxe.init(e,t),vr.init(e,t)}),BNe=Ze("ZodIPv6",(e,t)=>{Pxe.init(e,t),vr.init(e,t)}),jNe=Ze("ZodCIDRv4",(e,t)=>{Lxe.init(e,t),vr.init(e,t)}),VNe=Ze("ZodCIDRv6",(e,t)=>{Dxe.init(e,t),vr.init(e,t)}),HNe=Ze("ZodBase64",(e,t)=>{zxe.init(e,t),vr.init(e,t)}),UNe=Ze("ZodBase64URL",(e,t)=>{Bxe.init(e,t),vr.init(e,t)}),WNe=Ze("ZodE164",(e,t)=>{jxe.init(e,t),vr.init(e,t)}),KNe=Ze("ZodJWT",(e,t)=>{Hxe.init(e,t),vr.init(e,t)}),zz=Ze("ZodNumber",(e,t)=>{ID.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(r,s,a)=>FD(e,r,s),e.gt=(r,s)=>e.check(wN(r,s)),e.gte=(r,s)=>e.check(C2(r,s)),e.min=(r,s)=>e.check(C2(r,s)),e.lt=(r,s)=>e.check(bN(r,s)),e.lte=(r,s)=>e.check(S2(r,s)),e.max=(r,s)=>e.check(S2(r,s)),e.int=r=>e.check(eI(r)),e.safe=r=>e.check(eI(r)),e.positive=r=>e.check(wN(0,r)),e.nonnegative=r=>e.check(C2(0,r)),e.negative=r=>e.check(bN(0,r)),e.nonpositive=r=>e.check(S2(0,r)),e.multipleOf=(r,s)=>e.check(_N(r,s)),e.step=(r,s)=>e.check(_N(r,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function bs(e){return DEe(zz,e)}const GNe=Ze("ZodNumberFormat",(e,t)=>{Uxe.init(e,t),zz.init(e,t)});function eI(e){return zEe(GNe,e)}const ZNe=Ze("ZodUnknown",(e,t)=>{OD.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>jD()});function tI(){return MD(ZNe)}const YNe=Ze("ZodNever",(e,t)=>{$D.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>BD(e,n,r)});function qNe(e){return PD(YNe,e)}const XNe=Ze("ZodArray",(e,t)=>{Wxe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>KD(e,n,r,s),e.element=t.element,e.min=(n,r)=>e.check(V0(n,r)),e.nonempty=n=>e.check(V0(1,n)),e.max=(n,r)=>e.check(LD(n,r)),e.length=(n,r)=>e.check(DD(n,r)),e.unwrap=()=>e.element});function zm(e,t){return qEe(XNe,e,t)}const JNe=Ze("ZodObject",(e,t)=>{Gxe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>GD(e,n,r,s),Kn(e,"shape",()=>t.shape),e.keyof=()=>gC(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:tI()}),e.loose=()=>e.clone({...e._zod.def,catchall:tI()}),e.strict=()=>e.clone({...e._zod.def,catchall:qNe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>gD(e,n),e.safeExtend=n=>yCe(e,n),e.merge=n=>bCe(e,n),e.pick=n=>gCe(e,n),e.omit=n=>vCe(e,n),e.partial=(...n)=>vD(Fz,e,n[0]),e.required=(...n)=>wCe(Bz,e,n[0])});function Es(e,t){const n={type:"object",shape:e??{},...Ut(t)};return new JNe(n)}const QNe=Ze("ZodUnion",(e,t)=>{Zxe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>ZD(e,n,r,s),e.options=t.options});function R1(e,t){return new QNe({type:"union",options:e,...Ut(t)})}const eIe=Ze("ZodIntersection",(e,t)=>{Yxe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>YD(e,n,r,s)});function tIe(e,t){return new eIe({type:"intersection",left:e,right:t})}const nIe=Ze("ZodRecord",(e,t)=>{qxe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>qD(e,n,r,s),e.keyType=t.keyType,e.valueType=t.valueType});function rIe(e,t,n){return new nIe({type:"record",keyType:e,valueType:t,...Ut(n)})}const c3=Ze("ZodEnum",(e,t)=>{Xxe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(r,s,a)=>VD(e,r,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const a={};for(const i of r)if(n.has(i))a[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new c3({...t,checks:[],...Ut(s),entries:a})},e.exclude=(r,s)=>{const a={...t.entries};for(const i of r)if(n.has(i))delete a[i];else throw new Error(`Key ${i} not found in enum`);return new c3({...t,checks:[],...Ut(s),entries:a})}});function gC(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new c3({type:"enum",entries:n,...Ut(t)})}const sIe=Ze("ZodLiteral",(e,t)=>{Jxe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>HD(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Na(e,t){return new sIe({type:"literal",values:Array.isArray(e)?e:[e],...Ut(t)})}const aIe=Ze("ZodTransform",(e,t)=>{Qxe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>WD(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new dD(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(Lp(a,n.value,t));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),n.issues.push(Lp(i))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(a=>(n.value=a,n)):(n.value=s,n)}});function iIe(e){return new aIe({type:"transform",transform:e})}const Fz=Ze("ZodOptional",(e,t)=>{T1.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>rC(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function nI(e){return new Fz({type:"optional",innerType:e})}const oIe=Ze("ZodExactOptional",(e,t)=>{eEe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>rC(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function lIe(e){return new oIe({type:"optional",innerType:e})}const uIe=Ze("ZodNullable",(e,t)=>{tEe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>XD(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function rI(e){return new uIe({type:"nullable",innerType:e})}const cIe=Ze("ZodDefault",(e,t)=>{nEe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>QD(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function dIe(e,t){return new cIe({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():mD(t)}})}const fIe=Ze("ZodPrefault",(e,t)=>{rEe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>ez(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function hIe(e,t){return new fIe({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():mD(t)}})}const Bz=Ze("ZodNonOptional",(e,t)=>{sEe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>JD(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function pIe(e,t){return new Bz({type:"nonoptional",innerType:e,...Ut(t)})}const mIe=Ze("ZodCatch",(e,t)=>{aEe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>tz(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function gIe(e,t){return new mIe({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const vIe=Ze("ZodPipe",(e,t)=>{iEe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>nz(e,n,r,s),e.in=t.in,e.out=t.out});function sI(e,t){return new vIe({type:"pipe",in:e,out:t})}const yIe=Ze("ZodReadonly",(e,t)=>{oEe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>rz(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function bIe(e){return new yIe({type:"readonly",innerType:e})}const wIe=Ze("ZodCustom",(e,t)=>{lEe.init(e,t),Cr.init(e,t),e._zod.processJSONSchema=(n,r,s)=>UD(e,n)});function _Ie(e,t={}){return XEe(wIe,e,t)}function SIe(e){return JEe(e)}const CIe=Symbol("Let zodToJsonSchema decide on which parser to use"),aI={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},xIe=e=>typeof e=="string"?{...aI,basePath:["#"],definitions:{},name:e}:{...aI,basePath:["#"],definitions:{},...e},d3=e=>"_def"in e?e._def:e;function EIe(e){if(!e)return!0;for(const t in e)return!1;return!0}const TIe=e=>{const t=xIe(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map(([r,s])=>[d3(s),{def:d3(s),path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}};function jz(e,t,n,r){r!=null&&r.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function Un(e,t,n,r,s){e[t]=n,jz(e,t,r,s)}function kIe(){return{}}function NIe(e,t){var r,s;const n={type:"array"};return((s=(r=e.type)==null?void 0:r._def)==null?void 0:s.typeName)!==je.ZodAny&&(n.items=Rn(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Un(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Un(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Un(n,"minItems",e.exactLength.value,e.exactLength.message,t),Un(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function IIe(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?Un(n,"minimum",r.value,r.message,t):Un(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Un(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Un(n,"maximum",r.value,r.message,t):Un(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Un(n,"maximum",r.value,r.message,t));break;case"multipleOf":Un(n,"multipleOf",r.value,r.message,t);break}return n}function OIe(){return{type:"boolean"}}function $Ie(e,t){return Rn(e.type._def,t)}const AIe=(e,t)=>Rn(e.innerType._def,t);function Vz(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,a)=>Vz(e,t,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return RIe(e,t)}}const RIe=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const r of e.checks)switch(r.kind){case"min":Un(n,"minimum",r.value,r.message,t);break;case"max":Un(n,"maximum",r.value,r.message,t);break}return n};function MIe(e,t){return{...Rn(e.innerType._def,t),default:e.defaultValue()}}function PIe(e,t,n){return t.effectStrategy==="input"?Rn(e.schema._def,t,n):{}}function LIe(e){return{type:"string",enum:[...e.values]}}const DIe=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function zIe(e,t){const n=[Rn(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Rn(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a);let r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(a=>{if(DIe(a))s.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let i=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;i=l}else r=void 0;s.push(i)}}),s.length?{allOf:s,...r}:void 0}function FIe(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}let N2;const Su={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(N2===void 0&&(N2=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),N2),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function Hz(e,t){const n={type:"string"};function r(s){return t.patternStrategy==="escape"?BIe(s):s}if(e.checks)for(const s of e.checks)switch(s.kind){case"min":Un(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,s.value):s.value,s.message,t);break;case"max":Un(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,s.value):s.value,s.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Xa(n,"email",s.message,t);break;case"format:idn-email":Xa(n,"idn-email",s.message,t);break;case"pattern:zod":Ja(n,Su.email,s.message,t);break}break;case"url":Xa(n,"uri",s.message,t);break;case"uuid":Xa(n,"uuid",s.message,t);break;case"regex":Ja(n,s.regex,s.message,t);break;case"cuid":Ja(n,Su.cuid,s.message,t);break;case"cuid2":Ja(n,Su.cuid2,s.message,t);break;case"startsWith":Ja(n,RegExp(`^${r(s.value)}`),s.message,t);break;case"endsWith":Ja(n,RegExp(`${r(s.value)}$`),s.message,t);break;case"datetime":Xa(n,"date-time",s.message,t);break;case"date":Xa(n,"date",s.message,t);break;case"time":Xa(n,"time",s.message,t);break;case"duration":Xa(n,"duration",s.message,t);break;case"length":Un(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,s.value):s.value,s.message,t),Un(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,s.value):s.value,s.message,t);break;case"includes":{Ja(n,RegExp(r(s.value)),s.message,t);break}case"ip":{s.version!=="v6"&&Xa(n,"ipv4",s.message,t),s.version!=="v4"&&Xa(n,"ipv6",s.message,t);break}case"emoji":Ja(n,Su.emoji,s.message,t);break;case"ulid":{Ja(n,Su.ulid,s.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Xa(n,"binary",s.message,t);break}case"contentEncoding:base64":{Un(n,"contentEncoding","base64",s.message,t);break}case"pattern:zod":{Ja(n,Su.base64,s.message,t);break}}break}case"nanoid":Ja(n,Su.nanoid,s.message,t)}return n}const BIe=e=>Array.from(e).map(t=>/[a-zA-Z0-9]/.test(t)?t:`\\${t}`).join(""),Xa=(e,t,n,r)=>{var s;e.format||(s=e.anyOf)!=null&&s.some(a=>a.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Un(e,"format",t,n,r)},Ja=(e,t,n,r)=>{var s;e.pattern||(s=e.allOf)!=null&&s.some(a=>a.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:iI(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Un(e,"pattern",iI(t,r),n,r)},iI=(e,t)=>{var u;const n=typeof e=="function"?e():e;if(!t.applyRegexFlags||!n.flags)return n.source;const r={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},s=r.i?n.source.toLowerCase():n.source;let a="",i=!1,o=!1,l=!1;for(let c=0;c<s.length;c++){if(i){a+=s[c],i=!1;continue}if(r.i){if(o){if(s[c].match(/[a-z]/)){l?(a+=s[c],a+=`${s[c-2]}-${s[c]}`.toUpperCase(),l=!1):s[c+1]==="-"&&((u=s[c+2])!=null&&u.match(/[a-z]/))?(a+=s[c],l=!0):a+=`${s[c]}${s[c].toUpperCase()}`;continue}}else if(s[c].match(/[a-z]/)){a+=`[${s[c]}${s[c].toUpperCase()}]`;continue}}if(r.m){if(s[c]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(s[c]==="$"){a+=`($|(?=[\r
]))`;continue}}if(r.s&&s[c]==="."){a+=o?`${s[c]}\r
`:`[${s[c]}\r
]`;continue}a+=s[c],s[c]==="\\"?i=!0:o&&s[c]==="]"?o=!1:!o&&s[c]==="["&&(o=!0)}try{const c=new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return a};function Uz(e,t){var r,s,a,i;if(t.target==="openApi3"&&((r=e.keyType)==null?void 0:r._def.typeName)===je.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((o,l)=>({...o,[l]:Rn(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",l]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Rn(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return n;if(((s=e.keyType)==null?void 0:s._def.typeName)===je.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const o=Object.entries(Hz(e.keyType._def,t)).reduce((l,[u,c])=>u==="type"?l:{...l,[u]:c},{});return{...n,propertyNames:o}}else if(((i=e.keyType)==null?void 0:i._def.typeName)===je.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};return n}function jIe(e,t){if(t.mapStrategy==="record")return Uz(e,t);const n=Rn(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},r=Rn(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function VIe(e){const t=e.values,r=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),s=Array.from(new Set(r.map(a=>typeof a)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function HIe(){return{not:{}}}function UIe(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const sy={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function WIe(e,t){if(t.target==="openApi3")return oI(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in sy&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,a)=>{const i=sy[a._def.typeName];return i&&!s.includes(i)?[...s,i]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,a)=>{const i=typeof a._def.value;switch(i){case"string":case"number":case"boolean":return[...s,i];case"bigint":return[...s,"integer"];case"object":if(a._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((a,i,o)=>o.indexOf(a)===i);return{type:s.length>1?s:s[0],enum:n.reduce((a,i)=>a.includes(i._def.value)?a:[...a,i._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(a=>!r.includes(a))],[])};return oI(e,t)}const oI=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,s)=>Rn(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function KIe(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"||t.nullableStrategy==="property"?{type:sy[e.innerType._def.typeName],nullable:!0}:{type:[sy[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const r=Rn(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Rn(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function GIe(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",jz(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?Un(n,"minimum",r.value,r.message,t):Un(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Un(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Un(n,"maximum",r.value,r.message,t):Un(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Un(n,"maximum",r.value,r.message,t));break;case"multipleOf":Un(n,"multipleOf",r.value,r.message,t);break}return n}function ZIe(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":Rn(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":Rn(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function YIe(e,t){const n={type:"object",...Object.entries(e.shape()).reduce((r,[s,a])=>{var l;if(a===void 0||a._def===void 0)return r;const i=[...t.currentPath,"properties",s],o=Rn(a._def,{...t,currentPath:i,propertyPath:i});if(o===void 0)return r;if(t.openaiStrictMode&&a.isOptional()&&!a.isNullable()&&typeof((l=a._def)==null?void 0:l.defaultValue)>"u")throw new Error(`Zod field at \`${i.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);return{properties:{...r.properties,[s]:o},required:a.isOptional()&&!t.openaiStrictMode?r.required:[...r.required,s]}},{properties:{},required:[]}),additionalProperties:ZIe(e,t)};return n.required.length||delete n.required,n}const qIe=(e,t)=>{if(t.propertyPath&&t.currentPath.slice(0,t.propertyPath.length).toString()===t.propertyPath.toString())return Rn(e.innerType._def,{...t,currentPath:t.currentPath});const n=Rn(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},XIe=(e,t)=>{if(t.pipeStrategy==="input")return Rn(e.in._def,t);if(t.pipeStrategy==="output")return Rn(e.out._def,t);const n=Rn(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Rn(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function JIe(e,t){return Rn(e.type._def,t)}function QIe(e,t){const r={type:"array",uniqueItems:!0,items:Rn(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Un(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Un(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function e8e(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Rn(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Rn(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Rn(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function t8e(){return{not:{}}}function n8e(){return{}}const r8e=(e,t)=>Rn(e.innerType._def,t);function Rn(e,t,n=!1){var i;const r=t.seen.get(e);if(t.override){const o=(i=t.override)==null?void 0:i.call(t,e,t,r,n);if(o!==CIe)return o}if(r&&!n){const o=s8e(r,t);if(o!==void 0)return"$ref"in o&&t.seenRefs.add(o.$ref),o}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const a=i8e(e,e.typeName,t,n);return a&&o8e(e,t,a),s.jsonSchema=a,a}const s8e=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"extract-to-root":const n=e.path.slice(t.basePath.length+1).join("_");return n!==t.name&&t.nameStrategy==="duplicate-ref"&&(t.definitions[n]=e.def),{$ref:[...t.basePath,t.definitionPath,n].join("/")};case"relative":return{$ref:a8e(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,s)=>t.currentPath[s]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},a8e=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},i8e=(e,t,n,r)=>{switch(t){case je.ZodString:return Hz(e,n);case je.ZodNumber:return GIe(e,n);case je.ZodObject:return YIe(e,n);case je.ZodBigInt:return IIe(e,n);case je.ZodBoolean:return OIe();case je.ZodDate:return Vz(e,n);case je.ZodUndefined:return t8e();case je.ZodNull:return UIe(n);case je.ZodArray:return NIe(e,n);case je.ZodUnion:case je.ZodDiscriminatedUnion:return WIe(e,n);case je.ZodIntersection:return zIe(e,n);case je.ZodTuple:return e8e(e,n);case je.ZodRecord:return Uz(e,n);case je.ZodLiteral:return FIe(e,n);case je.ZodEnum:return LIe(e);case je.ZodNativeEnum:return VIe(e);case je.ZodNullable:return KIe(e,n);case je.ZodOptional:return qIe(e,n);case je.ZodMap:return jIe(e,n);case je.ZodSet:return QIe(e,n);case je.ZodLazy:return Rn(e.getter()._def,n);case je.ZodPromise:return JIe(e,n);case je.ZodNaN:case je.ZodNever:return HIe();case je.ZodEffects:return PIe(e,n,r);case je.ZodAny:return kIe();case je.ZodUnknown:return n8e();case je.ZodDefault:return MIe(e,n);case je.ZodBranded:return $Ie(e,n);case je.ZodReadonly:return r8e(e,n);case je.ZodCatch:return AIe(e,n);case je.ZodPipeline:return XIe(e,n);case je.ZodFunction:case je.ZodVoid:case je.ZodSymbol:return;default:return(s=>{})()}},o8e=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),l8e=(e,t)=>{const n=TIe(t),r=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,s=Rn(e._def,r===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,r]},!1)??{},a=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;a!==void 0&&(s.title=a);const i=(()=>{if(EIe(n.definitions))return;const l={},u=new Set;for(let c=0;c<500;c++){const d=Object.entries(n.definitions).filter(([h])=>!u.has(h));if(d.length===0)break;for(const[h,p]of d)l[h]=Rn(d3(p),{...n,currentPath:[...n.basePath,n.definitionPath,h]},!0)??{},u.add(h)}return l})(),o=r===void 0?i?{...s,[n.definitionPath]:i}:s:n.nameStrategy==="duplicate-ref"?{...s,...i||n.seenRefs.size?{[n.definitionPath]:{...i,...n.seenRefs.size?{[r]:s}:void 0}}:void 0}:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,r].join("/"),[n.definitionPath]:{...i,[r]:s}};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};function u8e(e){if(e.type!=="object")throw new Error(`Root schema must have type: 'object' but got type: ${e.type?`'${e.type}'`:"undefined"}`);const t=structuredClone(e);return Ao(t,[],t)}function f3(e){if(typeof e=="boolean")return!1;if(e.type==="null")return!0;for(const t of e.oneOf??[])if(f3(t))return!0;for(const t of e.anyOf??[])if(f3(t))return!0;return!1}function Ao(e,t,n){if(typeof e=="boolean")throw new TypeError(`Expected object schema but got boolean; path=${t.join("/")}`);if(!Ou(e))throw new TypeError(`Expected ${JSON.stringify(e)} to be an object; path=${t.join("/")}`);const r=e.$defs;if(Ou(r))for(const[h,p]of Object.entries(r))Ao(p,[...t,"$defs",h],n);const s=e.definitions;if(Ou(s))for(const[h,p]of Object.entries(s))Ao(p,[...t,"definitions",h],n);e.type==="object"&&!("additionalProperties"in e)&&(e.additionalProperties=!1);const i=e.required??[],o=e.properties;if(Ou(o)){for(const[h,p]of Object.entries(o))if(!f3(p)&&!i.includes(h))throw new Error(`Zod field at \`${[...t,"properties",h].join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);e.required=Object.keys(o),e.properties=Object.fromEntries(Object.entries(o).map(([h,p])=>[h,Ao(p,[...t,"properties",h],n)]))}const l=e.items;Ou(l)&&(e.items=Ao(l,[...t,"items"],n));const u=e.anyOf;Array.isArray(u)&&(e.anyOf=u.map((h,p)=>Ao(h,[...t,"anyOf",String(p)],n)));const c=e.allOf;if(Array.isArray(c))if(c.length===1){const h=Ao(c[0],[...t,"allOf","0"],n);Object.assign(e,h),delete e.allOf}else e.allOf=c.map((h,p)=>Ao(h,[...t,"allOf",String(p)],n));e.default===null&&delete e.default;const d=e.$ref;if(d&&d8e(e,1)){if(typeof d!="string")throw new TypeError(`Received non-string $ref - ${d}; path=${t.join("/")}`);const h=c8e(n,d);if(typeof h=="boolean")throw new Error(`Expected \`$ref: ${d}\` to resolve to an object schema but got boolean`);if(!Ou(h))throw new Error(`Expected \`$ref: ${d}\` to resolve to an object but got ${JSON.stringify(h)}`);return Object.assign(e,{...h,...e}),delete e.$ref,Ao(e,t,n)}return e}function c8e(e,t){if(!t.startsWith("#/"))throw new Error(`Unexpected $ref format ${JSON.stringify(t)}; Does not start with #/`);const n=t.slice(2).split("/");let r=e;for(const s of n){if(!Ou(r))throw new Error(`encountered non-object entry while resolving ${t} - ${JSON.stringify(r)}`);const a=r[s];if(a===void 0)throw new Error(`Key ${s} not found while resolving ${t}`);r=a}return r}function Ou(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function d8e(e,t){let n=0;for(const r in e)if(n++,n>t)return!0;return!1}function f8e(e,t){return l8e(e,{openaiStrictMode:!0,name:t.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function h8e(e){return u8e(Y_(e,{target:"draft-7"}))}function p8e(e){return"_zod"in e}function m8e(e,t,n){return fwe({type:"json_schema",json_schema:{...n,name:t,strict:!0,schema:p8e(e)?h8e(e):f8e(e,{name:t})}},r=>e.parse(JSON.parse(r)))}const lI=["jsonSchema","functionCalling","jsonMode"];function g8e(e,t){if(typeof t<"u"&&!lI.includes(t))throw new Error(`Invalid method: ${t}. Supported methods are: ${lI.join(", ")}`);const n=!e.startsWith("gpt-3")&&!e.startsWith("gpt-4-")&&e!=="gpt-4";if(n&&!t)return"jsonSchema";if(!n&&t==="jsonSchema")throw new Error(`JSON Schema is not supported for model "${e}". Please use a different method, e.g. "functionCalling" or "jsonMode".`);return t??"functionCalling"}function v8e(e,t){const n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),n}function y8e(e,t,n){if(Ar(e))return m8e(e,t,n);if(pr(e))return v8e({type:"json_schema",json_schema:{...n,name:t,strict:!0,schema:ui(e,{cycles:"ref",reused:"ref",override(r){r.jsonSchema.title=t}})}},r=>_1(e,JSON.parse(r)));throw new Error("Unsupported schema response format")}function b8e(e,t){if(t&&typeof t=="object"&&"images"in t&&Array.isArray(t.images)){const n=t.images.filter(r=>{var s;return typeof((s=r==null?void 0:r.image_url)==null?void 0:s.url)=="string"}).map(r=>({type:"image",url:r.image_url.url}));return[{type:"text",text:e},...n]}return e}const w8e={"gpt-4.1-nano":{maxInputTokens:1047576,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"text-embedding-3-small":{maxInputTokens:8191,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1536,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o1-pro":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o-2024-05-13":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:4096,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o-2024-08-06":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4.1-mini":{maxInputTokens:1047576,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o3-deep-research":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-3.5-turbo":{maxInputTokens:16385,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:4096,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1,imageUrlInputs:!1,pdfToolMessage:!1,imageToolMessage:!1,toolChoice:!0},"text-embedding-3-large":{maxInputTokens:8191,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:3072,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4-turbo":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:4096,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o1-preview":{maxInputTokens:128e3,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o3-mini":{maxInputTokens:2e5,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"codex-mini-latest":{maxInputTokens:2e5,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-nano":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-codex":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4.1":{maxInputTokens:1047576,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o4-mini":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},o1:{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-mini":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o1-mini":{maxInputTokens:128e3,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:65536,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"text-embedding-ada-002":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1536,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o3-pro":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o-2024-11-20":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},o3:{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o4-mini-deep-research":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-chat-latest":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o-mini":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-pro":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:272e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0}};var _8e=w8e,S8e={};xn(S8e,{BasePromptValue:()=>M1,ChatPromptValue:()=>Kz,ImagePromptValue:()=>C8e,StringPromptValue:()=>Wz});var M1=class extends tf{},Wz=class extends M1{constructor(t){super({value:t});se(this,"lc_namespace",["langchain_core","prompt_values"]);se(this,"lc_serializable",!0);se(this,"value");this.value=t}static lc_name(){return"StringPromptValue"}toString(){return this.value}toChatMessages(){return[new xi(this.value)]}},Kz=class extends M1{constructor(t){Array.isArray(t)&&(t={messages:t});super(t);se(this,"lc_namespace",["langchain_core","prompt_values"]);se(this,"lc_serializable",!0);se(this,"messages");this.messages=t.messages}static lc_name(){return"ChatPromptValue"}toString(){return M4(this.messages)}toChatMessages(){return this.messages}},C8e=class extends M1{constructor(t){"imageUrl"in t||(t={imageUrl:t});super(t);se(this,"lc_namespace",["langchain_core","prompt_values"]);se(this,"lc_serializable",!0);se(this,"imageUrl");se(this,"value");this.imageUrl=t.imageUrl}static lc_name(){return"ImagePromptValue"}toString(){return this.imageUrl.url}toChatMessages(){return[new xi({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},Nt="0123456789abcdef".split(""),x8e=[-2147483648,8388608,32768,128],Qa=[24,16,8,0],Gg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Hr=[];function ki(e,t){t?(Hr[0]=Hr[16]=Hr[1]=Hr[2]=Hr[3]=Hr[4]=Hr[5]=Hr[6]=Hr[7]=Hr[8]=Hr[9]=Hr[10]=Hr[11]=Hr[12]=Hr[13]=Hr[14]=Hr[15]=0,this.blocks=Hr):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}ki.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if(n!=="string"){if(n==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);t=!0}for(var r,s=0,a,i=e.length,o=this.blocks;s<i;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,this.block=o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(a=this.start;s<i&&a<64;++s)o[a>>>2]|=e[s]<<Qa[a++&3];else for(a=this.start;s<i&&a<64;++s)r=e.charCodeAt(s),r<128?o[a>>>2]|=r<<Qa[a++&3]:r<2048?(o[a>>>2]|=(192|r>>>6)<<Qa[a++&3],o[a>>>2]|=(128|r&63)<<Qa[a++&3]):r<55296||r>=57344?(o[a>>>2]|=(224|r>>>12)<<Qa[a++&3],o[a>>>2]|=(128|r>>>6&63)<<Qa[a++&3],o[a>>>2]|=(128|r&63)<<Qa[a++&3]):(r=65536+((r&1023)<<10|e.charCodeAt(++s)&1023),o[a>>>2]|=(240|r>>>18)<<Qa[a++&3],o[a>>>2]|=(128|r>>>12&63)<<Qa[a++&3],o[a>>>2]|=(128|r>>>6&63)<<Qa[a++&3],o[a>>>2]|=(128|r&63)<<Qa[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=o[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};ki.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>>2]|=x8e[t&3],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}};ki.prototype.hash=function(){var e=this.h0,t=this.h1,n=this.h2,r=this.h3,s=this.h4,a=this.h5,i=this.h6,o=this.h7,l=this.blocks,u,c,d,h,p,m,g,v,y,b,w;for(u=16;u<64;++u)p=l[u-15],c=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=l[u-2],d=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,l[u]=l[u-16]+c+l[u-7]+d<<0;for(w=t&n,u=0;u<64;u+=4)this.first?(this.is224?(v=300032,p=l[0]-1413257819,o=p-150054599<<0,r=p+24177077<<0):(v=704751109,p=l[0]-210244248,o=p-1521486534<<0,r=p+143694565<<0),this.first=!1):(c=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),d=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),v=e&t,h=v^e&n^w,g=s&a^~s&i,p=o+d+g+Gg[u]+l[u],m=c+h,o=r+p<<0,r=p+m<<0),c=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),d=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),y=r&e,h=y^r&t^v,g=i&o^~i&s,p=a+d+g+Gg[u+1]+l[u+1],m=c+h,i=n+p<<0,n=p+m<<0,c=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),d=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),b=n&r,h=b^n&e^y,g=a&i^~a&o,p=s+d+g+Gg[u+2]+l[u+2],m=c+h,a=t+p<<0,t=p+m<<0,c=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),d=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),w=t&n,h=w^t&r^b,g=a&i^~a&o,p=s+d+g+Gg[u+3]+l[u+3],m=c+h,s=e+p<<0,e=p+m<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+s<<0,this.h5=this.h5+a<<0,this.h6=this.h6+i<<0,this.h7=this.h7+o<<0};ki.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,s=this.h4,a=this.h5,i=this.h6,o=this.h7,l=Nt[e>>>28&15]+Nt[e>>>24&15]+Nt[e>>>20&15]+Nt[e>>>16&15]+Nt[e>>>12&15]+Nt[e>>>8&15]+Nt[e>>>4&15]+Nt[e&15]+Nt[t>>>28&15]+Nt[t>>>24&15]+Nt[t>>>20&15]+Nt[t>>>16&15]+Nt[t>>>12&15]+Nt[t>>>8&15]+Nt[t>>>4&15]+Nt[t&15]+Nt[n>>>28&15]+Nt[n>>>24&15]+Nt[n>>>20&15]+Nt[n>>>16&15]+Nt[n>>>12&15]+Nt[n>>>8&15]+Nt[n>>>4&15]+Nt[n&15]+Nt[r>>>28&15]+Nt[r>>>24&15]+Nt[r>>>20&15]+Nt[r>>>16&15]+Nt[r>>>12&15]+Nt[r>>>8&15]+Nt[r>>>4&15]+Nt[r&15]+Nt[s>>>28&15]+Nt[s>>>24&15]+Nt[s>>>20&15]+Nt[s>>>16&15]+Nt[s>>>12&15]+Nt[s>>>8&15]+Nt[s>>>4&15]+Nt[s&15]+Nt[a>>>28&15]+Nt[a>>>24&15]+Nt[a>>>20&15]+Nt[a>>>16&15]+Nt[a>>>12&15]+Nt[a>>>8&15]+Nt[a>>>4&15]+Nt[a&15]+Nt[i>>>28&15]+Nt[i>>>24&15]+Nt[i>>>20&15]+Nt[i>>>16&15]+Nt[i>>>12&15]+Nt[i>>>8&15]+Nt[i>>>4&15]+Nt[i&15];return this.is224||(l+=Nt[o>>>28&15]+Nt[o>>>24&15]+Nt[o>>>20&15]+Nt[o>>>16&15]+Nt[o>>>12&15]+Nt[o>>>8&15]+Nt[o>>>4&15]+Nt[o&15]),l};ki.prototype.toString=ki.prototype.hex;ki.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,s=this.h4,a=this.h5,i=this.h6,o=this.h7,l=[e>>>24&255,e>>>16&255,e>>>8&255,e&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255,s>>>24&255,s>>>16&255,s>>>8&255,s&255,a>>>24&255,a>>>16&255,a>>>8&255,a&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255];return this.is224||l.push(o>>>24&255,o>>>16&255,o>>>8&255,o&255),l};ki.prototype.array=ki.prototype.digest;ki.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e};const Gz=(...e)=>new ki(!1,!0).update(e.join("")).hex();var E8e={};xn(E8e,{sha256:()=>Gz});var T8e={};xn(T8e,{BaseCache:()=>Yz,InMemoryCache:()=>qz,defaultHashKeyEncoder:()=>Zz,deserializeStoredGeneration:()=>k8e,serializeGeneration:()=>N8e});const Zz=(...e)=>Gz(e.join("_"));function k8e(e){return e.message!==void 0?{text:e.text,message:P4(e.message)}:{text:e.text}}function N8e(e){const t={text:e.text};return e.message!==void 0&&(t.message=e.message.toDict()),t}var Yz=class{constructor(){se(this,"keyEncoder",Zz)}makeDefaultKeyEncoder(e){this.keyEncoder=e}};const I8e=new Map;var qz=class Xz extends Yz{constructor(n){super();se(this,"cache");this.cache=n??new Map}lookup(n,r){return Promise.resolve(this.cache.get(this.keyEncoder(n,r))??null)}async update(n,r,s){this.cache.set(this.keyEncoder(n,r),s)}static global(){return new Xz(I8e)}},P1={};P1.byteLength=A8e;P1.toByteArray=M8e;P1.fromByteArray=D8e;var qi=[],Ra=[],O8e=typeof Uint8Array<"u"?Uint8Array:Array,I2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var qc=0,$8e=I2.length;qc<$8e;++qc)qi[qc]=I2[qc],Ra[I2.charCodeAt(qc)]=qc;Ra[45]=62;Ra[95]=63;function Jz(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function A8e(e){var t=Jz(e),n=t[0],r=t[1];return(n+r)*3/4-r}function R8e(e,t,n){return(t+n)*3/4-n}function M8e(e){var t,n=Jz(e),r=n[0],s=n[1],a=new O8e(R8e(e,r,s)),i=0,o=s>0?r-4:r,l;for(l=0;l<o;l+=4)t=Ra[e.charCodeAt(l)]<<18|Ra[e.charCodeAt(l+1)]<<12|Ra[e.charCodeAt(l+2)]<<6|Ra[e.charCodeAt(l+3)],a[i++]=t>>16&255,a[i++]=t>>8&255,a[i++]=t&255;return s===2&&(t=Ra[e.charCodeAt(l)]<<2|Ra[e.charCodeAt(l+1)]>>4,a[i++]=t&255),s===1&&(t=Ra[e.charCodeAt(l)]<<10|Ra[e.charCodeAt(l+1)]<<4|Ra[e.charCodeAt(l+2)]>>2,a[i++]=t>>8&255,a[i++]=t&255),a}function P8e(e){return qi[e>>18&63]+qi[e>>12&63]+qi[e>>6&63]+qi[e&63]}function L8e(e,t,n){for(var r,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),s.push(P8e(r));return s.join("")}function D8e(e){for(var t,n=e.length,r=n%3,s=[],a=16383,i=0,o=n-r;i<o;i+=a)s.push(L8e(e,i,i+a>o?o:i+a));return r===1?(t=e[n-1],s.push(qi[t>>2]+qi[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],s.push(qi[t>>10]+qi[t>>4&63]+qi[t<<2&63]+"=")),s.join("")}var z8e=Object.defineProperty,F8e=(e,t,n)=>t in e?z8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B8e=(e,t,n)=>(F8e(e,t+"",n),n);function j8e(e,t){let n=Array.from({length:e.length},(r,s)=>({start:s,end:s+1}));for(;n.length>1;){let r=null;for(let s=0;s<n.length-1;s++){const a=e.slice(n[s].start,n[s+1].end),i=t.get(a.join(","));i!=null&&(r==null||i<r[0])&&(r=[i,s])}if(r!=null){const s=r[1];n[s]={start:n[s].start,end:n[s+1].end},n.splice(s+1,1)}else break}return n}function V8e(e,t){return e.length===1?[t.get(e.join(","))]:j8e(e,t).map(n=>t.get(e.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function H8e(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var h3=class{constructor(e,t){se(this,"specialTokens");se(this,"inverseSpecialTokens");se(this,"patStr");se(this,"textEncoder",new TextEncoder);se(this,"textDecoder",new TextDecoder("utf-8"));se(this,"rankMap",new Map);se(this,"textMap",new Map);this.patStr=e.pat_str;const n=e.bpe_ranks.split(`
`).filter(Boolean).reduce((r,s)=>{const[a,i,...o]=s.split(" "),l=Number.parseInt(i,10);return o.forEach((u,c)=>r[u]=l+c),r},{});for(const[r,s]of Object.entries(n)){const a=P1.toByteArray(r);this.rankMap.set(a.join(","),s),this.textMap.set(s,a)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[s,a])=>(r[a]=this.textEncoder.encode(s),r),{})}encode(e,t=[],n="all"){const r=new RegExp(this.patStr,"ug"),s=h3.specialTokenRegex(Object.keys(this.specialTokens)),a=[],i=new Set(t==="all"?Object.keys(this.specialTokens):t),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(u=>!i.has(u)):n);if(o.size>0){const u=h3.specialTokenRegex([...o]),c=e.match(u);if(c!=null)throw new Error(`The text contains a special token that is not allowed: ${c[0]}`)}let l=0;for(;;){let u=null,c=l;for(;s.lastIndex=c,u=s.exec(e),!(u==null||i.has(u[0]));)c=u.index+1;const d=(u==null?void 0:u.index)??e.length;for(const p of e.substring(l,d).matchAll(r)){const m=this.textEncoder.encode(p[0]),g=this.rankMap.get(m.join(","));if(g!=null){a.push(g);continue}a.push(...V8e(m,this.rankMap))}if(u==null)break;let h=this.specialTokens[u[0]];a.push(h),l=u.index+u[0].length}return a}decode(e){const t=[];let n=0;for(let a=0;a<e.length;++a){const i=e[a],o=this.textMap.get(i)??this.inverseSpecialTokens[i];o!=null&&(t.push(o),n+=o.length)}const r=new Uint8Array(n);let s=0;for(const a of t)r.set(a,s),s+=a.length;return this.textDecoder.decode(r)}},Qz=h3;B8e(Qz,"specialTokenRegex",e=>new RegExp(e.map(t=>H8e(t)).join("|"),"g"));function U8e(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}var W8e={};xn(W8e,{encodingForModel:()=>vC,getEncoding:()=>eF});const Zg={},K8e=new Mm({});async function eF(e){return e in Zg||(Zg[e]=K8e.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then(t=>t.json()).then(t=>new Qz(t)).catch(t=>{throw delete Zg[e],t})),await Zg[e]}async function vC(e){return eF(U8e(e))}var G8e={};xn(G8e,{BaseLangChain:()=>bC,BaseLanguageModel:()=>wC,calculateMaxTokens:()=>Y8e,getEmbeddingContextSize:()=>Z8e,getModelContextSize:()=>tF,getModelNameForTiktoken:()=>L1,isOpenAITool:()=>yC});const L1=e=>e.startsWith("gpt-5")?"gpt-5":e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e,Z8e=e=>{switch(e){case"text-embedding-ada-002":return 8191;default:return 2046}},tF=e=>{switch(L1(e)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":return 128e3;case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"code-cushman-001":return 2048;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6;case"gemini-pro":case"gemini-pro-vision":return 32768;default:return 4097}};function yC(e){return typeof e!="object"||!e?!1:!!("type"in e&&e.type==="function"&&"function"in e&&typeof e.function=="object"&&e.function&&"name"in e.function&&"parameters"in e.function)}const Y8e=async({prompt:e,modelName:t})=>{let n;try{n=(await vC(L1(t))).encode(e).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),n=Math.ceil(e.length/4)}return tF(t)-n},q8e=()=>!1;var bC=class extends Er{constructor(t){super(t);se(this,"verbose");se(this,"callbacks");se(this,"tags");se(this,"metadata");this.verbose=t.verbose??q8e(),this.callbacks=t.callbacks,this.tags=t.tags??[],this.metadata=t.metadata??{}}get lc_attributes(){return{callbacks:void 0,verbose:void 0}}},wC=class extends bC{constructor({callbacks:t,callbackManager:n,...r}){const{cache:s,...a}=r;super({callbacks:t??n,...a});se(this,"caller");se(this,"cache");se(this,"_encoding");typeof s=="object"?this.cache=s:s?this.cache=qz.global():this.cache=void 0,this.caller=new Mm(r??{})}get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}async getNumTokens(t){let n;typeof t=="string"?n=t:n=t.map(s=>typeof s=="string"?s:s.type==="text"&&"text"in s?s.text:"").join("");let r=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await vC("modelName"in this?L1(this.modelName):"gpt2")}catch(s){console.warn("Failed to calculate number of tokens, falling back to approximate count",s)}if(this._encoding)try{r=this._encoding.encode(n).length}catch(s){console.warn("Failed to calculate number of tokens, falling back to approximate count",s)}return r}static _convertInputToPromptValue(t){return typeof t=="string"?new Wz(t):Array.isArray(t)?new Kz(t.map(Lh)):t}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:t,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([i,o])=>o!==void 0).map(([i,o])=>`${i}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(t){throw new Error("Use .toJSON() instead")}get profile(){return{}}},pf=class extends Er{constructor(t){super(t);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"lc_serializable",!0);se(this,"func");t&&(this.func=t.func)}static lc_name(){return"RunnablePassthrough"}async invoke(t,n){const r=On(n);return this.func&&await this.func(t,r),this._callWithConfig(s=>Promise.resolve(s),t,r)}async*transform(t,n){const r=On(n);let s,a=!0;for await(const i of this._transformStreamWithConfig(t,o=>o,r))if(yield i,a)if(s===void 0)s=i;else try{s=lu(s,i)}catch{s=void 0,a=!1}this.func&&s!==void 0&&await this.func(s,r)}static assign(t){return new cC(new Rf({steps:t}))}};const X8e=e=>e();function O2(e){const t=e.constructor;return new t({...e,content:e.contentBlocks,response_metadata:{...e.response_metadata,output_version:"v1"}})}var J8e={};xn(J8e,{BaseChatModel:()=>_C,SimpleChatModel:()=>Q8e});function $2(e){const t=[];for(const n of e){let r=n;if(Array.isArray(n.content))for(let s=0;s<n.content.length;s++){const a=n.content[s];(S4(a)||C4(a))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,s),BP(a),...n.content.slice(s+1)]}))}t.push(r)}return t}var _C=class $u extends wC{constructor(n){super(n);se(this,"lc_namespace",["langchain","chat_models",this._llmType()]);se(this,"disableStreaming",!1);se(this,"outputVersion");this.outputVersion=X8e(()=>{const r=n.outputVersion??oo("LC_OUTPUT_VERSION");return r&&["v0","v1"].includes(r)?r:"v0"})}get callKeys(){return[...super.callKeys,"outputVersion"]}_separateRunnableConfigFromCallOptionsCompat(n){const[r,s]=super._separateRunnableConfigFromCallOptions(n);return s.signal=r.signal,[r,s]}async invoke(n,r){const s=$u._convertInputToPromptValue(n);return(await this.generatePrompt([s],r,r==null?void 0:r.callbacks)).generations[0][0].message}async*_streamResponseChunks(n,r,s){throw new Error("Not implemented.")}async*_streamIterator(n,r){var s,a,i;if(this._streamResponseChunks===$u.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(n,r);else{const l=$u._convertInputToPromptValue(n).toChatMessages(),[u,c]=this._separateRunnableConfigFromCallOptionsCompat(r),d={...u.metadata,...this.getLsParams(c)},h=await Qs.configure(u.callbacks,this.callbacks,u.tags,this.tags,d,this.metadata,{verbose:this.verbose}),p={options:c,invocation_params:this==null?void 0:this.invocationParams(c),batch_size:1},m=c.outputVersion??this.outputVersion,g=await(h==null?void 0:h.handleChatModelStart(this.toJSON(),[$2(l)],u.runId,void 0,p,void 0,void 0,u.runName));let v,y;try{for await(const b of this._streamResponseChunks(l,c,g==null?void 0:g[0])){if((s=c.signal)==null||s.throwIfAborted(),b.message.id==null){const w=(a=g==null?void 0:g.at(0))==null?void 0:a.runId;w!=null&&b.message._updateId(`run-${w}`)}b.message.response_metadata={...b.generationInfo,...b.message.response_metadata},m==="v1"?yield O2(b.message):yield b.message,v?v=v.concat(b):v=b,$_(b.message)&&b.message.usage_metadata!==void 0&&(y={tokenUsage:{promptTokens:b.message.usage_metadata.input_tokens,completionTokens:b.message.usage_metadata.output_tokens,totalTokens:b.message.usage_metadata.total_tokens}})}(i=c.signal)==null||i.throwIfAborted()}catch(b){throw await Promise.all((g??[]).map(w=>w==null?void 0:w.handleLLMError(b))),b}await Promise.all((g??[]).map(b=>b==null?void 0:b.handleLLMEnd({generations:[[v]],llmOutput:y})))}}getLsParams(n){const r=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:n.stop,ls_provider:r}}async _generateUncached(n,r,s,a){var p,m,g,v;const i=n.map(y=>y.map(Lh));let o;if(a!==void 0&&a.length===i.length)o=a;else{const y={...s.metadata,...this.getLsParams(r)},b=await Qs.configure(s.callbacks,this.callbacks,s.tags,this.tags,y,this.metadata,{verbose:this.verbose}),w={options:r,invocation_params:this==null?void 0:this.invocationParams(r),batch_size:1};o=await(b==null?void 0:b.handleChatModelStart(this.toJSON(),i.map($2),s.runId,void 0,w,void 0,void 0,s.runName))}const l=r.outputVersion??this.outputVersion,u=[],c=[];if(!!(o!=null&&o[0].handlers.find(z4))&&!this.disableStreaming&&i.length===1&&this._streamResponseChunks!==$u.prototype._streamResponseChunks)try{const y=await this._streamResponseChunks(i[0],r,o==null?void 0:o[0]);let b,w;for await(const _ of y){if((p=r.signal)!=null&&p.aborted){const S=b==null?void 0:b.message;throw new I_("Model invocation was aborted.",S)}if(_.message.id==null){const S=(m=o==null?void 0:o.at(0))==null?void 0:m.runId;S!=null&&_.message._updateId(`run-${S}`)}b===void 0?b=_:b=lu(b,_),$_(_.message)&&_.message.usage_metadata!==void 0&&(w={tokenUsage:{promptTokens:_.message.usage_metadata.input_tokens,completionTokens:_.message.usage_metadata.output_tokens,totalTokens:_.message.usage_metadata.total_tokens}})}if((g=r.signal)!=null&&g.aborted){const _=b==null?void 0:b.message;throw new I_("Model invocation was aborted.",_)}if(b===void 0)throw new Error("Received empty response from chat model call.");u.push([b]),await(o==null?void 0:o[0].handleLLMEnd({generations:u,llmOutput:w}))}catch(y){throw await(o==null?void 0:o[0].handleLLMError(y)),y}else{const y=await Promise.allSettled(i.map(async(b,w)=>{const _=await this._generate(b,{...r,promptIndex:w},o==null?void 0:o[w]);if(l==="v1")for(const S of _.generations)S.message=O2(S.message);return _}));await Promise.all(y.map(async(b,w)=>{var _,S,C;if(b.status==="fulfilled"){const T=b.value;for(const x of T.generations){if(x.message.id==null){const N=(_=o==null?void 0:o.at(0))==null?void 0:_.runId;N!=null&&x.message._updateId(`run-${N}`)}x.message.response_metadata={...x.generationInfo,...x.message.response_metadata}}return T.generations.length===1&&(T.generations[0].message.response_metadata={...T.llmOutput,...T.generations[0].message.response_metadata}),u[w]=T.generations,c[w]=T.llmOutput,(S=o==null?void 0:o[w])==null?void 0:S.handleLLMEnd({generations:[T.generations],llmOutput:T.llmOutput})}else return await((C=o==null?void 0:o[w])==null?void 0:C.handleLLMError(b.reason)),Promise.reject(b.reason)}))}const h={generations:u,llmOutput:c.length?(v=this._combineLLMOutput)==null?void 0:v.call(this,...c):void 0};return Object.defineProperty(h,Pp,{value:o?{runIds:o==null?void 0:o.map(y=>y.runId)}:void 0,configurable:!0}),h}async _generateCached({messages:n,cache:r,llmStringKey:s,parsedOptions:a,handledOptions:i}){const o=n.map(b=>b.map(Lh)),l={...i.metadata,...this.getLsParams(a)},u=await Qs.configure(i.callbacks,this.callbacks,i.tags,this.tags,l,this.metadata,{verbose:this.verbose}),c={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},d=await(u==null?void 0:u.handleChatModelStart(this.toJSON(),o.map($2),i.runId,void 0,c,void 0,void 0,i.runName)),h=[],m=(await Promise.allSettled(o.map(async(b,w)=>{const _=$u._convertInputToPromptValue(b).toString(),S=await r.lookup(_,s);return S==null&&h.push(w),S}))).map((b,w)=>({result:b,runManager:d==null?void 0:d[w]})).filter(({result:b})=>b.status==="fulfilled"&&b.value!=null||b.status==="rejected"),g=a.outputVersion??this.outputVersion,v=[];await Promise.all(m.map(async({result:b,runManager:w},_)=>{if(b.status==="fulfilled"){const S=b.value;return v[_]=S.map(C=>("message"in C&&Ul(C.message)&&f1(C.message)&&(C.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},g==="v1"&&(C.message=O2(C.message))),C.generationInfo={...C.generationInfo,tokenUsage:{}},C)),S.length&&await(w==null?void 0:w.handleLLMNewToken(S[0].text)),w==null?void 0:w.handleLLMEnd({generations:[S]},void 0,void 0,void 0,{cached:!0})}else return await(w==null?void 0:w.handleLLMError(b.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(b.reason)}));const y={generations:v,missingPromptIndices:h,startedRunManagers:d};return Object.defineProperty(y,Pp,{value:d?{runIds:d==null?void 0:d.map(b=>b.runId)}:void 0,configurable:!0}),y}async generate(n,r,s){let a;Array.isArray(r)?a={stop:r}:a=r;const i=n.map(g=>g.map(Lh)),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(a);if(o.callbacks=o.callbacks??s,!this.cache)return this._generateUncached(i,l,o);const{cache:u}=this,c=this._getSerializedCacheKeyParametersForCall(l),{generations:d,missingPromptIndices:h,startedRunManagers:p}=await this._generateCached({messages:i,cache:u,llmStringKey:c,parsedOptions:l,handledOptions:o});let m={};if(h.length>0){const g=await this._generateUncached(h.map(v=>i[v]),l,o,p!==void 0?h.map(v=>p==null?void 0:p[v]):void 0);await Promise.all(g.generations.map(async(v,y)=>{const b=h[y];d[b]=v;const w=$u._convertInputToPromptValue(i[b]).toString();return u.update(w,c,v)})),m=g.llmOutput??{}}return{generations:d,llmOutput:m}}invocationParams(n){return{}}_modelType(){return"base_chat_model"}async generatePrompt(n,r,s){const a=n.map(i=>i.toChatMessages());return this.generate(a,r,s)}withStructuredOutput(n,r){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(r!=null&&r.strict)throw new Error('"strict" mode is not supported for this model by default.');const s=n,a=r==null?void 0:r.name,i=N1(s)??"A function available to call.",o=r==null?void 0:r.method,l=r==null?void 0:r.includeRaw;if(o==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let u=a??"extract",c;eo(s)?c=[{type:"function",function:{name:u,description:i,parameters:ui(s)}}]:("name"in s&&(u=s.name),c=[{type:"function",function:{name:u,description:i,parameters:s}}]);const d=this.bindTools(c),h=bl.from(v=>{if(!Eo.isInstance(v))throw new Error("Input is not an AIMessageChunk.");if(!v.tool_calls||v.tool_calls.length===0)throw new Error("No tool calls found in the response.");const y=v.tool_calls.find(b=>b.name===u);if(!y)throw new Error(`No tool call found with name ${u}.`);return y.args});if(!l)return d.pipe(h).withConfig({runName:"StructuredOutput"});const p=pf.assign({parsed:(v,y)=>h.invoke(v.raw,y)}),m=pf.assign({parsed:()=>null}),g=p.withFallbacks({fallbacks:[m]});return Pm.from([{raw:d},g]).withConfig({runName:"StructuredOutputRunnable"})}},Q8e=class extends _C{async _generate(e,t,n){const r=await this._call(e,t,n),s=new xs(r);if(typeof s.content!="string")throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:s.content,message:s}]}}},eOe=class extends Er{constructor(t){super(t);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"lc_serializable",!0);se(this,"runnables");this.runnables=t.runnables}static lc_name(){return"RouterRunnable"}async invoke(t,n){const{key:r,input:s}=t,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.invoke(s,On(n))}async batch(t,n,r){var h;const s=t.map(p=>p.key),a=t.map(p=>p.input);if(s.find(p=>this.runnables[p]===void 0)!==void 0)throw new Error("One or more keys do not have a corresponding runnable.");const o=s.map(p=>this.runnables[p]),l=this._getOptionsList(n??{},t.length),u=((h=l[0])==null?void 0:h.maxConcurrency)??(r==null?void 0:r.maxConcurrency),c=u&&u>0?u:t.length,d=[];for(let p=0;p<a.length;p+=c){const m=a.slice(p,p+c).map((v,y)=>o[y].invoke(v,l[y])),g=await Promise.all(m);d.push(g)}return d.flat()}async stream(t,n){const{key:r,input:s}=t,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.stream(s,n)}},tOe=class extends Er{constructor(t){super(t);se(this,"lc_namespace",["langchain_core","runnables"]);se(this,"lc_serializable",!0);se(this,"default");se(this,"branches");this.branches=t.branches,this.default=t.default}static lc_name(){return"RunnableBranch"}static from(t){if(t.length<1)throw new Error("RunnableBranch requires at least one branch");const r=t.slice(0,-1).map(([a,i])=>[ci(a),ci(i)]),s=ci(t[t.length-1]);return new this({branches:r,default:s})}async _invoke(t,n,r){let s;for(let a=0;a<this.branches.length;a+=1){const[i,o]=this.branches[a];if(await i.invoke(t,ar(n,{callbacks:r==null?void 0:r.getChild(`condition:${a+1}`)}))){s=await o.invoke(t,ar(n,{callbacks:r==null?void 0:r.getChild(`branch:${a+1}`)}));break}}return s||(s=await this.default.invoke(t,ar(n,{callbacks:r==null?void 0:r.getChild("branch:default")}))),s}async invoke(t,n={}){return this._callWithConfig(this._invoke,t,n)}async*_streamIterator(t,n){const r=await Sa(n),s=await(r==null?void 0:r.handleChainStart(this.toJSON(),Lr(t,"input"),n==null?void 0:n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));let a,i=!0,o;try{for(let l=0;l<this.branches.length;l+=1){const[u,c]=this.branches[l];if(await u.invoke(t,ar(n,{callbacks:s==null?void 0:s.getChild(`condition:${l+1}`)}))){o=await c.stream(t,ar(n,{callbacks:s==null?void 0:s.getChild(`branch:${l+1}`)}));for await(const h of o)if(yield h,i)if(a===void 0)a=h;else try{a=lu(a,h)}catch{a=void 0,i=!1}break}}if(o===void 0){o=await this.default.stream(t,ar(n,{callbacks:s==null?void 0:s.getChild("branch:default")}));for await(const l of o)if(yield l,i)if(a===void 0)a=l;else try{a=lu(a,l)}catch{a=void 0,i=!1}}}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}await(s==null?void 0:s.handleChainEnd(a??{}))}},nOe=class extends hf{constructor(t){let n=bl.from((i,o)=>this._enterHistory(i,o??{})).withConfig({runName:"loadHistory"});const r=t.historyMessagesKey??t.inputMessagesKey;r&&(n=pf.assign({[r]:n}).withConfig({runName:"insertHistory"}));const s=n.pipe(t.runnable.withListeners({onEnd:(i,o)=>this._exitHistory(i,o??{})})).withConfig({runName:"RunnableWithMessageHistory"}),a=t.config??{};super({...t,config:a,bound:s});se(this,"runnable");se(this,"inputMessagesKey");se(this,"outputMessagesKey");se(this,"historyMessagesKey");se(this,"getMessageHistory");this.runnable=t.runnable,this.getMessageHistory=t.getMessageHistory,this.inputMessagesKey=t.inputMessagesKey,this.outputMessagesKey=t.outputMessagesKey,this.historyMessagesKey=t.historyMessagesKey}_getInputMessages(t){let n;if(typeof t=="object"&&!Array.isArray(t)&&!Ul(t)){let r;this.inputMessagesKey?r=this.inputMessagesKey:Object.keys(t).length===1?r=Object.keys(t)[0]:r="input",Array.isArray(t[r])&&Array.isArray(t[r][0])?n=t[r][0]:n=t[r]}else n=t;if(typeof n=="string")return[new xi(n)];if(Array.isArray(n))return n;if(Ul(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(t){let n;if(!Array.isArray(t)&&!Ul(t)&&typeof t!="string"){let r;this.outputMessagesKey!==void 0?r=this.outputMessagesKey:Object.keys(t).length===1?r=Object.keys(t)[0]:r="output",t.generations!==void 0?n=t.generations[0][0].message:n=t[r]}else n=t;if(typeof n=="string")return[new xs(n)];if(Array.isArray(n))return n;if(Ul(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(t,n){var a;const s=await((a=n==null?void 0:n.configurable)==null?void 0:a.messageHistory).getMessages();return this.historyMessagesKey===void 0?s.concat(this._getInputMessages(t)):s}async _exitHistory(t,n){var l;const r=(l=n.configurable)==null?void 0:l.messageHistory;let s;Array.isArray(t.inputs)&&Array.isArray(t.inputs[0])?s=t.inputs[0]:s=t.inputs;let a=this._getInputMessages(s);if(this.historyMessagesKey===void 0){const u=await r.getMessages();a=a.slice(u.length)}const i=t.outputs;if(!i)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(t,null,2)}`);const o=this._getOutputMessages(i);await r.addMessages([...a,...o])}async _mergeConfig(...t){const n=await super._mergeConfig(...t);if(!n.configurable||!n.configurable.sessionId){const s={[this.inputMessagesKey??"input"]:"foo"},a={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(s)}, ${JSON.stringify(a)})`)}const{sessionId:r}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(r),n}},rOe={};xn(rOe,{RouterRunnable:()=>eOe,Runnable:()=>Er,RunnableAssign:()=>cC,RunnableBinding:()=>hf,RunnableBranch:()=>tOe,RunnableEach:()=>I5e,RunnableLambda:()=>bl,RunnableMap:()=>Rf,RunnableParallel:()=>A5e,RunnablePassthrough:()=>pf,RunnablePick:()=>Iz,RunnableRetry:()=>uC,RunnableSequence:()=>Pm,RunnableToolLike:()=>u3,RunnableWithFallbacks:()=>Nz,RunnableWithMessageHistory:()=>nOe,_coerceToRunnable:()=>ci,ensureConfig:()=>On,getCallbackManagerForConfig:()=>Sa,mergeConfigs:()=>D0,patchConfig:()=>ar,pickRunnableConfigKeys:()=>al,raceWithSignal:()=>il});var nF=class extends Er{parseResultWithPrompt(e,t,n){return this.parseResult(e,n)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,t){return typeof e=="string"?this._callWithConfig(async(n,r)=>this.parseResult([{text:n}],r==null?void 0:r.callbacks),e,{...t,runType:"parser"}):this._callWithConfig(async(n,r)=>this.parseResult([{message:n,text:this._baseMessageToString(n)}],r==null?void 0:r.callbacks),e,{...t,runType:"parser"})}},D1=class extends nF{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,n){return this.parse(e,n)}_type(){throw new Error("_type not implemented")}},Zo=class extends Error{constructor(t,n,r,s=!1){super(t);se(this,"llmOutput");se(this,"observation");se(this,"sendToLLM");if(this.llmOutput=n,this.observation=r,this.sendToLLM=s,s&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");A4(this,"OUTPUT_PARSING_FAILURE")}},Fm=class extends D1{async*_transform(e){for await(const t of e)typeof t=="string"?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:this._baseMessageToString(t)}])}async*transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}},z1=class extends Fm{constructor(t){super(t);se(this,"diff",!1);this.diff=(t==null?void 0:t.diff)??this.diff}async*_transform(t){let n,r;for await(const s of t){if(typeof s!="string"&&typeof s.content!="string")throw new Error("Cannot handle non-string output.");let a;if(N4(s)){if(typeof s.content!="string")throw new Error("Cannot handle non-string message output.");a=new af({message:s,text:s.content})}else if(Ul(s)){if(typeof s.content!="string")throw new Error("Cannot handle non-string message output.");a=new af({message:A0(s),text:s.content})}else a=new sf({text:s});r===void 0?r=a:r=r.concat(a);const i=await this.parsePartialResult([r]);i!=null&&!rc(i,n)&&(this.diff?yield this._diff(n,i):yield i,n=i)}}getFormatInstructions(){return""}},sOe=class extends Fm{constructor(){super(...arguments);se(this,"lc_namespace",["langchain_core","output_parsers","bytes"]);se(this,"lc_serializable",!0);se(this,"textEncoder",new TextEncoder)}static lc_name(){return"BytesOutputParser"}parse(t){return Promise.resolve(this.textEncoder.encode(t))}getFormatInstructions(){return""}},Bm=class extends Fm{constructor(){super(...arguments);se(this,"re")}async*_transform(t){let n="";for await(const r of t)if(typeof r=="string"?n+=r:n+=r.content,this.re){const s=[...n.matchAll(this.re)];if(s.length>1){let a=0;for(const i of s.slice(0,-1))yield[i[1]],a+=(i.index??0)+i[0].length;n=n.slice(a)}}else{const s=await this.parse(n);if(s.length>1){for(const a of s.slice(0,-1))yield[a];n=s[s.length-1]}}for(const r of await this.parse(n))yield[r]}},aOe=class extends Bm{constructor(){super(...arguments);se(this,"lc_namespace",["langchain_core","output_parsers","list"]);se(this,"lc_serializable",!0)}static lc_name(){return"CommaSeparatedListOutputParser"}async parse(t){try{return t.trim().split(",").map(n=>n.trim())}catch{throw new Zo(`Could not parse output: ${t}`,t)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},iOe=class extends Bm{constructor({length:t,separator:n}){super(...arguments);se(this,"lc_namespace",["langchain_core","output_parsers","list"]);se(this,"length");se(this,"separator");this.length=t,this.separator=n||","}async parse(t){try{const n=t.trim().split(this.separator).map(r=>r.trim());if(this.length!==void 0&&n.length!==this.length)throw new Zo(`Incorrect number of items. Expected ${this.length}, got ${n.length}.`);return n}catch(n){throw Object.getPrototypeOf(n)===Zo.prototype?n:new Zo(`Could not parse output: ${t}`)}}getFormatInstructions(){return`Your response should be a list of ${this.length===void 0?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},oOe=class extends Bm{constructor(){super(...arguments);se(this,"lc_namespace",["langchain_core","output_parsers","list"]);se(this,"lc_serializable",!0);se(this,"re",/\d+\.\s([^\n]+)/g)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(t){return[...t.matchAll(this.re)??[]].map(n=>n[1])}},lOe=class extends Bm{constructor(){super(...arguments);se(this,"lc_namespace",["langchain_core","output_parsers","list"]);se(this,"lc_serializable",!0);se(this,"re",/^\s*[-*]\s([^\n]+)$/gm)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(t){return[...t.matchAll(this.re)??[]].map(n=>n[1])}},uOe=class extends Fm{constructor(){super(...arguments);se(this,"lc_namespace",["langchain_core","output_parsers","string"]);se(this,"lc_serializable",!0)}static lc_name(){return"StrOutputParser"}parse(t){return Promise.resolve(t)}getFormatInstructions(){return""}_textContentToString(t){return t.text}_imageUrlContentToString(t){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(t){switch(t.type){case"text":case"text_delta":if("text"in t)return this._textContentToString(t);break;case"image_url":if("image_url"in t)return this._imageUrlContentToString(t);break;default:throw new Error(`Cannot coerce "${t.type}" message part into a string.`)}throw new Error(`Invalid content type: ${t.type}`)}_baseMessageContentToString(t){return t.reduce((n,r)=>n+this._messageContentToString(r),"")}},ay=class extends D1{constructor(t){super(t);se(this,"lc_namespace",["langchain","output_parsers","structured"]);this.schema=t}static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}static fromZodSchema(t){return new this(t)}static fromNamesAndDescriptions(t){const n=$1(Object.fromEntries(Object.entries(t).map(([r,s])=>[r,O1().describe(s)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(ui(this.schema))}
\`\`\`
`}async parse(t){var n,r;try{const s=t.trim(),i=(((n=s.match(/^```(?:json)?\s*([\s\S]*?)```/))==null?void 0:n[1])||((r=s.match(/```json\s*([\s\S]*?)```/))==null?void 0:r[1])||s).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(o,l)=>`"${l.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await k1(this.schema,JSON.parse(i))}catch(s){throw new Zo(`Failed to parse. Text: "${t}". Error: ${s}`,t)}}},rF=class extends ay{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(e){const t=(e==null?void 0:e.interpolationDepth)??1;if(t<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction(ui(this.schema)).replaceAll("{","{".repeat(t)).replaceAll("}","}".repeat(t))}
\`\`\``}_schemaToInstruction(e,t=2){const n=e;if("type"in n){let r=!1,s;if(Array.isArray(n.type)){const o=n.type.findIndex(l=>l==="null");o!==-1&&(r=!0,n.type.splice(o,1)),s=n.type.join(" | ")}else s=n.type;if(n.type==="object"&&n.properties){const o=n.description?` // ${n.description}`:"";return`{
${Object.entries(n.properties).map(([u,c])=>{var h;const d=(h=n.required)!=null&&h.includes(u)?"":" (optional)";return`${" ".repeat(t)}"${u}": ${this._schemaToInstruction(c,t+2)}${d}`}).join(`
`)}
${" ".repeat(t-2)}}${o}`}if(n.type==="array"&&n.items){const o=n.description?` // ${n.description}`:"";return`array[
${" ".repeat(t)}${this._schemaToInstruction(n.items,t+2)}
${" ".repeat(t-2)}] ${o}`}const a=r?" (nullable)":"",i=n.description?` // ${n.description}`:"";return`${s}${i}${a}`}if("anyOf"in n)return n.anyOf.map(r=>this._schemaToInstruction(r,t)).join(`
${" ".repeat(t-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const t=$1(Object.fromEntries(Object.entries(e).map(([n,r])=>[n,O1().describe(r)])));return new this(t)}},cOe=class extends D1{constructor({inputSchema:t}){super(...arguments);se(this,"structuredInputParser");this.structuredInputParser=new rF(t)}async parse(t){let n;try{n=await this.structuredInputParser.parse(t)}catch(r){throw new Zo(`Failed to parse. Text: "${t}". Error: ${r}`,t)}return this.outputProcessor(n)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}},dOe={};xn(dOe,{applyPatch:()=>rf,compare:()=>Y4});var p3=class extends z1{constructor(){super(...arguments);se(this,"lc_namespace",["langchain_core","output_parsers"]);se(this,"lc_serializable",!0)}static lc_name(){return"JsonOutputParser"}_concatOutputChunks(t,n){return this.diff?super._concatOutputChunks(t,n):n}_diff(t,n){if(n)return t?Y4(t,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(t){return O_(t[0].text)}async parse(t){return O_(t,JSON.parse)}getFormatInstructions(){return""}_baseMessageToString(t){return t.text}};const fOe=function(){const e={};e.parser=function(B,P){return new n(B,P)},e.SAXParser=n,e.SAXStream=u,e.createStream=l,e.MAX_BUFFER_LENGTH=64*1024;const t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(B,P){if(!(this instanceof n))return new n(B,P);var ae=this;s(ae),ae.q=ae.c="",ae.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ae.opt=P||{},ae.opt.lowercase=ae.opt.lowercase||ae.opt.lowercasetags,ae.looseCase=ae.opt.lowercase?"toLowerCase":"toUpperCase",ae.tags=[],ae.closed=ae.closedRoot=ae.sawRoot=!1,ae.tag=ae.error=null,ae.strict=!!B,ae.noscript=!!(B||ae.opt.noscript),ae.state=x.BEGIN,ae.strictEntities=ae.opt.strictEntities,ae.ENTITIES=ae.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ae.attribList=[],ae.opt.xmlns&&(ae.ns=Object.create(m)),ae.trackPosition=ae.opt.position!==!1,ae.trackPosition&&(ae.position=ae.line=ae.column=0),k(ae,"onready")}Object.create||(Object.create=function(B){function P(){}P.prototype=B;var ae=new P;return ae}),Object.keys||(Object.keys=function(B){var P=[];for(var ae in B)B.hasOwnProperty(ae)&&P.push(ae);return P});function r(B){for(var P=Math.max(e.MAX_BUFFER_LENGTH,10),ae=0,ee=0,oe=t.length;ee<oe;ee++){var X=B[t[ee]].length;if(X>P)switch(t[ee]){case"textNode":O(B);break;case"cdata":A(B,"oncdata",B.cdata),B.cdata="";break;case"script":A(B,"onscript",B.script),B.script="";break;default:j(B,"Max buffer length exceeded: "+t[ee])}ae=Math.max(ae,X)}var H=e.MAX_BUFFER_LENGTH-ae;B.bufferCheckPosition=H+B.position}function s(B){for(var P=0,ae=t.length;P<ae;P++)B[t[P]]=""}function a(B){O(B),B.cdata!==""&&(A(B,"oncdata",B.cdata),B.cdata=""),B.script!==""&&(A(B,"onscript",B.script),B.script="")}n.prototype={end:function(){V(this)},write:J,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var i=ReadableStream;i||(i=function(){});var o=e.EVENTS.filter(function(B){return B!=="error"&&B!=="end"});function l(B,P){return new u(B,P)}function u(B,P){if(!(this instanceof u))return new u(B,P);i.apply(this),this._parser=new n(B,P),this.writable=!0,this.readable=!0;var ae=this;this._parser.onend=function(){ae.emit("end")},this._parser.onerror=function(ee){ae.emit("error",ee),ae._parser.error=null},this._decoder=null,o.forEach(function(ee){Object.defineProperty(ae,"on"+ee,{get:function(){return ae._parser["on"+ee]},set:function(oe){if(!oe)return ae.removeAllListeners(ee),ae._parser["on"+ee]=oe,oe;ae.on(ee,oe)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(i.prototype,{constructor:{value:u}}),u.prototype.write=function(B){return this._parser.write(B.toString()),this.emit("data",B),!0},u.prototype.end=function(B){return B&&B.length&&this.write(B),this._parser.end(),!0},u.prototype.on=function(B,P){var ae=this;return!ae._parser["on"+B]&&o.indexOf(B)!==-1&&(ae._parser["on"+B]=function(){var ee=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ee.splice(0,0,B),ae.emit.apply(ae,ee)}),i.prototype.on.call(ae,B,P)};var c="[CDATA[",d="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",m={xml:h,xmlns:p},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(B){return B===" "||B===`
`||B==="\r"||B==="	"}function _(B){return B==='"'||B==="'"}function S(B){return B===">"||w(B)}function C(B,P){return B.test(P)}function T(B,P){return!C(B,P)}var x=0;e.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(B){var P=e.ENTITIES[B],ae=typeof P=="number"?String.fromCharCode(P):P;e.ENTITIES[B]=ae});for(var N in e.STATE)e.STATE[e.STATE[N]]=N;x=e.STATE;function k(B,P,ae){B[P]&&B[P](ae)}function A(B,P,ae){B.textNode&&O(B),k(B,P,ae)}function O(B){B.textNode=F(B.opt,B.textNode),B.textNode&&k(B,"ontext",B.textNode),B.textNode=""}function F(B,P){return B.trim&&(P=P.trim()),B.normalize&&(P=P.replace(/\s+/g," ")),P}function j(B,P){return O(B),B.trackPosition&&(P+=`
Line: `+B.line+`
Column: `+B.column+`
Char: `+B.c),P=new Error(P),B.error=P,k(B,"onerror",P),B}function V(B){return B.sawRoot&&!B.closedRoot&&G(B,"Unclosed root tag"),B.state!==x.BEGIN&&B.state!==x.BEGIN_WHITESPACE&&B.state!==x.TEXT&&j(B,"Unexpected end"),O(B),B.c="",B.closed=!0,k(B,"onend"),n.call(B,B.strict,B.opt),B}function G(B,P){if(typeof B!="object"||!(B instanceof n))throw new Error("bad call to strictFail");B.strict&&j(B,P)}function R(B){B.strict||(B.tagName=B.tagName[B.looseCase]());var P=B.tags[B.tags.length-1]||B,ae=B.tag={name:B.tagName,attributes:{}};B.opt.xmlns&&(ae.ns=P.ns),B.attribList.length=0,A(B,"onopentagstart",ae)}function $(B,P){var ae=B.indexOf(":"),ee=ae<0?["",B]:B.split(":"),oe=ee[0],X=ee[1];return P&&B==="xmlns"&&(oe="xmlns",X=""),{prefix:oe,local:X}}function D(B){if(B.strict||(B.attribName=B.attribName[B.looseCase]()),B.attribList.indexOf(B.attribName)!==-1||B.tag.attributes.hasOwnProperty(B.attribName)){B.attribName=B.attribValue="";return}if(B.opt.xmlns){var P=$(B.attribName,!0),ae=P.prefix,ee=P.local;if(ae==="xmlns")if(ee==="xml"&&B.attribValue!==h)G(B,"xml: prefix must be bound to "+h+`
Actual: `+B.attribValue);else if(ee==="xmlns"&&B.attribValue!==p)G(B,"xmlns: prefix must be bound to "+p+`
Actual: `+B.attribValue);else{var oe=B.tag,X=B.tags[B.tags.length-1]||B;oe.ns===X.ns&&(oe.ns=Object.create(X.ns)),oe.ns[ee]=B.attribValue}B.attribList.push([B.attribName,B.attribValue])}else B.tag.attributes[B.attribName]=B.attribValue,A(B,"onattribute",{name:B.attribName,value:B.attribValue});B.attribName=B.attribValue=""}function z(B,P){if(B.opt.xmlns){var ae=B.tag,ee=$(B.tagName);ae.prefix=ee.prefix,ae.local=ee.local,ae.uri=ae.ns[ee.prefix]||"",ae.prefix&&!ae.uri&&(G(B,"Unbound namespace prefix: "+JSON.stringify(B.tagName)),ae.uri=ee.prefix);var oe=B.tags[B.tags.length-1]||B;ae.ns&&oe.ns!==ae.ns&&Object.keys(ae.ns).forEach(function(ve){A(B,"onopennamespace",{prefix:ve,uri:ae.ns[ve]})});for(var X=0,H=B.attribList.length;X<H;X++){var te=B.attribList[X],ue=te[0],ye=te[1],he=$(ue,!0),_e=he.prefix,Re=he.local,De=_e===""?"":ae.ns[_e]||"",pe={name:ue,value:ye,prefix:_e,local:Re,uri:De};_e&&_e!=="xmlns"&&!De&&(G(B,"Unbound namespace prefix: "+JSON.stringify(_e)),pe.uri=_e),B.tag.attributes[ue]=pe,A(B,"onattribute",pe)}B.attribList.length=0}B.tag.isSelfClosing=!!P,B.sawRoot=!0,B.tags.push(B.tag),A(B,"onopentag",B.tag),P||(!B.noscript&&B.tagName.toLowerCase()==="script"?B.state=x.SCRIPT:B.state=x.TEXT,B.tag=null,B.tagName=""),B.attribName=B.attribValue="",B.attribList.length=0}function W(B){if(!B.tagName){G(B,"Weird empty close tag."),B.textNode+="</>",B.state=x.TEXT;return}if(B.script){if(B.tagName!=="script"){B.script+="</"+B.tagName+">",B.tagName="",B.state=x.SCRIPT;return}A(B,"onscript",B.script),B.script=""}var P=B.tags.length,ae=B.tagName;B.strict||(ae=ae[B.looseCase]());for(var ee=ae;P--;){var oe=B.tags[P];if(oe.name!==ee)G(B,"Unexpected close tag");else break}if(P<0){G(B,"Unmatched closing tag: "+B.tagName),B.textNode+="</"+B.tagName+">",B.state=x.TEXT;return}B.tagName=ae;for(var X=B.tags.length;X-- >P;){var H=B.tag=B.tags.pop();B.tagName=B.tag.name,A(B,"onclosetag",B.tagName);var te={};for(var ue in H.ns)te[ue]=H.ns[ue];var ye=B.tags[B.tags.length-1]||B;B.opt.xmlns&&H.ns!==ye.ns&&Object.keys(H.ns).forEach(function(he){var _e=H.ns[he];A(B,"onclosenamespace",{prefix:he,uri:_e})})}P===0&&(B.closedRoot=!0),B.tagName=B.attribValue=B.attribName="",B.attribList.length=0,B.state=x.TEXT}function Y(B){var P=B.entity,ae=P.toLowerCase(),ee,oe="";return B.ENTITIES[P]?B.ENTITIES[P]:B.ENTITIES[ae]?B.ENTITIES[ae]:(P=ae,P.charAt(0)==="#"&&(P.charAt(1)==="x"?(P=P.slice(2),ee=parseInt(P,16),oe=ee.toString(16)):(P=P.slice(1),ee=parseInt(P,10),oe=ee.toString(10))),P=P.replace(/^0+/,""),isNaN(ee)||oe.toLowerCase()!==P?(G(B,"Invalid character entity"),"&"+B.entity+";"):String.fromCodePoint(ee))}function U(B,P){P==="<"?(B.state=x.OPEN_WAKA,B.startTagPosition=B.position):w(P)||(G(B,"Non-whitespace before first tag."),B.textNode=P,B.state=x.TEXT)}function Q(B,P){var ae="";return P<B.length&&(ae=B.charAt(P)),ae}function J(B){var P=this;if(this.error)throw this.error;if(P.closed)return j(P,"Cannot write after close. Assign an onready handler.");if(B===null)return V(P);typeof B=="object"&&(B=B.toString());for(var ae=0,ee="";ee=Q(B,ae++),P.c=ee,!!ee;)switch(P.trackPosition&&(P.position++,ee===`
`?(P.line++,P.column=0):P.column++),P.state){case x.BEGIN:if(P.state=x.BEGIN_WHITESPACE,ee==="\uFEFF")continue;U(P,ee);continue;case x.BEGIN_WHITESPACE:U(P,ee);continue;case x.TEXT:if(P.sawRoot&&!P.closedRoot){for(var oe=ae-1;ee&&ee!=="<"&&ee!=="&";)ee=Q(B,ae++),ee&&P.trackPosition&&(P.position++,ee===`
`?(P.line++,P.column=0):P.column++);P.textNode+=B.substring(oe,ae-1)}ee==="<"&&!(P.sawRoot&&P.closedRoot&&!P.strict)?(P.state=x.OPEN_WAKA,P.startTagPosition=P.position):(!w(ee)&&(!P.sawRoot||P.closedRoot)&&G(P,"Text data outside of root node."),ee==="&"?P.state=x.TEXT_ENTITY:P.textNode+=ee);continue;case x.SCRIPT:ee==="<"?P.state=x.SCRIPT_ENDING:P.script+=ee;continue;case x.SCRIPT_ENDING:ee==="/"?P.state=x.CLOSE_TAG:(P.script+="<"+ee,P.state=x.SCRIPT);continue;case x.OPEN_WAKA:if(ee==="!")P.state=x.SGML_DECL,P.sgmlDecl="";else if(!w(ee))if(C(g,ee))P.state=x.OPEN_TAG,P.tagName=ee;else if(ee==="/")P.state=x.CLOSE_TAG,P.tagName="";else if(ee==="?")P.state=x.PROC_INST,P.procInstName=P.procInstBody="";else{if(G(P,"Unencoded <"),P.startTagPosition+1<P.position){var X=P.position-P.startTagPosition;ee=new Array(X).join(" ")+ee}P.textNode+="<"+ee,P.state=x.TEXT}continue;case x.SGML_DECL:(P.sgmlDecl+ee).toUpperCase()===c?(A(P,"onopencdata"),P.state=x.CDATA,P.sgmlDecl="",P.cdata=""):P.sgmlDecl+ee==="--"?(P.state=x.COMMENT,P.comment="",P.sgmlDecl=""):(P.sgmlDecl+ee).toUpperCase()===d?(P.state=x.DOCTYPE,(P.doctype||P.sawRoot)&&G(P,"Inappropriately located doctype declaration"),P.doctype="",P.sgmlDecl=""):ee===">"?(A(P,"onsgmldeclaration",P.sgmlDecl),P.sgmlDecl="",P.state=x.TEXT):(_(ee)&&(P.state=x.SGML_DECL_QUOTED),P.sgmlDecl+=ee);continue;case x.SGML_DECL_QUOTED:ee===P.q&&(P.state=x.SGML_DECL,P.q=""),P.sgmlDecl+=ee;continue;case x.DOCTYPE:ee===">"?(P.state=x.TEXT,A(P,"ondoctype",P.doctype),P.doctype=!0):(P.doctype+=ee,ee==="["?P.state=x.DOCTYPE_DTD:_(ee)&&(P.state=x.DOCTYPE_QUOTED,P.q=ee));continue;case x.DOCTYPE_QUOTED:P.doctype+=ee,ee===P.q&&(P.q="",P.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:P.doctype+=ee,ee==="]"?P.state=x.DOCTYPE:_(ee)&&(P.state=x.DOCTYPE_DTD_QUOTED,P.q=ee);continue;case x.DOCTYPE_DTD_QUOTED:P.doctype+=ee,ee===P.q&&(P.state=x.DOCTYPE_DTD,P.q="");continue;case x.COMMENT:ee==="-"?P.state=x.COMMENT_ENDING:P.comment+=ee;continue;case x.COMMENT_ENDING:ee==="-"?(P.state=x.COMMENT_ENDED,P.comment=F(P.opt,P.comment),P.comment&&A(P,"oncomment",P.comment),P.comment=""):(P.comment+="-"+ee,P.state=x.COMMENT);continue;case x.COMMENT_ENDED:ee!==">"?(G(P,"Malformed comment"),P.comment+="--"+ee,P.state=x.COMMENT):P.state=x.TEXT;continue;case x.CDATA:ee==="]"?P.state=x.CDATA_ENDING:P.cdata+=ee;continue;case x.CDATA_ENDING:ee==="]"?P.state=x.CDATA_ENDING_2:(P.cdata+="]"+ee,P.state=x.CDATA);continue;case x.CDATA_ENDING_2:ee===">"?(P.cdata&&A(P,"oncdata",P.cdata),A(P,"onclosecdata"),P.cdata="",P.state=x.TEXT):ee==="]"?P.cdata+="]":(P.cdata+="]]"+ee,P.state=x.CDATA);continue;case x.PROC_INST:ee==="?"?P.state=x.PROC_INST_ENDING:w(ee)?P.state=x.PROC_INST_BODY:P.procInstName+=ee;continue;case x.PROC_INST_BODY:if(!P.procInstBody&&w(ee))continue;ee==="?"?P.state=x.PROC_INST_ENDING:P.procInstBody+=ee;continue;case x.PROC_INST_ENDING:ee===">"?(A(P,"onprocessinginstruction",{name:P.procInstName,body:P.procInstBody}),P.procInstName=P.procInstBody="",P.state=x.TEXT):(P.procInstBody+="?"+ee,P.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:C(v,ee)?P.tagName+=ee:(R(P),ee===">"?z(P):ee==="/"?P.state=x.OPEN_TAG_SLASH:(w(ee)||G(P,"Invalid character in tag name"),P.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:ee===">"?(z(P,!0),W(P)):(G(P,"Forward-slash in opening tag not followed by >"),P.state=x.ATTRIB);continue;case x.ATTRIB:if(w(ee))continue;ee===">"?z(P):ee==="/"?P.state=x.OPEN_TAG_SLASH:C(g,ee)?(P.attribName=ee,P.attribValue="",P.state=x.ATTRIB_NAME):G(P,"Invalid attribute name");continue;case x.ATTRIB_NAME:ee==="="?P.state=x.ATTRIB_VALUE:ee===">"?(G(P,"Attribute without value"),P.attribValue=P.attribName,D(P),z(P)):w(ee)?P.state=x.ATTRIB_NAME_SAW_WHITE:C(v,ee)?P.attribName+=ee:G(P,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if(ee==="=")P.state=x.ATTRIB_VALUE;else{if(w(ee))continue;G(P,"Attribute without value"),P.tag.attributes[P.attribName]="",P.attribValue="",A(P,"onattribute",{name:P.attribName,value:""}),P.attribName="",ee===">"?z(P):C(g,ee)?(P.attribName=ee,P.state=x.ATTRIB_NAME):(G(P,"Invalid attribute name"),P.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(w(ee))continue;_(ee)?(P.q=ee,P.state=x.ATTRIB_VALUE_QUOTED):(G(P,"Unquoted attribute value"),P.state=x.ATTRIB_VALUE_UNQUOTED,P.attribValue=ee);continue;case x.ATTRIB_VALUE_QUOTED:if(ee!==P.q){ee==="&"?P.state=x.ATTRIB_VALUE_ENTITY_Q:P.attribValue+=ee;continue}D(P),P.q="",P.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:w(ee)?P.state=x.ATTRIB:ee===">"?z(P):ee==="/"?P.state=x.OPEN_TAG_SLASH:C(g,ee)?(G(P,"No whitespace between attributes"),P.attribName=ee,P.attribValue="",P.state=x.ATTRIB_NAME):G(P,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!S(ee)){ee==="&"?P.state=x.ATTRIB_VALUE_ENTITY_U:P.attribValue+=ee;continue}D(P),ee===">"?z(P):P.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(P.tagName)ee===">"?W(P):C(v,ee)?P.tagName+=ee:P.script?(P.script+="</"+P.tagName,P.tagName="",P.state=x.SCRIPT):(w(ee)||G(P,"Invalid tagname in closing tag"),P.state=x.CLOSE_TAG_SAW_WHITE);else{if(w(ee))continue;T(g,ee)?P.script?(P.script+="</"+ee,P.state=x.SCRIPT):G(P,"Invalid tagname in closing tag."):P.tagName=ee}continue;case x.CLOSE_TAG_SAW_WHITE:if(w(ee))continue;ee===">"?W(P):G(P,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var H,te;switch(P.state){case x.TEXT_ENTITY:H=x.TEXT,te="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:H=x.ATTRIB_VALUE_QUOTED,te="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:H=x.ATTRIB_VALUE_UNQUOTED,te="attribValue";break}if(ee===";")if(P.opt.unparsedEntities){var ue=Y(P);P.entity="",P.state=H,P.write(ue)}else P[te]+=Y(P),P.entity="",P.state=H;else C(P.entity.length?b:y,ee)?P.entity+=ee:(G(P,"Invalid character in entity name"),P[te]+="&"+P.entity+ee,P.entity="",P.state=H);continue;default:throw new Error(P,"Unknown state: "+P.state)}return P.position>=P.bufferCheckPosition&&r(P),P}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */return String.fromCodePoint||function(){var B=String.fromCharCode,P=Math.floor,ae=function(){var ee=16384,oe=[],X,H,te=-1,ue=arguments.length;if(!ue)return"";for(var ye="";++te<ue;){var he=Number(arguments[te]);if(!isFinite(he)||he<0||he>1114111||P(he)!==he)throw RangeError("Invalid code point: "+he);he<=65535?oe.push(he):(he-=65536,X=(he>>10)+55296,H=he%1024+56320,oe.push(X,H)),(te+1===ue||oe.length>ee)&&(ye+=B.apply(null,oe),oe.length=0)}return ye};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ae,configurable:!0,writable:!0}):String.fromCodePoint=ae}(),e},hOe=fOe(),m3=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var pOe=class extends z1{constructor(t){super(t);se(this,"tags");se(this,"lc_namespace",["langchain_core","output_parsers"]);se(this,"lc_serializable",!0);this.tags=t==null?void 0:t.tags}static lc_name(){return"XMLOutputParser"}_diff(t,n){if(n)return t?Y4(t,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(t){return g3(t[0].text)}async parse(t){return g3(t)}getFormatInstructions(){var n;return!!(this.tags&&this.tags.length>0)?m3.replace("{tags}",((n=this.tags)==null?void 0:n.join(", "))??""):m3}};const mOe=e=>e.split(`
`).map(t=>t.replace(/^\s+/,"")).join(`
`).trim(),sF=e=>{if(Object.keys(e).length===0)return{};const t={};return e.children.length>0?(t[e.name]=e.children.map(sF),t):(t[e.name]=e.text??void 0,t)};function g3(e){const t=mOe(e),n=hOe.parser(!0);let r={};const s=[];n.onopentag=o=>{const l={name:o.name,attributes:o.attributes,children:[],text:"",isSelfClosing:o.isSelfClosing};s.length>0?s[s.length-1].children.push(l):r=l,o.isSelfClosing||s.push(l)},n.onclosetag=()=>{if(s.length>0){const o=s.pop();s.length===0&&o&&(r=o)}},n.ontext=o=>{if(s.length>0){const l=s[s.length-1];l.text+=o}},n.onattribute=o=>{if(s.length>0){const l=s[s.length-1];l.attributes[o.name]=o.value}};const a=/```(xml)?(.*)```/s.exec(t),i=a?a[2]:t;return n.write(i).close(),r&&r.name==="?xml"&&(r=r.children[0]),sF(r)}var gOe={};xn(gOe,{AsymmetricStructuredOutputParser:()=>cOe,BaseCumulativeTransformOutputParser:()=>z1,BaseLLMOutputParser:()=>nF,BaseOutputParser:()=>D1,BaseTransformOutputParser:()=>Fm,BytesOutputParser:()=>sOe,CommaSeparatedListOutputParser:()=>aOe,CustomListOutputParser:()=>iOe,JsonMarkdownStructuredOutputParser:()=>rF,JsonOutputParser:()=>p3,ListOutputParser:()=>Bm,MarkdownListOutputParser:()=>lOe,NumberedListOutputParser:()=>oOe,OutputParserException:()=>Zo,StringOutputParser:()=>uOe,StructuredOutputParser:()=>ay,XMLOutputParser:()=>pOe,XML_FORMAT_INSTRUCTIONS:()=>m3,parseJsonMarkdown:()=>O_,parsePartialJson:()=>d1,parseXMLMarkdown:()=>g3});function F1(e,t){if(e.function===void 0)return;let n;if(t!=null&&t.partial)try{n=d1(e.function.arguments??"{}")}catch{return}else try{n=JSON.parse(e.function.arguments)}catch(s){throw new Zo([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"","are not valid JSON.",`Error: ${s.message}`].join(`
`))}const r={name:e.function.name,args:n,type:"tool_call"};return t!=null&&t.returnId&&(r.id=e.id),r}function aF(e){if(e.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}}function jh(e,t){var n,r;return{name:(n=e.function)==null?void 0:n.name,args:(r=e.function)==null?void 0:r.arguments,id:e.id,error:t,type:"invalid_tool_call"}}var iF=class extends z1{constructor(t){super(t);se(this,"returnId",!1);se(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);se(this,"lc_serializable",!0);this.returnId=(t==null?void 0:t.returnId)??this.returnId}static lc_name(){return"JsonOutputToolsParser"}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(t){return await this.parsePartialResult(t,!1)}async parsePartialResult(t,n=!0){var i;const r=t[0].message;let s;if(f1(r)&&((i=r.tool_calls)!=null&&i.length)?s=r.tool_calls.map(o=>{const{id:l,...u}=o;return this.returnId?{id:l,...u}:u}):r.additional_kwargs.tool_calls!==void 0&&(s=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(l=>F1(l,{returnId:this.returnId,partial:n}))),!s)return[];const a=[];for(const o of s)if(o!==void 0){const l={type:o.name,args:o.args,id:o.id};a.push(l)}return a}},v3=class extends iF{constructor(t){super(t);se(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);se(this,"lc_serializable",!0);se(this,"returnId",!1);se(this,"keyName");se(this,"returnSingle",!1);se(this,"zodSchema");this.keyName=t.keyName,this.returnSingle=t.returnSingle??this.returnSingle,this.zodSchema=t.zodSchema}static lc_name(){return"JsonOutputKeyToolsParser"}async _validateResult(t){var r;if(this.zodSchema===void 0)return t;const n=await iz(this.zodSchema,t);if(n.success)return n.data;throw new Zo(`Failed to parse. Text: "${JSON.stringify(t,null,2)}". Error: ${JSON.stringify((r=n.error)==null?void 0:r.issues)}`,JSON.stringify(t,null,2))}async parsePartialResult(t){const r=(await super.parsePartialResult(t)).filter(a=>a.type===this.keyName);let s=r;if(r.length)return this.returnId||(s=r.map(a=>a.args)),this.returnSingle?s[0]:s}async parseResult(t){const r=(await super.parsePartialResult(t,!1)).filter(i=>i.type===this.keyName);let s=r;return r.length?(this.returnId||(s=r.map(i=>i.args)),this.returnSingle?this._validateResult(s[0]):await Promise.all(s.map(i=>this._validateResult(i)))):void 0}},vOe={};xn(vOe,{JsonOutputKeyToolsParser:()=>v3,JsonOutputToolsParser:()=>iF,convertLangChainToolCallToOpenAI:()=>aF,makeInvalidToolCall:()=>jh,parseToolCall:()=>F1});var SC=class extends _C{constructor(t){var r,s,a,i;super(t??{});se(this,"temperature");se(this,"topP");se(this,"frequencyPenalty");se(this,"presencePenalty");se(this,"n");se(this,"logitBias");se(this,"model","gpt-3.5-turbo");se(this,"modelKwargs");se(this,"stop");se(this,"stopSequences");se(this,"user");se(this,"timeout");se(this,"streaming",!1);se(this,"streamUsage",!0);se(this,"maxTokens");se(this,"logprobs");se(this,"topLogprobs");se(this,"apiKey");se(this,"organization");se(this,"__includeRawResponse");se(this,"client");se(this,"clientConfig");se(this,"supportsStrictToolCalling");se(this,"audio");se(this,"modalities");se(this,"reasoning");se(this,"zdrEnabled");se(this,"service_tier");se(this,"promptCacheKey");se(this,"promptCacheRetention");se(this,"verbosity");se(this,"defaultOptions");se(this,"lc_serializable",!0);const n=typeof((r=t==null?void 0:t.configuration)==null?void 0:r.apiKey)=="string"||typeof((s=t==null?void 0:t.configuration)==null?void 0:s.apiKey)=="function"?(a=t==null?void 0:t.configuration)==null?void 0:a.apiKey:void 0;this.apiKey=(t==null?void 0:t.apiKey)??n??oo("OPENAI_API_KEY"),this.organization=((i=t==null?void 0:t.configuration)==null?void 0:i.organization)??oo("OPENAI_ORGANIZATION"),this.model=(t==null?void 0:t.model)??(t==null?void 0:t.modelName)??this.model,this.modelKwargs=(t==null?void 0:t.modelKwargs)??{},this.timeout=t==null?void 0:t.timeout,this.temperature=(t==null?void 0:t.temperature)??this.temperature,this.topP=(t==null?void 0:t.topP)??this.topP,this.frequencyPenalty=(t==null?void 0:t.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(t==null?void 0:t.presencePenalty)??this.presencePenalty,this.logprobs=t==null?void 0:t.logprobs,this.topLogprobs=t==null?void 0:t.topLogprobs,this.n=(t==null?void 0:t.n)??this.n,this.logitBias=t==null?void 0:t.logitBias,this.stop=(t==null?void 0:t.stopSequences)??(t==null?void 0:t.stop),this.stopSequences=this.stop,this.user=t==null?void 0:t.user,this.__includeRawResponse=t==null?void 0:t.__includeRawResponse,this.audio=t==null?void 0:t.audio,this.modalities=t==null?void 0:t.modalities,this.reasoning=t==null?void 0:t.reasoning,this.maxTokens=(t==null?void 0:t.maxCompletionTokens)??(t==null?void 0:t.maxTokens),this.promptCacheKey=(t==null?void 0:t.promptCacheKey)??this.promptCacheKey,this.promptCacheRetention=(t==null?void 0:t.promptCacheRetention)??this.promptCacheRetention,this.verbosity=(t==null?void 0:t.verbosity)??this.verbosity,this.disableStreaming=(t==null?void 0:t.disableStreaming)===!0,this.streaming=(t==null?void 0:t.streaming)===!0,this.disableStreaming&&(this.streaming=!1),(t==null?void 0:t.streaming)===!1&&(this.disableStreaming=!0),this.streamUsage=(t==null?void 0:t.streamUsage)??this.streamUsage,this.disableStreaming&&(this.streamUsage=!1),this.clientConfig={apiKey:this.apiKey,organization:this.organization,dangerouslyAllowBrowser:!0,...t==null?void 0:t.configuration},(t==null?void 0:t.supportsStrictToolCalling)!==void 0&&(this.supportsStrictToolCalling=t.supportsStrictToolCalling),(t==null?void 0:t.service_tier)!==void 0&&(this.service_tier=t.service_tier),this.zdrEnabled=(t==null?void 0:t.zdrEnabled)??!1}_llmType(){return"openai"}static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed","reasoning","reasoning_effort","service_tier"]}get lc_secrets(){return{apiKey:"OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{apiKey:"openai_api_key",modelName:"model"}}get lc_serializable_keys(){return["configuration","logprobs","topLogprobs","prefixMessages","supportsStrictToolCalling","modalities","audio","temperature","maxTokens","topP","frequencyPenalty","presencePenalty","n","logitBias","user","streaming","streamUsage","model","modelName","modelKwargs","stop","stopSequences","timeout","apiKey","cache","maxConcurrency","maxRetries","verbose","callbacks","tags","metadata","disableStreaming","zdrEnabled","reasoning","promptCacheKey","promptCacheRetention","verbosity"]}getLsParams(t){const n=this.invocationParams(t);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??void 0,ls_max_tokens:n.max_tokens??void 0,ls_stop:t.stop}}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}_getReasoningParams(t){if(!Lm(this.model))return;let n;return this.reasoning!==void 0&&(n={...n,...this.reasoning}),(t==null?void 0:t.reasoning)!==void 0&&(n={...n,...t.reasoning}),(t==null?void 0:t.reasoningEffort)!==void 0&&(n==null?void 0:n.effort)===void 0&&(n={...n,effort:t.reasoningEffort}),n}_getResponseFormat(t){return t&&t.type==="json_schema"&&t.json_schema.schema&&eo(t.json_schema.schema)?y8e(t.json_schema.schema,t.json_schema.name,{description:t.json_schema.description}):t}_combineCallOptions(t){return{...this.defaultOptions,...t??{}}}_getClientOptions(t){if(!this.client){const r={baseURL:this.clientConfig.baseURL},s=W5e(r),a={...this.clientConfig,baseURL:s,timeout:this.timeout,maxRetries:0};a.baseURL||delete a.baseURL,a.defaultHeaders=Z5e(a.defaultHeaders),this.client=new mn(a)}return{...this.clientConfig,...t}}_convertChatOpenAIToolToCompletionsTool(t,n){return ry(t)?oNe(t.metadata.customTool):yC(t)?(n==null?void 0:n.strict)!==void 0?{...t,function:{...t.function,strict:n.strict}}:t:X5e(t,n)}bindTools(t,n){let r;return(n==null?void 0:n.strict)!==void 0?r=n.strict:this.supportsStrictToolCalling!==void 0&&(r=this.supportsStrictToolCalling),this.withConfig({tools:t.map(s=>mC(s)||ry(s)?s:eNe(s)?s.extras.providerToolDefinition:this._convertChatOpenAIToolToCompletionsTool(s,{strict:r})),...n})}async stream(t,n){return super.stream(t,this._combineCallOptions(n))}async invoke(t,n){return super.invoke(t,this._combineCallOptions(n))}_combineLLMOutput(...t){return t.reduce((n,r)=>(r&&r.tokenUsage&&(n.tokenUsage.completionTokens+=r.tokenUsage.completionTokens??0,n.tokenUsage.promptTokens+=r.tokenUsage.promptTokens??0,n.tokenUsage.totalTokens+=r.tokenUsage.totalTokens??0),n),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}async getNumTokensFromMessages(t){let n=0,r=0,s=0;this.model==="gpt-3.5-turbo-0301"?(r=4,s=-1):(r=3,s=1);const a=await Promise.all(t.map(async i=>{var h,p,m,g,v,y;const[o,l]=await Promise.all([this.getNumTokens(i.content),this.getNumTokens(Dm(i))]),u=i.name!==void 0?s+await this.getNumTokens(i.name):0;let c=o+r+l+u;const d=i;if(d._getType()==="function"&&(c-=2),(h=d.additional_kwargs)!=null&&h.function_call&&(c+=3),(p=d==null?void 0:d.additional_kwargs.function_call)!=null&&p.name&&(c+=await this.getNumTokens((m=d.additional_kwargs.function_call)==null?void 0:m.name)),(g=d.additional_kwargs.function_call)!=null&&g.arguments)try{c+=await this.getNumTokens(JSON.stringify(JSON.parse((v=d.additional_kwargs.function_call)==null?void 0:v.arguments)))}catch(b){console.error("Error parsing function arguments",b,JSON.stringify(d.additional_kwargs.function_call)),c+=await this.getNumTokens((y=d.additional_kwargs.function_call)==null?void 0:y.arguments)}return n+=c,c}));return n+=3,{totalCount:n,countPerMessage:a}}async _getNumTokensFromGenerations(t){return(await Promise.all(t.map(async r=>{var s;return(s=r.message.additional_kwargs)!=null&&s.function_call?(await this.getNumTokensFromMessages([r.message])).countPerMessage[0]:await this.getNumTokens(r.message.content)}))).reduce((r,s)=>r+s,0)}async _getEstimatedTokenCountFromPrompt(t,n,r){let s=(await this.getNumTokensFromMessages(t)).totalCount;if(n&&r!=="auto"){const a=Q5e(n);s+=await this.getNumTokens(a),s+=9}return n&&t.find(a=>a._getType()==="system")&&(s-=4),r==="none"?s+=1:typeof r=="object"&&(s+=await this.getNumTokens(r.name)+4),s}async moderateContent(t,n){const r=this._getClientOptions(n==null?void 0:n.options),s=(n==null?void 0:n.model)??"omni-moderation-latest",a={input:t,model:s};return this.caller.call(async()=>{try{return await this.client.moderations.create(a,r)}catch(i){throw _4(i)}})}get profile(){return _8e[this.model]??{}}_getStructuredOutputMethod(t){const n={...t};if(!this.model.startsWith("gpt-3")&&!this.model.startsWith("gpt-4-")&&this.model!=="gpt-4"){if((n==null?void 0:n.method)===void 0)return"jsonSchema"}else n.method==="jsonSchema"&&console.warn(`[WARNING]: JSON Schema is not supported for model "${this.model}". Falling back to tool calling.`);return n.method}withStructuredOutput(t,n){let r,s;const{schema:a,name:i,includeRaw:o}={...n,schema:t};if((n==null?void 0:n.strict)!==void 0&&n.method==="jsonMode")throw new Error("Argument `strict` is only supported for `method` = 'function_calling'");const l=g8e(this.model,n==null?void 0:n.method);if(l==="jsonMode"){eo(a)?s=ay.fromZodSchema(a):s=new p3;const h=ui(a);r=this.withConfig({outputVersion:"v0",response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"json_mode"},schema:{title:i??"extract",...h}}})}else if(l==="jsonSchema"){const h={name:i??"extract",description:N1(a),schema:a,strict:n==null?void 0:n.strict},p=ui(h.schema);if(r=this.withConfig({outputVersion:"v0",response_format:{type:"json_schema",json_schema:h},ls_structured_output_format:{kwargs:{method:"json_schema"},schema:{title:h.name,description:h.description,...p}}}),eo(a)){const m=ay.fromZodSchema(a);s=bl.from(g=>"parsed"in g.additional_kwargs?g.additional_kwargs.parsed:m)}else s=new p3}else{let h=i??"extract";if(eo(a)){const p=ui(a);r=this.withConfig({outputVersion:"v0",tools:[{type:"function",function:{name:h,description:p.description,parameters:p}}],tool_choice:{type:"function",function:{name:h}},ls_structured_output_format:{kwargs:{method:"function_calling"},schema:{title:h,...p}},...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}),s=new v3({returnSingle:!0,keyName:h,zodSchema:a})}else{let p;typeof a.name=="string"&&typeof a.parameters=="object"&&a.parameters!=null?(p=a,h=a.name):(h=a.title??h,p={name:h,description:a.description??"",parameters:a});const m=ui(a);r=this.withConfig({outputVersion:"v0",tools:[{type:"function",function:p}],tool_choice:{type:"function",function:{name:h}},ls_structured_output_format:{kwargs:{method:"function_calling"},schema:{title:h,...m}},...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}),s=new v3({returnSingle:!0,keyName:h})}}if(!o)return r.pipe(s);const u=pf.assign({parsed:(h,p)=>s.invoke(h.raw,p)}),c=pf.assign({parsed:()=>null}),d=u.withFallbacks({fallbacks:[c]});return Pm.from([{raw:r},d])}};const oF={providerName:"ChatOpenAI",fromStandardTextBlock(e){return{type:"text",text:e.text}},fromStandardImageBlock(e){var t,n;if(e.source_type==="url")return{type:"image_url",image_url:{url:e.url,...(t=e.metadata)!=null&&t.detail?{detail:e.metadata.detail}:{}}};if(e.source_type==="base64")return{type:"image_url",image_url:{url:`data:${e.mime_type??""};base64,${e.data}`,...(n=e.metadata)!=null&&n.detail?{detail:e.metadata.detail}:{}}};throw new Error(`Image content blocks with source_type ${e.source_type} are not supported for ChatOpenAI`)},fromStandardAudioBlock(e){if(e.source_type==="url"){const t=Np({dataUrl:e.url});if(!t)throw new Error(`URL audio blocks with source_type ${e.source_type} must be formatted as a data URL for ChatOpenAI`);const n=t.mime_type||e.mime_type||"";let r;try{r=k_(n)}catch{throw new Error(`Audio blocks with source_type ${e.source_type} must have mime type of audio/wav or audio/mp3`)}if(r.type!=="audio"||r.subtype!=="wav"&&r.subtype!=="mp3")throw new Error(`Audio blocks with source_type ${e.source_type} must have mime type of audio/wav or audio/mp3`);return{type:"input_audio",input_audio:{format:r.subtype,data:t.data}}}if(e.source_type==="base64"){let t;try{t=k_(e.mime_type??"")}catch{throw new Error(`Audio blocks with source_type ${e.source_type} must have mime type of audio/wav or audio/mp3`)}if(t.type!=="audio"||t.subtype!=="wav"&&t.subtype!=="mp3")throw new Error(`Audio blocks with source_type ${e.source_type} must have mime type of audio/wav or audio/mp3`);return{type:"input_audio",input_audio:{format:t.subtype,data:e.data}}}throw new Error(`Audio content blocks with source_type ${e.source_type} are not supported for ChatOpenAI`)},fromStandardFileBlock(e){var t,n,r,s,a;if(e.source_type==="url"){const i=Np({dataUrl:e.url}),o=ty(e);if(!i)throw new Error(`URL file blocks with source_type ${e.source_type} must be formatted as a data URL for ChatOpenAI`);return{type:"file",file:{file_data:e.url,...(t=e.metadata)!=null&&t.filename||(n=e.metadata)!=null&&n.name?{filename:o}:{}}}}if(e.source_type==="base64"){const i=ty(e);return{type:"file",file:{file_data:`data:${e.mime_type??""};base64,${e.data}`,...(r=e.metadata)!=null&&r.filename||(s=e.metadata)!=null&&s.name||(a=e.metadata)!=null&&a.title?{filename:i}:{}}}}if(e.source_type==="id")return{type:"file",file:{file_id:e.id}};throw new Error(`File content blocks with source_type ${e.source_type} are not supported for ChatOpenAI`)}},yOe=({message:e,rawResponse:t,includeRawResponse:n})=>{var s,a;const r=e.tool_calls;switch(e.role){case"assistant":{const i=[],o=[];for(const d of r??[])try{i.push(F1(d,{returnId:!0}))}catch(h){o.push(jh(d,h.message))}const l={function_call:e.function_call,tool_calls:r};n!==void 0&&(l.__raw_response=t);const u={model_provider:"openai",model_name:t.model,...t.system_fingerprint?{usage:{...t.usage},system_fingerprint:t.system_fingerprint}:{}};e.audio&&(l.audio=e.audio);const c=b8e(e.content||"",(a=(s=t.choices)==null?void 0:s[0])==null?void 0:a.message);return new xs({content:c,tool_calls:i,invalid_tool_calls:o,additional_kwargs:l,response_metadata:u,id:t.id})}default:return new Ac(e.content||"",e.role??"unknown")}},bOe=({delta:e,rawResponse:t,includeRawResponse:n,defaultRole:r})=>{var l,u;const s=e.role??r,a=e.content??"";let i;e.function_call?i={function_call:e.function_call}:e.tool_calls?i={tool_calls:e.tool_calls}:i={},n&&(i.__raw_response=t),e.audio&&(i.audio={...e.audio,index:t.choices[0].index});const o={model_provider:"openai",usage:{...t.usage}};if(s==="user")return new Om({content:a,response_metadata:o});if(s==="assistant"){const c=[];if(Array.isArray(e.tool_calls))for(const d of e.tool_calls)c.push({name:(l=d.function)==null?void 0:l.name,args:(u=d.function)==null?void 0:u.arguments,id:d.id,index:d.index,type:"tool_call_chunk"});return new Eo({content:a,tool_call_chunks:c,additional_kwargs:i,id:t.id,response_metadata:o})}else return s==="system"?new iu({content:a,response_metadata:o}):s==="developer"?new iu({content:a,response_metadata:o,additional_kwargs:{__openai_role__:"developer"}}):s==="function"?new Im({content:a,additional_kwargs:i,name:e.name,response_metadata:o}):s==="tool"?new km({content:a,additional_kwargs:i,tool_call_id:e.tool_call_id,response_metadata:o}):new Nm({content:a,role:s,response_metadata:o})},wOe=e=>{if(e.type==="image"){if(e.url)return{type:"image_url",image_url:{url:e.url}};if(e.data)return{type:"image_url",image_url:{url:`data:${e.mimeType};base64,${e.data}`}}}if(e.type==="audio"&&e.data){const t=lL(()=>{const[,n]=e.mimeType.split("/");return n==="wav"||n==="mp3"?n:"wav"});return{type:"input_audio",input_audio:{data:e.data.toString(),format:t}}}if(e.type==="file"){if(e.data){const t=ty(e);return{type:"file",file:{file_data:`data:${e.mimeType};base64,${e.data}`,filename:t}}}if(e.fileId)return{type:"file",file:{file_id:e.fileId}}}},_Oe=({message:e,model:t})=>{let n=Dm(e);if(n==="system"&&Lm(t)&&(n="developer"),n==="developer")return{role:"developer",content:e.contentBlocks.filter(s=>s.type==="text")};if(n==="system")return{role:"system",content:e.contentBlocks.filter(s=>s.type==="text")};if(n==="assistant")return{role:"assistant",content:e.contentBlocks.filter(s=>s.type==="text")};if(n==="tool"&&bo.isInstance(e))return{role:"tool",tool_call_id:e.tool_call_id,content:e.contentBlocks.filter(s=>s.type==="text")};if(n==="function")return{role:"function",name:e.name??"",content:e.contentBlocks.filter(s=>s.type==="text").join("")};function*r(s){for(const a of s){a.type==="text"&&(yield{type:"text",text:a.text});const i=wOe(a);i&&(yield i)}}return{role:"user",content:Array.from(r(e.contentBlocks))}},uI=({messages:e,model:t})=>e.flatMap(n=>{var i,o;if("output_version"in n.response_metadata&&((i=n.response_metadata)==null?void 0:i.output_version)==="v1")return _Oe({message:n});let r=Dm(n);r==="system"&&Lm(t)&&(r="developer");const s=typeof n.content=="string"?n.content:n.content.flatMap(l=>yo(l)?x4(l,oF):typeof l=="object"&&l!==null&&"type"in l&&l.type==="tool_use"?[]:l),a={role:r,content:s};if(n.name!=null&&(a.name=n.name),n.additional_kwargs.function_call!=null&&(a.function_call=n.additional_kwargs.function_call),xs.isInstance(n)&&((o=n.tool_calls)!=null&&o.length)?a.tool_calls=n.tool_calls.map(aF):(n.additional_kwargs.tool_calls!=null&&(a.tool_calls=n.additional_kwargs.tool_calls),bo.isInstance(n)&&n.tool_call_id!=null&&(a.tool_call_id=n.tool_call_id)),n.additional_kwargs.audio&&typeof n.additional_kwargs.audio=="object"&&"id"in n.additional_kwargs.audio){const l={role:"assistant",audio:{id:n.additional_kwargs.audio.id}};return[a,l]}return a});var SOe=class extends SC{invocationParams(e,t){var i;let n;(e==null?void 0:e.strict)!==void 0?n=e.strict:this.supportsStrictToolCalling!==void 0&&(n=this.supportsStrictToolCalling);let r={};(e==null?void 0:e.stream_options)!==void 0?r={stream_options:e.stream_options}:this.streamUsage&&(this.streaming||t!=null&&t.streaming)&&(r={stream_options:{include_usage:!0}});const s={model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stopSequences,user:this.user,stream:this.streaming,functions:e==null?void 0:e.functions,function_call:e==null?void 0:e.function_call,tools:(i=e==null?void 0:e.tools)!=null&&i.length?e.tools.map(o=>this._convertChatOpenAIToolToCompletionsTool(o,{strict:n})):void 0,tool_choice:Pz(e==null?void 0:e.tool_choice),response_format:this._getResponseFormat(e==null?void 0:e.response_format),seed:e==null?void 0:e.seed,...r,parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,...this.audio||e!=null&&e.audio?{audio:this.audio||(e==null?void 0:e.audio)}:{},...this.modalities||e!=null&&e.modalities?{modalities:this.modalities||(e==null?void 0:e.modalities)}:{},...this.modelKwargs,prompt_cache_key:(e==null?void 0:e.promptCacheKey)??this.promptCacheKey,prompt_cache_retention:(e==null?void 0:e.promptCacheRetention)??this.promptCacheRetention,verbosity:(e==null?void 0:e.verbosity)??this.verbosity};(e==null?void 0:e.prediction)!==void 0&&(s.prediction=e.prediction),this.service_tier!==void 0&&(s.service_tier=this.service_tier),(e==null?void 0:e.service_tier)!==void 0&&(s.service_tier=e.service_tier);const a=this._getReasoningParams(e);return a!==void 0&&a.effort!==void 0&&(s.reasoning_effort=a.effort),Lm(s.model)?s.max_completion_tokens=this.maxTokens===-1?void 0:this.maxTokens:s.max_tokens=this.maxTokens===-1?void 0:this.maxTokens,s}async _generate(e,t,n){var i,o,l;(i=t.signal)==null||i.throwIfAborted();const r={},s=this.invocationParams(t),a=uI({messages:e,model:this.model});if(s.stream){const u=this._streamResponseChunks(e,t,n),c={};for await(const v of u){v.message.response_metadata={...v.generationInfo,...v.message.response_metadata};const y=((o=v.generationInfo)==null?void 0:o.completion)??0;c[y]===void 0?c[y]=v:c[y]=c[y].concat(v)}const d=Object.entries(c).sort(([v],[y])=>parseInt(v,10)-parseInt(y,10)).map(([v,y])=>y),{functions:h,function_call:p}=this.invocationParams(t),m=await this._getEstimatedTokenCountFromPrompt(e,h,p),g=await this._getNumTokensFromGenerations(d);return r.input_tokens=m,r.output_tokens=g,r.total_tokens=m+g,{generations:d,llmOutput:{estimatedTokenUsage:{promptTokens:r.input_tokens,completionTokens:r.output_tokens,totalTokens:r.total_tokens}}}}else{const u=await this.completionWithRetry({...s,stream:!1,messages:a},{signal:t==null?void 0:t.signal,...t==null?void 0:t.options}),{completion_tokens:c,prompt_tokens:d,total_tokens:h,prompt_tokens_details:p,completion_tokens_details:m}=(u==null?void 0:u.usage)??{};c&&(r.output_tokens=(r.output_tokens??0)+c),d&&(r.input_tokens=(r.input_tokens??0)+d),h&&(r.total_tokens=(r.total_tokens??0)+h),((p==null?void 0:p.audio_tokens)!==null||(p==null?void 0:p.cached_tokens)!==null)&&(r.input_token_details={...(p==null?void 0:p.audio_tokens)!==null&&{audio:p==null?void 0:p.audio_tokens},...(p==null?void 0:p.cached_tokens)!==null&&{cache_read:p==null?void 0:p.cached_tokens}}),((m==null?void 0:m.audio_tokens)!==null||(m==null?void 0:m.reasoning_tokens)!==null)&&(r.output_token_details={...(m==null?void 0:m.audio_tokens)!==null&&{audio:m==null?void 0:m.audio_tokens},...(m==null?void 0:m.reasoning_tokens)!==null&&{reasoning:m==null?void 0:m.reasoning_tokens}});const g=[];for(const v of(u==null?void 0:u.choices)??[]){const b={text:((l=v.message)==null?void 0:l.content)??"",message:this._convertCompletionsMessageToBaseMessage(v.message??{role:"assistant"},u)};b.generationInfo={...v.finish_reason?{finish_reason:v.finish_reason}:{},...v.logprobs?{logprobs:v.logprobs}:{}},f1(b.message)&&(b.message.usage_metadata=r),b.message=new xs(Object.fromEntries(Object.entries(b.message).filter(([w])=>!w.startsWith("lc_")))),g.push(b)}return{generations:g,llmOutput:{tokenUsage:{promptTokens:r.input_tokens,completionTokens:r.output_tokens,totalTokens:r.total_tokens}}}}}async*_streamResponseChunks(e,t,n){var l,u,c,d,h,p,m,g,v,y,b;const r=uI({messages:e,model:this.model}),s={...this.invocationParams(t,{streaming:!0}),messages:r,stream:!0};let a;const i=await this.completionWithRetry(s,t);let o;for await(const w of i){if((l=t.signal)!=null&&l.aborted)return;const _=(u=w==null?void 0:w.choices)==null?void 0:u[0];if(w.usage&&(o=w.usage),!_)continue;const{delta:S}=_;if(!S)continue;const C=this._convertCompletionsDeltaToBaseMessageChunk(S,w,a);a=S.role??a;const T={prompt:t.promptIndex??0,completion:_.index??0};if(typeof C.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const x={...T};_.finish_reason!=null&&(x.finish_reason=_.finish_reason,x.system_fingerprint=w.system_fingerprint,x.model_name=w.model,x.service_tier=w.service_tier),this.logprobs&&(x.logprobs=_.logprobs);const N=new af({message:C,text:C.content,generationInfo:x});yield N,await(n==null?void 0:n.handleLLMNewToken(N.text??"",T,void 0,void 0,void 0,{chunk:N}))}if(o){const w={...((c=o.prompt_tokens_details)==null?void 0:c.audio_tokens)!==null&&{audio:(d=o.prompt_tokens_details)==null?void 0:d.audio_tokens},...((h=o.prompt_tokens_details)==null?void 0:h.cached_tokens)!==null&&{cache_read:(p=o.prompt_tokens_details)==null?void 0:p.cached_tokens}},_={...((m=o.completion_tokens_details)==null?void 0:m.audio_tokens)!==null&&{audio:(g=o.completion_tokens_details)==null?void 0:g.audio_tokens},...((v=o.completion_tokens_details)==null?void 0:v.reasoning_tokens)!==null&&{reasoning:(y=o.completion_tokens_details)==null?void 0:y.reasoning_tokens}};yield new af({message:new Eo({content:"",response_metadata:{usage:{...o}},usage_metadata:{input_tokens:o.prompt_tokens,output_tokens:o.completion_tokens,total_tokens:o.total_tokens,...Object.keys(w).length>0&&{input_token_details:w},...Object.keys(_).length>0&&{output_token_details:_}}}),text:""})}if((b=t.signal)!=null&&b.aborted)throw new Error("AbortError")}async completionWithRetry(e,t){const n=this._getClientOptions(t),r=e.response_format&&e.response_format.type==="json_schema";return this.caller.call(async()=>{try{return r&&!e.stream?await this.client.chat.completions.parse(e,n):await this.client.chat.completions.create(e,n)}catch(s){throw _4(s)}})}_convertCompletionsDeltaToBaseMessageChunk(e,t,n){return bOe({delta:e,rawResponse:t,includeRawResponse:this.__includeRawResponse,defaultRole:n})}_convertCompletionsMessageToBaseMessage(e,t){return yOe({message:e,rawResponse:t,includeRawResponse:this.__includeRawResponse})}};const yd="__openai_function_call_ids__";function lF(e){return e.type==="url_citation"?{type:"citation",source:"url_citation",url:e.url,title:e.title,startIndex:e.start_index,endIndex:e.end_index}:e.type==="file_citation"?{type:"citation",source:"file_citation",title:e.filename,startIndex:e.index,file_id:e.file_id}:e.type==="container_file_citation"?{type:"citation",source:"container_file_citation",title:e.filename,startIndex:e.start_index,endIndex:e.end_index,file_id:e.file_id,container_id:e.container_id}:e.type==="file_path"?{type:"citation",source:"file_path",startIndex:e.index,file_id:e.file_id}:{type:"non_standard",value:e}}function COe(e){if(e.type==="url_citation"||e.type==="file_citation"||e.type==="container_file_citation"||e.type==="file_path")return e;if(e.type==="citation"){const t=e;if(t.source==="url_citation")return{type:"url_citation",url:t.url??"",title:t.title??"",start_index:t.startIndex??0,end_index:t.endIndex??0};if(t.source==="file_citation")return{type:"file_citation",file_id:t.file_id??"",filename:t.title??"",index:t.startIndex??0};if(t.source==="container_file_citation")return{type:"container_file_citation",file_id:t.file_id??"",filename:t.title??"",container_id:t.container_id??"",start_index:t.startIndex??0,end_index:t.endIndex??0};if(t.source==="file_path")return{type:"file_path",file_id:t.file_id??"",index:t.startIndex??0}}return e.type==="non_standard"?e.value:e}const uF=e=>{var r,s,a,i;const t={...((r=e==null?void 0:e.input_tokens_details)==null?void 0:r.cached_tokens)!=null&&{cache_read:(s=e==null?void 0:e.input_tokens_details)==null?void 0:s.cached_tokens}},n={...((a=e==null?void 0:e.output_tokens_details)==null?void 0:a.reasoning_tokens)!=null&&{reasoning:(i=e==null?void 0:e.output_tokens_details)==null?void 0:i.reasoning_tokens}};return{input_tokens:(e==null?void 0:e.input_tokens)??0,output_tokens:(e==null?void 0:e.output_tokens)??0,total_tokens:(e==null?void 0:e.total_tokens)??0,input_token_details:t,output_token_details:n}},cF=e=>{var o;if(e.error){const l=new Error(e.error.message);throw l.name=e.error.code,l}let t;const n=[],r=[],s=[],a={model_provider:"openai",model:e.model,created_at:e.created_at,id:e.id,incomplete_details:e.incomplete_details,metadata:e.metadata,object:e.object,status:e.status,user:e.user,service_tier:e.service_tier,model_name:e.model},i={};for(const l of e.output)if(l.type==="message")t=l.id,n.push(...l.content.flatMap(u=>u.type==="output_text"?("parsed"in u&&u.parsed!=null&&(i.parsed=u.parsed),{type:"text",text:u.text,annotations:u.annotations.map(lF)}):u.type==="refusal"?(i.refusal=u.refusal,[]):u));else if(l.type==="function_call"){const u={function:{name:l.name,arguments:l.arguments},id:l.call_id};try{r.push(F1(u,{returnId:!0}))}catch(c){let d;typeof c=="object"&&c!=null&&"message"in c&&typeof c.message=="string"&&(d=c.message),s.push(jh(u,d))}i[yd]??(i[yd]={}),l.id&&(i[yd][l.call_id]=l.id)}else if(l.type==="reasoning"){i.reasoning=l;const u=(o=l.summary)==null?void 0:o.map(c=>c.text).filter(Boolean).join("");u&&n.push({type:"reasoning",reasoning:u})}else if(l.type==="custom_tool_call"){const u=nNe(l);u?r.push(u):s.push(jh(l,"Malformed custom tool call"))}else if(l.type==="computer_call"){const u=rNe(l);u?r.push(u):s.push(jh(l,"Malformed computer call"))}else l.type==="image_generation_call"?(l.result&&n.push({type:"image",mimeType:"image/png",data:l.result,id:l.id,metadata:{status:l.status}}),i.tool_outputs??(i.tool_outputs=[]),i.tool_outputs.push(l)):(i.tool_outputs??(i.tool_outputs=[]),i.tool_outputs.push(l));return new xs({id:t,content:n,tool_calls:r,invalid_tool_calls:s,usage_metadata:uF(e.usage),additional_kwargs:i,response_metadata:a})},xOe=e=>{const t=(e.summary.length>1?e.summary.reduce((n,r)=>{const s=n[n.length-1];return s.index===r.index?s.text+=r.text:n.push(r),n},[{...e.summary[0]}]):e.summary).map(n=>Object.fromEntries(Object.entries(n).filter(([r])=>r!=="index")));return{...e,summary:t}},EOe=e=>{var l,u,c;const t=[];let n={},r;const s=[],a={model_provider:"openai"},i={};let o;if(e.type==="response.output_text.delta")t.push({type:"text",text:e.delta,index:e.content_index});else if(e.type==="response.output_text.annotation.added")t.push({type:"text",text:"",annotations:[lF(e.annotation)],index:e.content_index});else if(e.type==="response.output_item.added"&&e.item.type==="message")o=e.item.id;else if(e.type==="response.output_item.added"&&e.item.type==="function_call")s.push({type:"tool_call_chunk",name:e.item.name,args:e.item.arguments,id:e.item.call_id,index:e.output_index}),i[yd]={[e.item.call_id]:e.item.id};else if(e.type==="response.output_item.done"&&e.item.type==="computer_call")s.push({type:"tool_call_chunk",name:"computer_use",args:JSON.stringify({action:e.item.action}),id:e.item.call_id,index:e.output_index}),i.tool_outputs=[e.item];else if(e.type==="response.output_item.done"&&e.item.type==="image_generation_call")e.item.result&&t.push({type:"image",mimeType:"image/png",data:e.item.result,id:e.item.id,metadata:{status:e.item.status}}),i.tool_outputs=[e.item];else if(e.type==="response.output_item.done"&&["web_search_call","file_search_call","code_interpreter_call","shell_call","local_shell_call","mcp_call","mcp_list_tools","mcp_approval_request","custom_tool_call"].includes(e.item.type))i.tool_outputs=[e.item];else if(e.type==="response.created")a.id=e.response.id,a.model_name=e.response.model,a.model=e.response.model;else if(e.type==="response.completed"){const d=cF(e.response);r=uF(e.response.usage),((u=(l=e.response.text)==null?void 0:l.format)==null?void 0:u.type)==="json_schema"&&(i.parsed??(i.parsed=JSON.parse(d.text)));for(const[h,p]of Object.entries(e.response))h!=="id"&&(a[h]=p)}else if(e.type==="response.function_call_arguments.delta"||e.type==="response.custom_tool_call_input.delta")s.push({type:"tool_call_chunk",args:e.delta,index:e.output_index});else if(e.type==="response.web_search_call.completed"||e.type==="response.file_search_call.completed")n={tool_outputs:{id:e.item_id,type:e.type.replace("response.","").replace(".completed",""),status:"completed"}};else if(e.type==="response.refusal.done")i.refusal=e.refusal;else if(e.type==="response.output_item.added"&&"item"in e&&e.item.type==="reasoning"){const d=e.item.summary?e.item.summary.map((p,m)=>({...p,index:m})):void 0;i.reasoning={id:e.item.id,type:e.item.type,...d?{summary:d}:{}};const h=(c=e.item.summary)==null?void 0:c.map(p=>p.text).filter(Boolean).join("");h&&t.push({type:"reasoning",reasoning:h})}else if(e.type==="response.reasoning_summary_part.added")i.reasoning={type:"reasoning",summary:[{...e.part,index:e.summary_index}]},e.part.text&&t.push({type:"reasoning",reasoning:e.part.text});else if(e.type==="response.reasoning_summary_text.delta")i.reasoning={type:"reasoning",summary:[{text:e.delta,type:"summary_text",index:e.summary_index}]},e.delta&&t.push({type:"reasoning",reasoning:e.delta});else return e.type==="response.image_generation_call.partial_image",null;return new af({text:t.map(d=>d.text).join(""),message:new Eo({id:o,content:t,tool_call_chunks:s,usage_metadata:r,additional_kwargs:i,response_metadata:a}),generationInfo:n})},TOe=e=>{var r;const t=xs.isInstance(e)&&((r=e.response_metadata)==null?void 0:r.model_provider)==="openai";function*n(){const s=sc(()=>{try{const b=Dm(e);return b==="system"||b==="developer"||b==="assistant"||b==="user"?b:"assistant"}catch{return"assistant"}});let a;const i=new Set,o=new Set,l=new Map,u=new Map;function*c(){if(!a)return;const b=a.content;(typeof b=="string"&&b.length>0||Array.isArray(b)&&b.length>0)&&(yield a),a=void 0}const d=b=>{a||(a={type:"message",role:s,content:[]}),typeof a.content=="string"?a.content=a.content.length>0?[{type:"input_text",text:a.content},...b]:[...b]:a.content.push(...b)},h=b=>{if(typeof b=="string")return b;try{return JSON.stringify(b??{})}catch{return"{}"}},p=b=>{const w=sc(()=>{var S;const _=(S=b.metadata)==null?void 0:S.detail;return _==="low"||_==="high"||_==="auto"?_:"auto"});if(b.fileId)return{type:"input_image",detail:w,file_id:b.fileId};if(b.url)return{type:"input_image",detail:w,image_url:b.url};if(b.data){const _=typeof b.data=="string"?b.data:Buffer.from(b.data).toString("base64"),S=b.mimeType??"image/png";return{type:"input_image",detail:w,image_url:`data:${S};base64,${_}`}}},m=b=>{if(b.fileId){const w=XN(b);return{type:"input_file",file_id:b.fileId,...w?{filename:w}:{}}}if(b.url){const w=XN(b);return{...w?{filename:w}:{},type:"input_file",file_url:b.url}}if(b.data){const w=ty(b),_=typeof b.data=="string"?b.data:Buffer.from(b.data).toString("base64");return{type:"input_file",file_data:`data:${b.mimeType??"application/octet-stream"};base64,${_}`,...w?{filename:w}:{}}}},g=b=>{const w=sc(()=>{if(Array.isArray(b.summary)){const C=b.summary,T=(C==null?void 0:C.map(x=>x==null?void 0:x.text).filter(x=>typeof x=="string"))??[];if(T.length>0)return T}return b.reasoning?[b.reasoning]:[]}),_=w.length>0?w.map(C=>({type:"summary_text",text:C})):[{type:"summary_text",text:""}],S={type:"reasoning",id:b.id??"",summary:_};return b.reasoning&&(S.content=[{type:"reasoning_text",text:b.reasoning}]),S},v=b=>({type:"function_call",name:b.name??"",call_id:b.id??"",arguments:h(b.args)}),y=b=>{const w=h(b.output),_=b.status==="success"?"completed":b.status==="error"?"incomplete":void 0;return{type:"function_call_output",call_id:b.toolCallId??"",output:w,..._?{status:_}:{}}};for(const b of e.contentBlocks)if(b.type==="text")d([{type:"input_text",text:b.text}]);else if(b.type!=="invalid_tool_call"){if(b.type==="reasoning")yield*c(),yield g(b);else if(b.type==="tool_call"){yield*c();const w=b.id??"";w&&(i.add(w),l.delete(w)),yield v(b)}else if(b.type==="tool_call_chunk"){if(b.id){const w=l.get(b.id)??{name:b.name,args:[]};b.name&&(w.name=b.name),b.args&&w.args.push(b.args),l.set(b.id,w)}}else if(b.type==="server_tool_call"){yield*c();const w=b.id??"";w&&(o.add(w),u.delete(w)),yield v(b)}else if(b.type==="server_tool_call_chunk"){if(b.id){const w=u.get(b.id)??{name:b.name,args:[]};b.name&&(w.name=b.name),b.args&&w.args.push(b.args),u.set(b.id,w)}}else if(b.type==="server_tool_call_result")yield*c(),yield y(b);else if(b.type!=="audio")if(b.type==="file"){const w=m(b);w&&d([w])}else if(b.type==="image"){const w=p(b);w&&d([w])}else if(b.type==="video"){const w=m(b);w&&d([w])}else b.type==="text-plain"?b.text&&d([{type:"input_text",text:b.text}]):b.type==="non_standard"&&t&&(yield*c(),yield b.value)}yield*c();for(const[b,w]of l){if(!b||i.has(b))continue;const _=w.args.join("");!w.name&&!_||(yield{type:"function_call",call_id:b,name:w.name??"",arguments:_})}for(const[b,w]of u){if(!b||o.has(b))continue;const _=w.args.join("");!w.name&&!_||(yield{type:"function_call",call_id:b,name:w.name??"",arguments:_})}}return Array.from(n())},cI=({messages:e,zdrEnabled:t,model:n})=>e.flatMap(r=>{var o,l,u,c;const s=r.response_metadata;if((s==null?void 0:s.output_version)==="v1")return TOe(r);const a=r.additional_kwargs;let i=Dm(r);if(i==="system"&&Lm(n)&&(i="developer"),i==="function")throw new Error("Function messages are not supported in Responses API");if(i==="tool"){const d=r;if((a==null?void 0:a.type)==="computer_call_output")return{type:"computer_call_output",output:(()=>{if(typeof d.content=="string")return{type:"input_image",image_url:d.content};if(Array.isArray(d.content)){const m=d.content.find(y=>y.type==="input_image");if(m)return m;const g=d.content.find(y=>y.type==="computer_screenshot");if(g)return g;const v=d.content.find(y=>y.type==="image_url");if(v)return{type:"input_image",image_url:typeof v.image_url=="string"?v.image_url:v.image_url.url}}throw new Error("Invalid computer call output")})(),call_id:d.tool_call_id};if((o=d.additional_kwargs)!=null&&o.customTool)return{type:"custom_tool_call_output",call_id:d.tool_call_id,output:d.content};const h=Array.isArray(d.content)&&d.content.every(p=>typeof p=="object"&&p!==null&&"type"in p&&(p.type==="input_file"||p.type==="input_image"||p.type==="input_text"));return{type:"function_call_output",call_id:d.tool_call_id,id:(l=d.id)!=null&&l.startsWith("fc_")?d.id:void 0,output:h?d.content:typeof d.content!="string"?JSON.stringify(d.content):d.content}}if(i==="assistant"){if(!t&&(s==null?void 0:s.output)!=null&&Array.isArray(s==null?void 0:s.output)&&(s==null?void 0:s.output.length)>0&&(s!=null&&s.output.every(b=>"type"in b)))return s==null?void 0:s.output;const d=[],h=a==null?void 0:a.reasoning,p=!!(h!=null&&h.encrypted_content);if(h&&(!t||p)){const b=xOe(h);d.push(b)}let{content:m}=r;a!=null&&a.refusal&&(typeof m=="string"&&(m=[{type:"output_text",text:m,annotations:[]}]),m=[...m,{type:"refusal",refusal:a.refusal}]),(typeof m=="string"||m.length>0)&&d.push({type:"message",role:"assistant",...r.id&&!t&&r.id.startsWith("msg_")?{id:r.id}:{},content:sc(()=>typeof m=="string"?m:m.flatMap(b=>b.type==="text"?{type:"output_text",text:b.text,annotations:(b.annotations??[]).map(COe)}:b.type==="output_text"||b.type==="refusal"?b:[]))});const g=a==null?void 0:a[yd];xs.isInstance(r)&&((u=r.tool_calls)!=null&&u.length)?d.push(...r.tool_calls.map(b=>aNe(b)?{type:"custom_tool_call",id:b.call_id,call_id:b.id??"",input:b.args.input,name:b.name}:sNe(b)?{type:"computer_call",id:b.call_id,call_id:b.id??"",action:b.args.action}:{type:"function_call",name:b.name,arguments:JSON.stringify(b.args),call_id:b.id,...t?{}:{id:g==null?void 0:g[b.id]}})):a!=null&&a.tool_calls&&d.push(...a.tool_calls.map(b=>({type:"function_call",name:b.function.name,call_id:b.id,arguments:b.function.arguments,...t?{}:{id:g==null?void 0:g[b.id]}})));const v=(c=s==null?void 0:s.output)!=null&&c.length?s==null?void 0:s.output:a.tool_outputs,y=["computer_call","mcp_call","code_interpreter_call","image_generation_call","shell_call","local_shell_call"];if(v!=null){const b=v,w=b==null?void 0:b.filter(_=>y.includes(_.type));w.length>0&&d.push(...w)}return d}if(i==="user"||i==="system"||i==="developer"){if(typeof r.content=="string")return{type:"message",role:i,content:r.content};const d=[],h=r.content.flatMap(p=>{if(p.type==="mcp_approval_response"&&d.push({type:"mcp_approval_response",approval_request_id:p.approval_request_id,approve:p.approve}),yo(p))return x4(p,oF);if(p.type==="text")return{type:"input_text",text:p.text};if(p.type==="image_url"){const m=sc(()=>{if(typeof p.image_url=="string")return p.image_url;if(typeof p.image_url=="object"&&p.image_url!==null&&"url"in p.image_url)return p.image_url.url}),g=sc(()=>{if(typeof p.image_url=="string")return"auto";if(typeof p.image_url=="object"&&p.image_url!==null&&"detail"in p.image_url)return p.image_url.detail});return{type:"input_image",image_url:m,detail:g}}return p.type==="input_text"||p.type==="input_image"||p.type==="input_file"?p:[]});return h.length>0&&d.push({type:"message",role:i,content:h}),d}return console.warn(`Unsupported role found when converting to OpenAI Responses API: ${i}`),[]});var kOe=class extends SC{invocationParams(e){var s;let t;(e==null?void 0:e.strict)!==void 0&&(t=e.strict),t===void 0&&this.supportsStrictToolCalling!==void 0&&(t=this.supportsStrictToolCalling);const n={model:this.model,temperature:this.temperature,top_p:this.topP,user:this.user,stream:this.streaming,previous_response_id:e==null?void 0:e.previous_response_id,truncation:e==null?void 0:e.truncation,include:e==null?void 0:e.include,tools:(s=e==null?void 0:e.tools)!=null&&s.length?this._reduceChatOpenAITools(e.tools,{stream:this.streaming,strict:t}):void 0,tool_choice:tNe(e==null?void 0:e.tool_choice)?e==null?void 0:e.tool_choice:(()=>{const a=Pz(e==null?void 0:e.tool_choice);if(typeof a=="object"&&"type"in a){if(a.type==="function")return{type:"function",name:a.function.name};if(a.type==="allowed_tools")return{type:"allowed_tools",mode:a.allowed_tools.mode,tools:a.allowed_tools.tools};if(a.type==="custom")return{type:"custom",name:a.custom.name}}})(),text:(()=>{if(e!=null&&e.text)return e.text;const a=this._getResponseFormat(e==null?void 0:e.response_format);return(a==null?void 0:a.type)==="json_schema"?a.json_schema.schema!=null?{format:{type:"json_schema",schema:a.json_schema.schema,description:a.json_schema.description,name:a.json_schema.name,strict:a.json_schema.strict},verbosity:e==null?void 0:e.verbosity}:void 0:{format:a,verbosity:e==null?void 0:e.verbosity}})(),parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,max_output_tokens:this.maxTokens===-1?void 0:this.maxTokens,prompt_cache_key:(e==null?void 0:e.promptCacheKey)??this.promptCacheKey,prompt_cache_retention:(e==null?void 0:e.promptCacheRetention)??this.promptCacheRetention,...this.zdrEnabled?{store:!1}:{},...this.modelKwargs},r=this._getReasoningParams(e);return r!==void 0&&(n.reasoning=r),n}async _generate(e,t,n){var s,a;(s=t.signal)==null||s.throwIfAborted();const r=this.invocationParams(t);if(r.stream){const i=this._streamResponseChunks(e,t,n);let o;for await(const l of i)l.message.response_metadata={...l.generationInfo,...l.message.response_metadata},o=(o==null?void 0:o.concat(l))??l;return{generations:o?[o]:[],llmOutput:{estimatedTokenUsage:(a=o==null?void 0:o.message)==null?void 0:a.usage_metadata}}}else{const i=await this.completionWithRetry({input:cI({messages:e,zdrEnabled:this.zdrEnabled??!1,model:this.model}),...r,stream:!1},{signal:t==null?void 0:t.signal,...t==null?void 0:t.options});return{generations:[{text:i.output_text,message:cF(i)}],llmOutput:{id:i.id,estimatedTokenUsage:i.usage?{promptTokens:i.usage.input_tokens,completionTokens:i.usage.output_tokens,totalTokens:i.usage.total_tokens}:void 0}}}}async*_streamResponseChunks(e,t,n){var s;const r=await this.completionWithRetry({...this.invocationParams(t),input:cI({messages:e,zdrEnabled:this.zdrEnabled??!1,model:this.model}),stream:!0},t);for await(const a of r){if((s=t.signal)!=null&&s.aborted)return;const i=EOe(a);i!=null&&(yield i,await(n==null?void 0:n.handleLLMNewToken(i.text||"",{prompt:t.promptIndex??0,completion:0},void 0,void 0,void 0,{chunk:i})))}}async completionWithRetry(e,t){return this.caller.call(async()=>{var r,s;const n=this._getClientOptions(t);try{return((s=(r=e.text)==null?void 0:r.format)==null?void 0:s.type)==="json_schema"&&!e.stream?await this.client.responses.parse(e,n):await this.client.responses.create(e,n)}catch(a){throw _4(a)}})}_reduceChatOpenAITools(e,t){const n=[];for(const r of e)if(mC(r))r.type==="image_generation"&&(t!=null&&t.stream)&&(r.partial_images=1),n.push(r);else if(ry(r)){const s=r.metadata.customTool;n.push({type:"custom",name:s.name,description:s.description,format:s.format})}else yC(r)?n.push({type:"function",name:r.function.name,parameters:r.function.parameters,description:r.function.description,strict:(t==null?void 0:t.strict)??null}):Lz(r)&&n.push(iNe(r));return n}},NOe=class dF extends SC{constructor(n){super(n);se(this,"useResponsesApi",!1);se(this,"responses");se(this,"completions");this.fields=n,this.useResponsesApi=(n==null?void 0:n.useResponsesApi)??!1,this.responses=(n==null?void 0:n.responses)??new kOe(n),this.completions=(n==null?void 0:n.completions)??new SOe(n)}get lc_serializable_keys(){return[...super.lc_serializable_keys,"useResponsesApi"]}get callKeys(){return[...super.callKeys,"useResponsesApi"]}_useResponsesApi(n){var i,o,l,u,c;const r=(i=n==null?void 0:n.tools)==null?void 0:i.some(mC),s=(n==null?void 0:n.previous_response_id)!=null||(n==null?void 0:n.text)!=null||(n==null?void 0:n.truncation)!=null||(n==null?void 0:n.include)!=null||((o=n==null?void 0:n.reasoning)==null?void 0:o.summary)!=null||((l=this.reasoning)==null?void 0:l.summary)!=null,a=((u=n==null?void 0:n.tools)==null?void 0:u.some(Lz))||((c=n==null?void 0:n.tools)==null?void 0:c.some(ry));return this.useResponsesApi||r||s||a||U5e(this.model)}getLsParams(n){const r=this._combineCallOptions(n);return this._useResponsesApi(n)?this.responses.getLsParams(r):this.completions.getLsParams(r)}invocationParams(n){const r=this._combineCallOptions(n);return this._useResponsesApi(n)?this.responses.invocationParams(r):this.completions.invocationParams(r)}async _generate(n,r,s){return this._useResponsesApi(r)?this.responses._generate(n,r,s):this.completions._generate(n,r,s)}async*_streamResponseChunks(n,r,s){if(this._useResponsesApi(r)){yield*this.responses._streamResponseChunks(n,this._combineCallOptions(r),s);return}yield*this.completions._streamResponseChunks(n,this._combineCallOptions(r),s)}withConfig(n){const r=new dF(this.fields);return r.defaultOptions={...this.defaultOptions,...n},r}},IOe={};xn(IOe,{BaseLLM:()=>fF,LLM:()=>OOe});var fF=class mh extends wC{constructor(){super(...arguments);se(this,"lc_namespace",["langchain","llms",this._llmType()])}async invoke(n,r){const s=mh._convertInputToPromptValue(n);return(await this.generatePrompt([s],r,r==null?void 0:r.callbacks)).generations[0][0].text}async*_streamResponseChunks(n,r,s){throw new Error("Not implemented.")}_separateRunnableConfigFromCallOptionsCompat(n){const[r,s]=super._separateRunnableConfigFromCallOptions(n);return s.signal=r.signal,[r,s]}async*_streamIterator(n,r){if(this._streamResponseChunks===mh.prototype._streamResponseChunks)yield this.invoke(n,r);else{const s=mh._convertInputToPromptValue(n),[a,i]=this._separateRunnableConfigFromCallOptionsCompat(r),o=await Qs.configure(a.callbacks,this.callbacks,a.tags,this.tags,a.metadata,this.metadata,{verbose:this.verbose}),l={options:i,invocation_params:this==null?void 0:this.invocationParams(i),batch_size:1},u=await(o==null?void 0:o.handleLLMStart(this.toJSON(),[s.toString()],a.runId,void 0,l,void 0,void 0,a.runName));let c=new sf({text:""});try{for await(const d of this._streamResponseChunks(s.toString(),i,u==null?void 0:u[0]))c?c=c.concat(d):c=d,typeof d.text=="string"&&(yield d.text)}catch(d){throw await Promise.all((u??[]).map(h=>h==null?void 0:h.handleLLMError(d))),d}await Promise.all((u??[]).map(d=>d==null?void 0:d.handleLLMEnd({generations:[[c]]})))}}async generatePrompt(n,r,s){const a=n.map(i=>i.toString());return this.generate(a,r,s)}invocationParams(n){return{}}_flattenLLMResult(n){const r=[];for(let s=0;s<n.generations.length;s+=1){const a=n.generations[s];if(s===0)r.push({generations:[a],llmOutput:n.llmOutput});else{const i=n.llmOutput?{...n.llmOutput,tokenUsage:{}}:void 0;r.push({generations:[a],llmOutput:i})}}return r}async _generateUncached(n,r,s,a){let i;if(a!==void 0&&a.length===n.length)i=a;else{const c=await Qs.configure(s.callbacks,this.callbacks,s.tags,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),d={options:r,invocation_params:this==null?void 0:this.invocationParams(r),batch_size:n.length};i=await(c==null?void 0:c.handleLLMStart(this.toJSON(),n,s.runId,void 0,d,void 0,void 0,s==null?void 0:s.runName))}const o=!!(i!=null&&i[0].handlers.find(z4));let l;if(o&&n.length===1&&this._streamResponseChunks!==mh.prototype._streamResponseChunks)try{const c=await this._streamResponseChunks(n[0],r,i==null?void 0:i[0]);let d;for await(const h of c)d===void 0?d=h:d=lu(d,h);if(d===void 0)throw new Error("Received empty response from chat model call.");l={generations:[[d]],llmOutput:{}},await(i==null?void 0:i[0].handleLLMEnd(l))}catch(c){throw await(i==null?void 0:i[0].handleLLMError(c)),c}else{try{l=await this._generate(n,r,i==null?void 0:i[0])}catch(d){throw await Promise.all((i??[]).map(h=>h==null?void 0:h.handleLLMError(d))),d}const c=this._flattenLLMResult(l);await Promise.all((i??[]).map((d,h)=>d==null?void 0:d.handleLLMEnd(c[h])))}const u=(i==null?void 0:i.map(c=>c.runId))||void 0;return Object.defineProperty(l,Pp,{value:u?{runIds:u}:void 0,configurable:!0}),l}async _generateCached({prompts:n,cache:r,llmStringKey:s,parsedOptions:a,handledOptions:i,runId:o}){const l=await Qs.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),u={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:n.length},c=await(l==null?void 0:l.handleLLMStart(this.toJSON(),n,o,void 0,u,void 0,void 0,i==null?void 0:i.runName)),d=[],p=(await Promise.allSettled(n.map(async(v,y)=>{const b=await r.lookup(v,s);return b==null&&d.push(y),b}))).map((v,y)=>({result:v,runManager:c==null?void 0:c[y]})).filter(({result:v})=>v.status==="fulfilled"&&v.value!=null||v.status==="rejected"),m=[];await Promise.all(p.map(async({result:v,runManager:y},b)=>{if(v.status==="fulfilled"){const w=v.value;return m[b]=w.map(_=>(_.generationInfo={..._.generationInfo,tokenUsage:{}},_)),w.length&&await(y==null?void 0:y.handleLLMNewToken(w[0].text)),y==null?void 0:y.handleLLMEnd({generations:[w]},void 0,void 0,void 0,{cached:!0})}else return await(y==null?void 0:y.handleLLMError(v.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(v.reason)}));const g={generations:m,missingPromptIndices:d,startedRunManagers:c};return Object.defineProperty(g,Pp,{value:c?{runIds:c==null?void 0:c.map(v=>v.runId)}:void 0,configurable:!0}),g}async generate(n,r,s){if(!Array.isArray(n))throw new Error("Argument 'prompts' is expected to be a string[]");let a;Array.isArray(r)?a={stop:r}:a=r;const[i,o]=this._separateRunnableConfigFromCallOptionsCompat(a);if(i.callbacks=i.callbacks??s,!this.cache)return this._generateUncached(n,o,i);const{cache:l}=this,u=this._getSerializedCacheKeyParametersForCall(o),{generations:c,missingPromptIndices:d,startedRunManagers:h}=await this._generateCached({prompts:n,cache:l,llmStringKey:u,parsedOptions:o,handledOptions:i,runId:i.runId});let p={};if(d.length>0){const m=await this._generateUncached(d.map(g=>n[g]),o,i,h!==void 0?d.map(g=>h==null?void 0:h[g]):void 0);await Promise.all(m.generations.map(async(g,v)=>{const y=d[v];return c[y]=g,l.update(n[y],u,g)})),p=m.llmOutput??{}}return{generations:c,llmOutput:p}}_identifyingParams(){return{}}_modelType(){return"base_llm"}},OOe=class extends fF{async _generate(e,t,n){return{generations:await Promise.all(e.map((s,a)=>this._call(s,{...t,promptIndex:a},n).then(i=>[{text:i}])))}}},$Oe={};xn($Oe,{chunkArray:()=>AOe});const AOe=(e,t)=>e.reduce((n,r,s)=>{const a=Math.floor(s/t),i=n[a]||[];return n[a]=i.concat([r]),n},[]);var ROe={};xn(ROe,{Embeddings:()=>MOe});var MOe=class{constructor(e){se(this,"caller");this.caller=new Mm(e??{})}},POe={};xn(POe,{BaseToolkit:()=>LOe,DynamicStructuredTool:()=>mF,DynamicTool:()=>pF,StructuredTool:()=>CC,Tool:()=>hF,ToolInputParsingException:()=>$0,isLangChainTool:()=>A1,isRunnableToolLike:()=>hC,isStructuredTool:()=>fC,isStructuredToolParams:()=>pC,tool:()=>DOe});var CC=class extends bC{constructor(t){super(t??{});se(this,"extras");se(this,"returnDirect",!1);se(this,"verboseParsingErrors",!1);se(this,"responseFormat","content");se(this,"defaultConfig");this.verboseParsingErrors=(t==null?void 0:t.verboseParsingErrors)??this.verboseParsingErrors,this.responseFormat=(t==null?void 0:t.responseFormat)??this.responseFormat,this.defaultConfig=(t==null?void 0:t.defaultConfig)??this.defaultConfig,this.metadata=(t==null?void 0:t.metadata)??this.metadata,this.extras=(t==null?void 0:t.extras)??this.extras}get lc_namespace(){return["langchain","tools"]}async invoke(t,n){let r,s=On(D0(this.defaultConfig,n));return Ph(t)?(r=t.args,s={...s,toolCall:t}):r=t,this.call(r,s)}async call(t,n,r){const s=Ph(t)?t.args:t;let a;if(eo(this.schema))try{a=await k1(this.schema,s)}catch(m){let g="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(g=`${g}
Details: ${m.message}`),cz(m)&&(g=`${g}

${xCe(m)}`),new $0(g,JSON.stringify(t))}else{const m=cr(s,this.schema);if(!m.valid){let g="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(g=`${g}
Details: ${m.errors.map(v=>`${v.keywordLocation}: ${v.error}`).join(`
`)}`),new $0(g,JSON.stringify(t))}a=s}const i=y1(n),o=Qs.configure(i.callbacks,this.callbacks,i.tags||r,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),l=await(o==null?void 0:o.handleToolStart(this.toJSON(),typeof t=="string"?t:JSON.stringify(t),i.runId,void 0,void 0,void 0,i.runName));delete i.runId;let u;try{u=await this._call(a,l,i)}catch(m){throw await(l==null?void 0:l.handleToolError(m)),m}let c,d;if(this.responseFormat==="content_and_artifact")if(Array.isArray(u)&&u.length===2)[c,d]=u;else throw new Error(`Tool response format is "content_and_artifact" but the output was not a two-tuple.
Result: ${JSON.stringify(u)}`);else c=u;let h;Ph(t)&&(h=t.id),!h&&I_e(i)&&(h=i.toolCall.id);const p=zOe({content:c,artifact:d,toolCallId:h,name:this.name,metadata:this.metadata});return await(l==null?void 0:l.handleToolEnd(p)),p}},hF=class extends CC{constructor(t){super(t);se(this,"schema",$1({input:O1().optional()}).transform(t=>t.input))}call(t,n){const r=typeof t=="string"||t==null?{input:t}:t;return super.call(r,n)}},pF=class extends hF{constructor(t){super(t);se(this,"name");se(this,"description");se(this,"func");this.name=t.name,this.description=t.description,this.func=t.func,this.returnDirect=t.returnDirect??this.returnDirect}static lc_name(){return"DynamicTool"}async call(t,n){const r=y1(n);return r.runName===void 0&&(r.runName=this.name),super.call(t,r)}async _call(t,n,r){return this.func(t,n,r)}},mF=class extends CC{constructor(t){super(t);se(this,"description");se(this,"func");se(this,"schema");this.name=t.name,this.description=t.description,this.func=t.func,this.returnDirect=t.returnDirect??this.returnDirect,this.schema=t.schema}static lc_name(){return"DynamicStructuredTool"}async call(t,n,r){const s=y1(n);return s.runName===void 0&&(s.runName=this.name),super.call(t,s,r)}_call(t,n,r){return this.func(t,n,r)}},LOe=class{getTools(){return this.tools}};function DOe(e,t){var i;const n=sC(t.schema),r=Bh(t.schema);if(!t.schema||n||r)return new pF({...t,description:t.description??((i=t.schema)==null?void 0:i.description)??`${t.name} tool`,func:async(o,l,u)=>new Promise((c,d)=>{const h=ar(u,{callbacks:l==null?void 0:l.getChild()});Ei.runWithConfig(al(h),async()=>{try{c(e(o,h))}catch(p){d(p)}})})});const s=t.schema,a=t.description??t.schema.description??`${t.name} tool`;return new mF({...t,description:a,schema:s,func:async(o,l,u)=>new Promise((c,d)=>{let h;const p=()=>{u!=null&&u.signal&&h&&u.signal.removeEventListener("abort",h)};u!=null&&u.signal&&(h=()=>{p(),d(Rp(u.signal))},u.signal.addEventListener("abort",h,{once:!0}));const m=ar(u,{callbacks:l==null?void 0:l.getChild()});Ei.runWithConfig(al(m),async()=>{var g;try{const v=await e(o,m);if((g=u==null?void 0:u.signal)!=null&&g.aborted){p();return}p(),c(v)}catch(v){p(),d(v)}})})})}function zOe(e){const{content:t,artifact:n,toolCallId:r,metadata:s}=e;return r&&!O4(t)?typeof t=="string"||Array.isArray(t)&&t.every(a=>typeof a=="object")?new bo({status:"success",content:t,artifact:n,tool_call_id:r,name:e.name,metadata:s}):new bo({status:"success",content:FOe(t),artifact:n,tool_call_id:r,name:e.name,metadata:s}):t}function FOe(e){try{return JSON.stringify(e)??""}catch{return`${e}`}}const BOe=Es({type:Na("screenshot")}),jOe=Es({type:Na("click"),x:bs(),y:bs(),button:gC(["left","right","wheel","back","forward"]).default("left")}),VOe=Es({type:Na("double_click"),x:bs(),y:bs(),button:gC(["left","right","wheel","back","forward"]).default("left")}),HOe=Es({type:Na("drag"),path:zm(Es({x:bs(),y:bs()}))}),UOe=Es({type:Na("keypress"),keys:zm(ca())}),WOe=Es({type:Na("move"),x:bs(),y:bs()}),KOe=Es({type:Na("scroll"),x:bs(),y:bs(),scroll_x:bs(),scroll_y:bs()}),GOe=Es({type:Na("type"),text:ca()}),ZOe=Es({type:Na("wait"),duration:bs().optional()}),YOe=R1([BOe,jOe,VOe,HOe,UOe,WOe,KOe,GOe,ZOe]);Es({action:YOe});const qOe=Es({type:Na("exec"),command:zm(ca()),env:rIe(ca(),ca()).optional(),working_directory:ca().optional(),timeout_ms:bs().optional(),user:ca().optional()});R1([qOe]);Es({commands:zm(ca()).describe("Array of shell commands to execute"),timeout_ms:bs().optional().describe("Optional timeout in milliseconds for the commands"),max_output_length:bs().optional().describe("Optional maximum number of characters to return from each command")});const XOe=Es({type:Na("create_file"),path:ca(),diff:ca()}),JOe=Es({type:Na("update_file"),path:ca(),diff:ca()}),QOe=Es({type:Na("delete_file"),path:ca()});R1([XOe,JOe,QOe]);class e$e{constructor(t,n="openai/gpt-3.5-turbo"){se(this,"model");this.model=new NOe({configuration:{baseURL:"https://openrouter.ai/api/v1",apiKey:t,defaultHeaders:{"HTTP-Referer":window.location.origin,"X-Title":"AI Mind Map"},timeout:3e4},modelName:n,temperature:.7,maxRetries:1})}convertMessages(t){return t.map(n=>{switch(n.role){case"system":return new sl(n.content);case"user":return new xi(n.content);case"assistant":return new xs(n.content);default:return new xi(n.content)}})}async chat(t){const n=this.convertMessages(t),r=await this.model.invoke(n);return{content:r.content,usage:r.usage_metadata?{promptTokens:r.usage_metadata.input_tokens,completionTokens:r.usage_metadata.output_tokens,totalTokens:r.usage_metadata.total_tokens}:void 0}}async*chatStream(t){const n=this.convertMessages(t),r=await this.model.stream(n);for await(const s of r)s.content&&(yield s.content)}async generateMindMap(t){const r=[{role:"system",content:`
1. 
2.  JSON 
3.  text  15  10 
4.  note 


\`\`\`json
{
  "data": {
    "text": "",
    "note": "..."
  },
  "children": [
    {
      "data": {
        "text": "1",
        "note": "..."
      },
      "children": []
    }
  ]
}
\`\`\`

 JSON`},{role:"user",content:t}];return(await this.chat(r)).content}}function t$e(e,t){const n=e||void 0,r="openai/gpt-3.5-turbo";return n?new e$e(n,r):(console.warn(" OpenRouter API Key"),null)}function gF(e){const t=e.match(/[\u4e00-\u9fa5]/g),n=t?t.length:0,r=e.match(/[a-zA-Z0-9]+/g),s=r?r.length:0;return{hanziCount:n,wordCount:s}}function dI(e){const{hanziCount:t,wordCount:n}=gF(e);return t>15||n>10}function vF(e){if(!e)return{nodeText:""};const t=e.trim();if(!dI(t))return{nodeText:t};const{hanziCount:n}=gF(t),r=t.split(/([.!?])/g);let s="",a="";for(let i=0;i<r.length;i++){const o=r[i],l=s+o;if(dI(l)){a=r.slice(i).join("");break}s+=o}if(!s)if(n>15){let i=0,o=0;for(let l=0;l<t.length&&!(/[\u4e00-\u9fa5]/.test(t[l])&&(i++,i>15));l++)o=l+1;s=t.substring(0,o),a=t.substring(o)}else{const i=t.split(/\s+/);s=i.slice(0,10).join(" "),a=i.slice(10).join(" ")}return{nodeText:s.trim(),note:a.trim()||void 0}}function n$e(e){try{const t=e.match(/```json\s*([\s\S]*?)\s*```/)||e.match(/\{[\s\S]*\}/);if(!t)return console.error(" AI  JSON"),null;const n=t[1]||t[0],r=JSON.parse(n);return yF(r)}catch(t){return console.error(" AI :",t),null}}function yF(e){var s,a;const{nodeText:t,note:n}=vF(((s=e.data)==null?void 0:s.text)||""),r={data:{text:t,expand:!0,isActive:!1}};return n&&(r.data.note=n),(a=e.data)!=null&&a.note&&(r.data.note=n?`${n}

${e.data.note}`:e.data.note),e.children&&Array.isArray(e.children)&&(r.children=e.children.map(yF)),r}function r$e(e){const{nodeText:t,note:n}=vF(e);return{data:{text:t||"AI ",note:n||e.substring(0,500),expand:!0,isActive:!1}}}function s$e(e){const t=/```xml\s*([\s\S]*?)```/i,n=e.match(t);if(n){const a=n[1].trim();return!a||a.length===0?(console.warn("XML "),null):a}const r=/<(?:\?xml|map)[^>]*>[\s\S]*<\/map>/i,s=e.match(r);return s?s[0]:null}function a$e(e){try{const n=new DOMParser().parseFromString(e,"text/xml"),r=n.querySelector("parsererror");return r?(console.error("XML :",r.textContent),null):n}catch(t){return console.error("XML :",t),null}}function bF(e){const t=e.getAttribute("TEXT")||e.getAttribute("text")||"",n=[];return e.querySelectorAll(":scope > node").forEach(s=>{n.push(bF(s))}),{data:{text:t.length>15?t.substring(0,15):t,note:t.length>15?t:void 0},children:n.length>0?n:void 0}}function i$e(e){const t=a$e(e);if(!t)return null;const n=t.querySelector("map > node")||t.querySelector("node");return n?bF(n):(console.error(""),null)}function fI(e){const t=s$e(e);if(t){const n=i$e(t);if(n)return console.log(" XML "),n}return null}const o$e={class:"header-left"},l$e={key:0,class:"warning-badge"},u$e={class:"collapse-btn"},c$e={class:"chat-content"},d$e={key:0,class:"api-key-setup"},f$e={class:"setup-input-group"},h$e={class:"message-avatar"},p$e={class:"message-content"},m$e=["innerHTML"],g$e={key:0,class:"message message-assistant"},v$e={key:2,class:"chat-input-area"},y$e={key:0,class:"target-node-indicator"},b$e={class:"target-node-tag"},w$e={class:"input-row"},_$e=["placeholder","onKeydown"],S$e=["disabled"],C$e=de({__name:"ChatPanel",props:{hasExistingMap:{type:Boolean},targetNode:{}},emits:["updateMindMap","expandNode","clearTargetNode","messagesUpdated"],setup(e,{expose:t,emit:n}){const r=e,s=n,a=L(!0),i=L(""),o=L(!1),l=L(""),u=L(!1),c=L([]),d=L(),h=L();localStorage.getItem("openrouter_api_key")&&(o.value=!0);function m(){a.value=!a.value}function g(){s("clearTargetNode")}fe(()=>r.targetNode,_=>{_&&(a.value=!1,Fe(()=>{var S;(S=h.value)==null||S.focus()}))});function v(){const _=i.value.trim();if(!_){Wr.warning(" API Key");return}localStorage.setItem("openrouter_api_key",_),o.value=!0,i.value="",Wr.success("API Key ")}function y(_){let S=_;const C=[];return S=S.replace(/```(\w*)\s*([\s\S]*?)```/g,(T,x,N)=>{const k=N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),A=C.length;return C.push(`<pre style="background:#f5f5f5;padding:8px;border-radius:4px;overflow-x:auto;font-size:13px;"><code>${k}</code></pre>`),`__CODE_BLOCK_${A}__`}),S=S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),S=S.replace(/\n/g,"<br>").replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>'),C.forEach((T,x)=>{S=S.replace(`__CODE_BLOCK_${x}__`,T)}),S}async function b(){await Fe(),d.value&&(d.value.scrollTop=d.value.scrollHeight)}async function w(){const _=l.value.trim();if(!_||u.value)return;const S=r.targetNode,C=S?`@${S.text} ${_}`:_;c.value.push({role:"user",content:C}),s("messagesUpdated",c.value),l.value="",await b(),u.value=!0;try{const T=localStorage.getItem("openrouter_api_key");if(!T)throw new Error("API Key ");const x=t$e(T);if(!x)throw new Error(" AI ");let N="";if(S){const k=`${S.text}
${_}

${S.text}

1.  FreeMind XML 
2.  TEXT ${S.text} node 
3.  TEXT 1510
4. 
5.  XML


\`\`\`xml
<map>
  <node TEXT="${S.text}">
    <node TEXT="1">
      <node TEXT="A"/>
      <node TEXT="B"/>
    </node>
    <node TEXT="2"/>
    <node TEXT="3"/>
  </node>
</map>
\`\`\``,A=[{role:"system",content:" FreeMind XML "},{role:"user",content:k}];N=(await x.chat(A)).content,console.log(" AI :",N);const F=fI(N);console.log(":",F),F&&F.children&&F.children.length>0?(s("expandNode",{nodeUid:S.uid,children:F.children}),c.value.push({role:"assistant",content:`${S.text} ${F.children.length}  `}),s("messagesUpdated",c.value),s("clearTargetNode")):(c.value.push({role:"assistant",content:`AI 

${N}`}),s("messagesUpdated",c.value))}else if(r.hasExistingMap){const k=_+'\n\n[XML: ```xml\n<map><node TEXT=""><node TEXT="1"/></node></map>\n```]',A=[{role:"system",content:"XML"},...c.value.slice(0,-1),{role:"user",content:k}];N=(await x.chat(A)).content,console.log("AI :",N);const F=fI(N);console.log("XML :",F),F?(console.log(""),s("updateMindMap",F),c.value.push({role:"assistant",content:` 

`+N}),s("messagesUpdated",c.value)):(c.value.push({role:"assistant",content:N}),s("messagesUpdated",c.value))}else{N=await x.generateMindMap(_);const k=n$e(N);if(k)s("updateMindMap",k),c.value.push({role:"assistant",content:" "}),s("messagesUpdated",c.value);else{const A=r$e(N);s("updateMindMap",A),c.value.push({role:"assistant",content:N.substring(0,500)+"..."}),s("messagesUpdated",c.value)}}await b()}catch(T){console.error("AI :",T),Wr.error(T.message||"AI "),c.value=c.value.filter(x=>x.role!=="assistant"||x.content!=="")}finally{u.value=!1}}return fe(c,b,{deep:!0}),t({setMessages:_=>{c.value=_,b()},getMessages:()=>c.value}),(_,S)=>(I(),K("div",{class:M(["chat-panel",{collapsed:a.value}])},[Z("div",{class:"chat-header",onClick:m},[Z("div",o$e,[S[2]||(S[2]=Z("span",{class:"header-icon"},"",-1)),S[3]||(S[3]=Z("span",{class:"header-title"},"AI ",-1)),o.value?le("",!0):(I(),K("span",l$e,""))]),Z("button",u$e,Ie(a.value?"":""),1)]),vt(Z("div",c$e,[o.value?(I(),K("div",{key:1,class:"messages-container",ref_key:"messagesContainer",ref:d},[(I(!0),K(Ge,null,Ot(c.value,(C,T)=>(I(),K("div",{key:T,class:M(["message","message-"+C.role])},[Z("div",h$e,Ie(C.role==="user"?"":""),1),Z("div",p$e,[Z("div",{class:"message-text",innerHTML:y(C.content)},null,8,m$e)])],2))),128)),u.value?(I(),K("div",g$e,[...S[6]||(S[6]=[Z("div",{class:"message-avatar"},"",-1),Z("div",{class:"message-content"},[Z("div",{class:"loading-dots"},[Z("span"),Z("span"),Z("span")])],-1)])])):le("",!0)],512)):(I(),K("div",d$e,[S[4]||(S[4]=Z("p",{class:"setup-hint"}," OpenRouter API Key  AI ",-1)),Z("div",f$e,[vt(Z("input",{"onUpdate:modelValue":S[0]||(S[0]=C=>i.value=C),type:"password",placeholder:" API Key",class:"api-key-input",onKeyup:zn(v,["enter"])},null,544),[[jv,i.value]]),Z("button",{onClick:v,class:"save-btn"},"")]),S[5]||(S[5]=Z("a",{href:"https://openrouter.ai/",target:"_blank",class:"get-key-link"},"  API Key ",-1))])),o.value?(I(),K("div",v$e,[e.targetNode?(I(),K("div",y$e,[Z("span",b$e,"  "+Ie(e.targetNode.text)+" ",1),Z("button",{class:"target-node-cancel",onClick:g},"")])):le("",!0),Z("div",w$e,[vt(Z("textarea",{ref_key:"chatInputRef",ref:h,"onUpdate:modelValue":S[1]||(S[1]=C=>l.value=C),placeholder:e.targetNode?`${e.targetNode.text}AI ...`:e.hasExistingMap?"":" AI",class:"chat-input",rows:"2",onKeydown:zn(at(w,["prevent"]),["enter"])},null,40,_$e),[[jv,l.value]]),Z("button",{onClick:w,disabled:!l.value.trim()||u.value,class:"send-btn"},Ie(u.value?"...":""),9,S$e)])])):le("",!0)],512),[[Kt,!a.value]])],2))}}),x$e=i9(C$e,[["__scopeId","data-v-df9a6330"]]),A2="ai_mind_conversations",R2="ai_mind_active_conversation_id",Hi={getConversations(){const e=localStorage.getItem(A2);if(!e)return[];try{return JSON.parse(e).sort((n,r)=>r.timestamp-n.timestamp)}catch(t){return console.error("Failed to parse conversations",t),[]}},saveConversation(e){const t=this.getConversations(),n=t.findIndex(r=>r.id===e.id);if(e.timestamp=Date.now(),e.mindMapData&&e.mindMapData.data&&e.mindMapData.data.text)e.title=e.mindMapData.data.text;else if((!e.title||e.title==="")&&e.messages.length>0){const r=e.messages.find(s=>s.role==="user");r&&(e.title=r.content.slice(0,15))}n>-1?t[n]=e:t.unshift(e),localStorage.setItem(A2,JSON.stringify(t))},getConversation(e){return this.getConversations().find(n=>n.id===e)},deleteConversation(e){const t=this.getConversations().filter(n=>n.id!==e);localStorage.setItem(A2,JSON.stringify(t)),this.getActiveId()===e&&localStorage.removeItem(R2)},createConversation(){return{id:crypto.randomUUID(),title:"",timestamp:Date.now(),messages:[],mindMapData:null}},getActiveId(){return localStorage.getItem(R2)},setActiveId(e){localStorage.setItem(R2,e)}},E$e={class:"app-container"},T$e={class:"main-content"},k$e={class:"mind-map-section"},N$e={class:"history-container"},I$e={class:"history-list"},O$e=["onClick"],$$e={class:"history-info"},A$e={class:"history-title"},R$e={class:"history-time"},M$e=de({__name:"App",setup(e){const t=L(),n=wn(null),r=L(),s=L(),a=L(),i=L(null),o=L(!1),l=L([]),u=L(""),c=L(!1);_t(()=>{d();const k=Hi.getActiveId();k&&Hi.getConversation(k)?h(k):p()});function d(){l.value=Hi.getConversations()}function h(k){const A=Hi.getConversation(k);A&&(c.value=!0,u.value=k,Hi.setActiveId(k),t.value=A.mindMapData||void 0,a.value&&a.value.setMessages(A.messages||[]),setTimeout(()=>{c.value=!1},500))}function p(){const k=Hi.createConversation();Hi.saveConversation(k),d(),h(k.id),o.value=!1}function m(k){Hi.deleteConversation(k),d(),u.value===k&&(l.value.length>0?h(l.value[0].id):p())}function g(){if(c.value||!u.value)return;const k=Hi.getConversation(u.value);k&&(a.value&&(k.messages=a.value.getMessages()),k.mindMapData=t.value||null,Hi.saveConversation(k),d())}let v=null;function y(){v&&clearTimeout(v),v=setTimeout(g,500)}fe(t,()=>{y()},{deep:!0});function b(){y()}const w=E(()=>{var k;return!!t.value&&!!((k=t.value.data)!=null&&k.text)});function _(k){n.value=k}function S(k){r.value&&r.value.openNoteDialogWithNode(k)}function C(k){t.value=k}function T(k){i.value=k}function x(k){s.value&&s.value.expandNodeChildren(k.nodeUid,k.children)}function N(){i.value=null}return(k,A)=>{const O=Rt("el-icon"),F=Rt("el-button"),j=Rt("el-drawer");return I(),K("div",E$e,[q(yve,{ref_key:"toolbarRef",ref:r,mindMap:n.value,onToggleHistory:A[0]||(A[0]=V=>o.value=!0)},null,8,["mindMap"]),Z("div",T$e,[Z("div",k$e,[q(I2e,{ref_key:"mindMapRef",ref:s,modelValue:t.value,"onUpdate:modelValue":A[1]||(A[1]=V=>t.value=V),onMindMapReady:_,onOpenNote:S,onAskAboutNode:T},null,8,["modelValue"])]),q(x$e,{hasExistingMap:w.value,targetNode:i.value,onUpdateMindMap:C,onExpandNode:x,onClearTargetNode:N,onMessagesUpdated:b},null,8,["hasExistingMap","targetNode"]),A[3]||(A[3]=x8('<div class="tips-section"><span> </span><span>|</span><span><kbd>Tab</kbd> </span><span>|</span><span><kbd>Enter</kbd> </span><span>|</span><span><kbd>Delete</kbd> </span></div>',1))]),q(j,{modelValue:o.value,"onUpdate:modelValue":A[2]||(A[2]=V=>o.value=V),title:"",direction:"ltr",size:"300px"},{default:re(()=>[Z("div",N$e,[q(F,{type:"primary",class:"new-chat-btn",onClick:p},{default:re(()=>[q(O,null,{default:re(()=>[q(f(Oy))]),_:1}),A[4]||(A[4]=gt("  ",-1))]),_:1}),Z("div",I$e,[(I(!0),K(Ge,null,Ot(l.value,V=>(I(),K("div",{key:V.id,class:M(["history-item",{active:V.id===u.value}]),onClick:G=>h(V.id)},[Z("div",$$e,[Z("div",A$e,Ie(V.title||""),1),Z("div",R$e,Ie(new Date(V.timestamp).toLocaleString()),1)]),q(F,{class:"delete-btn",type:"danger",link:"",onClick:at(G=>m(V.id),["stop"])},{default:re(()=>[q(O,null,{default:re(()=>[q(f(f6))]),_:1})]),_:1},8,["onClick"])],10,O$e))),128))])])]),_:1},8,["modelValue"])])}}}),wF=V8(M$e);wF.use(AS);wF.mount("#app")});export default P$e();
