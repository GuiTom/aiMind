{
  "version": 3,
  "sources": ["../../simple-mind-map/src/core/view/View.js", "../../simple-mind-map/src/core/event/Event.js", "../../deepmerge/dist/es.js", "../../simple-mind-map/src/core/render/node/Style.js", "../../simple-mind-map/src/core/render/node/Shape.js", "../../simple-mind-map/src/core/render/node/nodeGeneralization.js", "../../simple-mind-map/src/svg/btns.js", "../../simple-mind-map/src/core/render/node/nodeExpandBtn.js", "../../simple-mind-map/src/core/render/node/nodeCommandWraps.js", "../../simple-mind-map/src/svg/icons.js", "../../simple-mind-map/src/core/render/node/nodeCreateContents.js", "../../simple-mind-map/src/core/render/node/nodeExpandBtnPlaceholderRect.js", "../../simple-mind-map/src/core/render/node/nodeCooperate.js", "../../simple-mind-map/src/core/render/node/Node.js", "../../simple-mind-map/src/utils/Lru.js", "../../simple-mind-map/src/layouts/Base.js", "../../simple-mind-map/src/layouts/LogicalStructure.js", "../../simple-mind-map/src/layouts/MindMap.js", "../../simple-mind-map/src/layouts/CatalogOrganization.js", "../../simple-mind-map/src/layouts/OrganizationStructure.js", "../../simple-mind-map/src/layouts/Timeline.js", "../../simple-mind-map/src/layouts/VerticalTimeline.js", "../../simple-mind-map/src/layouts/fishboneUtils.js", "../../simple-mind-map/src/layouts/Fishbone.js", "../../simple-mind-map/src/core/render/TextEdit.js", "../../simple-mind-map/src/themes/default.js", "../../simple-mind-map/src/core/render/Render.js", "../../simple-mind-map/src/themes/freshGreen.js", "../../simple-mind-map/src/themes/blueSky.js", "../../simple-mind-map/src/themes/brainImpairedPink.js", "../../simple-mind-map/src/themes/romanticPurple.js", "../../simple-mind-map/src/themes/freshRed.js", "../../simple-mind-map/src/themes/earthYellow.js", "../../simple-mind-map/src/themes/classic.js", "../../simple-mind-map/src/themes/classic2.js", "../../simple-mind-map/src/themes/classic3.js", "../../simple-mind-map/src/themes/classic4.js", "../../simple-mind-map/src/themes/dark.js", "../../simple-mind-map/src/themes/classicGreen.js", "../../simple-mind-map/src/themes/classicBlue.js", "../../simple-mind-map/src/themes/minions.js", "../../simple-mind-map/src/themes/pinkGrape.js", "../../simple-mind-map/src/themes/mint.js", "../../simple-mind-map/src/themes/gold.js", "../../simple-mind-map/src/themes/vitalityOrange.js", "../../simple-mind-map/src/themes/greenLeaf.js", "../../simple-mind-map/src/themes/dark2.js", "../../simple-mind-map/src/themes/skyGreen.js", "../../simple-mind-map/src/themes/simpleBlack.js", "../../simple-mind-map/src/themes/courseGreen.js", "../../simple-mind-map/src/themes/coffee.js", "../../simple-mind-map/src/themes/redSpirit.js", "../../simple-mind-map/src/themes/blackHumour.js", "../../simple-mind-map/src/themes/lateNightOffice.js", "../../simple-mind-map/src/themes/blackGold.js", "../../simple-mind-map/src/themes/avocado.js", "../../simple-mind-map/src/themes/autumn.js", "../../simple-mind-map/src/themes/orangeJuice.js", "../../simple-mind-map/src/themes/index.js", "../../simple-mind-map/src/core/command/keyMap.js", "../../simple-mind-map/src/core/command/KeyCommand.js", "../../simple-mind-map/src/core/command/Command.js", "../../simple-mind-map/src/utils/BatchExecution.js", "../../simple-mind-map/src/constants/defaultOptions.js", "../../simple-mind-map/index.js"],
  "sourcesContent": ["import { CONSTANTS } from '../../constants/constant'\r\n\r\n//  视图操作类\r\nclass View {\r\n  //  构造函数\r\n  constructor(opt = {}) {\r\n    this.opt = opt\r\n    this.mindMap = this.opt.mindMap\r\n    this.scale = 1\r\n    this.sx = 0\r\n    this.sy = 0\r\n    this.x = 0\r\n    this.y = 0\r\n    this.firstDrag = true\r\n    this.setTransformData(this.mindMap.opt.viewData)\r\n    this.bind()\r\n  }\r\n\r\n  //  绑定\r\n  bind() {\r\n    // 快捷键\r\n    this.mindMap.keyCommand.addShortcut('Control+=', () => {\r\n      this.enlarge()\r\n    })\r\n    this.mindMap.keyCommand.addShortcut('Control+-', () => {\r\n      this.narrow()\r\n    })\r\n    this.mindMap.keyCommand.addShortcut('Control+i', () => {\r\n      this.fit()\r\n    })\r\n    // 拖动视图\r\n    this.mindMap.event.on('mousedown', e => {\r\n      if (this.mindMap.opt.isDisableDrag) return\r\n      e.preventDefault()\r\n      this.sx = this.x\r\n      this.sy = this.y\r\n    })\r\n    this.mindMap.event.on('drag', (e, event) => {\r\n      // 按住ctrl键拖动为多选\r\n      // 禁用拖拽\r\n      if (e.ctrlKey || e.metaKey || this.mindMap.opt.isDisableDrag) {\r\n        return\r\n      }\r\n      if (this.firstDrag) {\r\n        this.firstDrag = false\r\n        // 清除激活节点\r\n        if (this.mindMap.renderer.activeNodeList.length > 0) {\r\n          this.mindMap.execCommand('CLEAR_ACTIVE_NODE')\r\n        }\r\n      }\r\n      this.x = this.sx + event.mousemoveOffset.x\r\n      this.y = this.sy + event.mousemoveOffset.y\r\n      this.transform()\r\n    })\r\n    this.mindMap.event.on('mouseup', () => {\r\n      this.firstDrag = true\r\n    })\r\n    // 放大缩小视图\r\n    this.mindMap.event.on('mousewheel', (e, dirs, event, isTouchPad) => {\r\n      const {\r\n        customHandleMousewheel,\r\n        mousewheelAction,\r\n        mouseScaleCenterUseMousePosition,\r\n        mousewheelMoveStep,\r\n        mousewheelZoomActionReverse,\r\n        disableMouseWheelZoom\r\n      } = this.mindMap.opt\r\n      // 是否自定义鼠标滚轮事件\r\n      if (\r\n        customHandleMousewheel &&\r\n        typeof customHandleMousewheel === 'function'\r\n      ) {\r\n        return customHandleMousewheel(e)\r\n      }\r\n      // 1.鼠标滚轮事件控制缩放\r\n      if (\r\n        mousewheelAction === CONSTANTS.MOUSE_WHEEL_ACTION.ZOOM ||\r\n        e.ctrlKey ||\r\n        e.metaKey\r\n      ) {\r\n        if (disableMouseWheelZoom) return\r\n        const { x: clientX, y: clientY } = this.mindMap.toPos(\r\n          e.clientX,\r\n          e.clientY\r\n        )\r\n        const cx = mouseScaleCenterUseMousePosition ? clientX : undefined\r\n        const cy = mouseScaleCenterUseMousePosition ? clientY : undefined\r\n        // 如果来自触控板，那么过滤掉左右的移动\r\n        if (\r\n          isTouchPad &&\r\n          (dirs.includes(CONSTANTS.DIR.LEFT) ||\r\n            dirs.includes(CONSTANTS.DIR.RIGHT))\r\n        ) {\r\n          dirs = dirs.filter(dir => {\r\n            return ![CONSTANTS.DIR.LEFT, CONSTANTS.DIR.RIGHT].includes(dir)\r\n          })\r\n        }\r\n        switch (true) {\r\n          // 鼠标滚轮，向上和向左，都是缩小\r\n          case dirs.includes(CONSTANTS.DIR.UP || CONSTANTS.DIR.LEFT):\r\n            mousewheelZoomActionReverse\r\n              ? this.enlarge(cx, cy, isTouchPad)\r\n              : this.narrow(cx, cy, isTouchPad)\r\n            break\r\n          // 鼠标滚轮，向下和向右，都是放大\r\n          case dirs.includes(CONSTANTS.DIR.DOWN || CONSTANTS.DIR.RIGHT):\r\n            mousewheelZoomActionReverse\r\n              ? this.narrow(cx, cy, isTouchPad)\r\n              : this.enlarge(cx, cy, isTouchPad)\r\n            break\r\n        }\r\n      } else {\r\n        // 2.鼠标滚轮事件控制画布移动\r\n        const step = isTouchPad ? 10 : mousewheelMoveStep\r\n        let mx = 0\r\n        let my = 0\r\n        // 上移\r\n        if (dirs.includes(CONSTANTS.DIR.DOWN)) {\r\n          my = -step\r\n        }\r\n        // 下移\r\n        if (dirs.includes(CONSTANTS.DIR.UP)) {\r\n          my = step\r\n        }\r\n        // 右移\r\n        if (dirs.includes(CONSTANTS.DIR.LEFT)) {\r\n          mx = step\r\n        }\r\n        // 左移\r\n        if (dirs.includes(CONSTANTS.DIR.RIGHT)) {\r\n          mx = -step\r\n        }\r\n        this.translateXY(mx, my)\r\n      }\r\n    })\r\n    this.mindMap.on('resize', () => {\r\n      if (!this.checkNeedMindMapInCanvas()) return\r\n      this.transform()\r\n    })\r\n  }\r\n\r\n  //  获取当前变换状态数据\r\n  getTransformData() {\r\n    return {\r\n      transform: this.mindMap.draw.transform(),\r\n      state: {\r\n        scale: this.scale,\r\n        x: this.x,\r\n        y: this.y,\r\n        sx: this.sx,\r\n        sy: this.sy\r\n      }\r\n    }\r\n  }\r\n\r\n  //  动态设置变换状态数据\r\n  setTransformData(viewData) {\r\n    if (viewData) {\r\n      Object.keys(viewData.state).forEach(prop => {\r\n        this[prop] = viewData.state[prop]\r\n      })\r\n      this.mindMap.draw.transform({\r\n        ...viewData.transform\r\n      })\r\n      this.mindMap.emit('view_data_change', this.getTransformData())\r\n      this.emitEvent('scale')\r\n      this.emitEvent('translate')\r\n    }\r\n  }\r\n\r\n  //  平移x,y方向\r\n  translateXY(x, y) {\r\n    if (x === 0 && y === 0) return\r\n    this.x += x\r\n    this.y += y\r\n    this.transform()\r\n    this.emitEvent('translate')\r\n  }\r\n\r\n  //  平移x方向\r\n  translateX(step) {\r\n    if (step === 0) return\r\n    this.x += step\r\n    this.transform()\r\n    this.emitEvent('translate')\r\n  }\r\n\r\n  //  平移x方式到\r\n  translateXTo(x) {\r\n    this.x = x\r\n    this.transform()\r\n    this.emitEvent('translate')\r\n  }\r\n\r\n  //  平移y方向\r\n  translateY(step) {\r\n    if (step === 0) return\r\n    this.y += step\r\n    this.transform()\r\n    this.emitEvent('translate')\r\n  }\r\n\r\n  //  平移y方向到\r\n  translateYTo(y) {\r\n    this.y = y\r\n    this.transform()\r\n    this.emitEvent('translate')\r\n  }\r\n\r\n  //   应用变换\r\n  transform() {\r\n    try {\r\n      this.limitMindMapInCanvas()\r\n    } catch (error) {}\r\n    this.mindMap.draw.transform({\r\n      origin: [0, 0],\r\n      scale: this.scale,\r\n      translate: [this.x, this.y]\r\n    })\r\n    this.mindMap.emit('view_data_change', this.getTransformData())\r\n  }\r\n\r\n  //  恢复\r\n  reset() {\r\n    const scaleChange = this.scale !== 1\r\n    const translateChange = this.x !== 0 || this.y !== 0\r\n    this.scale = 1\r\n    this.x = 0\r\n    this.y = 0\r\n    this.transform()\r\n    if (scaleChange) {\r\n      this.emitEvent('scale')\r\n    }\r\n    if (translateChange) {\r\n      this.emitEvent('translate')\r\n    }\r\n  }\r\n\r\n  //  缩小\r\n  narrow(cx, cy, isTouchPad) {\r\n    const scaleRatio = this.mindMap.opt.scaleRatio / (isTouchPad ? 5 : 1)\r\n    const scale = Math.max(this.scale - scaleRatio, 0.1)\r\n    this.scaleInCenter(scale, cx, cy)\r\n    this.transform()\r\n    this.emitEvent('scale')\r\n  }\r\n\r\n  //  放大\r\n  enlarge(cx, cy, isTouchPad) {\r\n    const scaleRatio = this.mindMap.opt.scaleRatio / (isTouchPad ? 5 : 1)\r\n    const scale = this.scale + scaleRatio\r\n    this.scaleInCenter(scale, cx, cy)\r\n    this.transform()\r\n    this.emitEvent('scale')\r\n  }\r\n\r\n  // 基于指定中心进行缩放，cx，cy 可不指定，此时会使用画布中心点\r\n  scaleInCenter(scale, cx, cy) {\r\n    if (cx === undefined || cy === undefined) {\r\n      cx = this.mindMap.width / 2\r\n      cy = this.mindMap.height / 2\r\n    }\r\n    const prevScale = this.scale\r\n    const ratio = 1 - scale / prevScale\r\n    const dx = (cx - this.x) * ratio\r\n    const dy = (cy - this.y) * ratio\r\n    this.x += dx\r\n    this.y += dy\r\n    this.scale = scale\r\n  }\r\n\r\n  //  设置缩放\r\n  setScale(scale, cx, cy) {\r\n    if (cx !== undefined && cy !== undefined) {\r\n      this.scaleInCenter(scale, cx, cy)\r\n    } else {\r\n      this.scale = scale\r\n    }\r\n    this.transform()\r\n    this.emitEvent('scale')\r\n  }\r\n\r\n  // 适应画布大小\r\n  fit(getRbox = () => {}, enlarge = false, fitPadding) {\r\n    fitPadding =\r\n      fitPadding === undefined ? this.mindMap.opt.fitPadding : fitPadding\r\n    const draw = this.mindMap.draw\r\n    const origTransform = draw.transform()\r\n    const rect = getRbox() || draw.rbox()\r\n    const drawWidth = rect.width / origTransform.scaleX\r\n    const drawHeight = rect.height / origTransform.scaleY\r\n    const drawRatio = drawWidth / drawHeight\r\n    let { width: elWidth, height: elHeight } = this.mindMap.elRect\r\n    elWidth = elWidth - fitPadding * 2\r\n    elHeight = elHeight - fitPadding * 2\r\n    const elRatio = elWidth / elHeight\r\n    let newScale = 0\r\n    let flag = ''\r\n    if (drawWidth <= elWidth && drawHeight <= elHeight && !enlarge) {\r\n      newScale = 1\r\n      flag = 1\r\n    } else {\r\n      let newWidth = 0\r\n      let newHeight = 0\r\n      if (drawRatio > elRatio) {\r\n        newWidth = elWidth\r\n        newHeight = elWidth / drawRatio\r\n        flag = 2\r\n      } else {\r\n        newHeight = elHeight\r\n        newWidth = elHeight * drawRatio\r\n        flag = 3\r\n      }\r\n      newScale = newWidth / drawWidth\r\n    }\r\n    this.setScale(newScale)\r\n    const newRect = getRbox() || draw.rbox()\r\n    // 需要考虑画布容器距浏览器窗口左上角的距离\r\n    newRect.x -= this.mindMap.elRect.left\r\n    newRect.y -= this.mindMap.elRect.top\r\n    let newX = 0\r\n    let newY = 0\r\n    if (flag === 1) {\r\n      newX = -newRect.x + fitPadding + (elWidth - newRect.width) / 2\r\n      newY = -newRect.y + fitPadding + (elHeight - newRect.height) / 2\r\n    } else if (flag === 2) {\r\n      newX = -newRect.x + fitPadding\r\n      newY = -newRect.y + fitPadding + (elHeight - newRect.height) / 2\r\n    } else if (flag === 3) {\r\n      newX = -newRect.x + fitPadding + (elWidth - newRect.width) / 2\r\n      newY = -newRect.y + fitPadding\r\n    }\r\n    this.translateXY(newX, newY)\r\n  }\r\n\r\n  // 判断是否需要将思维导图限制在画布内\r\n  checkNeedMindMapInCanvas() {\r\n    const { isLimitMindMapInCanvasWhenHasScrollbar, isLimitMindMapInCanvas } =\r\n      this.mindMap.opt\r\n    // 如果注册了滚动条插件，那么使用isLimitMindMapInCanvasWhenHasScrollbar配置\r\n    if (this.mindMap.scrollbar) {\r\n      return isLimitMindMapInCanvasWhenHasScrollbar\r\n    } else {\r\n      // 否则使用isLimitMindMapInCanvas配置\r\n      return isLimitMindMapInCanvas\r\n    }\r\n  }\r\n\r\n  // 将思维导图限制在画布内\r\n  limitMindMapInCanvas() {\r\n    if (!this.checkNeedMindMapInCanvas()) return\r\n\r\n    let { scale, left, top, right, bottom } = this.getPositionLimit()\r\n\r\n    // 画布宽高改变了，但是思维导图元素变换的中心点依旧是原有位置，所以需要加上中心点变化量\r\n    const centerXChange =\r\n      ((this.mindMap.width - this.mindMap.initWidth) / 2) * scale\r\n    const centerYChange =\r\n      ((this.mindMap.height - this.mindMap.initHeight) / 2) * scale\r\n\r\n    // 如果缩放值改变了\r\n    const scaleRatio = this.scale / scale\r\n    left *= scaleRatio\r\n    right *= scaleRatio\r\n    top *= scaleRatio\r\n    bottom *= scaleRatio\r\n\r\n    // 加上画布中心点距离\r\n    const centerX = this.mindMap.width / 2\r\n    const centerY = this.mindMap.height / 2\r\n    const scaleOffset = this.scale - 1\r\n    left -= scaleOffset * centerX - centerXChange\r\n    right -= scaleOffset * centerX - centerXChange\r\n    top -= scaleOffset * centerY - centerYChange\r\n    bottom -= scaleOffset * centerY - centerYChange\r\n\r\n    // 判断是否超出边界\r\n    if (this.x > left) {\r\n      this.x = left\r\n    }\r\n    if (this.x < right) {\r\n      this.x = right\r\n    }\r\n    if (this.y > top) {\r\n      this.y = top\r\n    }\r\n    if (this.y < bottom) {\r\n      this.y = bottom\r\n    }\r\n  }\r\n\r\n  // 计算图形四个方向的位置边界值\r\n  getPositionLimit() {\r\n    const { scaleX, scaleY } = this.mindMap.draw.transform()\r\n    const drawRect = this.mindMap.draw.rbox()\r\n    const rootRect = this.mindMap.renderer.root.group.rbox()\r\n    const rootCenterOffset = this.mindMap.renderer.layout.getRootCenterOffset(\r\n      rootRect.width,\r\n      rootRect.height\r\n    )\r\n    const left = rootRect.x - drawRect.x - rootCenterOffset.x * scaleX\r\n    const right = rootRect.x - drawRect.x2 - rootCenterOffset.x * scaleX\r\n    const top = rootRect.y - drawRect.y - rootCenterOffset.y * scaleY\r\n    const bottom = rootRect.y - drawRect.y2 - rootCenterOffset.y * scaleY\r\n    return {\r\n      scale: scaleX,\r\n      left,\r\n      right,\r\n      top,\r\n      bottom\r\n    }\r\n  }\r\n\r\n  // 派发事件\r\n  emitEvent(type) {\r\n    switch (type) {\r\n      case 'scale':\r\n        this.mindMap.emit('scale', this.scale)\r\n      case 'translate':\r\n        this.mindMap.emit('translate', this.x, this.y)\r\n    }\r\n  }\r\n}\r\n\r\nexport default View\r\n", "import EventEmitter from 'eventemitter3'\r\nimport { CONSTANTS } from '../../constants/constant'\r\n\r\n//  事件类\r\nclass Event extends EventEmitter {\r\n  //  构造函数\r\n  constructor(opt = {}) {\r\n    super()\r\n    this.opt = opt\r\n    this.mindMap = opt.mindMap\r\n    this.isLeftMousedown = false\r\n    this.isRightMousedown = false\r\n    this.isMiddleMousedown = false\r\n    this.mousedownPos = {\r\n      x: 0,\r\n      y: 0\r\n    }\r\n    this.mousemovePos = {\r\n      x: 0,\r\n      y: 0\r\n    }\r\n    this.mousemoveOffset = {\r\n      x: 0,\r\n      y: 0\r\n    }\r\n    this.bindFn()\r\n    this.bind()\r\n  }\r\n\r\n  //  绑定函数上下文\r\n  bindFn() {\r\n    this.onBodyMousedown = this.onBodyMousedown.bind(this)\r\n    this.onBodyClick = this.onBodyClick.bind(this)\r\n    this.onDrawClick = this.onDrawClick.bind(this)\r\n    this.onMousedown = this.onMousedown.bind(this)\r\n    this.onMousemove = this.onMousemove.bind(this)\r\n    this.onMouseup = this.onMouseup.bind(this)\r\n    this.onNodeMouseup = this.onNodeMouseup.bind(this)\r\n    this.onMousewheel = this.onMousewheel.bind(this)\r\n    this.onContextmenu = this.onContextmenu.bind(this)\r\n    this.onSvgMousedown = this.onSvgMousedown.bind(this)\r\n    this.onKeyup = this.onKeyup.bind(this)\r\n    this.onMouseenter = this.onMouseenter.bind(this)\r\n    this.onMouseleave = this.onMouseleave.bind(this)\r\n  }\r\n\r\n  //  绑定事件\r\n  bind() {\r\n    document.body.addEventListener('mousedown', this.onBodyMousedown)\r\n    document.body.addEventListener('click', this.onBodyClick)\r\n    this.mindMap.svg.on('click', this.onDrawClick)\r\n    this.mindMap.el.addEventListener('mousedown', this.onMousedown)\r\n    this.mindMap.svg.on('mousedown', this.onSvgMousedown)\r\n    window.addEventListener('mousemove', this.onMousemove)\r\n    window.addEventListener('mouseup', this.onMouseup)\r\n    this.on('node_mouseup', this.onNodeMouseup)\r\n    this.mindMap.el.addEventListener('wheel', this.onMousewheel)\r\n    this.mindMap.svg.on('contextmenu', this.onContextmenu)\r\n    this.mindMap.svg.on('mouseenter', this.onMouseenter)\r\n    this.mindMap.svg.on('mouseleave', this.onMouseleave)\r\n    window.addEventListener('keyup', this.onKeyup)\r\n  }\r\n\r\n  //  解绑事件\r\n  unbind() {\r\n    document.body.removeEventListener('mousedown', this.onBodyMousedown)\r\n    document.body.removeEventListener('click', this.onBodyClick)\r\n    this.mindMap.svg.off('click', this.onDrawClick)\r\n    this.mindMap.el.removeEventListener('mousedown', this.onMousedown)\r\n    window.removeEventListener('mousemove', this.onMousemove)\r\n    window.removeEventListener('mouseup', this.onMouseup)\r\n    this.off('node_mouseup', this.onNodeMouseup)\r\n    this.mindMap.el.removeEventListener('wheel', this.onMousewheel)\r\n    this.mindMap.svg.off('contextmenu', this.onContextmenu)\r\n    this.mindMap.svg.off('mouseenter', this.onMouseenter)\r\n    this.mindMap.svg.off('mouseleave', this.onMouseleave)\r\n    window.removeEventListener('keyup', this.onKeyup)\r\n  }\r\n\r\n  //   画布的单击事件\r\n  onDrawClick(e) {\r\n    this.emit('draw_click', e)\r\n  }\r\n\r\n  // 页面的鼠标按下事件\r\n  onBodyMousedown(e) {\r\n    this.emit('body_mousedown', e)\r\n  }\r\n\r\n  // 页面的单击事件\r\n  onBodyClick(e) {\r\n    this.emit('body_click', e)\r\n  }\r\n\r\n  //   svg画布的鼠标按下事件\r\n  onSvgMousedown(e) {\r\n    this.emit('svg_mousedown', e)\r\n  }\r\n\r\n  //  鼠标按下事件\r\n  onMousedown(e) {\r\n    // 鼠标左键\r\n    if (e.which === 1) {\r\n      this.isLeftMousedown = true\r\n    } else if (e.which === 3) {\r\n      this.isRightMousedown = true\r\n    } else if (e.which === 2) {\r\n      this.isMiddleMousedown = true\r\n    }\r\n    this.mousedownPos.x = e.clientX\r\n    this.mousedownPos.y = e.clientY\r\n    this.emit('mousedown', e, this)\r\n  }\r\n\r\n  //  鼠标移动事件\r\n  onMousemove(e) {\r\n    let { useLeftKeySelectionRightKeyDrag } = this.mindMap.opt\r\n    this.mousemovePos.x = e.clientX\r\n    this.mousemovePos.y = e.clientY\r\n    this.mousemoveOffset.x = e.clientX - this.mousedownPos.x\r\n    this.mousemoveOffset.y = e.clientY - this.mousedownPos.y\r\n    this.emit('mousemove', e, this)\r\n    if (\r\n      this.isMiddleMousedown ||\r\n      (useLeftKeySelectionRightKeyDrag\r\n        ? this.isRightMousedown\r\n        : this.isLeftMousedown)\r\n    ) {\r\n      e.preventDefault()\r\n      this.emit('drag', e, this)\r\n    }\r\n  }\r\n\r\n  //  鼠标松开事件\r\n  onMouseup(e) {\r\n    this.onNodeMouseup()\r\n    this.emit('mouseup', e, this)\r\n  }\r\n\r\n  // 节点鼠标松开事件\r\n  onNodeMouseup() {\r\n    this.isLeftMousedown = false\r\n    this.isRightMousedown = false\r\n    this.isMiddleMousedown = false\r\n  }\r\n\r\n  //  鼠标滚动/触控板滑动\r\n  onMousewheel(e) {\r\n    e.stopPropagation()\r\n    e.preventDefault()\r\n    const dirs = []\r\n    if (e.deltaY < 0) dirs.push(CONSTANTS.DIR.UP)\r\n    if (e.deltaY > 0) dirs.push(CONSTANTS.DIR.DOWN)\r\n    if (e.deltaX < 0) dirs.push(CONSTANTS.DIR.LEFT)\r\n    if (e.deltaX > 0) dirs.push(CONSTANTS.DIR.RIGHT)\r\n    // 判断是否是触控板\r\n    let isTouchPad = false\r\n    // mac、windows\r\n    if (e.wheelDeltaY === e.deltaY * -3 || Math.abs(e.wheelDeltaY) <= 10) {\r\n      isTouchPad = true\r\n    }\r\n    this.emit('mousewheel', e, dirs, this, isTouchPad)\r\n  }\r\n\r\n  //  鼠标右键菜单事件\r\n  onContextmenu(e) {\r\n    e.preventDefault()\r\n    // Mac上按住ctrl键点击鼠标左键不知为何触发的是contextmenu事件\r\n    if (e.ctrlKey) return\r\n    this.emit('contextmenu', e)\r\n  }\r\n\r\n  //  按键松开事件\r\n  onKeyup(e) {\r\n    this.emit('keyup', e)\r\n  }\r\n\r\n  // 进入\r\n  onMouseenter(e) {\r\n    this.emit('svg_mouseenter', e)\r\n  }\r\n\r\n  // 离开\r\n  onMouseleave(e) {\r\n    this.emit('svg_mouseleave', e)\r\n  }\r\n}\r\n\r\nexport default Event\r\n", "var isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n    return Array.isArray(val) ? [] : {}\n}\n\nfunction cloneIfNecessary(value, optionsArgument) {\n    var clone = optionsArgument && optionsArgument.clone === true;\n    return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n}\n\nfunction defaultArrayMerge(target, source, optionsArgument) {\n    var destination = target.slice();\n    source.forEach(function(e, i) {\n        if (typeof destination[i] === 'undefined') {\n            destination[i] = cloneIfNecessary(e, optionsArgument);\n        } else if (isMergeableObject(e)) {\n            destination[i] = deepmerge(target[i], e, optionsArgument);\n        } else if (target.indexOf(e) === -1) {\n            destination.push(cloneIfNecessary(e, optionsArgument));\n        }\n    });\n    return destination\n}\n\nfunction mergeObject(target, source, optionsArgument) {\n    var destination = {};\n    if (isMergeableObject(target)) {\n        Object.keys(target).forEach(function(key) {\n            destination[key] = cloneIfNecessary(target[key], optionsArgument);\n        });\n    }\n    Object.keys(source).forEach(function(key) {\n        if (!isMergeableObject(source[key]) || !target[key]) {\n            destination[key] = cloneIfNecessary(source[key], optionsArgument);\n        } else {\n            destination[key] = deepmerge(target[key], source[key], optionsArgument);\n        }\n    });\n    return destination\n}\n\nfunction deepmerge(target, source, optionsArgument) {\n    var sourceIsArray = Array.isArray(source);\n    var targetIsArray = Array.isArray(target);\n    var options = optionsArgument || { arrayMerge: defaultArrayMerge };\n    var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n    if (!sourceAndTargetTypesMatch) {\n        return cloneIfNecessary(source, optionsArgument)\n    } else if (sourceIsArray) {\n        var arrayMerge = options.arrayMerge || defaultArrayMerge;\n        return arrayMerge(target, source, optionsArgument)\n    } else {\n        return mergeObject(target, source, optionsArgument)\n    }\n}\n\ndeepmerge.all = function deepmergeAll(array, optionsArgument) {\n    if (!Array.isArray(array) || array.length < 2) {\n        throw new Error('first argument should be an array with at least two elements')\n    }\n\n    // we are sure there are at least 2 values, so it is safe to have no initial value\n    return array.reduce(function(prev, next) {\n        return deepmerge(prev, next, optionsArgument)\n    })\n};\n\nvar deepmerge_1 = deepmerge;\n\nexport default deepmerge_1;\n", "import { checkIsNodeStyleDataKey } from '../../../utils/index'\r\n\r\nconst rootProp = ['paddingX', 'paddingY']\r\nconst backgroundStyleProps = [\r\n  'backgroundColor',\r\n  'backgroundImage',\r\n  'backgroundRepeat',\r\n  'backgroundPosition',\r\n  'backgroundSize'\r\n]\r\n\r\n//  样式类\r\nclass Style {\r\n  //   设置背景样式\r\n  static setBackgroundStyle(el, themeConfig) {\r\n    // 缓存容器元素原本的样式\r\n    if (!Style.cacheStyle) {\r\n      Style.cacheStyle = {}\r\n      let style = window.getComputedStyle(el)\r\n      backgroundStyleProps.forEach(prop => {\r\n        Style.cacheStyle[prop] = style[prop]\r\n      })\r\n    }\r\n    // 设置新样式\r\n    let {\r\n      backgroundColor,\r\n      backgroundImage,\r\n      backgroundRepeat,\r\n      backgroundPosition,\r\n      backgroundSize\r\n    } = themeConfig\r\n    el.style.backgroundColor = backgroundColor\r\n    if (backgroundImage && backgroundImage !== 'none') {\r\n      el.style.backgroundImage = `url(${backgroundImage})`\r\n      el.style.backgroundRepeat = backgroundRepeat\r\n      el.style.backgroundPosition = backgroundPosition\r\n      el.style.backgroundSize = backgroundSize\r\n    } else {\r\n      el.style.backgroundImage = 'none'\r\n    }\r\n  }\r\n\r\n  // 移除背景样式\r\n  static removeBackgroundStyle(el) {\r\n    if (!Style.cacheStyle) return\r\n    backgroundStyleProps.forEach(prop => {\r\n      el.style[prop] = Style.cacheStyle[prop]\r\n    })\r\n    Style.cacheStyle = null\r\n  }\r\n\r\n  //  构造函数\r\n  constructor(ctx) {\r\n    this.ctx = ctx\r\n    // 箭头图标\r\n    this._markerPath = null\r\n    this._marker = null\r\n    // 渐变背景\r\n    this._gradient = null\r\n  }\r\n\r\n  //  合并样式\r\n  merge(prop, root) {\r\n    let themeConfig = this.ctx.mindMap.themeConfig\r\n    // 三级及以下节点\r\n    let defaultConfig = themeConfig.node\r\n    if (root || rootProp.includes(prop)) {\r\n      // 直接使用最外层样式\r\n      defaultConfig = themeConfig\r\n    } else if (this.ctx.isGeneralization) {\r\n      // 概要节点\r\n      defaultConfig = themeConfig.generalization\r\n    } else if (this.ctx.layerIndex === 0) {\r\n      // 根节点\r\n      defaultConfig = themeConfig.root\r\n    } else if (this.ctx.layerIndex === 1) {\r\n      // 二级节点\r\n      defaultConfig = themeConfig.second\r\n    }\r\n    // 优先使用节点本身的样式\r\n    return this.getSelfStyle(prop) !== undefined\r\n      ? this.getSelfStyle(prop)\r\n      : defaultConfig[prop]\r\n  }\r\n\r\n  //  获取某个样式值\r\n  getStyle(prop, root) {\r\n    return this.merge(prop, root)\r\n  }\r\n\r\n  //  获取自身自定义样式\r\n  getSelfStyle(prop) {\r\n    return this.ctx.getData(prop)\r\n  }\r\n\r\n  //  矩形\r\n  rect(node) {\r\n    this.shape(node)\r\n    node.radius(this.merge('borderRadius'))\r\n  }\r\n\r\n  // 形状\r\n  shape(node) {\r\n    if (this.merge('gradientStyle')) {\r\n      if (!this._gradient) {\r\n        this._gradient = this.ctx.nodeDraw.gradient('linear')\r\n      }\r\n      this._gradient.update(add => {\r\n        add.stop(0, this.merge('startColor'))\r\n        add.stop(1, this.merge('endColor'))\r\n      })\r\n      node.fill(this._gradient)\r\n    } else {\r\n      node.fill({\r\n        color: this.merge('fillColor')\r\n      })\r\n    }\r\n    // 节点使用横线样式，不需要渲染非激活状态的边框样式\r\n    // if (\r\n    //   !this.ctx.isRoot &&\r\n    //   !this.ctx.isGeneralization &&\r\n    //   this.ctx.mindMap.themeConfig.nodeUseLineStyle &&\r\n    //   !this.ctx.getData('isActive')\r\n    // ) {\r\n    //   return\r\n    // }\r\n    node.stroke({\r\n      color: this.merge('borderColor'),\r\n      width: this.merge('borderWidth'),\r\n      dasharray: this.merge('borderDasharray')\r\n    })\r\n  }\r\n\r\n  //  文字\r\n  text(node) {\r\n    node\r\n      .fill({\r\n        color: this.merge('color')\r\n      })\r\n      .css({\r\n        'font-family': this.merge('fontFamily'),\r\n        'font-size': this.merge('fontSize'),\r\n        'font-weight': this.merge('fontWeight'),\r\n        'font-style': this.merge('fontStyle'),\r\n        'text-decoration': this.merge('textDecoration')\r\n      })\r\n  }\r\n\r\n  // 生成内联样式\r\n  createStyleText() {\r\n    return `\r\n      color: ${this.merge('color')};\r\n      font-family: ${this.merge('fontFamily')};\r\n      font-size: ${this.merge('fontSize') + 'px'};\r\n      font-weight: ${this.merge('fontWeight')};\r\n      font-style: ${this.merge('fontStyle')};\r\n      text-decoration: ${this.merge('textDecoration')}\r\n    `\r\n  }\r\n\r\n  // 获取文本样式\r\n  getTextFontStyle() {\r\n    return {\r\n      italic: this.merge('fontStyle') === 'italic',\r\n      bold: this.merge('fontWeight'),\r\n      fontSize: this.merge('fontSize'),\r\n      fontFamily: this.merge('fontFamily')\r\n    }\r\n  }\r\n\r\n  //  html文字节点\r\n  domText(node, fontSizeScale = 1, isMultiLine) {\r\n    node.style.fontFamily = this.merge('fontFamily')\r\n    node.style.fontSize = this.merge('fontSize') * fontSizeScale + 'px'\r\n    node.style.fontWeight = this.merge('fontWeight') || 'normal'\r\n    node.style.lineHeight = !isMultiLine ? 'normal' : this.merge('lineHeight')\r\n    node.style.fontStyle = this.merge('fontStyle')\r\n  }\r\n\r\n  //  标签文字\r\n  tagText(node, style) {\r\n    node\r\n      .fill({\r\n        color: '#fff'\r\n      })\r\n      .css({\r\n        'font-size': style.fontSize + 'px'\r\n      })\r\n  }\r\n\r\n  //  标签矩形\r\n  tagRect(node, style) {\r\n    node.fill({\r\n      color: style.fill\r\n    })\r\n    if (style.radius) {\r\n      node.radius(style.radius)\r\n    }\r\n  }\r\n\r\n  //  内置图标\r\n  iconNode(node) {\r\n    node.attr({\r\n      fill: this.merge('color')\r\n    })\r\n  }\r\n\r\n  //  连线\r\n  line(line, { width, color, dasharray } = {}, enableMarker, childNode) {\r\n    line.stroke({ color, dasharray, width }).fill({ color: 'none' })\r\n    // 可以显示箭头\r\n    if (enableMarker) {\r\n      const showMarker = this.merge('showLineMarker', true)\r\n      const childNodeStyle = childNode.style\r\n      // 显示箭头\r\n      if (showMarker) {\r\n        // 创建子节点箭头标记\r\n        childNodeStyle._marker =\r\n          childNodeStyle._marker || childNodeStyle.createMarker()\r\n        // 设置样式\r\n        childNodeStyle._markerPath.stroke({ color }).fill({ color })\r\n        // 箭头位置可能会发生改变，所以需要先删除\r\n        line.attr('marker-start', '')\r\n        line.attr('marker-end', '')\r\n        const dir = childNodeStyle.merge('lineMarkerDir')\r\n        line.marker(dir, childNodeStyle._marker)\r\n      } else if (childNodeStyle._marker) {\r\n        // 不显示箭头，则删除该子节点的箭头标记\r\n        line.attr('marker-start', '')\r\n        line.attr('marker-end', '')\r\n        childNodeStyle._marker.remove()\r\n        childNodeStyle._marker = null\r\n      }\r\n    }\r\n  }\r\n\r\n  // 创建箭头\r\n  createMarker() {\r\n    return this.ctx.lineDraw.marker(20, 20, add => {\r\n      add.ref(8, 5)\r\n      add.size(20, 20)\r\n      add.attr('markerUnits', 'userSpaceOnUse')\r\n      add.attr('orient', 'auto-start-reverse')\r\n      this._markerPath = add.path('M0,0 L2,5 L0,10 L10,5 Z')\r\n    })\r\n  }\r\n\r\n  //  概要连线\r\n  generalizationLine(node) {\r\n    node\r\n      .stroke({\r\n        width: this.merge('generalizationLineWidth', true),\r\n        color: this.merge('generalizationLineColor', true)\r\n      })\r\n      .fill({ color: 'none' })\r\n  }\r\n\r\n  //  展开收起按钮\r\n  iconBtn(node, node2, fillNode) {\r\n    let { color, fill, fontSize, fontColor } = this.ctx.mindMap.opt\r\n      .expandBtnStyle || {\r\n      color: '#808080',\r\n      fill: '#fff',\r\n      fontSize: 12,\r\n      strokeColor: '#333333',\r\n      fontColor: '#333333'\r\n    }\r\n    node.fill({ color: color })\r\n    node2.fill({ color: color })\r\n    fillNode.fill({ color: fill })\r\n    if (this.ctx.mindMap.opt.isShowExpandNum) {\r\n      node.attr({ 'font-size': fontSize, 'font-color': fontColor })\r\n    }\r\n  }\r\n\r\n  // 是否设置了自定义的样式\r\n  hasCustomStyle() {\r\n    let res = false\r\n    Object.keys(this.ctx.getData()).forEach(item => {\r\n      if (checkIsNodeStyleDataKey(item)) {\r\n        res = true\r\n      }\r\n    })\r\n    return res\r\n  }\r\n\r\n  // hover和激活节点\r\n  hoverNode(node) {\r\n    const { hoverRectColor } = this.ctx.mindMap.opt\r\n    node.radius(5).fill('none').stroke({\r\n      color: hoverRectColor\r\n    })\r\n  }\r\n\r\n  // 所属节点被删除时的操作\r\n  onRemove() {\r\n    if (this._marker) {\r\n      this._marker.remove()\r\n      this._marker = null\r\n    }\r\n    if (this._markerPath) {\r\n      this._markerPath.remove()\r\n      this._markerPath = null\r\n    }\r\n    if (this._gradient) {\r\n      this._gradient.remove()\r\n      this._gradient = null\r\n    }\r\n  }\r\n}\r\n\r\nStyle.cacheStyle = null\r\n\r\nexport default Style\r\n", "import { Polygon, Path, SVG } from '@svgdotjs/svg.js'\r\nimport { CONSTANTS } from '../../../constants/constant'\r\n\r\n//  节点形状类\r\nexport default class Shape {\r\n  constructor(node) {\r\n    this.node = node\r\n    this.mindMap = node.mindMap\r\n  }\r\n\r\n  //  形状需要的padding\r\n  getShapePadding(width, height, paddingX, paddingY) {\r\n    const shape = this.node.getShape()\r\n    const defaultPaddingX = 15\r\n    const defaultPaddingY = 5\r\n    const actWidth = width + paddingX * 2\r\n    const actHeight = height + paddingY * 2\r\n    const actOffset = Math.abs(actWidth - actHeight)\r\n    switch (shape) {\r\n      case CONSTANTS.SHAPE.ROUNDED_RECTANGLE:\r\n        return {\r\n          paddingX: height > width ? (height - width) / 2 : 0,\r\n          paddingY: 0\r\n        }\r\n      case CONSTANTS.SHAPE.DIAMOND:\r\n        return {\r\n          paddingX: width / 2,\r\n          paddingY: height / 2\r\n        }\r\n      case CONSTANTS.SHAPE.PARALLELOGRAM:\r\n        return {\r\n          paddingX: paddingX <= 0 ? defaultPaddingX : 0,\r\n          paddingY: 0\r\n        }\r\n      case CONSTANTS.SHAPE.OUTER_TRIANGULAR_RECTANGLE:\r\n        return {\r\n          paddingX: paddingX <= 0 ? defaultPaddingX : 0,\r\n          paddingY: 0\r\n        }\r\n      case CONSTANTS.SHAPE.INNER_TRIANGULAR_RECTANGLE:\r\n        return {\r\n          paddingX: paddingX <= 0 ? defaultPaddingX : 0,\r\n          paddingY: 0\r\n        }\r\n      case CONSTANTS.SHAPE.ELLIPSE:\r\n        return {\r\n          paddingX: paddingX <= 0 ? defaultPaddingX : 0,\r\n          paddingY: paddingY <= 0 ? defaultPaddingY : 0\r\n        }\r\n      case CONSTANTS.SHAPE.CIRCLE:\r\n        return {\r\n          paddingX: actHeight > actWidth ? actOffset / 2 : 0,\r\n          paddingY: actHeight < actWidth ? actOffset / 2 : 0\r\n        }\r\n      default:\r\n        return {\r\n          paddingX: 0,\r\n          paddingY: 0\r\n        }\r\n    }\r\n  }\r\n\r\n  //  创建形状节点\r\n  createShape() {\r\n    const shape = this.node.getShape()\r\n    let node = null\r\n    // 矩形\r\n    if (shape === CONSTANTS.SHAPE.RECTANGLE) {\r\n      node = this.createRect()\r\n    } else if (shape === CONSTANTS.SHAPE.DIAMOND) {\r\n      // 菱形\r\n      node = this.createDiamond()\r\n    } else if (shape === CONSTANTS.SHAPE.PARALLELOGRAM) {\r\n      // 平行四边形\r\n      node = this.createParallelogram()\r\n    } else if (shape === CONSTANTS.SHAPE.ROUNDED_RECTANGLE) {\r\n      // 圆角矩形\r\n      node = this.createRoundedRectangle()\r\n    } else if (shape === CONSTANTS.SHAPE.OCTAGONAL_RECTANGLE) {\r\n      // 八角矩形\r\n      node = this.createOctagonalRectangle()\r\n    } else if (shape === CONSTANTS.SHAPE.OUTER_TRIANGULAR_RECTANGLE) {\r\n      // 外三角矩形\r\n      node = this.createOuterTriangularRectangle()\r\n    } else if (shape === CONSTANTS.SHAPE.INNER_TRIANGULAR_RECTANGLE) {\r\n      // 内三角矩形\r\n      node = this.createInnerTriangularRectangle()\r\n    } else if (shape === CONSTANTS.SHAPE.ELLIPSE) {\r\n      // 椭圆\r\n      node = this.createEllipse()\r\n    } else if (shape === CONSTANTS.SHAPE.CIRCLE) {\r\n      // 圆\r\n      node = this.createCircle()\r\n    }\r\n    return node\r\n  }\r\n\r\n  // 获取节点减去节点边框宽度、hover节点边框宽度后的尺寸\r\n  getNodeSize() {\r\n    const borderWidth = this.node.getBorderWidth()\r\n    let { width, height } = this.node\r\n    width -= borderWidth\r\n    height -= borderWidth\r\n    return {\r\n      width,\r\n      height\r\n    }\r\n  }\r\n\r\n  // 创建路径节点\r\n  createPath(pathStr) {\r\n    const { customCreateNodePath } = this.mindMap.opt\r\n    if (customCreateNodePath) {\r\n      return SVG(customCreateNodePath(pathStr))\r\n    }\r\n    return new Path().plot(pathStr)\r\n  }\r\n\r\n  // 创建多边形节点\r\n  createPolygon(points) {\r\n    const { customCreateNodePolygon } = this.mindMap.opt\r\n    if (customCreateNodePolygon) {\r\n      return SVG(customCreateNodePolygon(points))\r\n    }\r\n    return new Polygon().plot(points)\r\n  }\r\n\r\n  // 创建矩形\r\n  createRect() {\r\n    let { width, height } = this.getNodeSize()\r\n    let borderRadius = this.node.style.merge('borderRadius')\r\n    const pathStr = `\r\n      M${borderRadius},0\r\n      L${width - borderRadius},0\r\n      C${width - borderRadius},0 ${width},${0} ${width},${borderRadius}\r\n      L${width},${height - borderRadius}\r\n      C${width},${height - borderRadius} ${width},${height} ${\r\n      width - borderRadius\r\n    },${height}\r\n      L${borderRadius},${height}\r\n      C${borderRadius},${height} ${0},${height} ${0},${height - borderRadius}\r\n      L${0},${borderRadius}\r\n      C${0},${borderRadius} ${0},${0} ${borderRadius},${0}\r\n      Z\r\n    `\r\n    return this.createPath(pathStr)\r\n  }\r\n\r\n  //  创建菱形\r\n  createDiamond() {\r\n    let { width, height } = this.getNodeSize()\r\n    let halfWidth = width / 2\r\n    let halfHeight = height / 2\r\n    let topX = halfWidth\r\n    let topY = 0\r\n    let rightX = width\r\n    let rightY = halfHeight\r\n    let bottomX = halfWidth\r\n    let bottomY = height\r\n    let leftX = 0\r\n    let leftY = halfHeight\r\n    const points = [\r\n      [topX, topY],\r\n      [rightX, rightY],\r\n      [bottomX, bottomY],\r\n      [leftX, leftY]\r\n    ]\r\n    return this.createPolygon(points)\r\n  }\r\n\r\n  //  创建平行四边形\r\n  createParallelogram() {\r\n    let { paddingX } = this.node.getPaddingVale()\r\n    paddingX = paddingX || this.node.shapePadding.paddingX\r\n    let { width, height } = this.getNodeSize()\r\n    const points = [\r\n      [paddingX, 0],\r\n      [width, 0],\r\n      [width - paddingX, height],\r\n      [0, height]\r\n    ]\r\n    return this.createPolygon(points)\r\n  }\r\n\r\n  //  创建圆角矩形\r\n  createRoundedRectangle() {\r\n    let { width, height } = this.getNodeSize()\r\n    let halfHeight = height / 2\r\n    const pathStr = `\r\n      M${halfHeight},0\r\n      L${width - halfHeight},0\r\n      A${height / 2},${height / 2} 0 0,1 ${width - halfHeight},${height} \r\n      L${halfHeight},${height}\r\n      A${height / 2},${height / 2} 0 0,1 ${halfHeight},${0}\r\n    `\r\n    return this.createPath(pathStr)\r\n  }\r\n\r\n  //  创建八角矩形\r\n  createOctagonalRectangle() {\r\n    let w = 5\r\n    let { width, height } = this.getNodeSize()\r\n    const points = [\r\n      [0, w],\r\n      [w, 0],\r\n      [width - w, 0],\r\n      [width, w],\r\n      [width, height - w],\r\n      [width - w, height],\r\n      [w, height],\r\n      [0, height - w]\r\n    ]\r\n    return this.createPolygon(points)\r\n  }\r\n\r\n  //  创建外三角矩形\r\n  createOuterTriangularRectangle() {\r\n    let { paddingX } = this.node.getPaddingVale()\r\n    paddingX = paddingX || this.node.shapePadding.paddingX\r\n    let { width, height } = this.getNodeSize()\r\n    const points = [\r\n      [paddingX, 0],\r\n      [width - paddingX, 0],\r\n      [width, height / 2],\r\n      [width - paddingX, height],\r\n      [paddingX, height],\r\n      [0, height / 2]\r\n    ]\r\n    return this.createPolygon(points)\r\n  }\r\n\r\n  //  创建内三角矩形\r\n  createInnerTriangularRectangle() {\r\n    let { paddingX } = this.node.getPaddingVale()\r\n    paddingX = paddingX || this.node.shapePadding.paddingX\r\n    let { width, height } = this.getNodeSize()\r\n    const points = [\r\n      [0, 0],\r\n      [width, 0],\r\n      [width - paddingX / 2, height / 2],\r\n      [width, height],\r\n      [0, height],\r\n      [paddingX / 2, height / 2]\r\n    ]\r\n    return this.createPolygon(points)\r\n  }\r\n\r\n  //  创建椭圆\r\n  createEllipse() {\r\n    let { width, height } = this.getNodeSize()\r\n    let halfWidth = width / 2\r\n    let halfHeight = height / 2\r\n    const pathStr = `\r\n      M${halfWidth},0\r\n      A${halfWidth},${halfHeight} 0 0,1 ${halfWidth},${height} \r\n      M${halfWidth},${height} \r\n      A${halfWidth},${halfHeight} 0 0,1 ${halfWidth},${0} \r\n    `\r\n    return this.createPath(pathStr)\r\n  }\r\n\r\n  //  创建圆\r\n  createCircle() {\r\n    let { width, height } = this.getNodeSize()\r\n    let halfWidth = width / 2\r\n    let halfHeight = height / 2\r\n    const pathStr = `\r\n      M${halfWidth},0\r\n      A${halfWidth},${halfHeight} 0 0,1 ${halfWidth},${height} \r\n      M${halfWidth},${height} \r\n      A${halfWidth},${halfHeight} 0 0,1 ${halfWidth},${0} \r\n    `\r\n    return this.createPath(pathStr)\r\n  }\r\n}\r\n\r\n// 形状列表\r\nexport const shapeList = [\r\n  CONSTANTS.SHAPE.RECTANGLE,\r\n  CONSTANTS.SHAPE.DIAMOND,\r\n  CONSTANTS.SHAPE.PARALLELOGRAM,\r\n  CONSTANTS.SHAPE.ROUNDED_RECTANGLE,\r\n  CONSTANTS.SHAPE.OCTAGONAL_RECTANGLE,\r\n  CONSTANTS.SHAPE.OUTER_TRIANGULAR_RECTANGLE,\r\n  CONSTANTS.SHAPE.INNER_TRIANGULAR_RECTANGLE,\r\n  CONSTANTS.SHAPE.ELLIPSE,\r\n  CONSTANTS.SHAPE.CIRCLE\r\n]\r\n", "import Node from './Node'\r\nimport { createUid } from '../../../utils/index'\r\n\r\n// 获取节点概要数据\r\nfunction formatGetGeneralization() {\r\n  const data = this.getData('generalization')\r\n  return Array.isArray(data) ? data : data ? [data] : []\r\n}\r\n\r\n//  检查是否存在概要\r\nfunction checkHasGeneralization() {\r\n  return this.formatGetGeneralization().length > 0\r\n}\r\n\r\n//  检查是否存在自身的概要，非子节点区间\r\nfunction checkHasSelfGeneralization() {\r\n  const list = this.formatGetGeneralization()\r\n  return !!list.find(item => {\r\n    return !item.range || item.range.length <= 0\r\n  })\r\n}\r\n\r\n// 获取概要节点所在的概要列表里的索引\r\nfunction getGeneralizationNodeIndex(node) {\r\n  return this._generalizationList.findIndex(item => {\r\n    return item.generalizationNode.uid === node.uid\r\n  })\r\n}\r\n\r\n//  创建概要节点\r\nfunction createGeneralizationNode() {\r\n  if (this.isGeneralization || !this.checkHasGeneralization()) {\r\n    return\r\n  }\r\n  let maxWidth = 0\r\n  let maxHeight = 0\r\n  const list = this.formatGetGeneralization()\r\n  list.forEach((item, index) => {\r\n    let cur = this._generalizationList[index]\r\n    if (!cur) {\r\n      cur = this._generalizationList[index] = {}\r\n    }\r\n    // 所属节点\r\n    cur.node = this\r\n    // 区间范围\r\n    cur.range = item.range\r\n    // 线和节点\r\n    if (!cur.generalizationLine) {\r\n      cur.generalizationLine = this.lineDraw.path()\r\n    }\r\n    if (!cur.generalizationNode) {\r\n      cur.generalizationNode = new Node({\r\n        data: {\r\n          inserting: item.inserting,\r\n          data: item\r\n        },\r\n        uid: createUid(),\r\n        renderer: this.renderer,\r\n        mindMap: this.mindMap,\r\n        isGeneralization: true\r\n      })\r\n    }\r\n    delete item.inserting\r\n    // 关联所属节点\r\n    cur.generalizationNode.generalizationBelongNode = this\r\n    // 大小\r\n    if (cur.generalizationNode.width > maxWidth)\r\n      maxWidth = cur.generalizationNode.width\r\n    if (cur.generalizationNode.height > maxHeight)\r\n      maxHeight = cur.generalizationNode.height\r\n    // 如果该概要为激活状态，那么加入激活节点列表\r\n    if (item.isActive) {\r\n      this.renderer.addNodeToActiveList(cur.generalizationNode)\r\n    }\r\n  })\r\n  this._generalizationNodeWidth = maxWidth\r\n  this._generalizationNodeHeight = maxHeight\r\n}\r\n\r\n//  更新概要节点\r\nfunction updateGeneralization() {\r\n  if (this.isGeneralization) return\r\n  this.removeGeneralization()\r\n  this.createGeneralizationNode()\r\n}\r\n\r\n//  渲染概要节点\r\nfunction renderGeneralization(forceRender) {\r\n  if (this.isGeneralization) return\r\n  this.updateGeneralizationData()\r\n  const list = this.formatGetGeneralization()\r\n  if (list.length <= 0 || this.getData('expand') === false) {\r\n    this.removeGeneralization()\r\n    return\r\n  }\r\n  if (list.length !== this._generalizationList.length) {\r\n    this.removeGeneralization()\r\n  }\r\n  this.createGeneralizationNode()\r\n  this.renderer.layout.renderGeneralization(this._generalizationList)\r\n  this._generalizationList.forEach(item => {\r\n    this.style.generalizationLine(item.generalizationLine)\r\n    item.generalizationNode.render(() => {}, forceRender)\r\n  })\r\n}\r\n\r\n// 更新节点概要数据\r\nfunction updateGeneralizationData() {\r\n  const childrenLength = this.nodeData.children.length\r\n  const list = this.formatGetGeneralization()\r\n  const newList = []\r\n  list.forEach(item => {\r\n    if (!item.range) {\r\n      newList.push(item)\r\n      return\r\n    }\r\n    if (\r\n      item.range.length > 0 &&\r\n      item.range[0] <= childrenLength - 1 &&\r\n      item.range[1] <= childrenLength - 1\r\n    ) {\r\n      newList.push(item)\r\n    }\r\n  })\r\n  if (newList.length !== list.length) {\r\n    this.setData({\r\n      generalization: newList\r\n    })\r\n  }\r\n}\r\n\r\n//  删除概要节点\r\nfunction removeGeneralization() {\r\n  if (this.isGeneralization) return\r\n  this._generalizationList.forEach(item => {\r\n    item.generalizationNode.style.onRemove()\r\n    if (item.generalizationLine) {\r\n      item.generalizationLine.remove()\r\n      item.generalizationLine = null\r\n    }\r\n    if (item.generalizationNode) {\r\n      // 删除概要节点时要同步从激活节点里删除\r\n      this.renderer.removeNodeFromActiveList(item.generalizationNode)\r\n      item.generalizationNode.remove()\r\n      item.generalizationNode = null\r\n    }\r\n  })\r\n  this._generalizationList = []\r\n  // hack修复当激活一个节点时创建概要，然后立即激活创建的概要节点后会重复创建概要节点并且无法删除的问题\r\n  if (this.generalizationBelongNode) {\r\n    this.nodeDraw\r\n      .find('.generalization_' + this.generalizationBelongNode.uid)\r\n      .remove()\r\n  }\r\n}\r\n\r\n//  隐藏概要节点\r\nfunction hideGeneralization() {\r\n  if (this.isGeneralization) return\r\n  this._generalizationList.forEach(item => {\r\n    if (item.generalizationLine) item.generalizationLine.hide()\r\n    if (item.generalizationNode) item.generalizationNode.hide()\r\n  })\r\n}\r\n\r\n//  显示概要节点\r\nfunction showGeneralization() {\r\n  if (this.isGeneralization) return\r\n  this._generalizationList.forEach(item => {\r\n    if (item.generalizationLine) item.generalizationLine.show()\r\n    if (item.generalizationNode) item.generalizationNode.show()\r\n  })\r\n}\r\n\r\n// 设置概要节点的透明度\r\nfunction setGeneralizationOpacity(val) {\r\n  this._generalizationList.forEach(item => {\r\n    item.generalizationLine.opacity(val)\r\n    item.generalizationNode.group.opacity(val)\r\n  })\r\n}\r\n\r\n// 处理概要节点鼠标移入事件\r\nfunction handleGeneralizationMouseenter() {\r\n  const belongNode = this.generalizationBelongNode\r\n  const list = belongNode.formatGetGeneralization()\r\n  const index = belongNode.getGeneralizationNodeIndex(this)\r\n  const generalizationData = list[index]\r\n  // 区间概要，框子节点\r\n  if (\r\n    Array.isArray(generalizationData.range) &&\r\n    generalizationData.range.length > 0\r\n  ) {\r\n    this.mindMap.renderer.highlightNode(belongNode, generalizationData.range)\r\n  } else {\r\n    // 否则框自己\r\n    this.mindMap.renderer.highlightNode(belongNode)\r\n  }\r\n}\r\n\r\n// 处理概要节点鼠标移出事件\r\nfunction handleGeneralizationMouseleave() {\r\n  this.mindMap.renderer.closeHighlightNode()\r\n}\r\n\r\nexport default {\r\n  formatGetGeneralization,\r\n  checkHasGeneralization,\r\n  checkHasSelfGeneralization,\r\n  getGeneralizationNodeIndex,\r\n  createGeneralizationNode,\r\n  updateGeneralization,\r\n  updateGeneralizationData,\r\n  renderGeneralization,\r\n  removeGeneralization,\r\n  hideGeneralization,\r\n  showGeneralization,\r\n  setGeneralizationOpacity,\r\n  handleGeneralizationMouseenter,\r\n  handleGeneralizationMouseleave\r\n}\r\n", "//  展开按钮\r\nconst open = `<svg t=\"1618141562310\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"13476\" width=\"200\" height=\"200\"><path d=\"M475.136 327.168v147.968h-147.968v74.24h147.968v147.968h74.24v-147.968h147.968v-74.24h-147.968v-147.968h-74.24z m36.864-222.208c225.28 0 407.04 181.76 407.04 407.04s-181.76 407.04-407.04 407.04-407.04-181.76-407.04-407.04 181.76-407.04 407.04-407.04z m0-74.24c-265.216 0-480.768 215.552-480.768 480.768s215.552 480.768 480.768 480.768 480.768-215.552 480.768-480.768-215.552-480.768-480.768-480.768z\" p-id=\"13477\"></path></svg>`\r\n\r\n//  收缩按钮\r\nconst close = `<svg t=\"1618141589243\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"13611\" width=\"200\" height=\"200\"><path d=\"M512 105.472c225.28 0 407.04 181.76 407.04 407.04s-181.76 407.04-407.04 407.04-407.04-181.76-407.04-407.04 181.76-407.04 407.04-407.04z m0-74.24c-265.216 0-480.768 215.552-480.768 480.768s215.552 480.768 480.768 480.768 480.768-215.552 480.768-480.768-215.552-480.768-480.768-480.768z\" p-id=\"13612\"></path><path d=\"M252.928 474.624h518.144v74.24h-518.144z\" p-id=\"13613\"></path></svg>`\r\n\r\n// 删除按钮\r\nconst remove = `<svg width=\"14px\" height=\"14px\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"13611\" width=\"200\" height=\"200\"><path fill=\"#ffffff\" d=\"M512 105.472c225.28 0 407.04 181.76 407.04 407.04s-181.76 407.04-407.04 407.04-407.04-181.76-407.04-407.04 181.76-407.04 407.04-407.04z m0-74.24c-265.216 0-480.768 215.552-480.768 480.768s215.552 480.768 480.768 480.768 480.768-215.552 480.768-480.768-215.552-480.768-480.768-480.768z\" p-id=\"13612\"></path><path fill=\"#ffffff\" d=\"M252.928 474.624h518.144v74.24h-518.144z\" p-id=\"13613\"></path></svg>`\r\n\r\n// 图片调整按钮\r\nconst imgAdjust = `<svg width=\"12px\" height=\"12px\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#ffffff\" d=\"M1008.128 614.4a25.6 25.6 0 0 0-27.648 5.632l-142.848 142.848L259.072 186.88 401.92 43.52A25.6 25.6 0 0 0 384 0h-358.4a25.6 25.6 0 0 0-25.6 25.6v358.4a25.6 25.6 0 0 0 43.52 17.92l143.36-142.848 578.048 578.048-142.848 142.848a25.6 25.6 0 0 0 17.92 43.52h358.4a25.6 25.6 0 0 0 25.6-25.6v-358.4a25.6 25.6 0 0 0-15.872-25.088z\"  /></svg>`\r\n\r\nexport default {\r\n  open,\r\n  close,\r\n  remove,\r\n  imgAdjust\r\n}\r\n", "import btnsSvg from '../../../svg/btns'\r\nimport { SVG, Circle, G, Text } from '@svgdotjs/svg.js'\r\n\r\n// 创建展开收起按钮的内容节点\r\nfunction createExpandNodeContent() {\r\n  if (this._openExpandNode) {\r\n    return\r\n  }\r\n  let { close, open } = this.mindMap.opt.expandBtnIcon || {}\r\n  // 根据配置判断是否显示数量按钮\r\n  if (this.mindMap.opt.isShowExpandNum) {\r\n    // 展开的节点\r\n    this._openExpandNode = new Text()\r\n    // 文本垂直居中\r\n    this._openExpandNode.attr({\r\n      'text-anchor': 'middle',\r\n      'dominant-baseline': 'middle',\r\n      x: this.expandBtnSize / 2,\r\n      y: 2\r\n    })\r\n  } else {\r\n    this._openExpandNode = SVG(open || btnsSvg.open).size(\r\n      this.expandBtnSize,\r\n      this.expandBtnSize\r\n    )\r\n    this._openExpandNode.x(0).y(-this.expandBtnSize / 2)\r\n  }\r\n  // 收起的节点\r\n  this._closeExpandNode = SVG(close || btnsSvg.close).size(\r\n    this.expandBtnSize,\r\n    this.expandBtnSize\r\n  )\r\n  this._closeExpandNode.x(0).y(-this.expandBtnSize / 2)\r\n  // 填充节点\r\n  this._fillExpandNode = new Circle().size(this.expandBtnSize)\r\n  this._fillExpandNode.x(0).y(-this.expandBtnSize / 2)\r\n\r\n  // 设置样式\r\n  this.style.iconBtn(\r\n    this._openExpandNode,\r\n    this._closeExpandNode,\r\n    this._fillExpandNode\r\n  )\r\n}\r\nfunction sumNode(data = []) {\r\n  return data.reduce(\r\n    (total, cur) => total + this.sumNode(cur.children || []),\r\n    data.length\r\n  )\r\n}\r\n//  创建或更新展开收缩按钮内容\r\nfunction updateExpandBtnNode() {\r\n  let { expand } = this.getData()\r\n  // 如果本次和上次的展开状态一样则返回\r\n  if (expand === this._lastExpandBtnType) return\r\n  if (this._expandBtn) {\r\n    this._expandBtn.clear()\r\n  }\r\n  this.createExpandNodeContent()\r\n  let node\r\n  if (expand === false) {\r\n    node = this._openExpandNode\r\n    this._lastExpandBtnType = false\r\n  } else {\r\n    node = this._closeExpandNode\r\n    this._lastExpandBtnType = true\r\n  }\r\n\r\n  if (this._expandBtn) {\r\n    // 如果是收起按钮加上边框\r\n    let { isShowExpandNum, expandBtnStyle, expandBtnNumHandler } =\r\n      this.mindMap.opt\r\n    if (isShowExpandNum) {\r\n      if (!expand) {\r\n        // 数字按钮添加边框\r\n        this._fillExpandNode.stroke({\r\n          color: expandBtnStyle.strokeColor\r\n        })\r\n        // 计算子节点数量\r\n        let count = this.sumNode(this.nodeData.children)\r\n        count = expandBtnNumHandler(count)\r\n        node.text(String(count))\r\n      } else {\r\n        this._fillExpandNode.stroke('none')\r\n      }\r\n    }\r\n    this._expandBtn.add(this._fillExpandNode).add(node)\r\n  }\r\n}\r\n\r\n//  更新展开收缩按钮位置\r\nfunction updateExpandBtnPos() {\r\n  if (!this._expandBtn) {\r\n    return\r\n  }\r\n  this.renderer.layout.renderExpandBtn(this, this._expandBtn)\r\n}\r\n\r\n//  创建展开收缩按钮\r\nfunction renderExpandBtn() {\r\n  if (\r\n    !this.nodeData.children ||\r\n    this.nodeData.children.length <= 0 ||\r\n    this.isRoot\r\n  ) {\r\n    return\r\n  }\r\n  if (this._expandBtn) {\r\n    this.group.add(this._expandBtn)\r\n  } else {\r\n    this._expandBtn = new G()\r\n    this._expandBtn.on('mouseover', e => {\r\n      e.stopPropagation()\r\n      this._expandBtn.css({\r\n        cursor: 'pointer'\r\n      })\r\n    })\r\n    this._expandBtn.on('mouseout', e => {\r\n      e.stopPropagation()\r\n      this._expandBtn.css({\r\n        cursor: 'auto'\r\n      })\r\n    })\r\n    this._expandBtn.on('click', e => {\r\n      e.stopPropagation()\r\n      // 展开收缩\r\n      this.mindMap.execCommand('SET_NODE_EXPAND', this, !this.getData('expand'))\r\n      this.mindMap.emit('expand_btn_click', this)\r\n    })\r\n    this._expandBtn.on('dblclick', e => {\r\n      e.stopPropagation()\r\n    })\r\n    this._expandBtn.addClass('smm-expand-btn')\r\n    this.group.add(this._expandBtn)\r\n  }\r\n  this._showExpandBtn = true\r\n  this.updateExpandBtnNode()\r\n  this.updateExpandBtnPos()\r\n}\r\n\r\n//  移除展开收缩按钮\r\nfunction removeExpandBtn() {\r\n  if (this._expandBtn && this._showExpandBtn) {\r\n    this._expandBtn.remove()\r\n    this._showExpandBtn = false\r\n  }\r\n}\r\n\r\n// 显示展开收起按钮\r\nfunction showExpandBtn() {\r\n  const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n  if (alwaysShowExpandBtn || notShowExpandBtn) return\r\n  setTimeout(() => {\r\n    this.renderExpandBtn()\r\n  }, 0)\r\n}\r\n\r\n// 隐藏展开收起按钮\r\nfunction hideExpandBtn() {\r\n  const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n  if (alwaysShowExpandBtn || this._isMouseenter || notShowExpandBtn) return\r\n  // 非激活状态且展开状态鼠标移出才隐藏按钮\r\n  let { isActive, expand } = this.getData()\r\n  if (!isActive && expand) {\r\n    setTimeout(() => {\r\n      this.removeExpandBtn()\r\n    }, 0)\r\n  }\r\n}\r\n\r\nexport default {\r\n  createExpandNodeContent,\r\n  updateExpandBtnNode,\r\n  updateExpandBtnPos,\r\n  renderExpandBtn,\r\n  removeExpandBtn,\r\n  showExpandBtn,\r\n  hideExpandBtn,\r\n  sumNode\r\n}\r\n", "//  设置数据\r\nfunction setData(data = {}) {\r\n  this.mindMap.execCommand('SET_NODE_DATA', this, data)\r\n}\r\n\r\n//  设置文本\r\nfunction setText(text, richText, resetRichText) {\r\n  this.mindMap.execCommand('SET_NODE_TEXT', this, text, richText, resetRichText)\r\n}\r\n\r\n//  设置图片\r\nfunction setImage(imgData) {\r\n  this.mindMap.execCommand('SET_NODE_IMAGE', this, imgData)\r\n}\r\n\r\n//  设置图标\r\nfunction setIcon(icons) {\r\n  this.mindMap.execCommand('SET_NODE_ICON', this, icons)\r\n}\r\n\r\n//  设置超链接\r\nfunction setHyperlink(link, title) {\r\n  this.mindMap.execCommand('SET_NODE_HYPERLINK', this, link, title)\r\n}\r\n\r\n//  设置备注\r\nfunction setNote(note) {\r\n  this.mindMap.execCommand('SET_NODE_NOTE', this, note)\r\n}\r\n\r\n//  设置附件\r\nfunction setAttachment(url, name) {\r\n  this.mindMap.execCommand('SET_NODE_ATTACHMENT', this, url, name)\r\n}\r\n\r\n//  设置标签\r\nfunction setTag(tag) {\r\n  this.mindMap.execCommand('SET_NODE_TAG', this, tag)\r\n}\r\n\r\n//  设置形状\r\nfunction setShape(shape) {\r\n  this.mindMap.execCommand('SET_NODE_SHAPE', this, shape)\r\n}\r\n\r\n//  修改某个样式\r\nfunction setStyle(prop, value) {\r\n  this.mindMap.execCommand('SET_NODE_STYLE', this, prop, value)\r\n}\r\n\r\n//  修改多个样式\r\nfunction setStyles(style) {\r\n  this.mindMap.execCommand('SET_NODE_STYLES', this, style)\r\n}\r\n\r\nexport default {\r\n  setData,\r\n  setText,\r\n  setImage,\r\n  setIcon,\r\n  setHyperlink,\r\n  setNote,\r\n  setAttachment,\r\n  setTag,\r\n  setShape,\r\n  setStyle,\r\n  setStyles\r\n}\r\n", "import { mergerIconList } from '../utils'\r\n\r\n// 超链接图标\r\nconst hyperlink =\r\n  '<svg t=\"1624174958075\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"7982\" ><path d=\"M435.484444 251.733333v68.892445L295.822222 320.682667a168.504889 168.504889 0 0 0-2.844444 336.952889h142.506666v68.892444H295.822222a237.397333 237.397333 0 0 1 0-474.794667h139.662222z m248.945778 0a237.397333 237.397333 0 0 1 0 474.851556H544.654222v-69.006222l139.776 0.056889a168.504889 168.504889 0 0 0 2.844445-336.952889H544.597333V251.676444h139.776z m-25.827555 203.946667a34.474667 34.474667 0 0 1 0 68.892444H321.649778a34.474667 34.474667 0 0 1 0-68.892444h336.952889z\" p-id=\"7983\"></path></svg>'\r\n\r\n// 备注图标\r\nconst note =\r\n  '<svg t=\"1624195132675\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"8792\" ><path d=\"M152.768 985.984 152.768 49.856l434.56 0 66.816 0 234.048 267.392 0 66.816 0 601.92L152.768 985.984 152.768 985.984zM654.144 193.088l0 124.16 108.736 0L654.144 193.088 654.144 193.088zM821.312 384.064l-167.168 0L587.328 384.064 587.328 317.312 587.328 116.736 219.584 116.736 219.584 919.04l601.728 0L821.312 384.064 821.312 384.064zM386.688 517.888 319.808 517.888 319.808 450.944l66.816 0L386.624 517.888 386.688 517.888zM386.688 651.584 319.808 651.584 319.808 584.704l66.816 0L386.624 651.584 386.688 651.584zM386.688 785.344 319.808 785.344l0-66.88 66.816 0L386.624 785.344 386.688 785.344zM721.024 517.888 453.632 517.888 453.632 450.944l267.392 0L721.024 517.888 721.024 517.888zM654.144 651.584 453.632 651.584 453.632 584.704l200.512 0L654.144 651.584 654.144 651.584zM620.672 785.344l-167.04 0 0-66.88 167.04 0L620.672 785.344 620.672 785.344z\" p-id=\"8793\"></path></svg>'\r\n\r\n// 附件图标\r\nconst attachment =\r\n  '<svg t=\"1711935375590\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3864\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"128\" height=\"128\"><path d=\"M516.373333 375.978667l136.576-136.576a147.797333 147.797333 0 0 1 208.853334-0.021334 147.690667 147.690667 0 0 1-0.042667 208.832l-204.8 204.778667v0.021333l-153.621333 153.6c-85.973333 85.973333-225.28 85.973333-311.253334 0.021334-85.994667-85.973333-85.973333-225.216 0.149334-311.36L431.146667 256.362667a21.333333 21.333333 0 0 0-30.165334-30.165334L162.069333 465.066667c-102.805333 102.826667-102.826667 269.056-0.149333 371.733333 102.613333 102.613333 268.970667 102.613333 371.584 0l153.6-153.642667h0.021333l0.021334-0.021333 204.778666-204.778667c74.325333-74.325333 74.346667-194.858667 0.021334-269.184-74.24-74.24-194.88-74.24-269.162667 0.042667l-136.576 136.554667-187.626667 187.626666a117.845333 117.845333 0 0 0-0.106666 166.826667 118.037333 118.037333 0 0 0 166.826666-0.106667l255.850667-255.829333a21.333333 21.333333 0 0 0-30.165333-30.165333L435.136 669.973333a75.370667 75.370667 0 0 1-106.496 0.106667 75.178667 75.178667 0 0 1 0.128-106.496l187.605333-187.605333z\" p-id=\"3865\"></path></svg>'\r\n\r\n// 节点icon\r\nexport const nodeIconList = [\r\n  {\r\n    name: '优先级图标',\r\n    type: 'priority',\r\n    list: [\r\n      {\r\n        name: '1',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512.042667 1024C229.248 1024 0 794.794667 0 511.957333 0 229.205333 229.248 0 512.042667 0 794.752 0 1024 229.205333 1024 511.957333 1024 794.794667 794.752 1024 512.042667 1024z\" fill=\"#E93B30\"></path><path d=\"M580.309333 256h-75.52c-10.666667 29.824-30.165333 55.765333-58.709333 78.165333-28.416 22.314667-54.869333 37.418667-79.146667 45.397334v84.608a320 320 0 0 0 120.234667-70.698667v352.085333H580.266667V256z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '2',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M511.957333 1024C229.248 1024 0 794.752 0 512S229.248 0 511.957333 0C794.752 0 1024 229.248 1024 512s-229.248 512-512.042667 512z\" fill=\"#FA8D2E\"></path><path d=\"M667.946667 658.602667h-185.301334c4.864-8.533333 11.178667-17.066667 19.072-25.984 7.808-8.874667 26.453333-26.837333 55.936-53.888 29.525333-27.008 49.877333-47.786667 61.226667-62.165334 16.981333-21.717333 29.44-42.453333 37.290667-62.293333 7.808-19.84 11.776-40.746667 11.776-62.677333 0-38.570667-13.738667-70.741333-41.088-96.725334C599.466667 268.928 561.706667 256 513.834667 256c-43.690667 0-80.128 11.136-109.354667 33.578667-29.098667 22.4-46.506667 59.306667-52.010667 110.805333l93.184 9.301333c1.792-27.349333 8.405333-46.890667 19.754667-58.624 11.434667-11.776 26.837333-17.664 46.165333-17.664 19.541333 0 34.858667 5.589333 45.909334 16.768 11.136 11.264 16.682667 27.221333 16.682666 48.042667 0 18.858667-6.4 37.930667-19.242666 57.258667-9.472 14.037333-35.157333 40.533333-77.098667 79.872-52.096 48.554667-87.04 87.509333-104.704 116.821333A226.688 226.688 0 0 0 341.333333 745.429333h326.613334v-86.826666z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '3',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z\" fill=\"#2E66FA\"></path><path d=\"M627.754667 731.733333c-29.354667 25.088-66.901333 37.632-112.725334 37.632-44.928 0-81.792-11.52-110.592-34.773333-33.066667-26.538667-49.877333-64.469333-50.304-114.133333h92.16c0.426667 21.76 7.552 38.314667 21.333334 49.664 12.288 10.88 28.117333 16.341333 47.402666 16.341333 20.309333 0 36.778667-6.101333 49.322667-18.432 12.544-12.330667 18.773333-29.568 18.773333-51.797333 0-21.290667-6.229333-38.186667-18.773333-50.773334-12.544-12.501333-29.866667-18.773333-52.138667-18.773333h-13.525333v-80.042667H512c42.112 0 63.274667-21.034667 63.274667-63.146666 0-20.309333-5.888-36.096-17.706667-47.445334a60.757333 60.757333 0 0 0-43.818667-17.066666c-17.493333 0-32 5.504-43.434666 16.298666-11.562667 10.88-17.792 25.728-18.773334 44.714667H359.68c0.981333-43.946667 16.042667-78.976 45.397333-104.96 29.354667-25.941333 65.706667-39.04 109.226667-39.04 44.928 0 81.792 13.525333 110.592 40.490667 28.8 26.922667 43.306667 61.610667 43.306667 104.149333 0 48.213333-19.413333 82.688-58.154667 103.552 43.52 23.125333 65.28 61.44 65.28 114.858667 0 48.128-15.957333 85.76-47.573333 112.682666z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '4',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512.042667 1024C229.248 1024 0 794.794667 0 512.042667 0 229.205333 229.248 0 512.042667 0 794.752 0 1024 229.205333 1024 512.042667 1024 794.794667 794.752 1024 512.042667 1024z\" fill=\"#6D768D\"></path><path d=\"M600.96 256v309.802667h60.117333v81.536h-60.16v98.218666h-90.154666v-98.218666H311.466667v-81.237334L522.666667 256h78.293333zM510.72 399.104l-112.042667 166.698667h112.042667V399.104z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '5',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512.042667 1024C229.248 1024 0 794.794667 0 512.042667 0 229.205333 229.248 0 512.042667 0 794.752 0 1024 229.205333 1024 512.042667 1024 794.794667 794.752 1024 512.042667 1024z\" fill=\"#6D768D\"></path><path d=\"M470.912 343.552h175.786667V256H400.256l-47.786667 253.952 75.434667 10.837333c21.205333-23.552 45.269333-35.413333 72.021333-35.413333 21.546667 0 38.997333 7.509333 52.437334 22.4 13.312 15.018667 20.053333 37.418667 20.053333 67.328 0 31.872-6.741333 55.765333-20.181333 71.552-13.397333 15.872-29.866667 23.765333-49.237334 23.765333-17.066667 0-32.085333-6.186667-45.013333-18.432-13.013333-12.373333-20.821333-29.013333-23.466667-50.133333L341.333333 611.498667c5.546667 40.874667 22.485333 73.429333 50.730667 97.621333 28.330667 24.32 64.938667 36.437333 109.866667 36.437333 56.149333 0 100.053333-21.546667 131.754666-64.554666a176.64 176.64 0 0 0 34.816-107.52c0-48.042667-14.378667-87.210667-43.221333-117.333334-28.8-30.208-63.957333-45.312-105.514667-45.312-21.674667 0-42.922667 5.248-63.829333 15.616l14.976-82.901333z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '6',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.248 1024 0 794.794667 0 512.042667 0 229.205333 229.248 0 512 0c282.88 0 512 229.205333 512 512.042667C1024 794.794667 794.88 1024 512 1024z\" fill=\"#6D768D\"></path><path d=\"M519.210667 256c36.992 0 67.626667 10.368 91.776 31.189333 24.192 20.821333 39.68 51.029333 46.293333 90.709334l-90.197333 9.984c-2.176-18.56-7.978667-32.298667-17.28-41.173334-9.258667-8.874667-21.418667-13.226667-36.224-13.226666-19.754667 0-36.437333 8.789333-50.048 26.453333-13.696 17.664-22.314667 54.613333-25.856 110.549333 23.296-27.52 52.138667-41.258667 86.656-41.258666 38.997333 0 72.362667 14.805333 100.181333 44.544 27.733333 29.696 41.685333 68.010667 41.685333 114.858666 0 49.877333-14.634667 89.856-43.818666 119.936-29.226667 30.208-66.730667 45.226667-112.554667 45.226667-49.066667 0-89.429333-19.072-121.130667-57.344C357.12 658.218667 341.333333 595.541333 341.333333 508.416c0-89.344 16.469333-153.813333 49.493334-193.194667C423.722667 275.754667 466.56 256 519.168 256z m-9.472 241.834667c-17.962667 0-33.066667 6.997333-45.525334 21.12-12.330667 14.037333-18.56 34.858667-18.56 62.293333 0 30.421333 6.912 53.76 20.906667 70.4 13.952 16.469333 29.866667 24.746667 47.786667 24.746667 17.28 0 31.701333-6.826667 43.178666-20.309334 11.52-13.525333 17.237333-35.669333 17.237334-66.56 0-31.658667-6.186667-54.869333-18.517334-69.546666a58.197333 58.197333 0 0 0-46.506666-22.144z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '7',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512.042667 1024C229.248 1024 0 794.752 0 512S229.248 0 512.042667 0C794.752 0 1024 229.248 1024 512s-229.248 512-511.957333 512z\" fill=\"#6D768D\"></path><path d=\"M673.024 273.066667H354.133333v86.869333h212.224a691.2 691.2 0 0 0-104.746666 187.989333c-26.026667 70.101333-39.978667 138.88-41.429334 206.293334h89.6c-0.298667-42.922667 6.698667-91.776 21.034667-146.474667a654.72 654.72 0 0 1 62.08-154.965333c27.136-48.554667 53.888-85.76 80.128-111.701334V273.066667z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '8',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z\" fill=\"#6D768D\"></path><path d=\"M512.426667 256c46.208 0 82.048 11.861333 107.605333 35.541333 25.6 23.68 38.314667 53.674667 38.314667 89.898667 0 22.613333-5.802667 42.666667-17.578667 60.330667a111.445333 111.445333 0 0 1-49.450667 40.277333c26.965333 10.837333 47.36 26.752 61.312 47.658667 13.994667 20.906667 21.034667 45.013333 21.034667 72.362666 0 45.098667-14.336 81.834667-42.965333 109.952-28.586667 28.245333-66.602667 42.368-114.090667 42.368-44.245333 0-81.066667-11.648-110.464-34.986666-34.645333-27.52-52.010667-65.28-52.010667-113.365334 0-26.368 6.528-50.645333 19.626667-72.746666 13.056-22.144 33.578667-39.210667 61.696-51.242667-24.064-10.154667-41.557333-24.192-52.48-41.941333a109.824 109.824 0 0 1-16.512-58.666667c0-36.224 12.757333-66.218667 37.973333-89.898667 25.386667-23.68 61.354667-35.541333 108.032-35.541333z m1.28 265.429333c-22.784 0-39.722667 7.978667-50.901334 23.893334-11.136 15.786667-16.64 33.066667-16.64 51.498666 0 25.984 6.485333 46.208 19.712 60.714667 13.098667 14.506667 29.525333 21.802667 49.152 21.802667 19.242667 0 35.157333-6.997333 47.786667-20.992 12.629333-13.909333 18.858667-34.048 18.858667-60.416 0-23.082667-6.314667-41.557333-19.2-55.466667a63.274667 63.274667 0 0 0-48.725334-21.034667z m-0.341334-191.488c-17.792 0-32 5.333333-42.581333 16-10.538667 10.666667-15.872 24.746667-15.872 42.325334 0 18.645333 5.248 33.152 15.701333 43.648 10.453333 10.453333 24.362667 15.658667 41.770667 15.658666 17.664 0 31.658667-5.290667 42.24-15.872 10.538667-10.581333 15.872-25.173333 15.872-43.818666 0-17.493333-5.248-31.573333-15.701333-42.154667s-24.277333-15.786667-41.429334-15.786667z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '9',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C229.248 1024 0 794.794667 0 512.042667 0 229.333333 229.248 0 512 0c282.88 0 512 229.333333 512 512.042667C1024 794.794667 794.88 1024 512 1024z\" fill=\"#6D768D\"></path><path d=\"M497.28 256c49.365333 0 89.856 19.157333 121.429333 57.429333 31.701333 38.229333 47.488 101.205333 47.488 188.842667 0 89.173333-16.384 153.386667-49.365333 192.853333-32.853333 39.594667-75.605333 59.264-128.426667 59.264-37.888 0-68.608-10.154667-91.989333-30.506666s-38.4-50.816-45.013333-91.306667l90.112-9.984c2.261333 18.474667 8.021333 32.085333 17.28 41.088 9.173333 8.874667 21.418667 13.312 36.608 13.312 19.2 0 35.541333-8.874667 48.981333-26.752 13.44-17.749333 22.016-54.613333 25.770667-110.549333-23.466667 27.264-52.821333 40.874667-88.064 40.874666-38.314667 0-71.253333-14.72-99.114667-44.330666C355.242667 506.709333 341.333333 468.224 341.333333 420.864c0-49.493333 14.592-89.258667 43.946667-119.466667C414.549333 271.104 451.925333 256 497.237333 256z m-4.352 77.482667c-17.237333 0-31.658667 6.826667-43.008 20.437333-11.477333 13.653333-17.194667 35.84-17.194667 66.816 0 31.402667 6.229333 54.485333 18.645334 69.205333 12.458667 14.72 27.946667 22.101333 46.592 22.101334 18.005333 0 33.066667-7.082667 45.44-21.205334 12.330667-14.208 18.432-35.029333 18.432-62.506666 0-29.994667-6.912-53.376-20.821334-69.973334-13.824-16.597333-29.866667-24.874667-48.085333-24.874666z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '10',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512.042667 1024C229.248 1024 0 794.794667 0 511.957333 0 229.205333 229.248 0 512.042667 0 794.752 0 1024 229.205333 1024 511.957333 1024 794.794667 794.752 1024 512.042667 1024z\" fill=\"#6D768D\"></path><path d=\"M619.946667 273.066667c46.976 0 83.754667 16.042667 110.250666 48.042666 31.573333 37.973333 47.36 100.864 47.36 188.672 0 87.722667-15.829333 150.698667-47.658666 189.056-26.325333 31.616-62.976 47.36-109.952 47.36-47.274667 0-85.418667-17.237333-114.346667-51.968-28.885333-34.602667-43.392-96.426667-43.392-185.386666 0-87.168 15.872-150.016 47.701333-188.416 26.282667-31.488 62.933333-47.36 110.037334-47.36z m-207.488 12.8v452.266666H325.504V411.690667A299.904 299.904 0 0 1 213.333333 476.373333V398.933333c22.656-7.296 47.36-21.12 73.856-41.514666 26.624-20.522667 44.842667-44.288 54.784-71.552h70.485334z m207.488 60.842666c-11.306667 0-21.461333 3.413333-30.336 10.24-8.874667 6.826667-15.786667 19.157333-20.693334 36.864-6.4 22.997333-9.642667 61.653333-9.642666 115.968 0 54.442667 2.944 91.733333 8.661333 112.128 5.802667 20.352 13.098667 33.877333 21.845333 40.618667 8.789333 6.741333 18.858667 10.154667 30.165334 10.154667 11.349333 0 21.376-3.498667 30.250666-10.325334 8.874667-6.826667 15.786667-19.157333 20.693334-36.778666 6.4-22.826667 9.642667-61.354667 9.642666-115.797334 0-54.314667-2.858667-91.648-8.661333-112.042666-5.802667-20.352-13.013333-33.962667-21.76-40.789334a47.616 47.616 0 0 0-30.165333-10.24z\" fill=\"#FFFFFF\"></path></svg>`\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: '进度图标',\r\n    type: 'progress',\r\n    list: [\r\n      {\r\n        name: '1',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z\" fill=\"#12BB37\"></path><path d=\"M512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96V512l294.144-294.144A414.72 414.72 0 0 1 928 512c0 229.76-186.24 416-416 416z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '2',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z\" fill=\"#12BB37\"></path><path d=\"M512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96V512h416c0 229.76-186.24 416-416 416z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '3',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z\" fill=\"#12BB37\"></path><path d=\"M512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96V512l294.144 294.144A414.72 414.72 0 0 1 512 928z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '4',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z\" fill=\"#12BB37\"></path><path d=\"M512 928c-229.76 0-416-186.24-416-416S282.24 96 512 96v832z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '5',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z\" fill=\"#12BB37\"></path><path d=\"M512 512l-294.144 294.144A414.72 414.72 0 0 1 96 512c0-229.76 186.24-416 416-416V512z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '6',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z\" fill=\"#12BB37\"></path><path d=\"M512 512H96c0-229.76 186.24-416 416-416V512z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '7',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.752 0 512 0z\" fill=\"#12BB37\"></path><path d=\"M512 512L217.856 217.856A414.72 414.72 0 0 1 512 96V512z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '8',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M0 512c0 282.752 229.248 512 512 512s512-229.248 512-512S794.752 0 512 0 0 229.248 0 512z\" fill=\"#12BB37\"></path><path d=\"M716.629333 341.333333h-51.328a35.072 35.072 0 0 0-28.330666 14.293334l-171.989334 233.984-77.909333-106.026667a35.2 35.2 0 0 0-28.330667-14.293333H307.413333c-7.082667 0-11.264 7.936-7.082666 13.653333l136.32 185.472a35.2 35.2 0 0 0 56.533333 0l230.4-313.429333a8.533333 8.533333 0 0 0-6.954667-13.653334z\" fill=\"#FFFFFF\"></path></svg>`\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: '表情图标',\r\n    type: 'expression',\r\n    list: [\r\n      {\r\n        name: '1',\r\n        icon: `<svg t=\"1624457751393\" class=\"icon\" viewBox=\"0 0 1026 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"12255\"><path d=\"M1.097856 1.097642h1021.804717v1021.804716H1.097856z\" fill=\"#F09495\" p-id=\"12256\"></path><path d=\"M1024.000214 1024H0.000214V0h1024v1024z m-1021.804716-2.195284h1019.609433V2.195284H2.195498v1019.609432z\" fill=\"#FFFFFF\" p-id=\"12257\"></path><path d=\"M234.695985 335.179887m-27.341259 0a27.341259 27.341259 0 1 0 54.682518 0 27.341259 27.341259 0 1 0-54.682518 0Z\" fill=\"#040000\" p-id=\"12258\"></path><path d=\"M234.695985 363.519002c-15.666342 0-28.339115-12.772559-28.339115-28.339115 0-15.666342 12.772559-28.339115 28.339115-28.339115s28.339115 12.772559 28.339115 28.339115c0.099786 15.666342-12.672773 28.339115-28.339115 28.339115z m0-54.582732c-14.468914 0-26.243617 11.774703-26.243617 26.243617s11.774703 26.243617 26.243617 26.243617 26.243617-11.774703 26.243617-26.243617-11.774703-26.243617-26.243617-26.243617z\" fill=\"#FFFFFF\" p-id=\"12259\"></path><path d=\"M776.232528 335.179887m-27.341259 0a27.341259 27.341259 0 1 0 54.682518 0 27.341259 27.341259 0 1 0-54.682518 0Z\" fill=\"#040000\" p-id=\"12260\"></path><path d=\"M776.232528 363.519002c-15.666342 0-28.339115-12.772559-28.339115-28.339115 0-15.666342 12.772559-28.339115 28.339115-28.339115 15.666342 0 28.339115 12.772559 28.339115 28.339115 0 15.666342-12.772559 28.339115-28.339115 28.339115z m0-54.582732c-14.468914 0-26.243617 11.774703-26.243617 26.243617s11.774703 26.243617 26.243617 26.243617 26.243617-11.774703 26.243617-26.243617c-0.099786-14.468914-11.874488-26.243617-26.243617-26.243617z\" fill=\"#FFFFFF\" p-id=\"12261\"></path><path d=\"M512.000214 671.656987c-52.58702 0-105.872539-17.961411-105.872539-52.387449S459.413194 566.882089 512.000214 566.882089s105.872539 17.961411 105.87254 52.387449S564.587234 671.656987 512.000214 671.656987z m0-74.240499c-21.952836 0-43.207172 3.592282-58.2748 9.77899-13.870201 5.68778-17.06334 11.275775-17.06334 12.07406s3.19314 6.386279 17.06334 12.07406c15.067628 6.186708 36.321965 9.77899 58.2748 9.77899s43.207172-3.592282 58.274801-9.77899c13.870201-5.68778 17.06334-11.275775 17.06334-12.07406s-3.19314-6.386279-17.06334-12.07406c-15.067628-6.286494-36.321965-9.77899-58.274801-9.77899z\" fill=\"#040000\" p-id=\"12262\"></path></svg>`\r\n      },\r\n      {\r\n        name: '2',\r\n        icon: `<svg t=\"1624457767572\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1048\"><path d=\"M0 0h1024v1024H0z\" fill=\"#E6A6C9\" p-id=\"1049\"></path><path d=\"M315.1 368.1c-23.9 0-43.3-19.4-43.3-43.3s19.4-43.3 43.3-43.3 43.3 19.4 43.3 43.3-19.4 43.3-43.3 43.3z m0-74.7c-17.3 0-31.3 14.1-31.3 31.3 0 17.3 14.1 31.3 31.3 31.3 17.3 0 31.3-14.1 31.3-31.3 0-17.2-14-31.3-31.3-31.3zM738.7 368.1c-23.9 0-43.3-19.4-43.3-43.3s19.4-43.3 43.3-43.3 43.3 19.4 43.3 43.3-19.4 43.3-43.3 43.3z m0-74.7c-17.3 0-31.3 14.1-31.3 31.3 0 17.3 14.1 31.3 31.3 31.3 17.3 0 31.3-14.1 31.3-31.3 0-17.2-14-31.3-31.3-31.3zM293.5 698.8l-14.5-1.3c0.1-0.6 1.5-14.6 15.1-27.9 17.2-16.7 45-24.8 82.7-24 4.9-0.1 10.9-10.5 16.1-19.6 8.4-14.7 19-33.1 37.9-34.3 19.4-1.2 42.2 16.4 71.5 55.4 9.9 5.2 16.5 11.2 21.8 16.1 8.4 7.7 13.1 11.9 25.1 10.8 14.9-1.4 38.9-11.1 77.5-31.4 26.8-28.4 56.4-41.4 83.5-36.6 27.9 4.9 50.6 27.6 67.5 67.5l-13.4 5.7c-14.7-34.5-34.3-54.9-56.7-58.8-22.3-3.9-47.6 7.8-71.2 33.1l-0.8 0.9-1.1 0.6c-85.6 45.1-99.4 38-120.2 19.1-5.5-5-11.2-10.2-20.1-14.7l-1.5-0.8-1-1.4c-32.2-43.2-50.4-51.6-60-51-11.1 0.7-18.8 14-26.2 27-7.6 13.2-15.4 26.9-28.8 26.9h-0.2c-78.4-1.6-83 38.3-83 38.7z\" fill=\"#040000\" p-id=\"1050\"></path></svg>`\r\n      },\r\n      {\r\n        name: '3',\r\n        icon: `<svg t=\"1624457776082\" class=\"icon\" viewBox=\"0 0 1026 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1204\" ><path d=\"M1.1 1.097642h1021.804716v1021.804716H1.1z\" fill=\"#F7E983\" p-id=\"1205\"></path><path d=\"M1024.002358 1024H0.002358V0h1024v1024z m-1021.804716-2.195284h1019.609433V2.195284H2.197642v1019.609432z\" fill=\"#FFFFFF\" p-id=\"1206\"></path><path d=\"M329.174412 344.491728a38.118106 10.277919 57.6 1 0 17.355867-11.014369 38.118106 10.277919 57.6 1 0-17.355867 11.014369Z\" fill=\"#040000\" p-id=\"1207\"></path><path d=\"M644.769475 355.956059a11.175989 36.321965 30 1 0 36.321965-62.911488 11.175989 36.321965 30 1 0-36.321965 62.911488Z\" fill=\"#040000\" p-id=\"1208\"></path><path d=\"M569.678445 671.158059c-26.343403 0-51.190021-5.288638-70.049503-14.967843-20.755408-10.577275-32.230754-25.445332-32.230755-41.710388 0-16.265056 11.475346-31.133112 32.230755-41.710387 18.859482-9.579419 43.805886-14.967843 70.049503-14.967843s51.190021 5.288638 70.049503 14.967843c20.755408 10.577275 32.230754 25.445332 32.230754 41.710387 0 16.265056-11.475346 31.133112-32.230754 41.710388-18.859482 9.679205-43.805886 14.967843-70.049503 14.967843z m0-95.095693c-49.693237 0-84.318846 20.356266-84.318846 38.517248s34.625609 38.517248 84.318846 38.517248 84.318846-20.356266 84.318846-38.517248-34.725395-38.517248-84.318846-38.517248z\" fill=\"#040000\" p-id=\"1209\"></path></svg>`\r\n      },\r\n      {\r\n        name: '4',\r\n        icon: `<svg t=\"1624457781889\" class=\"icon\" viewBox=\"0 0 1026 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1363\" ><path d=\"M1.1 1.097642h1021.804716v1021.804716H1.1z\" fill=\"#A6D9E2\" p-id=\"1364\"></path><path d=\"M1024.002358 1024H0.002358V0h1024v1024z m-1021.804716-2.195284h1019.609433V2.195284H2.197642v1019.609432z\" fill=\"#FFFFFF\" p-id=\"1365\"></path><path d=\"M376.194134 348.950302m-23.44962 0a23.44962 23.44962 0 1 0 46.89924 0 23.44962 23.44962 0 1 0-46.89924 0Z\" fill=\"#040000\" p-id=\"1366\"></path><path d=\"M629.150672 348.950302m-24.647047 0a24.647047 24.647047 0 1 0 49.294095 0 24.647047 24.647047 0 1 0-49.294095 0Z\" fill=\"#040000\" p-id=\"1367\"></path><path d=\"M397.847613 603.503411c13.471058 8.282206 28.738258 14.468914 43.7061 19.458195 29.835899 9.978562 62.266225 14.169558 93.299551 7.483921 21.054765-4.490353 40.213604-14.369129 56.778016-28.039758 6.785422-5.587995-2.893783-15.167414-9.579419-9.579419-46.999026 38.916391-112.258819 31.033327-163.847983 6.086922-4.590138-2.195284-9.080491-4.490353-13.371272-7.184564-7.583707-4.590138-14.468914 7.184564-6.984993 11.774703z\" fill=\"#040000\" p-id=\"1368\"></path><path d=\"M627.753674 534.052621c-31.033327 24.048334-58.474371 68.253362-37.419607 106.970182 10.577275 19.35841 29.835899 32.629897 48.795167 42.708244 7.982849 4.190996 15.067628-7.883064 7.084779-12.07406-25.245761-13.271487-53.485091-35.324108-49.094524-66.557006 2.793997-20.156695 15.766127-37.319821 29.736114-51.190022 3.392711-3.392711 6.984993-6.785422 10.776847-9.77899 2.993569-2.295069 2.394855-7.483921 0-9.878776-2.893783-3.19314-6.885208-2.49464-9.878776-0.199572z\" fill=\"#040000\" p-id=\"1369\"></path></svg>`\r\n      },\r\n      {\r\n        name: '5',\r\n        icon: `<svg t=\"1624457787809\" class=\"icon\" viewBox=\"0 0 1026 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1523\" ><path d=\"M1.1 1.097642h1021.804716v1021.804716H1.1z\" fill=\"#AD6F59\" p-id=\"1524\"></path><path d=\"M1024.002358 1024H0.002358V0h1024v1024z m-1021.804716-2.195284h1019.609433V2.195284H2.197642v1019.609432z\" fill=\"#FFFFFF\" p-id=\"1525\"></path><path d=\"M411.829832 330.730879a38.118106 10.277919 57.6 1 0 17.355867-11.014368 38.118106 10.277919 57.6 1 0-17.355867 11.014368Z\" fill=\"#040000\" p-id=\"1526\"></path><path d=\"M480.669675 609.989476c11.774703-25.844475 27.740401-51.788735 44.60417-73.342429 13.770415-17.462483 29.237186-33.92711 47.897096-44.803742 17.262912-10.078347 35.324108-13.67063 54.283376-6.58585 11.974274 4.390567 23.948548 14.468914 33.128825 24.547261 14.369129 15.865913 25.145975 34.625609 34.725394 53.684662 4.290782 8.581563 17.262912 0.997856 12.972131-7.583707-15.167414-30.334828-35.224323-63.763009-66.157864-80.327421-21.054765-11.37556-44.504385-11.475346-66.157864-1.895927-21.054765 9.280062-38.617034 25.644904-53.485091 42.907815-14.468914 16.863769-27.041902 35.324108-38.217891 54.582733-5.887351 10.178133-11.674917 20.555837-16.464627 31.232898-1.696355 3.692068-0.997856 7.982849 2.694212 10.277918 3.19314 1.895927 8.581563 0.898071 10.178133-2.694211z\" fill=\"#040000\" p-id=\"1527\"></path><path d=\"M663.863649 338.091735a14.468914 33.727538 30 1 0 33.727538-58.417811 14.468914 33.727538 30 1 0-33.727538 58.417811Z\" fill=\"#040000\" p-id=\"1528\"></path></svg>`\r\n      },\r\n      {\r\n        name: '6',\r\n        icon: `<svg t=\"1624457794933\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1680\" ><path d=\"M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z\" fill=\"#83CEE3\" p-id=\"1681\"></path><path d=\"M369 375.8m-34.6 0a34.6 34.6 0 1 0 69.2 0 34.6 34.6 0 1 0-69.2 0Z\" fill=\"#040000\" p-id=\"1682\"></path><path d=\"M369 411.7c-19.8 0-36-16.1-36-36s16.1-36 36-36 36 16.1 36 36-16.1 36-36 36z m0-69.1c-18.3 0-33.2 14.9-33.2 33.2S350.7 409 369 409s33.2-14.9 33.2-33.2-14.9-33.2-33.2-33.2z\" fill=\"#FFFFFF\" p-id=\"1683\"></path><path d=\"M672.2 333.6c-15.1 7.6-30.2 15.6-44.3 25-5.9 3.9-17 10.4-14.6 19.1 1.8 6.5 12 11.2 17.3 14.3 15.7 9.3 32.1 17.6 48.3 25.9 8.6 4.4 16.2-8.5 7.6-13-14.1-7.3-28.3-14.5-42.1-22.3-3.9-2.2-7.9-4.5-11.7-6.9-1.2-0.8-2.4-1.5-3.5-2.4-0.6-0.4-1.1-0.8-1.6-1.2 2.2 1.7-0.3-0.3-0.3-0.3-0.9 0.1-1.5-3.2-0.2 0.5 0.9 2.4 1.1 3.8 0.3 5.8 0.6-1.5-0.9 0.8-0.1 0 0.5-0.5 1-1.1 1.6-1.6 0.5-0.5 1-0.9 1.6-1.3 0.6-0.5 0 0 1.2-0.9 1.7-1.3 3.5-2.5 5.3-3.6 8.4-5.5 17.2-10.4 26-15.2 5.6-3 11.2-6 16.8-8.9 8.6-4.4 1-17.3-7.6-13zM578.2 720.9c-12.5-96.7-33.3-154.7-55.6-155.6-8.8 3.9-22.3 17.5-37.7 60.1-10.8 29.8-18.4 62.2-23 81.6-1.2 5.1-2.1 9.1-2.9 11.8l-9.3-2.4c0.7-2.6 1.6-6.6 2.8-11.6 14.9-63 36-136.8 67.5-148.8l0.8-0.3h0.8c18.2-0.4 33.2 19.5 45.8 60.8 10.2 33.3 16.7 74.6 20.5 103.3l-9.7 1.1z\" fill=\"#040000\" p-id=\"1684\"></path></svg>`\r\n      },\r\n      {\r\n        name: '7',\r\n        icon: `<svg t=\"1624457802025\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1838\" ><path d=\"M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z\" fill=\"#8CC66D\" p-id=\"1839\"></path><path d=\"M375.778679 404.47473a14.5 33.8 30 1 0 33.8-58.543317 14.5 33.8 30 1 0-33.8 58.543317Z\" fill=\"#040000\" p-id=\"1840\"></path><path d=\"M627.220263 374.211388a43.1 11.6 57.6 1 0 19.588408-12.431182 43.1 11.6 57.6 1 0-19.588408 12.431182Z\" fill=\"#040000\" p-id=\"1841\"></path><path d=\"M451.1 548.5c17.6-9.3 63.9-30 105.3-16.2 17 20.3 32.7 98.8 28.8 138.1-27.5 10.2-82.5 10.2-106.1 5.8-8.3-10.5-32.7-81.8-35.3-114.6-0.4-5.5 2.5-10.6 7.3-13.1z\" fill=\"#040000\" p-id=\"1842\"></path></svg>`\r\n      },\r\n      {\r\n        name: '8',\r\n        icon: `<svg t=\"1624457816632\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1996\" ><path d=\"M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z\" fill=\"#5A74B8\" p-id=\"1997\"></path><path d=\"M357.7 400m-34.6 0a34.6 34.6 0 1 0 69.2 0 34.6 34.6 0 1 0-69.2 0Z\" fill=\"#040000\" p-id=\"1998\"></path><path d=\"M357.7 436c-19.8 0-36-16.1-36-36s16.1-36 36-36 36 16.1 36 36-16.2 36-36 36z m0-69.2c-18.3 0-33.2 14.9-33.2 33.2s14.9 33.2 33.2 33.2 33.2-14.9 33.2-33.2-14.9-33.2-33.2-33.2z\" fill=\"#FFFFFF\" p-id=\"1999\"></path><path d=\"M676 400m-34.6 0a34.6 34.6 0 1 0 69.2 0 34.6 34.6 0 1 0-69.2 0Z\" fill=\"#040000\" p-id=\"2000\"></path><path d=\"M676 436c-19.8 0-36-16.1-36-36s16.1-36 36-36 36 16.1 36 36-16.2 36-36 36z m0-69.2c-18.3 0-33.2 14.9-33.2 33.2s14.9 33.2 33.2 33.2c18.3 0 33.2-14.9 33.2-33.2s-14.9-33.2-33.2-33.2z\" fill=\"#FFFFFF\" p-id=\"2001\"></path><path d=\"M347.6 684.1c0.3-0.9 0.6-1.7 0.9-2.6 0.2-0.5 1.4-3.2 0.3-0.8 0.6-1.4 1.3-2.9 2-4.3 3.2-6.3 6-10.7 10.9-15.3 4.3-4 10.8-7.5 17.1-6.1 3.9 0.9 7.9 4.9 11.1 7.2 3.1 2.2 6.3 4.5 9.7 6.2 7.5 3.8 15.3 4.4 23.4 1.9 4.7-1.5 9.2-3.6 13.6-5.9 5-2.6 10.7-5 14.2-9.5 4.5-5.7 6.1-8.5 11.4-14.1 1-1 2-2 3.1-3 0.2-0.2 2.2-1.7 0.6-0.5 0.6-0.4 1.2-0.9 1.8-1.3 1-0.6 2.1-1.3 3.2-1.7-2 0.8 0.2 0 0.6-0.1 2.3-0.7-0.3-0.2 1.2-0.3 2.8-0.1 3.6 0 5.5 1 3.8 1.9 6.6 4.7 9.5 7.8 4.5 5 7.5 11.1 11.7 16.2 1.8 2.2 3.7 4.3 5.4 6.5 8.1 10.3 17.7 22.2 32.2 22 8.8-0.1 16.6-5.2 22.6-11.2 4.2-4.1 7.7-8.9 11-13.7 2.9-4.2 4.6-9.9 6.2-13.5 3.2-7.1 7.2-13.1 13-18.1 4.8-4.2 11.1-6.5 16.7-5.3 10.5 2.4 17.2 12.1 23.1 20.2 4.7 6.5 9.8 13 16 18.2 7.8 6.4 17.1 11.4 27.5 11.1 14.1-0.4 25.5-9.5 34.2-19.9 3-3.6 3.6-8.8 0-12.4-3.1-3.1-9.4-3.7-12.4 0-6.3 7.6-14.7 15.9-24.9 14.7-2.2-0.3-5.3-1.5-7.9-3.1-3.5-2.1-6.1-4.4-9.1-7.5-4.9-5.1-6.8-8.1-10.9-13.8-7.3-10.1-16.1-19.6-28.2-23.7-18.5-6.3-35.7 5.6-46 20.1-2.4 3.3-4.4 6.9-6.1 10.6-1.8 3.9-2.7 8.5-5.2 11.9-3.1 4.4-6.2 8.8-10.2 12.5-3 2.8-5.7 4.4-8.6 5.1-0.4 0.1-1.7 0.1 0.1 0h-2.2c2.1 0.1 0 0-0.5-0.1-0.7-0.2-1.4-0.4-2-0.6 1.8 0.7-1.8-1.1-2.4-1.5l-1.2-0.9c1.5 1.2-0.9-0.9-1.2-1.1-4.7-4.3-8.4-9.5-12.3-14.4-10.9-13.6-20.9-34-41-34.9-14.2-0.6-24.5 10.6-32.4 20.8-1.2 1.6-2.5 3.2-3.7 4.8-1.5 1.9 1.1-1.4-0.4 0.5-0.4 0.5-0.8 1.2-1.3 1.6-1.7 1.4-4.6 2.6-6.6 3.6-2.9 1.6-5.9 3.2-9 4.5-1.6 0.7-3.4 1.2-5.1 1.7-2.2 0.6-0.7 0.5-2.8 0.4-2.8 0-3.9-0.4-6.6-1.9-3.9-2.2-7.5-4.9-11.1-7.5-5.6-4-10-6.9-17-7.5-10.5-0.9-20.3 3.2-28.2 9.9-9.4 8.1-16.4 20.2-20.1 32-3.6 11.2 13.3 15.8 16.8 5.1z\" fill=\"#040000\" p-id=\"2002\"></path></svg>`\r\n      },\r\n      {\r\n        name: '9',\r\n        icon: `<svg t=\"1624457826949\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2156\" ><path d=\"M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z\" fill=\"#F0884F\" p-id=\"2157\"></path><path d=\"M287.2 382c6.4 2.3 11.6-3.7 15.4-7.9 5.1-5.5 10.2-11 16-15.9 0.8-0.7 1.7-1.4 2.5-2.1 1.2-0.9-1.7 1.3 0.2-0.2l1.2-0.9c2.1-1.5 4.3-2.9 6.5-4.3 2-1.2 4-2.2 6.1-3.2 0.6-0.3 1.2-0.6 1.9-0.9-0.3 0.2-1.5 0.6 0.2-0.1 1.3-0.5 2.6-1 4-1.5 11.2-3.7 21.8-4 33.4-1.1 19.5 4.9 36.4 17 51.2 30.2 8.6 7.7 21.4-5 12.7-12.7-25.2-22.6-57.1-42.1-92.2-36.2-20.4 3.4-37.7 16.1-51.6 30.9-2.3 2.4-4.5 5-6.8 7.4-0.7 0.7-1.9 1.5-2.4 2.4-0.5 0.8 2.3-1.5 0.8-0.7 1.3-0.7 3.9-1.4 5.8-0.7-11.1-3.7-15.8 13.7-4.9 17.5zM598 382c6.4 2.3 11.6-3.7 15.4-7.9 5.1-5.5 10.2-11 16-15.9 0.8-0.7 1.7-1.4 2.5-2.1 1.2-0.9-1.7 1.3 0.2-0.2l1.2-0.9c2.1-1.5 4.3-2.9 6.5-4.3 2-1.2 4-2.2 6.1-3.2 0.6-0.3 1.2-0.6 1.9-0.9-0.3 0.2-1.5 0.6 0.2-0.1 1.3-0.5 2.6-1 4-1.5 11.2-3.7 21.8-4 33.4-1.1 19.5 4.9 36.4 17 51.2 30.2 8.6 7.7 21.4-5 12.7-12.7-25.2-22.6-57.1-42.1-92.2-36.2-20.4 3.4-37.7 16.1-51.6 30.9-2.3 2.4-4.5 5-6.8 7.4-0.7 0.7-1.9 1.5-2.4 2.4-0.5 0.8 2.3-1.5 0.8-0.7 1.3-0.7 3.9-1.4 5.8-0.7-11.1-3.7-15.8 13.7-4.9 17.5zM505.9 527.1c3.4 0.7 6.8 1.7 10.2 2.8 6.7 2.2 10.4 3.5 16.6 7.7 1.6 1.1-0.5-0.5 0.6 0.5 0.6 0.5 1.1 1.1 1.7 1.6 1.5 1.4-0.1-0.4 0.5 0.6 0.4 0.6 0.7 1.2 1 1.8-1-2 0.1 0 0 0.5 0.1-2-0.1 0-0.1 0-0.1 0.8 0 0.7 0.1-0.5-0.1 0.4-0.1 0.7-0.3 1.1-0.6 1 0.7-0.9-0.4 1-1.6 2.5-4.6 5.4-8.1 7.8-6.8 4.6-14.4 8.2-22 11.4-7 3-7.4 11.9 0 14.8 7.4 2.8 15 5.3 22.4 8.1 3.1 1.1 4.2 1.5 6.9 2.9 1.1 0.6 2.1 1.2 3.2 1.8 1.2 0.8-0.7-0.5 0.1 0 0.4 0.3 0.8 0.7 1.1 1.1 0.6 0.8-1.1-1.2-0.2-0.2 0.8 0.9-0.3-1.4-0.1-0.2 0.1 0.9 0.2-1.9 0-0.9-0.1 0.5-0.8 1.8 0 0.2-0.2 0.5-0.5 1-0.8 1.4-0.3 0.3-0.9 1.3-0.3 0.5-0.5 0.7-1.1 1.3-1.7 1.9-6.9 7.3-15.9 12.8-24.4 18.1-8.3 5.3-0.6 18.5 7.7 13.2 9.9-6.3 20.9-12.8 28.6-21.8 4.8-5.5 8.1-12.9 4.2-19.9-3.4-6-10.5-8.9-16.6-11.4-8.6-3.5-17.5-6.2-26.2-9.5v14.8c14.4-6.1 47.2-18.8 41.2-40.3-3.5-12.9-19.4-18.9-30.8-22.6-3.4-1.1-6.9-2.1-10.5-2.9-9.1-2.2-13.3 12.5-3.6 14.6z\" fill=\"#040000\" p-id=\"2158\"></path></svg>`\r\n      },\r\n      {\r\n        name: '10',\r\n        icon: `<svg t=\"1624457835383\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2312\" ><path d=\"M762.9 77.4H261.1L10.2 512l250.9 434.6h501.8L1013.8 512z\" fill=\"#F6F180\" p-id=\"2313\"></path><path d=\"M342.9 400.6m-29.5 0a29.5 29.5 0 1 0 59 0 29.5 29.5 0 1 0-59 0Z\" fill=\"#040000\" p-id=\"2314\"></path><path d=\"M342.9 431.3c-16.9 0-30.7-13.8-30.7-30.7s13.8-30.7 30.7-30.7 30.7 13.8 30.7 30.7-13.7 30.7-30.7 30.7z m0-59c-15.6 0-28.3 12.7-28.3 28.3s12.7 28.3 28.3 28.3 28.3-12.7 28.3-28.3-12.6-28.3-28.3-28.3z\" fill=\"#FFFFFF\" p-id=\"2315\"></path><path d=\"M702 400.6m-29.5 0a29.5 29.5 0 1 0 59 0 29.5 29.5 0 1 0-59 0Z\" fill=\"#040000\" p-id=\"2316\"></path><path d=\"M702 431.3c-16.9 0-30.7-13.8-30.7-30.7s13.8-30.7 30.7-30.7 30.7 13.8 30.7 30.7-13.8 30.7-30.7 30.7z m0-59c-15.6 0-28.3 12.7-28.3 28.3s12.7 28.3 28.3 28.3 28.3-12.7 28.3-28.3-12.7-28.3-28.3-28.3z\" fill=\"#FFFFFF\" p-id=\"2317\"></path><path d=\"M358.7 519.9c20 22 45.5 40.4 71.3 54.8 51.2 28.5 111.7 39.9 168 19.5 44.3-16.1 80.7-47.8 110.2-83.9 3-3.7 3.6-8.9 0-12.5-3.1-3.1-9.5-3.7-12.5 0-25.5 31.4-56.2 59.7-93.7 76-27.1 11.7-56.6 15.7-85.8 12.2-24.7-2.9-49.5-11.8-71.5-23.4-18.7-9.8-36.6-22.2-51.1-34.3-7.8-6.5-15.5-13.3-22.4-20.9-7.7-8.5-20.1 4.1-12.5 12.5z\" p-id=\"2318\"></path></svg>`\r\n      },\r\n      {\r\n        name: '11',\r\n        icon: `<svg t=\"1624457841751\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2472\" ><path d=\"M48.2 844.9c-68.5-210.6 186-782.1 409.1-795.4 6.3-0.4 12.5 0.2 18.6 1.6C665.1 94.6 985.4 515 987.1 821.3c0.1 20-12.9 37.9-22.4 43.1-162.7 89.8-605.8 179.7-884.4 30.9-15-7.9-24.2-26.1-32.1-50.4z\" fill=\"#F0884F\" p-id=\"2473\"></path><path d=\"M401 352.1m-52.4 0a52.4 52.4 0 1 0 104.8 0 52.4 52.4 0 1 0-104.8 0Z\" fill=\"#FFFFFF\" p-id=\"2474\"></path><path d=\"M408.7 329m-29.3 0a29.3 29.3 0 1 0 58.6 0 29.3 29.3 0 1 0-58.6 0Z\" fill=\"#040000\" p-id=\"2475\"></path><path d=\"M527.5 352.1m-52.4 0a52.4 52.4 0 1 0 104.8 0 52.4 52.4 0 1 0-104.8 0Z\" fill=\"#FFFFFF\" p-id=\"2476\"></path><path d=\"M527.5 329m-29.3 0a29.3 29.3 0 1 0 58.6 0 29.3 29.3 0 1 0-58.6 0Z\" fill=\"#040000\" p-id=\"2477\"></path><path d=\"M450.7 517c1.1-8.2 3.2-16.4 6.1-24.1 0.1-0.3 1-2.5 0.5-1.4s0.3-0.7 0.5-1c0.7-1.4 1.4-2.8 2.2-4.1 0.4-0.8 2.8-3.9 1.3-2.1 0.8-1 1.7-1.9 2.6-2.8 1-1-1.5 1 0.1 0 0.5-0.3 1-0.6 1.5-0.8-1.3 0.7-1.2 0.3 0 0.1 1.9-0.3-1.8 0.3 0.1 0 1.2-0.2 1.5 0.3 0-0.1 0.6 0.2 1.3 0.3 1.9 0.5 0.3 0.1-1.3-0.7 0.2 0.1 0.8 0.5 1.6 0.9 2.4 1.4 1.4 1 0-0.1 1.4 1.1 0.9 0.8 1.8 1.7 2.6 2.6 1.8 1.9 3.5 3.9 5 6.1 5.1 7.1 9.3 14.8 13.2 22.6 3.5 6.9 13.7 4.7 15.8-2.1 2.6-8.7 4.8-17.4 7.4-26.1 0.9-3.2 1.9-6.4 3.2-9.4-0.7 1.6 0.8-1.6 1.2-2.2l0.9-1.5c0.7-1.2-1.4 0.7 0.1-0.1 1.7-0.9-1.2 0.3-0.3 0.1 0.8-0.2 1-1.2 0.3-0.3-0.6 0.8 0.6 0-0.5 0.2-2 0.3 2.4 0.5-1.1 0 0.5 0.1 1.2 0.2 1.6 0.4-1.1-0.8-0.8-0.4 0.2 0.2 0.7 0.4 3.4 2.3 2.7 1.8 8.9 7.1 15.9 16.9 22.5 26 2.8 3.8 7.5 5.6 11.8 3.1 3.7-2.2 5.9-8 3.1-11.8-8.2-11.1-16.6-23-27.7-31.4-6.3-4.7-14.5-7.6-21.7-3-6.7 4.2-9.6 12.5-11.9 19.6-3.2 9.9-5.5 20-8.6 29.9 5.3-0.7 10.5-1.4 15.8-2.1-7.8-15.5-24.8-50.1-48-41.7-14.1 5.1-19.7 23-22.9 36.2-0.9 3.8-1.8 7.7-2.3 11.6-0.6 4.6 1.1 9.3 6 10.6 4.2 1 10.2-1.5 10.8-6.1z\" fill=\"#040000\" p-id=\"2478\"></path></svg>`\r\n      },\r\n      {\r\n        name: '12',\r\n        icon: `<svg t=\"1624457847424\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2632\" ><path d=\"M485.538528 993.072489a362.00362 481.804818 3.149 1 0 52.933731-962.15464 362.00362 481.804818 3.149 1 0-52.933731 962.15464Z\" fill=\"#AADCF0\" p-id=\"2633\"></path><path d=\"M688.2 334.1c-15.1 7.6-30.2 15.6-44.3 25-5.9 3.9-17 10.4-14.6 19.1 1.8 6.5 12 11.2 17.3 14.3 15.7 9.3 32.1 17.6 48.3 25.9 8.6 4.4 16.2-8.5 7.6-13-14.1-7.3-28.3-14.5-42.1-22.3-3.9-2.2-7.9-4.5-11.7-6.9-1.2-0.8-2.4-1.5-3.5-2.4-0.6-0.4-1.1-0.8-1.6-1.2 2.2 1.7-0.3-0.3-0.3-0.3-0.9 0.1-1.5-3.2-0.2 0.5 0.9 2.4 1.1 3.8 0.3 5.8 0.6-1.5-0.9 0.8-0.1 0 0.5-0.5 1-1.1 1.6-1.6 0.5-0.5 1-0.9 1.6-1.3 0.6-0.5 0 0 1.2-0.9 1.7-1.3 3.5-2.5 5.3-3.6 8.4-5.5 17.2-10.4 26-15.2 5.6-3 11.2-6 16.8-8.9 8.6-4.4 1-17.4-7.6-13zM375.8 347c13.4 6.8 26.7 14 39.5 21.9 1.8 1.2 3.7 2.3 5.5 3.5 0.9 0.6 1.7 1.2 2.6 1.8 0.9 0.6 1.9 1.4 1.6 1.1 1.1 0.9 2.1 1.9 3.1 2.8 1.2 1 0-0.3 0.1 0 0-0.2-0.8-2.4-0.3-4.1 1.5-5.5 2.3-2.7 0.8-2-0.4 0.2-0.9 0.8-1.3 1.1 1.7-1.4-1.6 1.1-2.3 1.6-3.4 2.3-6.9 4.4-10.4 6.4-14.9 8.6-30.3 16.4-45.6 24.3-8.6 4.4-1 17.4 7.6 13 15-7.7 30.1-15.4 44.8-23.8 6.2-3.6 13.8-7.3 18.7-12.7 7.6-8.3-3.8-16.6-9.9-20.9-8.7-6.1-18-11.3-27.3-16.4-6.5-3.6-13-7.1-19.6-10.4-8.6-4.5-16.3 8.5-7.6 12.8zM412.8 570.9c13.5 7.7 28.5 13.3 43.3 17.9 29.8 9.2 61.7 13.1 92.6 7.3 20.6-3.9 40-12.5 56.6-25.2 2.8-2.2 4.3-5.6 2.3-9-1.6-2.8-6.2-4.5-9-2.3-48.3 36.9-113.3 30-165.6 6.7-4.6-2.1-9.2-4.2-13.7-6.7-7.3-4.2-13.9 7.2-6.5 11.3z\" fill=\"#040000\" p-id=\"2634\"></path><path d=\"M644.6 505.2c-30.1 21.5-60.6 62.5-39.1 99.8 10.7 18.6 30.3 30.9 49.1 40.1 7.8 3.8 14.6-7.9 6.8-11.7-23.6-11.5-53.7-31.4-49.4-60.9 2.8-18.9 15.8-34.6 29.5-47.2 2.5-2.3 5.1-4.6 7.8-6.7 0.5-0.4 0.9-0.7 1.4-1.1-0.4 0.3-1.2 0.9-0.1 0.1l0.9-0.6c6.9-5.1 0.2-16.8-6.9-11.8z\" fill=\"#040000\" p-id=\"2635\"></path></svg>`\r\n      },\r\n      {\r\n        name: '13',\r\n        icon: `<svg t=\"1624457855182\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2789\" ><path d=\"M235.1 76.9c75.6-26.5 297.3-90.1 514.2-16.6 16.3 5.5 29.8 17.4 37.1 33 57.5 122.4 127.1 602.1 62.1 785.6a62.58 62.58 0 0 1-32.5 35.8c-109.5 51.8-428.1 136.7-609.3 37.2-14.4-7.9-25-21.3-29.7-37.1-41.9-140.6-37-627.7 19.1-798 6.1-18.7 20.5-33.4 39-39.9z\" fill=\"#F9DABD\" p-id=\"2790\"></path><path d=\"M392.2 360.2m-35.2 0a35.2 35.2 0 1 0 70.4 0 35.2 35.2 0 1 0-70.4 0Z\" fill=\"#040000\" p-id=\"2791\"></path><path d=\"M618.6 360.2m-35.2 0a35.2 35.2 0 1 0 70.4 0 35.2 35.2 0 1 0-70.4 0Z\" fill=\"#040000\" p-id=\"2792\"></path><path d=\"M512 562.6c-36 0-65.3-29.3-65.3-65.3S476 432 512 432s65.3 29.3 65.3 65.3-29.3 65.3-65.3 65.3z m0-122.9c-31.7 0-57.6 25.8-57.6 57.6s25.8 57.6 57.6 57.6c31.7 0 57.6-25.8 57.6-57.6s-25.9-57.6-57.6-57.6z\" fill=\"#040000\" p-id=\"2793\"></path></svg>`\r\n      },\r\n      {\r\n        name: '14',\r\n        icon: `<svg t=\"1624457863444\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2947\" ><path d=\"M178.1 971.5c38.1 15.9 98.7 26.6 171.3-12.3 3.7-2 8.4-1.6 11.6 1.1 43.3 35.9 123.3 80.8 236 10.9 3.8-2.4 8.7-2.4 12.6-0.2 41.8 23.9 191.6 58.2 246.6 14.2 4.4-3.5 9.1-6.6 14.5-8.5C1065 909.5 678.2-652 194.3 351c-37.5 77.8-38.4 94.1-71.9 211.3-27.6 96.3-29.1 231.3 1.4 348.1 7.2 27.3 27.3 49.9 54.3 61.1z\" fill=\"#ABAAAA\" p-id=\"2948\"></path><path d=\"M468.9 349H418c-6.1 0-11.1-5-11.1-11.1V336c0-6.1 5-11.1 11.1-11.1h50.9c6.1 0 11.1 5 11.1 11.1v1.9c0 6.1-5 11.1-11.1 11.1zM643 471.9H390c-6.6 0-12-5.4-12-12s5.4-12 12-12h253c6.6 0 12 5.4 12 12s-5.4 12-12 12zM609 349h-61.2c-6 0-11-4.9-11-11v-2.1c0-6 4.9-11 11-11H609c6 0 11 4.9 11 11v2.1c0 6.1-4.9 11-11 11z\" fill=\"#040000\" p-id=\"2949\"></path></svg>`\r\n      },\r\n      {\r\n        name: '15',\r\n        icon: `<svg t=\"1624457870536\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3103\" ><path d=\"M673.1 318.7c3.7-17.5 5.6-35.7 5.6-54.4 0-137.9-105.5-249.7-235.6-249.7S207.4 126.4 207.4 264.3c0 55.4 17.1 106.7 45.9 148.1-55.2 63.3-88.6 145.9-88.6 236.3 0 199.2 162.1 360.6 362.1 360.6 200 0 362.1-161.5 362.1-360.6 0.1-147.3-88.7-274-215.8-330z\" fill=\"#4F8A54\" p-id=\"3104\"></path><path d=\"M392 246.2m-47.1 0a47.1 47.1 0 1 0 94.2 0 47.1 47.1 0 1 0-94.2 0Z\" fill=\"#FFFFFF\" p-id=\"3105\"></path><path d=\"M386 252.8m-26.4 0a26.4 26.4 0 1 0 52.8 0 26.4 26.4 0 1 0-52.8 0Z\" fill=\"#040000\" p-id=\"3106\"></path><path d=\"M505.6 246.2m-47.1 0a47.1 47.1 0 1 0 94.2 0 47.1 47.1 0 1 0-94.2 0Z\" fill=\"#FFFFFF\" p-id=\"3107\"></path><path d=\"M501.4 252.8m-26.4 0a26.4 26.4 0 1 0 52.8 0 26.4 26.4 0 1 0-52.8 0Z\" fill=\"#040000\" p-id=\"3108\"></path><path d=\"M474.3 364.8h-50.9c-6.1 0-11.1-5-11.1-11.1v-1.9c0-6.1 5-11.1 11.1-11.1h50.9c6.1 0 11.1 5 11.1 11.1v1.9c0 6.2-5 11.1-11.1 11.1z\" fill=\"#040000\" p-id=\"3109\"></path></svg>`\r\n      },\r\n      {\r\n        name: '16',\r\n        icon: `<svg t=\"1624457876371\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3263\" ><path d=\"M246.4 227.6c-166.9 101.1-461.9 344 87 564.1 1.5 0.6 2.9 1.1 4.4 1.6 80.7 27.7 392.8 165.4 641-198.1 40-58.6 38.5-136.2-3.7-193.3C892 289.5 727 201.1 429.1 182.7c-64.1-4-127.8 11.6-182.7 44.9z\" fill=\"#CF92BE\" p-id=\"3264\"></path><path d=\"M617.1 393.4c-17.4 8.8-34.9 18.1-51.2 28.9-6.9 4.6-20.3 12.3-17.4 22.6 1.2 4.3 5.6 7 9 9.5 3.7 2.7 7.6 5 11.5 7.3 18.2 10.8 37.1 20.3 55.9 30 10 5.1 18.9-10 8.8-15.1-16.4-8.4-32.9-16.9-49-26-4.5-2.6-9.1-5.2-13.5-8l-4.5-3c-0.7-0.5-1.3-1-2-1.5 1.6 1.2 0.7 0.4-0.2-0.2-1.3-0.9-0.3-0.9-0.5-0.3 0.2 0.2 0.4 0.5 0.6 0.7 1 1.9 1.3 3.7 0.8 5.7 0.1-0.6 0.7-1.4-0.6 1.3 0.7-1.5-0.1 0-0.2 0.1 0.6-0.6 1.2-1.3 1.9-1.9l1.8-1.5c1.8-1.6-0.6 0.3 1.2-0.9 2-1.5 4.1-2.9 6.2-4.3 10-6.5 20.4-12.4 30.9-18 6.5-3.5 13.1-7 19.7-10.4 9.6-5 0.8-20.1-9.2-15zM323.1 408.5c15.9 8.1 31.7 16.5 46.8 26 2.2 1.4 4.3 2.8 6.5 4.2 1 0.7 1.9 1.3 2.8 2 0.5 0.3 1 0.7 1.4 1.1-1.1-0.9-0.3-0.3 0.3 0.3 1.1 1 2.2 2.2 3.3 3.1 1.4 1.1-1-1.7-0.1-0.1-0.6-1.1-0.9-4.1 0.3-6.7 2.2-4.8 0.7 0.1 0-0.5 0 0-1.1 0.9-1.3 1 2.3-1.9 0 0-0.5 0.4-0.8 0.5-1.5 1.1-2.3 1.6-4 2.7-8.1 5.1-12.3 7.5-17.3 10-35.1 19.1-52.8 28.2-10 5.1-1.2 20.2 8.8 15.1 17.5-9 35-17.9 52-27.7 7.3-4.2 15.9-8.6 21.8-14.7 9.3-9.7-4.3-19.7-11.5-24.7-10.1-7.1-20.9-13.1-31.7-19-7.6-4.2-15.2-8.2-22.9-12.1-9.7-5.2-18.6 9.9-8.6 15zM513 592.1c-12.2 0-24.6-1.4-36.3-4.3-8-2-13.9-8.2-15.4-16.2s1.7-15.8 8.4-20.5c23.2-16.3 60.5-31.9 106.2-13 6.4 2.6 11 8.3 12.3 15.1 1.3 6.7-0.8 13.6-5.7 18.3-13.5 13.1-40.9 20.6-69.5 20.6z m-37.4-32.5c-3.4 2.4-4.9 6.2-4.2 10.2 0.8 4.1 3.6 7.1 7.7 8.1 39.1 9.7 81.2 0.7 96.1-13.7 2.4-2.3 3.4-5.6 2.7-8.9-0.7-3.4-2.9-6.2-6.1-7.5-41.2-17.2-75.1-3.1-96.2 11.8z\" fill=\"#040000\" p-id=\"3265\"></path></svg>`\r\n      },\r\n      {\r\n        name: '17',\r\n        icon: `<svg t=\"1624457881793\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3419\" ><path d=\"M1008.6 465.7c0-124.9-95.5-226.2-213.4-226.2-12 0-23.8 1.1-35.2 3.1v-3.1c0-124.9-95.5-226.2-213.4-226.2S333.4 114.6 333.4 239.5c0 2.4 0 4.8 0.1 7.2-17.1-4.7-35-7.2-53.4-7.2-117.8 0-213.4 101.3-213.4 226.2 0 92.1 51.9 171.3 126.3 206.6-13.7 29.9-21.4 63.4-21.4 98.8 0 124.9 95.5 226.2 213.4 226.2 68.8 0 130-34.5 169-88.1 39 53.6 100.2 88.1 169 88.1 117.8 0 213.4-101.3 213.4-226.2 0-41.2-10.4-79.9-28.6-113.1 60.5-39.9 100.8-111.1 100.8-192.3z\" fill=\"#8CC66D\" p-id=\"3420\"></path><path d=\"M437.8 400.7m-24.7 0a24.7 24.7 0 1 0 49.4 0 24.7 24.7 0 1 0-49.4 0Z\" fill=\"#040000\" p-id=\"3421\"></path><path d=\"M649.7 400.7m-24.7 0a24.7 24.7 0 1 0 49.4 0 24.7 24.7 0 1 0-49.4 0Z\" fill=\"#040000\" p-id=\"3422\"></path><path d=\"M527.3 625.9c6.3-14.2 13.1-28.3 17.9-43 6.2-19 8.3-38.6 10.5-58.3l2.1-19.2c0.7-6.2-9-6.1-9.7 0-1.7 16.3-2.8 32.8-5.7 48.9-4.2 23.7-13.8 45-23.5 66.7-2.5 5.6 5.9 10.5 8.4 4.9z\" fill=\"#252525\" p-id=\"3423\"></path><path d=\"M447.7 522.3c20.3-0.1 40.6-0.2 61-0.4l96.6-0.6c7.5 0 14.9-0.1 22.4-0.1 16.6-0.1 16.7-25.9 0-25.8-20.3 0.1-40.6 0.2-61 0.4l-96.6 0.6c-7.5 0-14.9 0.1-22.4 0.1-16.6 0.1-16.7 25.9 0 25.8z\" fill=\"#040000\" p-id=\"3424\"></path><path d=\"M495.4 508.2c-10.3 3.8-9.2 20.9-9.2 29.5 0.1 16 2.1 32.3 6.1 47.8 3.5 13.7 8.7 29.9 20.6 38.7 12.9 9.5 27.6 2.1 37.6-7.9 10.2-10.3 17.8-23 24.7-35.6 11.6-21.3 20.9-43.8 29.7-66.4 3-7.8-9.5-11.1-12.5-3.4-7.4 19.1-15.3 38.1-24.7 56.4-5.9 11.5-12.2 23-20.3 33.1-2.8 3.5-5.8 6.9-9.2 9.8-1.9 1.7-1.4 1.3-3.3 2.5-1.3 0.8-2.6 1.6-3.9 2.2-0.7 0.3 1-0.2-0.8 0.3-0.6 0.2-1.2 0.3-1.8 0.5-1.1 0.3-1.2 0.2-0.5 0.1-0.6 0-1.3 0-1.9 0.1-2.2 0.1 0.6 0.5-1.8-0.2l-1.8-0.6c1.5 0.5 0.2 0.1-0.5-0.3-0.8-0.5-2.9-2.1-1.7-1.1-1-0.9-2-1.7-2.8-2.7-0.4-0.5-0.9-1-1.3-1.5 0.4 0.5 0.1 0.2-0.5-0.7-0.8-1.3-1.7-2.5-2.4-3.9-0.7-1.3-1.4-2.5-2-3.8-0.4-0.8-0.8-1.6-1.1-2.4-0.1-0.2-0.5-1.1 0 0l-0.6-1.5a86.8 86.8 0 0 1-3.3-9.8c-4.4-14.9-6.2-27.9-6.8-42.8-0.3-6.6-0.3-13.1 0.4-19.7 0.2-1.5-0.3 1.5 0.1-0.5l0.3-1.8c0.2-0.9 0.5-1.8 0.7-2.8 0.4-1.9-0.7 1.1 0.3-0.7 0.5-1-1.3 1.2-0.3 0.5-0.3 0.3-1.1 0.8-2 1.1 7.7-2.9 4.3-15.4-3.5-12.5z\" fill=\"#040000\" p-id=\"3425\"></path></svg>`\r\n      },\r\n      {\r\n        name: '18',\r\n        icon: `<svg t=\"1624457899440\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3579\" ><path d=\"M75.4 739.8c-78.7-134.4-194-455.7 401.4-579.6 9.8-2 19.2-6.2 29.2-7.5C656.8 133 947.3 205 1000.1 578.4c42.6 223.8 29.7 392.1-822 233.6-43.1-8-80.6-34.4-102.7-72.2z\" fill=\"#F09495\" p-id=\"3580\"></path><path d=\"M704.6 875.4c-129 0-301.8-20.5-526.6-62.3-43.5-8.1-81.2-34.6-103.5-72.7-19.3-32.9-44.8-84.3-57.1-142.5-13.9-65.1-8.8-125.3 15.1-179.2 54.3-122.3 203.7-209.6 444-259.6 4.1-0.9 8.3-2.1 12.3-3.4 5.5-1.7 11.1-3.4 16.9-4.2 29-3.8 75.7-5.9 133.8 5.7 54.5 10.9 105.3 31 150.8 59.9C843.7 251 888.2 296 922.7 351c39.7 63.1 66.1 139.6 78.5 227.3 8.1 42.4 15.2 87.3 12.5 127.9-2.8 42.6-16.4 75.5-41.5 100.7-42.5 42.7-120.3 65-237.8 68.1-9.6 0.2-19.6 0.4-29.8 0.4zM76.3 739.3c22 37.6 59.2 63.7 102.1 71.7 242.5 45.1 424.4 65.3 556.1 61.9 116.9-3.1 194.1-25.2 236.3-67.5 55.4-55.6 44.4-142.5 28.3-226.7C976 415.8 903.4 291.5 789.2 219c-124-78.7-248.1-69.9-283.2-65.3-5.6 0.7-11.2 2.4-16.6 4.1-4.1 1.2-8.3 2.5-12.5 3.4C237.3 211.1 88.5 298 34.5 419.6c-54.6 122.8 2.8 253 41.8 319.7z\" fill=\"#FFFFFF\" p-id=\"3581\"></path><path d=\"M424.1 442.5m-24.7 0a24.7 24.7 0 1 0 49.4 0 24.7 24.7 0 1 0-49.4 0Z\" fill=\"#040000\" p-id=\"3582\"></path><path d=\"M635.9 442.5m-24.7 0a24.7 24.7 0 1 0 49.4 0 24.7 24.7 0 1 0-49.4 0Z\" fill=\"#040000\" p-id=\"3583\"></path><path d=\"M426.2 543.3c17.1 7.9 36.6 26 25.5 46.1-6.9 12.5-19.8 21.2-31.7 28.4-4.5 2.7-0.4 9.8 4.1 7.1 17.4-10.5 41.6-27.6 39-51.1-1.6-14-12.4-24.8-23.5-32.3-3-2-6.1-3.9-9.3-5.4-4.8-2.1-8.9 5-4.1 7.2zM629.5 535.4c-21.8 11.7-40.6 37-25.7 61.3 8.2 13.4 22.2 22.7 35.7 30.3 4.7 2.7 8.9-4.6 4.2-7.2-15.5-8.7-39.9-23.9-36.9-45.2 1.6-11.4 10.7-20.7 19.6-27.2 2.4-1.7 4.8-3.4 7.4-4.8 4.7-2.5 0.4-9.8-4.3-7.2z\" fill=\"#040000\" p-id=\"3584\"></path><path d=\"M457.2 584.6c25.6 25.6 66.7 41 101.8 28.3 18.2-6.6 33.2-19.1 45.5-33.8 4.2-5.1-3-12.4-7.3-7.3-18.5 22-43.3 38.1-73 35-18.6-1.9-36.2-10.8-50.9-22-2.9-2.2-6.1-4.8-8.8-7.5-4.7-4.7-12 2.6-7.3 7.3z\" fill=\"#040000\" p-id=\"3585\"></path></svg>`\r\n      },\r\n      {\r\n        name: '19',\r\n        icon: `<svg t=\"1624457904464\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3739\" ><path d=\"M915.9 510.5c8.4-19 13.1-39.8 13.1-61.7 0-90-78.9-162.9-176.2-162.9-3.2 0-6.3 0.1-9.5 0.2v-0.2c0-94.8-116.2-171.6-259.6-171.6S224 191.2 224 286v2c-96.2 0-174.1 72-174.1 160.9 0 38 14.3 73 38.2 100.5-41.8 29.4-68.8 75.9-68.8 128.2 0 88.9 78 160.9 174.1 160.9 17.1 0 33.6-2.3 49.3-6.5 28.9 46.1 88.7 77.7 157.6 77.7 49.4 0 94-16.2 126-42.3 32 26.1 76.6 42.3 126 42.3 77.3 0 143-39.7 166.7-95 3.1 0.2 6.3 0.2 9.5 0.2 97.3 0 176.2-72.9 176.2-162.9 0-60.6-35.7-113.4-88.8-141.5z\" fill=\"#5A74B8\" p-id=\"3740\"></path><path d=\"M357.6 449.5a46.6 73.2 0 1 0 93.2 0 46.6 73.2 0 1 0-93.2 0Z\" fill=\"#FEFEFD\" p-id=\"3741\"></path><path d=\"M357.5 449.5a25.1 39.4 0 1 0 50.2 0 25.1 39.4 0 1 0-50.2 0Z\" fill=\"#040000\" p-id=\"3742\"></path><path d=\"M531.3 449.5a46.6 73.2 0 1 0 93.2 0 46.6 73.2 0 1 0-93.2 0Z\" fill=\"#FEFEFD\" p-id=\"3743\"></path><path d=\"M531.2 449.5a25.1 39.4 0 1 0 50.2 0 25.1 39.4 0 1 0-50.2 0Z\" fill=\"#040000\" p-id=\"3744\"></path><path d=\"M426.7 574.6c20.9 29.9 59.7 52.2 96.2 38.6 19.2-7.2 34.7-21.2 47.6-36.9 2.8-3.5 3.4-8.3 0-11.7-2.9-2.9-8.9-3.5-11.7 0-16.5 20.2-40.9 40.9-68.1 35.5-17.3-3.4-31-13.2-42.9-25.9-2-2.2-3.9-4.4-5.8-6.7-1.6-1.9 1.1 1.5-0.4-0.6-0.2-0.2-0.3-0.5-0.5-0.7-6.2-8.7-20.6-0.4-14.4 8.4z\" fill=\"#040000\" p-id=\"3745\"></path></svg>`\r\n      },\r\n      {\r\n        name: '20',\r\n        icon: `<svg t=\"1624457910321\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3899\" ><path d=\"M792.8 301.4c-8.2 0-16.2 0.4-24.2 1.3-12.3-81.8-129.2-145.9-271.8-145.9-137.1 0-250.5 59.3-269.9 136.6C105.3 295.5 7.4 391.2 7.4 508.9c0 119.1 100.2 215.6 223.7 215.6 5.3 0 10.6-0.2 15.8-0.5 14.4 80.5 130.4 143.2 271.3 143.2 135.9 0 248.6-58.3 269.4-134.6 1.7 0 3.4 0.1 5.1 0.1 123.6 0 223.7-96.5 223.7-215.6s-100-215.7-223.6-215.7z\" fill=\"#F6CD50\" p-id=\"3900\"></path><path d=\"M435.9 431.5m-52.2 0a52.2 52.2 0 1 0 104.4 0 52.2 52.2 0 1 0-104.4 0Z\" fill=\"#FAFAFA\" p-id=\"3901\"></path><path d=\"M588.1 431.5m-52.2 0a52.2 52.2 0 1 0 104.4 0 52.2 52.2 0 1 0-104.4 0Z\" fill=\"#FAFAFA\" p-id=\"3902\"></path><path d=\"M435.9 431.5m-27.8 0a27.8 27.8 0 1 0 55.6 0 27.8 27.8 0 1 0-55.6 0Z\" fill=\"#040000\" p-id=\"3903\"></path><path d=\"M601.9 407.4c-5.7 2.9-11.3 5.9-16.9 9-6.8 3.8-15.3 7.8-20.5 13.8-5.6 6.5 1.6 11.1 6.7 14.4 11.2 7.1 23.3 13 35.1 19 5.7 2.9 10.8-5.7 5.1-8.6-10.9-5.6-21.9-11.1-32.4-17.4-2.4-1.4-4.6-3.1-7-4.6 1 0.6-0.4-0.4-0.4-0.4-1.9-0.3-0.5 4.2 0.5 4.1-0.1 0-0.6 0.3 0.3-0.3 0.5-0.3 1-0.9 1.5-1.3 9.7-7.9 21.9-13.5 33.1-19.2 5.7-2.7 0.6-11.4-5.1-8.5zM406.6 547.6c11.5 14.4 27 26.7 42.7 36.3 32.2 19.8 71.2 27.2 107.6 15.4 29.5-9.6 54.6-29.1 75.5-51.6 10.8-11.6-6.6-29.1-17.5-17.5-9.4 10.1-19.5 19.7-30.8 27.7-4.6 3.2-9.3 6.2-14.2 8.9-5 2.8-9.9 5.1-14.1 6.7-4.6 1.7-9.3 3.2-14.1 4.4-2.2 0.5-4.4 1-6.6 1.4-1 0.2-2 0.3-2.9 0.5 2.6-0.4-2.1 0.2-2.5 0.3-4.1 0.4-8.3 0.5-12.5 0.4-2.2-0.1-4.4-0.2-6.6-0.4-1.1-0.1-2.2-0.2-3.2-0.3-1.5-0.2-1.4-0.2 0.1 0l-2.1-0.3c-7.8-1.3-15.4-3.4-22.8-6.2-0.9-0.4-1.8-0.7-2.8-1.1-3.1-1.2 2.3 1.1-0.7-0.3-1.5-0.7-2.9-1.3-4.4-2-3.7-1.8-7.2-3.7-10.8-5.8-5.7-3.4-11.1-7.1-16.4-11.1 3 2.3-1.1-0.9-1.8-1.5-1.1-0.9-2.1-1.7-3.1-2.6-2.1-1.8-4.2-3.7-6.3-5.6-4.4-4.1-8.7-8.4-12.4-13.1-4.2-5.2-13.1-4.3-17.5 0-5 5.1-4 12.2 0.2 17.4z\" fill=\"#040000\" p-id=\"3904\"></path></svg>`\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: '标记图标',\r\n    type: 'sign',\r\n    list: [\r\n      {\r\n        name: '1',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M809.728 429.696a18.901333 18.901333 0 0 0-15.274667-12.885333l-183.466666-26.624-81.92-166.272a18.901333 18.901333 0 0 0-34.005334 0l-81.92 166.272-183.594666 26.624a19.029333 19.029333 0 0 0-10.496 32.298666l132.693333 129.536-31.274667 182.741334a18.816 18.816 0 0 0 27.477334 19.84l164.138666-86.186667 164.096 86.058667a18.773333 18.773333 0 1 0 27.434667-19.84l-31.36-182.741334 132.693333-129.408a18.901333 18.901333 0 0 0 4.778667-19.413333z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '2',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M644.565333 306.901333c32.128 0 65.834667-5.76 101.077334-17.237333a17.066667 17.066667 0 0 1 22.357333 16.213333v328.32c-1.109333 0.768 10.325333 27.093333-99.370667 19.84-109.653333-7.210667-181.76-45.098667-246.869333-45.098666-65.152 0-49.322667 2.688-74.154667 8.405333v168.064a24.746667 24.746667 0 0 1-24.490666 25.258667 22.528 22.528 0 0 1-17.28-7.253334 24.149333 24.149333 0 0 1-7.168-18.005333V281.258667C299.776 280.490667 328.106667 256 421.76 256s164.437333 50.901333 222.805333 50.901333z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '3',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M524.074667 225.408l274.517333 274.517333a17.066667 17.066667 0 0 1 0 24.149334l-274.517333 274.517333a17.066667 17.066667 0 0 1-24.149334 0l-274.517333-274.517333a17.066667 17.066667 0 0 1 0-24.149334l274.517333-274.517333a17.066667 17.066667 0 0 1 24.149334 0z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '4',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M317.866667 300.8h388.266666c9.386667 0 17.066667 7.68 17.066667 17.066667v388.266666a17.066667 17.066667 0 0 1-17.066667 17.066667h-388.266666a17.066667 17.066667 0 0 1-17.066667-17.066667v-388.266666c0-9.386667 7.68-17.066667 17.066667-17.066667z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '5',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M498.346667 279.082667L248.789333 701.44a15.829333 15.829333 0 0 0 13.653334 23.893333h499.114666a15.829333 15.829333 0 0 0 13.653334-23.893333l-249.6-422.357333a15.829333 15.829333 0 0 0-27.264 0z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '6',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M497.749333 798.549333l-31.445333-28.501333C313.941333 631.722667 213.333333 540.501333 213.333333 428.8a160.981333 160.981333 0 0 1 162.730667-162.730667c51.498667 0 100.906667 23.978667 133.12 61.696a177.536 177.536 0 0 1 133.162667-61.696 160.981333 160.981333 0 0 1 162.730666 162.730667c0 111.701333-100.608 202.965333-252.970666 341.333333l-31.445334 28.458667a17.066667 17.066667 0 0 1-22.912 0z\" fill=\"#FFFFFF\"></path><path d=\"M634.538667 487.808L555.050667 426.24 507.306667 256a201.002667 201.002667 0 0 0-23.594667 20.394667l-0.256-0.256L525.653333 426.666667l-133.290666 59.946666a14.08 14.08 0 0 0-8.021334 15.957334l28.757334 126.378666a14.208 14.208 0 0 0 27.733333-6.229333l-26.24-115.114667 126.037333-56.704 76.416 59.136a14.250667 14.250667 0 0 0 19.968-2.474666 14.08 14.08 0 0 0-2.474666-19.797334z\" fill=\"#6D768D\"></path></svg>`\r\n      },\r\n      {\r\n        name: '7',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M497.749333 798.549333l-31.445333-28.501333C313.941333 631.722667 213.333333 540.501333 213.333333 428.8a160.981333 160.981333 0 0 1 162.730667-162.730667c51.498667 0 100.906667 23.978667 133.12 61.696a177.536 177.536 0 0 1 133.162667-61.696 160.981333 160.981333 0 0 1 162.730666 162.730667c0 111.701333-100.608 202.965333-252.970666 341.333333l-31.445334 28.458667a17.066667 17.066667 0 0 1-22.912 0z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '8',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M374.656 273.194667c5.973333 4.48 12.117333 9.6 18.346667 15.36 6.272 5.717333 11.904 12.373333 16.896 19.84 2.517333 4.010667 5.504 8.490667 9.002666 13.482666a529.493333 529.493333 0 0 1 20.266667 32.213334h155.221333a169.813333 169.813333 0 0 0 9.770667-15.744c2.474667-4.48 5.248-8.96 8.234667-13.482667a460.842667 460.842667 0 0 1 23.253333-31.829333c4.992-6.229333 12.245333-12.373333 21.76-18.346667a34.261333 34.261333 0 0 0 10.112-9.728 31.274667 31.274667 0 0 0 5.248-11.989333 18.56 18.56 0 0 0-1.536-11.605334 17.664 17.664 0 0 0-10.112-8.618666c-4.48-1.493333-8.362667-2.005333-11.605333-1.493334a46.933333 46.933333 0 0 0-9.770667 2.602667c-3.242667 1.28-6.613333 2.645333-10.112 4.138667a32.426667 32.426667 0 0 1-12.757333 2.261333 26.026667 26.026667 0 0 1-12.373334-2.645333 45.653333 45.653333 0 0 1-8.96-6.357334l-8.661333-7.850666a30.336 30.336 0 0 0-11.989333-6.4c-9.984-3.968-18.005333-4.693333-24.021334-2.218667-5.973333 2.474667-11.946667 6.485333-17.962666 11.946667a88.618667 88.618667 0 0 1-11.989334 10.496 7.338667 7.338667 0 0 1-3.754666 1.493333 46.165333 46.165333 0 0 1-8.277334-5.205333 71.808 71.808 0 0 1-7.125333-4.906667 37.973333 37.973333 0 0 1-6.4-6.357333c-3.968-3.968-9.941333-6.613333-17.92-7.850667a31.061333 31.061333 0 0 0-21.76 4.138667c-8.533333 5.461333-14.506667 10.069333-18.048 13.824a29.354667 29.354667 0 0 1-15.744 7.893333 23.978667 23.978667 0 0 1-13.098667-0.768 987.733333 987.733333 0 0 0-14.634666-4.48 80.725333 80.725333 0 0 0-14.250667-2.986667 16.768 16.768 0 0 0-11.989333 2.986667c-6.997333 5.461333-9.258667 12.074667-6.741334 19.84a34.56 34.56 0 0 0 13.482667 18.346667z\" fill=\"#FFFFFF\"></path><path d=\"M780.757333 545.152a219.306667 219.306667 0 0 0-19.882666-65.536 224.981333 224.981333 0 0 0-33.365334-49.792 430.336 430.336 0 0 0-37.12-37.12c-14.506667-11.946667-27.264-23.296-38.272-34.048a544.512 544.512 0 0 1-27.733333-28.842667 305.28 305.28 0 0 1-22.485333-26.197333h-168.746667c-6.485333 8.490667-13.994667 17.493333-22.485333 26.965333a360.96 360.96 0 0 1-26.24 28.074667c-10.538667 10.24-22.272 21.12-35.285334 32.597333a305.493333 305.493333 0 0 0-41.6 44.16 250.026667 250.026667 0 0 0-49.493333 117.589334 216.106667 216.106667 0 0 0 1.877333 70.4 220.586667 220.586667 0 0 0 75.349334 126.549333c21.248 18.005333 47.146667 32.597333 77.653333 43.818667 30.464 11.264 65.493333 16.853333 104.96 16.853333 38.528 0 72.874667-4.864 103.125333-14.592a265.045333 265.045333 0 0 0 78.378667-39.338667c21.973333-16.469333 39.594667-35.797333 52.864-58.026666 13.226667-22.186667 22.101333-45.824 26.624-70.784 4.992-30.421333 5.632-58.026667 1.877333-82.773334z\" fill=\"#FFFFFF\"></path><path d=\"M593.322667 647.509333a20.48 20.48 0 0 1-11.861334 3.2h-50.133333v14.165334c0 4.266667-1.792 8.362667-5.376 12.373333a15.914667 15.914667 0 0 1-13.952 5.333333 24.917333 24.917333 0 0 1-14.336-3.882666c-3.84-2.602667-5.973333-7.210667-6.4-13.824v-14.165334h-48.725333a17.792 17.792 0 0 1-11.818667-3.882666 10.24 10.24 0 0 1-3.968-9.6c0-4.266667 1.578667-7.68 4.693333-10.24a16.768 16.768 0 0 1 11.093334-3.925334h48.682666v-24.789333h-48.682666a15.573333 15.573333 0 0 1-11.52-4.266667 13.525333 13.525333 0 0 1-4.266667-9.941333 15.36 15.36 0 0 1 4.693333-10.624 14.72 14.72 0 0 1 11.093334-4.949333h48.682666l0.725334-14.890667a1053.568 1053.568 0 0 1-40.832-42.538667l-10.752-9.898666a41.216 41.216 0 0 1-6.442667-11.690667c-1.92-4.992-0.938667-10.069333 2.858667-15.274667a13.653333 13.653333 0 0 1 15.786666-3.84c6.186667 2.090667 11.221333 4.821333 15.018667 8.106667 1.92 2.389333 5.248 5.888 10.026667 10.666667l15.061333 14.848 19.328 19.157333 22.186667-20.565333a987.605333 987.605333 0 0 1 29.397333-25.514667 21.162667 21.162667 0 0 1 14.293333-5.674667c5.290667 0 9.557333 2.133333 12.928 6.4 6.186667 7.082667 3.84 15.36-7.168 24.789334a179.072 179.072 0 0 0-12.885333 12.373333c-5.76 5.973333-11.52 11.733333-17.194667 17.408-6.698667 7.082667-14.08 14.378667-22.186666 21.973333v13.44h46.506666c6.698667 0 11.605333 1.536 14.72 4.608a14.165333 14.165333 0 0 1 4.650667 10.282667c0 4.266667-1.450667 7.936-4.309333 11.008-2.858667 3.029333-7.637333 4.352-14.336 3.84l-46.506667 0.768-0.768 24.064h45.866667c13.354667 0 20.053333 4.992 20.053333 14.933333 0.469333 4.693333-0.853333 8.106667-3.925333 10.24z\" fill=\"#6D768D\"></path></svg>`\r\n      },\r\n      {\r\n        name: '9',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M512 213.333333l234.666667 341.333334h-128v213.333333h-213.333334v-213.333333h-128L512 213.333333z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '10',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M533.333333 810.666667L298.666667 469.333333h128V256h213.333333v213.333333h128l-234.666667 341.333334z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '11',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M213.333333 533.333333L554.666667 298.666667v128h213.333333v213.333333h-213.333333v128l-341.333334-234.666667z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '12',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M810.666667 533.333333L469.333333 768v-128H256v-213.333333h213.333333V298.666667l341.333334 234.666666z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '13',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M0 512c0 282.752 229.248 512 512 512s512-229.248 512-512S794.752 0 512 0 0 229.248 0 512z\" fill=\"#6D768D\"></path><path d=\"M571.349333 508.586667l162.389334-162.346667a44.330667 44.330667 0 1 0-62.72-62.72l-162.389334 162.389333-162.517333-162.389333a44.330667 44.330667 0 1 0-62.72 62.72l162.389333 162.389333-162.389333 162.474667a44.330667 44.330667 0 1 0 62.72 62.72l162.389333-162.346667 162.389334 162.389334a44.330667 44.330667 0 1 0 62.72-62.72l-162.261334-162.56z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '14',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C233.386667 0 0 225.877333 0 512s225.877333 512 512 512 512-225.877333 512-512S790.613333 0 512 0z\" fill=\"#6D768D\"></path><path d=\"M726.144 311.210667l-277.333333 305.066666-124.8-124.8c-13.866667-13.866667-41.6-13.866667-55.466667 0-13.866667 13.866667-13.866667 41.6 0 55.466667l159.445333 152.533333c13.866667 13.866667 41.6 13.866667 55.466667 0l305.066667-332.8c13.866667-13.866667 13.866667-41.6 0-55.466666-20.778667-13.866667-48.512-13.866667-62.378667 0z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '15',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M541.952 755.626667a40.618667 40.618667 0 0 1-29.824 12.373333 41.344 41.344 0 0 1-30.122667-12.373333 40.106667 40.106667 0 0 1-12.672-30.122667c0-11.605333 4.096-21.845333 12.672-30.122667a40.405333 40.405333 0 0 1 30.122667-12.714666c11.605333 0 21.546667 4.138667 29.824 12.714666a40.32 40.32 0 0 1 12.714667 30.122667c0 11.861333-4.096 21.76-12.714667 30.122667zM450.986667 241.28A77.866667 77.866667 0 0 1 512.256 213.333333c24.874667 0 45.354667 8.917333 61.354667 27.946667 15.488 18.432 23.722667 41.685333 23.722666 69.674667 0 23.765333-33.152 200.533333-44.672 329.045333h-80.128C463.146667 511.402667 426.666667 334.677333 426.666667 310.954667c0-27.392 8.277333-50.645333 24.32-69.674667z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '16',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512S794.794667 0 512 0z\" fill=\"#6D768D\"></path><path d=\"M490.666667 682.666667a64 64 0 1 1 0 128 64 64 0 0 1 0-128z m13.994666-490.752c61.397333 0 112.341333 14.634667 153.002667 43.946666 40.533333 29.269333 60.885333 72.618667 60.885333 130.133334 0 35.242667-12.373333 64.938667-29.952 89.045333-10.282667 14.677333-33.664 33.408-62.890666 56.192l-32.426667 22.357333c-15.701333 12.202667-29.696 26.453333-34.858667 42.666667-1.706667 5.546667-3.072 14.677333-3.968 24.533333-0.426667 4.949333-4.864 15.018667-15.232 15.018667h-83.328c-13.568 0-15.957333-10.581333-15.744-15.786667 1.493333-34.005333 4.608-64.213333 18.474667-80.469333 28.074667-32.896 91.904-73.813333 91.904-73.813333a104.106667 104.106667 0 0 0 23.552-24.021334c10.837333-14.933333 19.797333-31.317333 19.797333-49.237333 0-20.565333-6.016-39.338667-18.090666-56.32-12.032-16.938667-34.090667-25.386667-66.005334-25.386667-31.445333 0-53.76 10.410667-66.901333 31.274667-9.685333 15.445333-15.786667 29.610667-18.346667 45.013333-0.853333 5.461333-4.394667 16.981333-16.042666 16.981334H327.210667c-17.322667 0-21.12-11.221333-20.650667-16.64 6.272-68.138667 32.896-114.688 80-144.597334 32-20.565333 71.381333-30.890667 118.101333-30.890666z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '17',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M336.256 410.026667H253.312a40.021333 40.021333 0 0 0-39.850667 43.264l23.296 278.101333c1.706667 20.693333 19.072 36.608 39.850667 36.608h59.648c11.050667 0 20.010667-8.96 20.010667-19.968v-318.037333a19.968 19.968 0 0 0-20.010667-19.968z m434.432 0h-178.944C653.312 182.314667 548.949333 170.666667 548.949333 170.666667c-44.288 0-35.114667 34.986667-38.442666 40.832 0 84.48-68.010667 155.093333-101.034667 184.362666a39.552 39.552 0 0 0-13.226667 29.653334v322.56c0 11.008 8.96 19.925333 20.010667 19.925333h233.728c30.378667 0 58.154667-17.152 71.68-44.373333 18.176-36.736 40.448-90.112 54.656-133.973334 13.781333-42.410667 26.24-94.976 33.578667-131.968a39.850667 39.850667 0 0 0-39.253334-47.658666z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '18',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M796.16 413.909333c-31.146667-0.298667-115.626667-0.085333-146.858667-0.085333h-158.464c8.533333-7.68 15.914667-14.506667 23.594667-20.906667 29.781333-24.874667 25.813333-71.082667-14.208-88.874666-22.954667-10.24-44.970667-5.632-64 11.52-34.944 31.274667-69.632 62.677333-104.277333 93.994666a15.488 15.488 0 0 1-11.178667 4.437334c-11.221333-0.085333-26.88-0.128-46.933333-0.170667a17.066667 17.066667 0 0 0-17.109334 17.066667L256 719.701333a17.066667 17.066667 0 0 0 17.066667 17.152l49.578666-0.085333c3.968 0 7.466667 0.768 10.88 2.602667 15.829333 8.832 31.701333 17.493333 47.616 26.24a18.133333 18.133333 0 0 0 9.301334 2.346666h168.405333c6.186667 0 11.946667-0.981333 17.834667-2.56 29.44-7.253333 40.021333-30.293333 38.528-52.565333-0.768-9.728-4.266667-18.346667-9.984-26.24 19.626667-5.76 35.114667-16.213333 42.112-36.096 7.125333-20.394667 1.621333-38.4-12.672-53.333333 28.16-19.754667 34.858667-44.672 18.645333-75.648h140.458667c6.570667 0 13.013333-0.597333 19.370666-2.645334 31.957333-9.813333 48.810667-42.88 35.626667-71.552-10.154667-22.186667-28.629333-33.152-52.608-33.450666z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '19',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M270.506667 413.909333c31.146667-0.298667 115.626667-0.085333 146.858666-0.085333h158.464c-8.533333-7.68-15.914667-14.506667-23.594666-20.906667-29.781333-24.874667-25.813333-71.082667 14.208-88.874666 22.954667-10.24 44.970667-5.632 64 11.52 34.944 31.274667 69.632 62.677333 104.277333 93.994666 3.413333 2.986667 6.528 4.437333 11.178667 4.437334 11.221333-0.085333 26.88-0.128 46.933333-0.170667a17.066667 17.066667 0 0 1 17.109333 17.066667l0.682667 288.853333a17.066667 17.066667 0 0 1-17.066667 17.152l-49.578666-0.085333a22.101333 22.101333 0 0 0-10.88 2.602666c-15.829333 8.832-31.701333 17.493333-47.616 26.24a18.133333 18.133333 0 0 1-9.301334 2.346667h-168.405333a68.693333 68.693333 0 0 1-17.834667-2.56c-29.44-7.253333-40.021333-30.293333-38.528-52.565333 0.768-9.728 4.266667-18.346667 9.984-26.24-19.626667-5.76-35.114667-16.213333-42.112-36.096-7.125333-20.394667-1.621333-38.4 12.672-53.333334-28.16-19.754667-34.858667-44.672-18.645333-75.648H272.853333c-6.570667 0-13.013333-0.597333-19.370666-2.645333-31.957333-9.813333-48.810667-42.88-35.626667-71.552 10.154667-22.186667 28.629333-33.152 52.608-33.450667z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '20',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M667.733333 480.128H400v-111.36a97.706667 97.706667 0 0 1 97.621333-97.621333 97.706667 97.706667 0 0 1 97.578667 97.621333 28.885333 28.885333 0 0 0 57.813333 0A155.605333 155.605333 0 0 0 497.621333 213.333333a155.605333 155.605333 0 0 0-155.392 155.434667v111.36h-14.677333A28.885333 28.885333 0 0 0 298.666667 509.013333v292.010667a28.885333 28.885333 0 0 0 28.885333 28.885333h340.138667a28.885333 28.885333 0 0 0 28.928-28.885333V509.013333a28.885333 28.885333 0 0 0-28.928-28.885333z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '21',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M400.042667 437.461333v-111.36a97.706667 97.706667 0 0 1 97.621333-97.621333 97.706667 97.706667 0 0 1 97.578667 97.621333 28.885333 28.885333 0 0 0 57.813333 0A155.605333 155.605333 0 0 0 497.621333 170.666667a155.605333 155.605333 0 0 0-155.392 155.434666v111.36h-14.677333A28.885333 28.885333 0 0 0 298.666667 466.346667v292.010666a28.885333 28.885333 0 0 0 28.885333 28.885334h340.138667a28.885333 28.885333 0 0 0 28.928-28.885334V466.346667a28.885333 28.885333 0 0 0-28.928-28.885334H400.042667z\" fill=\"#FFFFFF\"></path><path d=\"M595.242667 437.461333v-111.36a97.706667 97.706667 0 0 0-97.621334-97.621333 97.706667 97.706667 0 0 0-97.578666 97.621333 28.885333 28.885333 0 0 1-57.813334 0A155.605333 155.605333 0 0 1 497.621333 170.666667a155.605333 155.605333 0 0 1 155.434667 155.434666v111.36h14.634667c16 0 28.928 12.928 28.928 28.885334v292.010666a28.885333 28.885333 0 0 1-28.928 28.885334H327.552A28.885333 28.885333 0 0 1 298.666667 758.357333V466.346667c0-15.957333 12.928-28.885333 28.885333-28.885334h267.690667z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '22',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M511.999787 512.000213m-511.999787 0a511.999787 511.999787 0 1 0 1023.999573 0 511.999787 511.999787 0 1 0-1023.999573 0Z\" fill=\"#6D768D\"></path><path d=\"M381.354508 364.586941c0 54.015977 29.013321 103.935957 75.946635 130.986613a152.53327 152.53327 0 0 0 151.935936 0 151.12527 151.12527 0 0 0 75.946636-130.986613A151.594604 151.594604 0 0 0 533.333111 213.333671a151.594604 151.594604 0 0 0-151.89327 151.25327zM660.479725 498.901552a185.258589 185.258589 0 0 1-127.146614 50.346646c-49.066646 0-93.866628-19.199992-127.06128-50.346646C317.141201 544.853533 255.999893 637.440161 255.999893 744.106783c0 13.183995 10.709329 23.850657 23.978657 23.850657h506.709122a23.893323 23.893323 0 0 0 23.978657-23.893323c0-106.538622-61.098641-199.25325-150.186604-245.205232z\" fill=\"#FFFFFF\"></path></svg>`\r\n      },\r\n      {\r\n        name: '23',\r\n        icon: `<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z\" fill=\"#6D768D\"></path><path d=\"M445.610667 401.578667a129.322667 129.322667 0 1 0 258.645333 0 129.322667 129.322667 0 0 0-258.645333 0z m237.568 114.901333a157.354667 157.354667 0 0 1-216.362667 0 236.373333 236.373333 0 0 0-127.957333 209.706667c0 11.264 9.130667 20.394667 20.394666 20.394666h431.402667a20.394667 20.394667 0 0 0 20.394667-20.394666 236.373333 236.373333 0 0 0-127.872-209.706667zM409.813333 401.578667c0-40.362667 14.592-77.397333 38.698667-106.112a112.725333 112.725333 0 0 0-29.013333-3.925334 112.64 112.64 0 0 0-112.426667 112.469334 112.64 112.64 0 0 0 144.853333 107.648 164.693333 164.693333 0 0 1-42.112-110.08z m-18.602666 136.704a136.533333 136.533333 0 0 1-65.706667-34.474667 205.44 205.44 0 0 0-111.232 182.4c0 9.813333 7.936 17.706667 17.706667 17.706667H303.36a273.621333 273.621333 0 0 1 87.893333-165.632z\" fill=\"#FFFFFF\"></path></svg>`\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\n//  获取nodeIconList icon内容\r\nconst getNodeIconListIcon = (name, extendIconList = []) => {\r\n  let arr = name.split('_')\r\n  const iconList = mergerIconList([...nodeIconList, ...extendIconList])\r\n  let typeData = iconList.find(item => {\r\n    return item.type === arr[0]\r\n  })\r\n  if (typeData) {\r\n    let typeName = typeData.list.find(item => {\r\n      return item.name === arr[1]\r\n    })\r\n    if (typeName) {\r\n      return typeName.icon\r\n    }\r\n    return ''\r\n  } else {\r\n    return ''\r\n  }\r\n}\r\n\r\nexport default {\r\n  hyperlink,\r\n  note,\r\n  attachment,\r\n  nodeIconList,\r\n  getNodeIconListIcon\r\n}\r\n", "import {\r\n  measureText,\r\n  resizeImgSize,\r\n  removeHtmlStyle,\r\n  addHtmlStyle,\r\n  checkIsRichText,\r\n  isUndef,\r\n  createForeignObjectNode,\r\n  addXmlns,\r\n  generateColorByContent\r\n} from '../../../utils'\r\nimport { Image as SVGImage, SVG, A, G, Rect, Text } from '@svgdotjs/svg.js'\r\nimport iconsSvg from '../../../svg/icons'\r\nimport { CONSTANTS } from '../../../constants/constant'\r\n\r\n// 标签默认的样式\r\nconst defaultTagStyle = {\r\n  radius: 3, // 标签矩形的圆角大小\r\n  fontSize: 12, // 字号，建议文字高度不要大于height\r\n  fill: '', // 标签矩形的背景颜色\r\n  height: 20, // 标签矩形的高度\r\n  paddingX: 8 // 水平内边距，如果设置了width，将忽略该配置\r\n  //width: 30 // 标签矩形的宽度，如果不设置，默认以文字的宽度+paddingX*2为宽度\r\n}\r\n\r\n//  创建图片节点\r\nfunction createImgNode() {\r\n  const img = this.getData('image')\r\n  if (!img) {\r\n    return\r\n  }\r\n  const imgSize = this.getImgShowSize()\r\n  const node = new SVGImage().load(img).size(...imgSize)\r\n  // 如果指定了加载失败显示的图片，那么加载一下图片检测是否失败\r\n  const { defaultNodeImage } = this.mindMap.opt\r\n  if (defaultNodeImage) {\r\n    const imgEl = new Image()\r\n    imgEl.onerror = () => {\r\n      node.load(defaultNodeImage)\r\n    }\r\n    imgEl.src = img\r\n  }\r\n  if (this.getData('imageTitle')) {\r\n    node.attr('title', this.getData('imageTitle'))\r\n  }\r\n  node.on('dblclick', e => {\r\n    this.mindMap.emit('node_img_dblclick', this, e)\r\n  })\r\n  node.on('mouseenter', e => {\r\n    this.mindMap.emit('node_img_mouseenter', this, node, e)\r\n  })\r\n  node.on('mouseleave', e => {\r\n    this.mindMap.emit('node_img_mouseleave', this, node, e)\r\n  })\r\n  node.on('mousemove', e => {\r\n    this.mindMap.emit('node_img_mousemove', this, node, e)\r\n  })\r\n  return {\r\n    node,\r\n    width: imgSize[0],\r\n    height: imgSize[1]\r\n  }\r\n}\r\n\r\n//  获取图片显示宽高\r\nfunction getImgShowSize() {\r\n  const { custom, width, height } = this.getData('imageSize')\r\n  // 如果是自定义了图片的宽高，那么不受最大宽高限制\r\n  if (custom) return [width, height]\r\n  return resizeImgSize(\r\n    width,\r\n    height,\r\n    this.mindMap.themeConfig.imgMaxWidth,\r\n    this.mindMap.themeConfig.imgMaxHeight\r\n  )\r\n}\r\n\r\n//  创建icon节点\r\nfunction createIconNode() {\r\n  let _data = this.getData()\r\n  if (!_data.icon || _data.icon.length <= 0) {\r\n    return []\r\n  }\r\n  let iconSize = this.mindMap.themeConfig.iconSize\r\n  return _data.icon.map(item => {\r\n    let src = iconsSvg.getNodeIconListIcon(\r\n      item,\r\n      this.mindMap.opt.iconList || []\r\n    )\r\n    let node = null\r\n    // svg图标\r\n    if (/^<svg/.test(src)) {\r\n      node = SVG(src)\r\n    } else {\r\n      // 图片图标\r\n      node = new SVGImage().load(src)\r\n    }\r\n    node.size(iconSize, iconSize)\r\n    node.on('click', e => {\r\n      this.mindMap.emit('node_icon_click', this, item, e, node)\r\n    })\r\n    node.on('mouseenter', e => {\r\n      this.mindMap.emit('node_icon_mouseenter', this, item, e, node)\r\n    })\r\n    node.on('mouseleave', e => {\r\n      this.mindMap.emit('node_icon_mouseleave', this, item, e, node)\r\n    })\r\n    return {\r\n      node,\r\n      width: iconSize,\r\n      height: iconSize\r\n    }\r\n  })\r\n}\r\n\r\n// 创建富文本节点\r\nfunction createRichTextNode() {\r\n  const { textAutoWrapWidth } = this.mindMap.opt\r\n  let g = new G()\r\n  // 重新设置富文本节点内容\r\n  let recoverText = false\r\n  if (this.getData('resetRichText')) {\r\n    delete this.nodeData.data.resetRichText\r\n    recoverText = true\r\n  }\r\n  if ([CONSTANTS.CHANGE_THEME].includes(this.mindMap.renderer.renderSource)) {\r\n    // 如果自定义过样式则不允许覆盖\r\n    if (!this.hasCustomStyle()) {\r\n      recoverText = true\r\n    }\r\n  }\r\n  let text = this.getData('text')\r\n  if (recoverText && !isUndef(text)) {\r\n    // 判断节点内容是否是富文本\r\n    let isRichText = checkIsRichText(text)\r\n    // 样式字符串\r\n    let style = this.style.createStyleText()\r\n    if (isRichText) {\r\n      // 如果是富文本那么线移除内联样式\r\n      text = removeHtmlStyle(text)\r\n      // 再添加新的内联样式\r\n      let _text = text\r\n      text = addHtmlStyle(text, 'span', style)\r\n      // 给span添加样式没有成功，则尝试给strong标签添加样式\r\n      if (text === _text) {\r\n        text = addHtmlStyle(text, 'strong', style)\r\n      }\r\n    } else {\r\n      // 非富文本\r\n      text = `<p><span style=\"${style}\">${text}</span></p>`\r\n    }\r\n    this.setData({\r\n      text: text\r\n    })\r\n  }\r\n  let html = `<div>${this.getData('text')}</div>`\r\n  if (!this.mindMap.commonCaches.measureRichtextNodeTextSizeEl) {\r\n    this.mindMap.commonCaches.measureRichtextNodeTextSizeEl =\r\n      document.createElement('div')\r\n    this.mindMap.commonCaches.measureRichtextNodeTextSizeEl.style.position =\r\n      'fixed'\r\n    this.mindMap.commonCaches.measureRichtextNodeTextSizeEl.style.left =\r\n      '-999999px'\r\n    this.mindMap.el.appendChild(\r\n      this.mindMap.commonCaches.measureRichtextNodeTextSizeEl\r\n    )\r\n  }\r\n  let div = this.mindMap.commonCaches.measureRichtextNodeTextSizeEl\r\n  div.innerHTML = html\r\n  let el = div.children[0]\r\n  el.classList.add('smm-richtext-node-wrap')\r\n  addXmlns(el)\r\n  el.style.maxWidth = textAutoWrapWidth + 'px'\r\n  let { width, height } = el.getBoundingClientRect()\r\n  // 如果文本为空，那么需要计算一个默认高度\r\n  if (height <= 0) {\r\n    div.innerHTML = '<p>abc123我和你</p>'\r\n    let elTmp = div.children[0]\r\n    elTmp.classList.add('smm-richtext-node-wrap')\r\n    height = elTmp.getBoundingClientRect().height\r\n    div.innerHTML = html\r\n  }\r\n  width = Math.min(Math.ceil(width) + 1, textAutoWrapWidth) // 修复getBoundingClientRect方法对实际宽度是小数的元素获取到的值是整数，导致宽度不够文本发生换行的问题\r\n  height = Math.ceil(height)\r\n  g.attr('data-width', width)\r\n  g.attr('data-height', height)\r\n  const foreignObject = createForeignObjectNode({\r\n    el: div.children[0],\r\n    width,\r\n    height\r\n  })\r\n  g.add(foreignObject)\r\n  return {\r\n    node: g,\r\n    nodeContent: foreignObject,\r\n    width,\r\n    height\r\n  }\r\n}\r\n\r\n//  创建文本节点\r\nfunction createTextNode() {\r\n  if (this.getData('richText')) {\r\n    return this.createRichTextNode()\r\n  }\r\n  if (this.getData('resetRichText')) {\r\n    delete this.nodeData.data.resetRichText\r\n  }\r\n  let g = new G()\r\n  let fontSize = this.getStyle('fontSize', false)\r\n  let lineHeight = this.getStyle('lineHeight', false)\r\n  // 文本超长自动换行\r\n  let textStyle = this.style.getTextFontStyle()\r\n  let textArr = []\r\n  if (!isUndef(this.getData('text'))) {\r\n    textArr = String(this.getData('text')).split(/\\n/gim)\r\n  }\r\n  let maxWidth = this.mindMap.opt.textAutoWrapWidth\r\n  let isMultiLine = false\r\n  textArr.forEach((item, index) => {\r\n    let arr = item.split('')\r\n    let lines = []\r\n    let line = []\r\n    while (arr.length) {\r\n      let str = arr.shift()\r\n      let text = [...line, str].join('')\r\n      if (measureText(text, textStyle).width <= maxWidth) {\r\n        line.push(str)\r\n      } else {\r\n        lines.push(line.join(''))\r\n        line = [str]\r\n      }\r\n    }\r\n    if (line.length > 0) {\r\n      lines.push(line.join(''))\r\n    }\r\n    if (lines.length > 1) {\r\n      isMultiLine = true\r\n    }\r\n    textArr[index] = lines.join('\\n')\r\n  })\r\n  textArr = textArr.join('\\n').split(/\\n/gim)\r\n  textArr.forEach((item, index) => {\r\n    let node = new Text().text(item)\r\n    this.style.text(node)\r\n    node.y(fontSize * lineHeight * index)\r\n    g.add(node)\r\n  })\r\n  let { width, height } = g.bbox()\r\n  width = Math.min(Math.ceil(width), maxWidth)\r\n  height = Math.ceil(height)\r\n  g.attr('data-width', width)\r\n  g.attr('data-height', height)\r\n  g.attr('data-ismultiLine', isMultiLine || textArr.length > 1)\r\n  return {\r\n    node: g,\r\n    width,\r\n    height\r\n  }\r\n}\r\n\r\n//  创建超链接节点\r\nfunction createHyperlinkNode() {\r\n  let { hyperlink, hyperlinkTitle } = this.getData()\r\n  if (!hyperlink) {\r\n    return\r\n  }\r\n  const { customHyperlinkJump } = this.mindMap.opt\r\n  let iconSize = this.mindMap.themeConfig.iconSize\r\n  let node = new SVG().size(iconSize, iconSize)\r\n  // 超链接节点\r\n  let a = new A().to(hyperlink).target('_blank')\r\n  a.node.addEventListener('click', e => {\r\n    if (typeof customHyperlinkJump === 'function') {\r\n      e.preventDefault()\r\n      customHyperlinkJump(hyperlink, this)\r\n    }\r\n  })\r\n  if (hyperlinkTitle) {\r\n    node.add(SVG(`<title>${hyperlinkTitle}</title>`))\r\n  }\r\n  // 添加一个透明的层，作为鼠标区域\r\n  a.rect(iconSize, iconSize).fill({ color: 'transparent' })\r\n  // 超链接图标\r\n  let iconNode = SVG(iconsSvg.hyperlink).size(iconSize, iconSize)\r\n  this.style.iconNode(iconNode)\r\n  a.add(iconNode)\r\n  node.add(a)\r\n  return {\r\n    node,\r\n    width: iconSize,\r\n    height: iconSize\r\n  }\r\n}\r\n\r\n//  创建标签节点\r\nfunction createTagNode() {\r\n  const tagData = this.getData('tag')\r\n  if (!tagData || tagData.length <= 0) {\r\n    return []\r\n  }\r\n  let { maxTag, tagsColorMap } = this.mindMap.opt\r\n  tagsColorMap = tagsColorMap || {}\r\n  const nodes = []\r\n  tagData.slice(0, maxTag).forEach((item, index) => {\r\n    let str = ''\r\n    let style = {\r\n      ...defaultTagStyle\r\n    }\r\n    // 旧版只支持字符串类型\r\n    if (typeof item === 'string') {\r\n      str = item\r\n    } else {\r\n      // v0.10.3+版本支持对象类型\r\n      str = item.text\r\n      style = { ...defaultTagStyle, ...item.style }\r\n    }\r\n    // 是否手动设置了标签宽度\r\n    const hasCustomWidth = typeof style.width !== 'undefined'\r\n    // 创建容器节点\r\n    const tag = new G()\r\n    tag.on('click', () => {\r\n      this.mindMap.emit('node_tag_click', this, item, index, tag)\r\n    })\r\n    // 标签文本\r\n    const text = new Text().text(str)\r\n    this.style.tagText(text, style)\r\n    // 获取文本宽高\r\n    const { width: textWidth, height: textHeight } = text.bbox()\r\n    // 矩形宽度\r\n    const rectWidth = hasCustomWidth\r\n      ? style.width\r\n      : textWidth + style.paddingX * 2\r\n    // 取文本和矩形最大宽高作为标签宽高\r\n    const maxWidth = hasCustomWidth ? Math.max(rectWidth, textWidth) : rectWidth\r\n    const maxHeight = Math.max(style.height, textHeight)\r\n    // 文本居中\r\n    if (hasCustomWidth) {\r\n      text.x((maxWidth - textWidth) / 2)\r\n    } else {\r\n      text.x(hasCustomWidth ? 0 : style.paddingX)\r\n    }\r\n    text.cy(-maxHeight / 2)\r\n    // 标签矩形\r\n    const rect = new Rect().size(rectWidth, style.height).cy(-maxHeight / 2)\r\n    if (hasCustomWidth) {\r\n      rect.x((maxWidth - rectWidth) / 2)\r\n    }\r\n    this.style.tagRect(rect, {\r\n      ...style,\r\n      fill:\r\n        style.fill || // 优先节点自身配置\r\n        tagsColorMap[text.node.textContent] || // 否则尝试从实例化选项tagsColorMap映射中获取颜色\r\n        generateColorByContent(text.node.textContent) // 否则按照标签内容生成\r\n    })\r\n    tag.add(rect).add(text)\r\n    nodes.push({\r\n      node: tag,\r\n      width: maxWidth,\r\n      height: maxHeight\r\n    })\r\n  })\r\n  return nodes\r\n}\r\n\r\n//  创建备注节点\r\nfunction createNoteNode() {\r\n  if (!this.getData('note')) {\r\n    return null\r\n  }\r\n  let iconSize = this.mindMap.themeConfig.iconSize\r\n  let node = new SVG()\r\n    .attr('cursor', 'pointer')\r\n    .addClass('smm-node-note')\r\n    .size(iconSize, iconSize)\r\n  // 透明的层，用来作为鼠标区域\r\n  node.add(new Rect().size(iconSize, iconSize).fill({ color: 'transparent' }))\r\n  // 备注图标\r\n  let iconNode = SVG(iconsSvg.note).size(iconSize, iconSize)\r\n  this.style.iconNode(iconNode)\r\n  node.add(iconNode)\r\n  // 备注tooltip\r\n  if (!this.mindMap.opt.customNoteContentShow) {\r\n    if (!this.noteEl) {\r\n      this.noteEl = document.createElement('div')\r\n      this.noteEl.style.cssText = `\r\n          position: fixed;\r\n          padding: 10px;\r\n          border-radius: 5px;\r\n          box-shadow: 0 2px 5px rgb(0 0 0 / 10%);\r\n          display: none;\r\n          background-color: #fff;\r\n          z-index: ${this.mindMap.opt.nodeNoteTooltipZIndex}\r\n      `\r\n      const targetNode =\r\n        this.mindMap.opt.customInnerElsAppendTo || document.body\r\n      targetNode.appendChild(this.noteEl)\r\n    }\r\n    this.noteEl.innerText = this.getData('note')\r\n  }\r\n  node.on('mouseover', () => {\r\n    const { left, top } = this.getNoteContentPosition()\r\n    if (!this.mindMap.opt.customNoteContentShow) {\r\n      this.noteEl.style.left = left + 'px'\r\n      this.noteEl.style.top = top + 'px'\r\n      this.noteEl.style.display = 'block'\r\n    } else {\r\n      this.mindMap.opt.customNoteContentShow.show(\r\n        this.getData('note'),\r\n        left,\r\n        top,\r\n        this\r\n      )\r\n    }\r\n  })\r\n  node.on('mouseout', () => {\r\n    if (!this.mindMap.opt.customNoteContentShow) {\r\n      this.noteEl.style.display = 'none'\r\n    } else {\r\n      this.mindMap.opt.customNoteContentShow.hide()\r\n    }\r\n  })\r\n  node.on('click', e => {\r\n    this.mindMap.emit('node_note_click', this, e, node)\r\n  })\r\n  return {\r\n    node,\r\n    width: iconSize,\r\n    height: iconSize\r\n  }\r\n}\r\n\r\n//  创建附件节点\r\nfunction createAttachmentNode() {\r\n  const { attachmentUrl, attachmentName } = this.getData()\r\n  if (!attachmentUrl) {\r\n    return\r\n  }\r\n  const iconSize = this.mindMap.themeConfig.iconSize\r\n  const node = new SVG().attr('cursor', 'pointer').size(iconSize, iconSize)\r\n  if (attachmentName) {\r\n    node.add(SVG(`<title>${attachmentName}</title>`))\r\n  }\r\n  // 透明的层，用来作为鼠标区域\r\n  node.add(new Rect().size(iconSize, iconSize).fill({ color: 'transparent' }))\r\n  // 备注图标\r\n  const iconNode = SVG(iconsSvg.attachment).size(iconSize, iconSize)\r\n  this.style.iconNode(iconNode)\r\n  node.add(iconNode)\r\n  node.on('click', e => {\r\n    this.mindMap.emit('node_attachmentClick', this, e, node)\r\n  })\r\n  node.on('contextmenu', e => {\r\n    this.mindMap.emit('node_attachmentContextmenu', this, e, node)\r\n  })\r\n  return {\r\n    node,\r\n    width: iconSize,\r\n    height: iconSize\r\n  }\r\n}\r\n\r\n// 获取节点备注显示位置\r\nfunction getNoteContentPosition() {\r\n  const iconSize = this.mindMap.themeConfig.iconSize\r\n  const { scaleY } = this.mindMap.view.getTransformData().transform\r\n  const iconSizeAddScale = iconSize * scaleY\r\n  let { left, top } = this._noteData.node.node.getBoundingClientRect()\r\n  top += iconSizeAddScale\r\n  return {\r\n    left,\r\n    top\r\n  }\r\n}\r\n\r\n// 测量自定义节点内容元素的宽高\r\nfunction measureCustomNodeContentSize(content) {\r\n  if (!this.mindMap.commonCaches.measureCustomNodeContentSizeEl) {\r\n    this.mindMap.commonCaches.measureCustomNodeContentSizeEl =\r\n      document.createElement('div')\r\n    this.mindMap.commonCaches.measureCustomNodeContentSizeEl.style.cssText = `\r\n      position: fixed;\r\n      left: -99999px;\r\n      top: -99999px;\r\n    `\r\n    this.mindMap.el.appendChild(\r\n      this.mindMap.commonCaches.measureCustomNodeContentSizeEl\r\n    )\r\n  }\r\n  this.mindMap.commonCaches.measureCustomNodeContentSizeEl.innerHTML = ''\r\n  this.mindMap.commonCaches.measureCustomNodeContentSizeEl.appendChild(content)\r\n  let rect =\r\n    this.mindMap.commonCaches.measureCustomNodeContentSizeEl.getBoundingClientRect()\r\n  return {\r\n    width: rect.width,\r\n    height: rect.height\r\n  }\r\n}\r\n\r\n// 是否使用的是自定义节点内容\r\nfunction isUseCustomNodeContent() {\r\n  return !!this._customNodeContent\r\n}\r\n\r\nexport default {\r\n  createImgNode,\r\n  getImgShowSize,\r\n  createIconNode,\r\n  createRichTextNode,\r\n  createTextNode,\r\n  createHyperlinkNode,\r\n  createTagNode,\r\n  createNoteNode,\r\n  createAttachmentNode,\r\n  getNoteContentPosition,\r\n  measureCustomNodeContentSize,\r\n  isUseCustomNodeContent\r\n}\r\n", "import { Rect } from '@svgdotjs/svg.js'\r\n\r\n// 渲染展开收起按钮的隐藏占位元素\r\nfunction renderExpandBtnPlaceholderRect() {\r\n  // 根节点或没有子节点不需要渲染\r\n  if (\r\n    !this.nodeData.children ||\r\n    this.nodeData.children.length <= 0 ||\r\n    this.isRoot\r\n  ) {\r\n    return\r\n  }\r\n  // 默认显示展开按钮的情况下或不显示展开收起按钮的情况下不需要渲染\r\n  const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n  if (!alwaysShowExpandBtn && !notShowExpandBtn) {\r\n    let { width, height } = this\r\n    if (!this._unVisibleRectRegionNode) {\r\n      this._unVisibleRectRegionNode = new Rect()\r\n      this._unVisibleRectRegionNode.fill({\r\n        color: 'transparent'\r\n      })\r\n    }\r\n    this.group.add(this._unVisibleRectRegionNode)\r\n    this.renderer.layout.renderExpandBtnRect(\r\n      this._unVisibleRectRegionNode,\r\n      this.expandBtnSize,\r\n      width,\r\n      height,\r\n      this\r\n    )\r\n  }\r\n}\r\n\r\n// 删除展开收起按钮的隐藏占位元素\r\nfunction clearExpandBtnPlaceholderRect() {\r\n  if (!this._unVisibleRectRegionNode) {\r\n    return\r\n  }\r\n  this._unVisibleRectRegionNode.remove()\r\n  this._unVisibleRectRegionNode = null\r\n}\r\n\r\n// 更新展开收起按钮的隐藏占位元素\r\nfunction updateExpandBtnPlaceholderRect() {\r\n  // 布局改变需要重新渲染\r\n  if (this.needRerenderExpandBtnPlaceholderRect) {\r\n    this.needRerenderExpandBtnPlaceholderRect = false\r\n    this.renderExpandBtnPlaceholderRect()\r\n  }\r\n  // 没有子节点到有子节点需要渲染\r\n  if (this.nodeData.children && this.nodeData.children.length > 0) {\r\n    if (!this._unVisibleRectRegionNode) {\r\n      this.renderExpandBtnPlaceholderRect()\r\n    }\r\n  } else {\r\n    // 有子节点到没子节点，需要删除\r\n    if (this._unVisibleRectRegionNode) {\r\n      this.clearExpandBtnPlaceholderRect()\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  renderExpandBtnPlaceholderRect,\r\n  clearExpandBtnPlaceholderRect,\r\n  updateExpandBtnPlaceholderRect\r\n}\r\n", "import { Circle, G, Text, Image } from '@svgdotjs/svg.js'\r\nimport { generateColorByContent } from '../../../utils/index'\r\n\r\n// 协同相关功能\r\n\r\n// 创建容器\r\nfunction createUserListNode() {\r\n  // 如果没有注册协作插件，那么需要创建\r\n  if (!this.mindMap.cooperate) return\r\n  this._userListGroup = new G()\r\n  this.group.add(this._userListGroup)\r\n}\r\n\r\n// 创建文本头像\r\nfunction createTextAvatar(item) {\r\n  const { avatarSize, fontSize } = this.mindMap.opt.cooperateStyle\r\n  const g = new G()\r\n  const str = item.isMore ? item.name : String(item.name)[0]\r\n  // 圆\r\n  const circle = new Circle().size(avatarSize, avatarSize)\r\n  circle.fill({\r\n    color: item.color || generateColorByContent(str)\r\n  })\r\n  // 文本\r\n  const text = new Text()\r\n    .text(str)\r\n    .fill({\r\n      color: '#fff'\r\n    })\r\n    .css({\r\n      'font-size': fontSize\r\n    })\r\n    .dx(-fontSize / 2)\r\n    .dy((avatarSize - fontSize) / 2)\r\n  g.add(circle).add(text)\r\n  return g\r\n}\r\n\r\n// 创建图片头像\r\nfunction createImageAvatar(item) {\r\n  const { avatarSize } = this.mindMap.opt.cooperateStyle\r\n  return new Image().load(item.avatar).size(avatarSize, avatarSize)\r\n}\r\n\r\n// 更新渲染\r\nfunction updateUserListNode() {\r\n  if (!this._userListGroup) return\r\n  const { avatarSize } = this.mindMap.opt.cooperateStyle\r\n  this._userListGroup.clear()\r\n  // 根据当前节点长度计算最多能显示几个\r\n  const length = this.userList.length\r\n  const maxShowCount = Math.floor(this.width / avatarSize)\r\n  const list = []\r\n  if (length > maxShowCount) {\r\n    // 如果当前用户数量比最多能显示的多，最后需要显示一个提示信息\r\n    list.push(...this.userList.slice(0, maxShowCount - 1), {\r\n      isMore: true,\r\n      name: '+' + (length - maxShowCount + 1)\r\n    })\r\n  } else {\r\n    list.push(...this.userList)\r\n  }\r\n  list.forEach((item, index) => {\r\n    let node = null\r\n    if (item.avatar) {\r\n      node = this.createImageAvatar(item)\r\n    } else {\r\n      node = this.createTextAvatar(item)\r\n    }\r\n    node.on('click', (e) => {\r\n      this.mindMap.emit('node_cooperate_avatar_click', item, this, node, e)\r\n    })\r\n    node.on('mouseenter', (e) => {\r\n      this.mindMap.emit('node_cooperate_avatar_mouseenter', item, this, node, e)\r\n    })\r\n    node.on('mouseleave', (e) => {\r\n      this.mindMap.emit('node_cooperate_avatar_mouseleave', item, this, node, e)\r\n    })\r\n    node.x(index * avatarSize).cy(-avatarSize / 2)\r\n    this._userListGroup.add(node)\r\n  })\r\n}\r\n\r\n// 添加用户\r\nfunction addUser(userInfo) {\r\n  if (\r\n    this.userList.find(item => {\r\n      return item.id == userInfo.id\r\n    })\r\n  )\r\n    return\r\n  this.userList.push(userInfo)\r\n  this.updateUserListNode()\r\n}\r\n\r\n// 移除用户\r\nfunction removeUser(userInfo) {\r\n  const index = this.userList.findIndex(item => {\r\n    return item.id == userInfo.id\r\n  })\r\n  if (index === -1) return\r\n  this.userList.splice(index, 1)\r\n  this.updateUserListNode()\r\n}\r\n\r\n// 清空用户\r\nfunction emptyUser() {\r\n  this.userList = []\r\n  this.updateUserListNode()\r\n}\r\n\r\nexport default {\r\n  createUserListNode,\r\n  updateUserListNode,\r\n  createTextAvatar,\r\n  createImageAvatar,\r\n  addUser,\r\n  removeUser,\r\n  emptyUser\r\n}\r\n", "import Style from './Style'\r\nimport Shape from './Shape'\r\nimport { G, Rect, Text } from '@svgdotjs/svg.js'\r\nimport nodeGeneralizationMethods from './nodeGeneralization'\r\nimport nodeExpandBtnMethods from './nodeExpandBtn'\r\nimport nodeCommandWrapsMethods from './nodeCommandWraps'\r\nimport nodeCreateContentsMethods from './nodeCreateContents'\r\nimport nodeExpandBtnPlaceholderRectMethods from './nodeExpandBtnPlaceholderRect'\r\nimport nodeCooperateMethods from './nodeCooperate'\r\nimport { CONSTANTS } from '../../../constants/constant'\r\nimport {\r\n  copyNodeTree,\r\n  createForeignObjectNode,\r\n  createUid,\r\n  addXmlns\r\n} from '../../../utils/index'\r\n\r\n//  节点类\r\nclass Node {\r\n  //  构造函数\r\n  constructor(opt = {}) {\r\n    this.opt = opt\r\n    // 节点数据\r\n    this.nodeData = this.handleData(opt.data || {})\r\n    // uid\r\n    this.uid = opt.uid\r\n    // 控制实例\r\n    this.mindMap = opt.mindMap\r\n    // 渲染实例\r\n    this.renderer = opt.renderer\r\n    // 渲染器\r\n    this.draw = this.mindMap.draw\r\n    this.nodeDraw = this.mindMap.nodeDraw\r\n    this.lineDraw = this.mindMap.lineDraw\r\n    // 样式实例\r\n    this.style = new Style(this)\r\n    // 形状实例\r\n    this.shapeInstance = new Shape(this)\r\n    this.shapePadding = {\r\n      paddingX: 0,\r\n      paddingY: 0\r\n    }\r\n    // 是否是根节点\r\n    this.isRoot = opt.isRoot === undefined ? false : opt.isRoot\r\n    // 是否是概要节点\r\n    this.isGeneralization =\r\n      opt.isGeneralization === undefined ? false : opt.isGeneralization\r\n    this.generalizationBelongNode = null\r\n    // 节点层级\r\n    this.layerIndex = opt.layerIndex === undefined ? 0 : opt.layerIndex\r\n    // 节点宽\r\n    this.width = opt.width || 0\r\n    // 节点高\r\n    this.height = opt.height || 0\r\n    // left\r\n    this._left = opt.left || 0\r\n    // top\r\n    this._top = opt.top || 0\r\n    // 自定义位置\r\n    this.customLeft = opt.data.data.customLeft || undefined\r\n    this.customTop = opt.data.data.customTop || undefined\r\n    // 是否正在拖拽中\r\n    this.isDrag = false\r\n    // 父节点\r\n    this.parent = opt.parent || null\r\n    // 子节点\r\n    this.children = opt.children || []\r\n    // 当前同时操作该节点的用户列表\r\n    this.userList = []\r\n    // 节点内容的容器\r\n    this.group = null\r\n    this.shapeNode = null // 节点形状节点\r\n    this.hoverNode = null // 节点hover和激活的节点\r\n    // 节点内容对象\r\n    this._customNodeContent = null\r\n    this._imgData = null\r\n    this._iconData = null\r\n    this._textData = null\r\n    this._hyperlinkData = null\r\n    this._tagData = null\r\n    this._noteData = null\r\n    this.noteEl = null\r\n    this.noteContentIsShow = false\r\n    this._attachmentData = null\r\n    this._numberData = null\r\n    this._prefixData = null\r\n    this._postfixData = null\r\n    this._expandBtn = null\r\n    this._lastExpandBtnType = null\r\n    this._showExpandBtn = false\r\n    this._openExpandNode = null\r\n    this._closeExpandNode = null\r\n    this._fillExpandNode = null\r\n    this._userListGroup = null\r\n    this._lines = []\r\n    this._generalizationList = []\r\n    this._unVisibleRectRegionNode = null\r\n    this._isMouseenter = false\r\n    // 尺寸信息\r\n    this._rectInfo = {\r\n      imgContentWidth: 0,\r\n      imgContentHeight: 0,\r\n      textContentWidth: 0,\r\n      textContentHeight: 0\r\n    }\r\n    // 概要节点的宽高\r\n    this._generalizationNodeWidth = 0\r\n    this._generalizationNodeHeight = 0\r\n    // 编号字符\r\n    this.number = opt.number || ''\r\n    // 各种文字信息的间距\r\n    this.textContentItemMargin = this.mindMap.opt.textContentMargin\r\n    // 图片和文字节点的间距\r\n    this.blockContentMargin = this.mindMap.opt.imgTextMargin\r\n    // 展开收缩按钮尺寸\r\n    this.expandBtnSize = this.mindMap.opt.expandBtnSize\r\n    // 是否是多选节点\r\n    this.isMultipleChoice = false\r\n    // 是否需要重新layout\r\n    this.needLayout = false\r\n    // 当前是否是隐藏状态\r\n    this.isHide = false\r\n    const proto = Object.getPrototypeOf(this)\r\n    if (!proto.bindEvent) {\r\n      // 概要相关方法\r\n      Object.keys(nodeGeneralizationMethods).forEach(item => {\r\n        proto[item] = nodeGeneralizationMethods[item]\r\n      })\r\n      // 展开收起按钮相关方法\r\n      Object.keys(nodeExpandBtnMethods).forEach(item => {\r\n        proto[item] = nodeExpandBtnMethods[item]\r\n      })\r\n      // 展开收起按钮占位元素相关方法\r\n      Object.keys(nodeExpandBtnPlaceholderRectMethods).forEach(item => {\r\n        proto[item] = nodeExpandBtnPlaceholderRectMethods[item]\r\n      })\r\n      // 命令的相关方法\r\n      Object.keys(nodeCommandWrapsMethods).forEach(item => {\r\n        proto[item] = nodeCommandWrapsMethods[item]\r\n      })\r\n      // 创建节点内容的相关方法\r\n      Object.keys(nodeCreateContentsMethods).forEach(item => {\r\n        proto[item] = nodeCreateContentsMethods[item]\r\n      })\r\n      // 协同相关\r\n      if (this.mindMap.cooperate) {\r\n        Object.keys(nodeCooperateMethods).forEach(item => {\r\n          proto[item] = nodeCooperateMethods[item]\r\n        })\r\n      }\r\n      proto.bindEvent = true\r\n    }\r\n    // 初始化\r\n    this.getSize()\r\n  }\r\n\r\n  // 支持自定义位置\r\n  get left() {\r\n    return this.customLeft || this._left\r\n  }\r\n\r\n  set left(val) {\r\n    this._left = val\r\n  }\r\n\r\n  get top() {\r\n    return this.customTop || this._top\r\n  }\r\n\r\n  set top(val) {\r\n    this._top = val\r\n  }\r\n\r\n  //  复位部分布局时会重新设置的数据\r\n  reset() {\r\n    this.children = []\r\n    this.parent = null\r\n    this.isRoot = false\r\n    this.layerIndex = 0\r\n    this.left = 0\r\n    this.top = 0\r\n  }\r\n\r\n  // 节点被删除时需要复位的数据\r\n  resetWhenDelete() {\r\n    this._isMouseenter = false\r\n  }\r\n\r\n  //  处理数据\r\n  handleData(data) {\r\n    data.data.expand = data.data.expand === false ? false : true\r\n    data.data.isActive = data.data.isActive === true ? true : false\r\n    data.children = data.children || []\r\n    return data\r\n  }\r\n\r\n  //  创建节点的各个内容对象数据\r\n  createNodeData() {\r\n    // 自定义节点内容\r\n    let {\r\n      isUseCustomNodeContent,\r\n      customCreateNodeContent,\r\n      createNodePrefixContent,\r\n      createNodePostfixContent\r\n    } = this.mindMap.opt\r\n    if (isUseCustomNodeContent && customCreateNodeContent) {\r\n      this._customNodeContent = customCreateNodeContent(this)\r\n    }\r\n    // 如果没有返回内容，那么还是使用内置的节点内容\r\n    if (this._customNodeContent) {\r\n      addXmlns(this._customNodeContent)\r\n      return\r\n    }\r\n    this._imgData = this.createImgNode()\r\n    this._iconData = this.createIconNode()\r\n    this._textData = this.createTextNode()\r\n    this._hyperlinkData = this.createHyperlinkNode()\r\n    this._tagData = this.createTagNode()\r\n    this._noteData = this.createNoteNode()\r\n    this._attachmentData = this.createAttachmentNode()\r\n    if (this.mindMap.numbers) {\r\n      this._numberData = this.mindMap.numbers.createNumberContent(this)\r\n    }\r\n    this._prefixData = createNodePrefixContent\r\n      ? createNodePrefixContent(this)\r\n      : null\r\n    if (this._prefixData && this._prefixData.el) {\r\n      addXmlns(this._prefixData.el)\r\n    }\r\n    this._postfixData = createNodePostfixContent\r\n      ? createNodePostfixContent(this)\r\n      : null\r\n    if (this._postfixData && this._postfixData.el) {\r\n      addXmlns(this._postfixData.el)\r\n    }\r\n  }\r\n\r\n  //  计算节点的宽高\r\n  getSize() {\r\n    this.customLeft = this.getData('customLeft') || undefined\r\n    this.customTop = this.getData('customTop') || undefined\r\n    // 这里不要更新概要，不然即使概要没修改，每次也会重新渲染\r\n    // this.updateGeneralization()\r\n    this.createNodeData()\r\n    let { width, height } = this.getNodeRect()\r\n    // 判断节点尺寸是否有变化\r\n    let changed = this.width !== width || this.height !== height\r\n    this.width = width\r\n    this.height = height\r\n    return changed\r\n  }\r\n\r\n  //  计算节点尺寸信息\r\n  getNodeRect() {\r\n    // 自定义节点内容\r\n    if (this.isUseCustomNodeContent()) {\r\n      let rect = this.measureCustomNodeContentSize(this._customNodeContent)\r\n      return {\r\n        width: rect.width,\r\n        height: rect.height\r\n      }\r\n    }\r\n    const { tagPosition } = this.mindMap.opt\r\n    const tagIsBottom = tagPosition === CONSTANTS.TAG_POSITION.BOTTOM\r\n    // 宽高\r\n    let imgContentWidth = 0\r\n    let imgContentHeight = 0\r\n    let textContentWidth = 0\r\n    let textContentHeight = 0\r\n    let tagContentWidth = 0\r\n    let tagContentHeight = 0\r\n    // 存在图片\r\n    if (this._imgData) {\r\n      this._rectInfo.imgContentWidth = imgContentWidth = this._imgData.width\r\n      this._rectInfo.imgContentHeight = imgContentHeight = this._imgData.height\r\n    }\r\n    // 编号内容\r\n    if (this._numberData) {\r\n      textContentWidth += this._numberData.width\r\n      textContentHeight = Math.max(textContentHeight, this._numberData.height)\r\n    }\r\n    // 自定义前置内容\r\n    if (this._prefixData) {\r\n      textContentWidth += this._prefixData.width\r\n      textContentHeight = Math.max(textContentHeight, this._prefixData.height)\r\n    }\r\n    // 图标\r\n    if (this._iconData.length > 0) {\r\n      textContentWidth += this._iconData.reduce((sum, cur) => {\r\n        textContentHeight = Math.max(textContentHeight, cur.height)\r\n        return (sum += cur.width + this.textContentItemMargin)\r\n      }, 0)\r\n    }\r\n    // 文字\r\n    if (this._textData) {\r\n      textContentWidth += this._textData.width\r\n      textContentHeight = Math.max(textContentHeight, this._textData.height)\r\n    }\r\n    // 超链接\r\n    if (this._hyperlinkData) {\r\n      textContentWidth += this._hyperlinkData.width\r\n      textContentHeight = Math.max(\r\n        textContentHeight,\r\n        this._hyperlinkData.height\r\n      )\r\n    }\r\n    // 标签\r\n    if (this._tagData.length > 0) {\r\n      let maxTagHeight = 0\r\n      const totalTagWidth = this._tagData.reduce((sum, cur) => {\r\n        maxTagHeight = Math.max(maxTagHeight, cur.height)\r\n        return (sum += cur.width + this.textContentItemMargin)\r\n      }, 0)\r\n      if (tagIsBottom) {\r\n        // 文字下方\r\n        tagContentWidth = totalTagWidth\r\n        tagContentHeight = maxTagHeight\r\n      } else {\r\n        // 否则在右侧\r\n        textContentWidth += totalTagWidth\r\n        textContentHeight = Math.max(textContentHeight, maxTagHeight)\r\n      }\r\n    }\r\n    // 备注\r\n    if (this._noteData) {\r\n      textContentWidth += this._noteData.width\r\n      textContentHeight = Math.max(textContentHeight, this._noteData.height)\r\n    }\r\n    // 附件\r\n    if (this._attachmentData) {\r\n      textContentWidth += this._attachmentData.width\r\n      textContentHeight = Math.max(\r\n        textContentHeight,\r\n        this._attachmentData.height\r\n      )\r\n    }\r\n    // 自定义后置内容\r\n    if (this._postfixData) {\r\n      textContentWidth += this._postfixData.width\r\n      textContentHeight = Math.max(textContentHeight, this._postfixData.height)\r\n    }\r\n    // 文字内容部分的尺寸\r\n    this._rectInfo.textContentWidth = textContentWidth\r\n    this._rectInfo.textContentHeight = textContentHeight\r\n    // 间距\r\n    let margin =\r\n      imgContentHeight > 0 && textContentHeight > 0\r\n        ? this.blockContentMargin\r\n        : 0\r\n    let { paddingX, paddingY } = this.getPaddingVale()\r\n    // 纯内容宽高\r\n    let _width = Math.max(imgContentWidth, textContentWidth)\r\n    let _height = imgContentHeight + textContentHeight\r\n    // 如果标签在文字下方\r\n    if (tagIsBottom && tagContentHeight > 0 && textContentHeight > 0) {\r\n      // 那么文字和标签之间也需要间距\r\n      margin += this.blockContentMargin\r\n      // 整体高度要考虑标签宽度\r\n      _width = Math.max(_width, tagContentWidth)\r\n      // 整体高度要加上标签的高度\r\n      _height += tagContentHeight\r\n    }\r\n    // 计算节点形状需要的附加内边距\r\n    let { paddingX: shapePaddingX, paddingY: shapePaddingY } =\r\n      this.shapeInstance.getShapePadding(_width, _height, paddingX, paddingY)\r\n    this.shapePadding.paddingX = shapePaddingX\r\n    this.shapePadding.paddingY = shapePaddingY\r\n    // 边框宽度，因为边框是以中线向两端发散，所以边框会超出节点\r\n    const borderWidth = this.getBorderWidth()\r\n    return {\r\n      width: _width + paddingX * 2 + shapePaddingX * 2 + borderWidth,\r\n      height: _height + paddingY * 2 + margin + shapePaddingY * 2 + borderWidth\r\n    }\r\n  }\r\n\r\n  //  定位节点内容\r\n  layout() {\r\n    if (!this.group) return\r\n    // 清除之前的内容\r\n    this.group.clear()\r\n    const { hoverRectPadding, tagPosition } = this.mindMap.opt\r\n    let { width, height, textContentItemMargin } = this\r\n    let { paddingY } = this.getPaddingVale()\r\n    const halfBorderWidth = this.getBorderWidth() / 2\r\n    paddingY += this.shapePadding.paddingY + halfBorderWidth\r\n    // 节点形状\r\n    this.shapeNode = this.shapeInstance.createShape()\r\n    this.shapeNode.addClass('smm-node-shape')\r\n    this.shapeNode.translate(halfBorderWidth, halfBorderWidth)\r\n    this.style.shape(this.shapeNode)\r\n    this.group.add(this.shapeNode)\r\n    // 渲染一个隐藏的矩形区域，用来触发展开收起按钮的显示\r\n    this.renderExpandBtnPlaceholderRect()\r\n    // 创建协同头像节点\r\n    if (this.createUserListNode) this.createUserListNode()\r\n    // 概要节点添加一个带所属节点id的类名\r\n    if (this.isGeneralization && this.generalizationBelongNode) {\r\n      this.group.addClass('generalization_' + this.generalizationBelongNode.uid)\r\n    }\r\n    // 激活hover和激活边框\r\n    const addHoverNode = () => {\r\n      this.hoverNode = new Rect()\r\n        .size(width + hoverRectPadding * 2, height + hoverRectPadding * 2)\r\n        .x(-hoverRectPadding)\r\n        .y(-hoverRectPadding)\r\n      this.hoverNode.addClass('smm-hover-node')\r\n      this.style.hoverNode(this.hoverNode, width, height)\r\n      this.group.add(this.hoverNode)\r\n    }\r\n    // 如果存在自定义节点内容，那么使用自定义节点内容\r\n    if (this.isUseCustomNodeContent()) {\r\n      const foreignObject = createForeignObjectNode({\r\n        el: this._customNodeContent,\r\n        width,\r\n        height\r\n      })\r\n      this.group.add(foreignObject)\r\n      addHoverNode()\r\n      return\r\n    }\r\n    const tagIsBottom = tagPosition === CONSTANTS.TAG_POSITION.BOTTOM\r\n    const { textContentHeight } = this._rectInfo\r\n    // 图片节点\r\n    let imgHeight = 0\r\n    if (this._imgData) {\r\n      imgHeight = this._imgData.height\r\n      this.group.add(this._imgData.node)\r\n      this._imgData.node.cx(width / 2).y(paddingY)\r\n    }\r\n    // 内容节点\r\n    let textContentNested = new G()\r\n    let textContentOffsetX = 0\r\n    // 编号内容\r\n    if (this._numberData) {\r\n      this._numberData.node\r\n        .x(textContentOffsetX)\r\n        .y((textContentHeight - this._numberData.height) / 2)\r\n      textContentNested.add(this._numberData.node)\r\n      textContentOffsetX += this._numberData.width + textContentItemMargin\r\n    }\r\n    // 自定义前置内容\r\n    if (this._prefixData) {\r\n      const foreignObject = createForeignObjectNode({\r\n        el: this._prefixData.el,\r\n        width: this._prefixData.width,\r\n        height: this._prefixData.height\r\n      })\r\n      foreignObject\r\n        .x(textContentOffsetX)\r\n        .y((textContentHeight - this._prefixData.height) / 2)\r\n      textContentNested.add(foreignObject)\r\n      textContentOffsetX += this._prefixData.width + textContentItemMargin\r\n    }\r\n    // icon\r\n    let iconNested = new G()\r\n    if (this._iconData && this._iconData.length > 0) {\r\n      let iconLeft = 0\r\n      this._iconData.forEach(item => {\r\n        item.node\r\n          .x(textContentOffsetX + iconLeft)\r\n          .y((textContentHeight - item.height) / 2)\r\n        iconNested.add(item.node)\r\n        iconLeft += item.width + textContentItemMargin\r\n      })\r\n      textContentNested.add(iconNested)\r\n      textContentOffsetX += iconLeft\r\n    }\r\n    // 文字\r\n    if (this._textData) {\r\n      const oldX = this._textData.node.attr('data-offsetx') || 0\r\n      this._textData.node.attr('data-offsetx', textContentOffsetX)\r\n      // 修复safari浏览器节点存在图标时文字位置不正确的问题\r\n      ;(this._textData.nodeContent || this._textData.node)\r\n        .x(-oldX) // 修复非富文本模式下同时存在图标和换行的文本时，被收起和展开时图标与文字距离会逐渐拉大的问题\r\n        .x(textContentOffsetX)\r\n        .y((textContentHeight - this._textData.height) / 2)\r\n      textContentNested.add(this._textData.node)\r\n      textContentOffsetX += this._textData.width + textContentItemMargin\r\n    }\r\n    // 超链接\r\n    if (this._hyperlinkData) {\r\n      this._hyperlinkData.node\r\n        .x(textContentOffsetX)\r\n        .y((textContentHeight - this._hyperlinkData.height) / 2)\r\n      textContentNested.add(this._hyperlinkData.node)\r\n      textContentOffsetX += this._hyperlinkData.width + textContentItemMargin\r\n    }\r\n    // 标签\r\n    let tagNested = new G()\r\n    if (this._tagData && this._tagData.length > 0) {\r\n      if (tagIsBottom) {\r\n        // 标签显示在文字下方\r\n        let tagLeft = 0\r\n        this._tagData.forEach(item => {\r\n          item.node.x(tagLeft).y(0)\r\n          tagNested.add(item.node)\r\n          tagLeft += item.width + textContentItemMargin\r\n        })\r\n        tagNested.cx(width / 2).y(\r\n          paddingY + // 内边距\r\n            imgHeight + // 图片高度\r\n            textContentHeight + // 文本区域高度\r\n            (imgHeight > 0 && textContentHeight > 0\r\n              ? this.blockContentMargin\r\n              : 0) + // 图片和文本之间的间距\r\n            this.blockContentMargin // 标签和文本之间的间距\r\n        )\r\n        this.group.add(tagNested)\r\n      } else {\r\n        // 标签显示在文字右侧\r\n        let tagLeft = 0\r\n        this._tagData.forEach(item => {\r\n          item.node\r\n            .x(textContentOffsetX + tagLeft)\r\n            .y((textContentHeight - item.height) / 2)\r\n          tagNested.add(item.node)\r\n          tagLeft += item.width + textContentItemMargin\r\n        })\r\n        textContentNested.add(tagNested)\r\n        textContentOffsetX += tagLeft\r\n      }\r\n    }\r\n    // 备注\r\n    if (this._noteData) {\r\n      this._noteData.node\r\n        .x(textContentOffsetX)\r\n        .y((textContentHeight - this._noteData.height) / 2)\r\n      textContentNested.add(this._noteData.node)\r\n      textContentOffsetX += this._noteData.width\r\n    }\r\n    // 附件\r\n    if (this._attachmentData) {\r\n      this._attachmentData.node\r\n        .x(textContentOffsetX)\r\n        .y((textContentHeight - this._attachmentData.height) / 2)\r\n      textContentNested.add(this._attachmentData.node)\r\n      textContentOffsetX += this._attachmentData.width\r\n    }\r\n    // 自定义后置内容\r\n    if (this._postfixData) {\r\n      const foreignObject = createForeignObjectNode({\r\n        el: this._postfixData.el,\r\n        width: this._postfixData.width,\r\n        height: this._postfixData.height\r\n      })\r\n      foreignObject\r\n        .x(textContentOffsetX)\r\n        .y((textContentHeight - this._postfixData.height) / 2)\r\n      textContentNested.add(foreignObject)\r\n      textContentOffsetX += this._postfixData.width\r\n    }\r\n    this.group.add(textContentNested)\r\n    // 文字内容整体\r\n    textContentNested.translate(\r\n      width / 2 - textContentNested.bbox().width / 2,\r\n      paddingY + // 内边距\r\n        imgHeight + // 图片高度\r\n        (imgHeight > 0 && textContentHeight > 0 ? this.blockContentMargin : 0) // 和图片的间距\r\n    )\r\n    addHoverNode()\r\n    this.mindMap.emit('node_layout_end', this)\r\n  }\r\n\r\n  // 给节点绑定事件\r\n  bindGroupEvent() {\r\n    // 单击事件，选中节点\r\n    this.group.on('click', e => {\r\n      this.mindMap.emit('node_click', this, e)\r\n      if (this.isMultipleChoice) {\r\n        e.stopPropagation()\r\n        this.isMultipleChoice = false\r\n        return\r\n      }\r\n      if (\r\n        this.mindMap.opt.onlyOneEnableActiveNodeOnCooperate &&\r\n        this.userList.length > 0\r\n      ) {\r\n        return\r\n      }\r\n      this.active(e)\r\n    })\r\n    this.group.on('mousedown', e => {\r\n      e.preventDefault()\r\n      const {\r\n        readonly,\r\n        enableCtrlKeyNodeSelection,\r\n        useLeftKeySelectionRightKeyDrag\r\n      } = this.mindMap.opt\r\n      // 只读模式不需要阻止冒泡\r\n      if (!readonly) {\r\n        if (this.isRoot) {\r\n          // 根节点，右键拖拽画布模式下不需要阻止冒泡\r\n          if (e.which === 3 && !useLeftKeySelectionRightKeyDrag) {\r\n            e.stopPropagation()\r\n          }\r\n        } else {\r\n          // 非根节点，且按下的是非鼠标中键，需要阻止事件冒泡\r\n          if (e.which !== 2) {\r\n            e.stopPropagation()\r\n          }\r\n        }\r\n      }\r\n      // 多选和取消多选\r\n      if (!readonly && (e.ctrlKey || e.metaKey) && enableCtrlKeyNodeSelection) {\r\n        this.isMultipleChoice = true\r\n        let isActive = this.getData('isActive')\r\n        if (!isActive)\r\n          this.mindMap.emit(\r\n            'before_node_active',\r\n            this,\r\n            this.renderer.activeNodeList\r\n          )\r\n        this.mindMap.renderer[\r\n          isActive ? 'removeNodeFromActiveList' : 'addNodeToActiveList'\r\n        ](this, true)\r\n        this.renderer.emitNodeActiveEvent(isActive ? null : this)\r\n      }\r\n      this.mindMap.emit('node_mousedown', this, e)\r\n    })\r\n    this.group.on('mouseup', e => {\r\n      if (!this.isRoot && e.which !== 2 && !this.mindMap.opt.readonly) {\r\n        e.stopPropagation()\r\n      }\r\n      this.mindMap.emit('node_mouseup', this, e)\r\n    })\r\n    this.group.on('mouseenter', e => {\r\n      if (this.isDrag) return\r\n      this._isMouseenter = true\r\n      // 显示展开收起按钮\r\n      this.showExpandBtn()\r\n      if (this.isGeneralization) {\r\n        this.handleGeneralizationMouseenter()\r\n      }\r\n      this.mindMap.emit('node_mouseenter', this, e)\r\n    })\r\n    this.group.on('mouseleave', e => {\r\n      if (!this._isMouseenter) return\r\n      this._isMouseenter = false\r\n      this.hideExpandBtn()\r\n      if (this.isGeneralization) {\r\n        this.handleGeneralizationMouseleave()\r\n      }\r\n      this.mindMap.emit('node_mouseleave', this, e)\r\n    })\r\n    // 双击事件\r\n    this.group.on('dblclick', e => {\r\n      const { readonly, onlyOneEnableActiveNodeOnCooperate } = this.mindMap.opt\r\n      if (readonly || e.ctrlKey || e.metaKey) {\r\n        return\r\n      }\r\n      e.stopPropagation()\r\n      if (onlyOneEnableActiveNodeOnCooperate && this.userList.length > 0) {\r\n        return\r\n      }\r\n      this.mindMap.emit('node_dblclick', this, e)\r\n    })\r\n    // 右键菜单事件\r\n    this.group.on('contextmenu', e => {\r\n      const { readonly, useLeftKeySelectionRightKeyDrag } = this.mindMap.opt\r\n      // Mac上按住ctrl键点击鼠标左键不知为何触发的是contextmenu事件\r\n      if (readonly || e.ctrlKey) {\r\n        return\r\n      }\r\n      e.stopPropagation()\r\n      e.preventDefault()\r\n      // 如果是多选节点结束，那么不要触发右键菜单事件\r\n      if (\r\n        this.mindMap.select &&\r\n        !useLeftKeySelectionRightKeyDrag &&\r\n        this.mindMap.select.hasSelectRange()\r\n      ) {\r\n        return\r\n      }\r\n      // 如果有且只有当前节点激活了，那么不需要重新激活\r\n      if (\r\n        !(this.getData('isActive') && this.renderer.activeNodeList.length === 1)\r\n      ) {\r\n        this.renderer.clearActiveNodeList()\r\n        this.active(e)\r\n      }\r\n      this.mindMap.emit('node_contextmenu', e, this)\r\n    })\r\n  }\r\n\r\n  //  激活节点\r\n  active(e) {\r\n    if (this.mindMap.opt.readonly) {\r\n      return\r\n    }\r\n    e && e.stopPropagation()\r\n    if (this.getData('isActive')) {\r\n      return\r\n    }\r\n    this.mindMap.emit('before_node_active', this, this.renderer.activeNodeList)\r\n    this.renderer.clearActiveNodeList()\r\n    this.renderer.addNodeToActiveList(this, true)\r\n    this.renderer.emitNodeActiveEvent(this)\r\n  }\r\n\r\n  // 取消激活该节点\r\n  deactivate() {\r\n    this.mindMap.renderer.removeNodeFromActiveList(this)\r\n    this.mindMap.renderer.emitNodeActiveEvent()\r\n  }\r\n\r\n  //  更新节点\r\n  update(forceRender) {\r\n    if (!this.group) {\r\n      return\r\n    }\r\n    this.updateNodeActiveClass()\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    // 不显示展开收起按钮则不需要处理\r\n    if (!notShowExpandBtn) {\r\n      const childrenLength = this.nodeData.children.length\r\n      if (alwaysShowExpandBtn) {\r\n        // 需要移除展开收缩按钮\r\n        if (this._expandBtn && childrenLength <= 0) {\r\n          this.removeExpandBtn()\r\n        } else {\r\n          // 更新展开收起按钮\r\n          this.renderExpandBtn()\r\n        }\r\n      } else {\r\n        let { isActive, expand } = this.getData()\r\n        // 展开状态且非激活状态，且当前鼠标不在它上面，才隐藏\r\n        if (childrenLength <= 0) {\r\n          this.removeExpandBtn()\r\n        } else if (expand && !isActive && !this._isMouseenter) {\r\n          this.hideExpandBtn()\r\n        } else {\r\n          this.showExpandBtn()\r\n        }\r\n      }\r\n    }\r\n    // 更新概要\r\n    this.renderGeneralization(forceRender)\r\n    // 更新协同头像\r\n    if (this.updateUserListNode) this.updateUserListNode()\r\n    // 更新节点位置\r\n    let t = this.group.transform()\r\n    // 如果节点位置没有变化，则返回\r\n    if (this.left === t.translateX && this.top === t.translateY) return\r\n    this.group.translate(this.left - t.translateX, this.top - t.translateY)\r\n  }\r\n\r\n  // 获取节点相当于画布的位置\r\n  getNodePosInClient(_left, _top) {\r\n    let drawTransform = this.mindMap.draw.transform()\r\n    let { scaleX, scaleY, translateX, translateY } = drawTransform\r\n    let left = _left * scaleX + translateX\r\n    let top = _top * scaleY + translateY\r\n    return {\r\n      left,\r\n      top\r\n    }\r\n  }\r\n\r\n  // 判断节点是否可见\r\n  checkIsInClient(padding = 0) {\r\n    const { left: nx, top: ny } = this.getNodePosInClient(this.left, this.top)\r\n    return (\r\n      nx + this.width > 0 - padding &&\r\n      ny + this.height > 0 - padding &&\r\n      nx < this.mindMap.width + padding &&\r\n      ny < this.mindMap.height + padding\r\n    )\r\n  }\r\n\r\n  // 重新渲染节点，即重新创建节点内容、计算节点大小、计算节点内容布局、更新展开收起按钮，概要及位置\r\n  reRender() {\r\n    let sizeChange = this.getSize()\r\n    this.layout()\r\n    this.update()\r\n    return sizeChange\r\n  }\r\n\r\n  // 更新节点激活状态\r\n  updateNodeActiveClass() {\r\n    if (!this.group) return\r\n    const isActive = this.getData('isActive')\r\n    this.group[isActive ? 'addClass' : 'removeClass']('active')\r\n  }\r\n\r\n  // 根据是否激活更新节点\r\n  updateNodeByActive(active) {\r\n    if (this.group) {\r\n      // 切换激活状态，需要切换展开收起按钮的显隐\r\n      if (active) {\r\n        this.showExpandBtn()\r\n      } else {\r\n        this.hideExpandBtn()\r\n      }\r\n      this.updateNodeActiveClass()\r\n    }\r\n  }\r\n\r\n  // 递归渲染\r\n  // forceRender：强制渲染，无论是否处于画布可视区域\r\n  // async：异步渲染\r\n  render(callback = () => {}, forceRender = false, async = false) {\r\n    // 节点\r\n    // 重新渲染连线\r\n    this.renderLine()\r\n    const { openPerformance, performanceConfig } = this.mindMap.opt\r\n    // 强制渲染、或没有开启性能模式、或不在画布可视区域内不渲染节点内容\r\n    // 根节点不进行懒加载，始终渲染，因为滚动条插件依赖根节点进行计算\r\n    if (\r\n      forceRender ||\r\n      !openPerformance ||\r\n      this.checkIsInClient(performanceConfig.padding) ||\r\n      this.isRoot\r\n    ) {\r\n      if (!this.group) {\r\n        // 创建组\r\n        this.group = new G()\r\n        this.group.addClass('smm-node')\r\n        this.group.css({\r\n          cursor: 'default'\r\n        })\r\n        this.bindGroupEvent()\r\n        this.nodeDraw.add(this.group)\r\n        this.layout()\r\n        this.update(forceRender)\r\n      } else {\r\n        if (!this.nodeDraw.has(this.group)) {\r\n          this.nodeDraw.add(this.group)\r\n        }\r\n        if (this.needLayout) {\r\n          this.needLayout = false\r\n          this.layout()\r\n        }\r\n        this.updateExpandBtnPlaceholderRect()\r\n        this.update(forceRender)\r\n      }\r\n    } else if (openPerformance && performanceConfig.removeNodeWhenOutCanvas) {\r\n      this.removeSelf()\r\n    }\r\n    // 子节点\r\n    if (\r\n      this.children &&\r\n      this.children.length &&\r\n      this.getData('expand') !== false\r\n    ) {\r\n      let index = 0\r\n      this.children.forEach(item => {\r\n        const renderChild = () => {\r\n          item.render(\r\n            () => {\r\n              index++\r\n              if (index >= this.children.length) {\r\n                callback()\r\n              }\r\n            },\r\n            forceRender,\r\n            async\r\n          )\r\n        }\r\n        if (async) {\r\n          setTimeout(renderChild, 0)\r\n        } else {\r\n          renderChild()\r\n        }\r\n      })\r\n    } else {\r\n      callback()\r\n    }\r\n    // 手动插入的节点立即获得焦点并且开启编辑模式\r\n    if (this.nodeData.inserting) {\r\n      delete this.nodeData.inserting\r\n      this.active()\r\n      // setTimeout(() => {\r\n      this.mindMap.emit('node_dblclick', this, null, true)\r\n      // }, 0)\r\n    }\r\n  }\r\n\r\n  // 删除自身，只是从画布删除，节点容器还在，后续还可以重新插回画布\r\n  removeSelf() {\r\n    if (!this.group) return\r\n    this.group.remove()\r\n    this.removeGeneralization()\r\n  }\r\n\r\n  //  递归删除，只是从画布删除，节点容器还在，后续还可以重新插回画布\r\n  remove() {\r\n    if (!this.group) return\r\n    this.group.remove()\r\n    this.removeGeneralization()\r\n    this.removeLine()\r\n    // 子节点\r\n    if (this.children && this.children.length) {\r\n      this.children.forEach(item => {\r\n        item.remove()\r\n      })\r\n    }\r\n  }\r\n\r\n  // 销毁节点，不但会从画布删除，而且原节点直接置空，后续无法再插回画布\r\n  destroy() {\r\n    this.removeLine()\r\n    if (this.parent) {\r\n      this.parent.removeLine()\r\n    }\r\n    if (!this.group) return\r\n    if (this.emptyUser) {\r\n      this.emptyUser()\r\n    }\r\n    this.resetWhenDelete()\r\n    this.group.remove()\r\n    this.removeGeneralization()\r\n    this.group = null\r\n    this.style.onRemove()\r\n  }\r\n\r\n  //  隐藏节点\r\n  hide() {\r\n    this.group.hide()\r\n    this.hideGeneralization()\r\n    if (this.parent) {\r\n      let index = this.parent.children.indexOf(this)\r\n      this.parent._lines[index] && this.parent._lines[index].hide()\r\n      this._lines.forEach(item => {\r\n        item.hide()\r\n      })\r\n    }\r\n    // 子节点\r\n    if (this.children && this.children.length) {\r\n      this.children.forEach(item => {\r\n        item.hide()\r\n      })\r\n    }\r\n  }\r\n\r\n  //  显示节点\r\n  show() {\r\n    if (!this.group) {\r\n      return\r\n    }\r\n    this.group.show()\r\n    this.showGeneralization()\r\n    if (this.parent) {\r\n      let index = this.parent.children.indexOf(this)\r\n      this.parent._lines[index] && this.parent._lines[index].show()\r\n      this._lines.forEach(item => {\r\n        item.show()\r\n      })\r\n    }\r\n    // 子节点\r\n    if (this.children && this.children.length) {\r\n      this.children.forEach(item => {\r\n        item.show()\r\n      })\r\n    }\r\n  }\r\n\r\n  // 设置节点透明度\r\n  // 包括连接线和下级节点\r\n  setOpacity(val) {\r\n    // 自身及连线\r\n    this.group.opacity(val)\r\n    this._lines.forEach(line => {\r\n      line.opacity(val)\r\n    })\r\n    // 子节点\r\n    this.children.forEach(item => {\r\n      item.setOpacity(val)\r\n    })\r\n    // 概要节点\r\n    this.setGeneralizationOpacity(val)\r\n  }\r\n\r\n  // 隐藏子节点\r\n  hideChildren() {\r\n    this._lines.forEach(item => {\r\n      item.hide()\r\n    })\r\n    if (this.children && this.children.length) {\r\n      this.children.forEach(item => {\r\n        item.hide()\r\n      })\r\n    }\r\n  }\r\n\r\n  // 显示子节点\r\n  showChildren() {\r\n    this._lines.forEach(item => {\r\n      item.show()\r\n    })\r\n    if (this.children && this.children.length) {\r\n      this.children.forEach(item => {\r\n        item.show()\r\n      })\r\n    }\r\n  }\r\n\r\n  // 被拖拽中\r\n  startDrag() {\r\n    this.isDrag = true\r\n    this.group.addClass('smm-node-dragging')\r\n  }\r\n\r\n  // 拖拽结束\r\n  endDrag() {\r\n    this.isDrag = false\r\n    this.group.removeClass('smm-node-dragging')\r\n  }\r\n\r\n  //  连线\r\n  renderLine(deep = false) {\r\n    if (this.getData('expand') === false) {\r\n      return\r\n    }\r\n    let childrenLen = this.nodeData.children.length\r\n    // 切换为鱼骨结构时，清空根节点和二级节点的连线\r\n    if (\r\n      this.mindMap.opt.layout === CONSTANTS.LAYOUT.FISHBONE &&\r\n      (this.isRoot || this.layerIndex === 1)\r\n    ) {\r\n      childrenLen = 0\r\n    }\r\n    if (childrenLen > this._lines.length) {\r\n      // 创建缺少的线\r\n      new Array(childrenLen - this._lines.length).fill(0).forEach(() => {\r\n        this._lines.push(this.lineDraw.path())\r\n      })\r\n    } else if (childrenLen < this._lines.length) {\r\n      // 删除多余的线\r\n      this._lines.slice(childrenLen).forEach(line => {\r\n        line.remove()\r\n      })\r\n      this._lines = this._lines.slice(0, childrenLen)\r\n    }\r\n    // 画线\r\n    this.renderer.layout.renderLine(\r\n      this,\r\n      this._lines,\r\n      (...args) => {\r\n        // 添加样式\r\n        this.styleLine(...args)\r\n      },\r\n      this.style.getStyle('lineStyle', true)\r\n    )\r\n    // 子级的连线也需要更新\r\n    if (deep && this.children && this.children.length > 0) {\r\n      this.children.forEach(item => {\r\n        item.renderLine(deep)\r\n      })\r\n    }\r\n  }\r\n\r\n  //  获取节点形状\r\n  getShape() {\r\n    // 节点使用功能横线风格的话不支持设置形状，直接使用默认的矩形\r\n    return this.mindMap.themeConfig.nodeUseLineStyle\r\n      ? CONSTANTS.SHAPE.RECTANGLE\r\n      : this.style.getStyle('shape', false, false)\r\n  }\r\n\r\n  //  检查节点是否存在自定义数据\r\n  hasCustomPosition() {\r\n    return this.customLeft !== undefined && this.customTop !== undefined\r\n  }\r\n\r\n  //  检查节点是否存在自定义位置的祖先节点，包含自身\r\n  ancestorHasCustomPosition() {\r\n    let node = this\r\n    while (node) {\r\n      if (node.hasCustomPosition()) {\r\n        return true\r\n      }\r\n      node = node.parent\r\n    }\r\n    return false\r\n  }\r\n\r\n  //  检查是否存在有概要的祖先节点\r\n  ancestorHasGeneralization() {\r\n    let node = this.parent\r\n    while (node) {\r\n      if (node.checkHasGeneralization()) {\r\n        return true\r\n      }\r\n      node = node.parent\r\n    }\r\n    return false\r\n  }\r\n\r\n  //  添加子节点\r\n  addChildren(node) {\r\n    this.children.push(node)\r\n  }\r\n\r\n  //  设置连线样式\r\n  styleLine(line, childNode, enableMarker) {\r\n    const width =\r\n      childNode.getSelfInhertStyle('lineWidth') ||\r\n      childNode.getStyle('lineWidth', true)\r\n    const color =\r\n      childNode.getSelfInhertStyle('lineColor') ||\r\n      this.getRainbowLineColor(childNode) ||\r\n      childNode.getStyle('lineColor', true)\r\n    const dasharray =\r\n      childNode.getSelfInhertStyle('lineDasharray') ||\r\n      childNode.getStyle('lineDasharray', true)\r\n    this.style.line(\r\n      line,\r\n      {\r\n        width,\r\n        color,\r\n        dasharray\r\n      },\r\n      enableMarker,\r\n      childNode\r\n    )\r\n  }\r\n\r\n  // 获取彩虹线条颜色\r\n  getRainbowLineColor(node) {\r\n    return this.mindMap.rainbowLines\r\n      ? this.mindMap.rainbowLines.getNodeColor(node)\r\n      : ''\r\n  }\r\n\r\n  //  移除连线\r\n  removeLine() {\r\n    this._lines.forEach(line => {\r\n      line.remove()\r\n    })\r\n    this._lines = []\r\n  }\r\n\r\n  //  检测当前节点是否是某个节点的祖先节点\r\n  isAncestor(node) {\r\n    if (this.uid === node.uid) {\r\n      return false\r\n    }\r\n    let parent = node.parent\r\n    while (parent) {\r\n      if (this.uid === parent.uid) {\r\n        return true\r\n      }\r\n      parent = parent.parent\r\n    }\r\n    return false\r\n  }\r\n\r\n  // 检查当前节点是否是某个节点的父节点\r\n  isParent(node) {\r\n    if (this.uid === node.uid) {\r\n      return false\r\n    }\r\n    const parent = node.parent\r\n    if (parent && this.uid === parent.uid) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  //  检测当前节点是否是某个节点的兄弟节点\r\n  isBrother(node) {\r\n    if (!this.parent || this.uid === node.uid) {\r\n      return false\r\n    }\r\n    return this.parent.children.find(item => {\r\n      return item.uid === node.uid\r\n    })\r\n  }\r\n\r\n  // 获取该节点在兄弟节点列表中的索引\r\n  getIndexInBrothers() {\r\n    return this.parent && this.parent.children\r\n      ? this.parent.children.findIndex(item => {\r\n          return item.uid === this.uid\r\n        })\r\n      : -1\r\n  }\r\n\r\n  //  获取padding值\r\n  getPaddingVale() {\r\n    let { isActive } = this.getData()\r\n    return {\r\n      paddingX: this.getStyle('paddingX', true, isActive),\r\n      paddingY: this.getStyle('paddingY', true, isActive)\r\n    }\r\n  }\r\n\r\n  //  获取某个样式\r\n  getStyle(prop, root) {\r\n    let v = this.style.merge(prop, root)\r\n    return v === undefined ? '' : v\r\n  }\r\n\r\n  //  获取自定义样式\r\n  getSelfStyle(prop) {\r\n    return this.style.getSelfStyle(prop)\r\n  }\r\n\r\n  //   获取最近一个存在自身自定义样式的祖先节点的自定义样式\r\n  getParentSelfStyle(prop) {\r\n    if (this.parent) {\r\n      return (\r\n        this.parent.getSelfStyle(prop) || this.parent.getParentSelfStyle(prop)\r\n      )\r\n    }\r\n    return null\r\n  }\r\n\r\n  //  获取自身可继承的自定义样式\r\n  getSelfInhertStyle(prop) {\r\n    return (\r\n      this.getSelfStyle(prop) || // 自身\r\n      this.getParentSelfStyle(prop)\r\n    ) // 父级\r\n  }\r\n\r\n  // 获取节点非节点状态的边框大小\r\n  getBorderWidth() {\r\n    return this.style.merge('borderWidth', false) || 0\r\n  }\r\n\r\n  //  获取数据\r\n  getData(key) {\r\n    return key ? this.nodeData.data[key] : this.nodeData.data\r\n  }\r\n\r\n  // 获取该节点的纯数据，即不包含对节点实例的引用\r\n  getPureData(removeActiveState = true, removeId = false) {\r\n    return copyNodeTree({}, this, removeActiveState, removeId)\r\n  }\r\n\r\n  // 获取祖先节点列表\r\n  getAncestorNodes() {\r\n    const list = []\r\n    let parent = this.parent\r\n    while (parent) {\r\n      list.unshift(parent)\r\n      parent = parent.parent\r\n    }\r\n    return list\r\n  }\r\n\r\n  // 是否存在自定义样式\r\n  hasCustomStyle() {\r\n    return this.style.hasCustomStyle()\r\n  }\r\n\r\n  // 获取节点的尺寸和位置信息，宽高是应用了缩放效果后的实际宽高，位置是相对于浏览器窗口左上角的位置\r\n  getRect() {\r\n    return this.group.rbox()\r\n  }\r\n\r\n  // 获取节点的尺寸和位置信息，宽高是应用了缩放效果后的实际宽高，位置信息相对于画布\r\n  getRectInSvg() {\r\n    let { scaleX, scaleY, translateX, translateY } =\r\n      this.mindMap.draw.transform()\r\n    let { left, top, width, height } = this\r\n    let right = (left + width) * scaleX + translateX\r\n    let bottom = (top + height) * scaleY + translateY\r\n    left = left * scaleX + translateX\r\n    top = top * scaleY + translateY\r\n    return {\r\n      left,\r\n      right,\r\n      top,\r\n      bottom,\r\n      width: width * scaleX,\r\n      height: height * scaleY\r\n    }\r\n  }\r\n\r\n  // 高亮节点\r\n  highlight() {\r\n    if (this.group) this.group.addClass('smm-node-highlight')\r\n  }\r\n\r\n  // 取消高亮节点\r\n  closeHighlight() {\r\n    if (this.group) this.group.removeClass('smm-node-highlight')\r\n  }\r\n\r\n  // 伪克隆节点\r\n  // 克隆出的节点并不能真正当做一个节点使用\r\n  fakeClone() {\r\n    const newNode = new Node({\r\n      ...this.opt,\r\n      uid: createUid()\r\n    })\r\n    Object.keys(this).forEach(item => {\r\n      newNode[item] = this[item]\r\n    })\r\n    return newNode\r\n  }\r\n\r\n  // 创建SVG文本节点\r\n  createSvgTextNode(text = '') {\r\n    return new Text().text(text)\r\n  }\r\n}\r\n\r\nexport default Node\r\n", "// LRU缓存类\r\nexport default class Lru {\r\n  constructor(max) {\r\n    this.max = max || 1000\r\n    this.size = 0\r\n    this.pool = new Map()\r\n  }\r\n\r\n  add(key, value) {\r\n    const isExist = this.has(key)\r\n    // 如果该key之前不存在，并且现在数量已经超出最大值，则不再继续添加\r\n    if (!isExist && this.size >= this.max) {\r\n      return false\r\n    }\r\n    // 已经存在则可以更新，因为不影响数量\r\n    // 如果该key是否已经存在，则先删除\r\n    this.delete(key)\r\n    // 添加\r\n    this.pool.set(key, value)\r\n    this.size++\r\n    // 删除最早的没啥意义，详见：https://github.com/wanglin2/mind-map/issues/467\r\n    // if (this.size > this.max) {\r\n    //   let keys = this.pool.keys()\r\n    //   let last = keys.next()\r\n    //   this.delete(last.value)\r\n    // }\r\n    return true\r\n  }\r\n\r\n  delete(key) {\r\n    if (this.pool.has(key)) {\r\n      this.pool.delete(key)\r\n      this.size--\r\n    }\r\n  }\r\n\r\n  has(key) {\r\n    return this.pool.has(key)\r\n  }\r\n\r\n  get(key) {\r\n    if (this.pool.has(key)) {\r\n      return this.pool.get(key)\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this.size = 0\r\n    this.pool = new Map()\r\n  }\r\n}\r\n", "import Node from '../core/render/node/Node'\r\nimport { CONSTANTS, initRootNodePositionMap } from '../constants/constant'\r\nimport Lru from '../utils/Lru'\r\nimport { createUid } from '../utils/index'\r\n\r\n//  布局基类\r\nclass Base {\r\n  //  构造函数\r\n  constructor(renderer) {\r\n    // 渲染实例\r\n    this.renderer = renderer\r\n    // 控制实例\r\n    this.mindMap = renderer.mindMap\r\n    // 绘图对象\r\n    this.draw = this.mindMap.draw\r\n    this.lineDraw = this.mindMap.lineDraw\r\n    // 根节点\r\n    this.root = null\r\n    this.lru = new Lru(this.mindMap.opt.maxNodeCacheCount)\r\n    // 当initRootNodePosition不为默认的值时，根节点的位置距默认的配置时根节点距离的差值\r\n    this.rootNodeCenterOffset = null\r\n  }\r\n\r\n  //  计算节点位置\r\n  doLayout() {\r\n    throw new Error('【computed】方法为必要方法，需要子类进行重写！')\r\n  }\r\n\r\n  //  连线\r\n  renderLine() {\r\n    throw new Error('【renderLine】方法为必要方法，需要子类进行重写！')\r\n  }\r\n\r\n  //  定位展开收缩按钮\r\n  renderExpandBtn() {\r\n    throw new Error('【renderExpandBtn】方法为必要方法，需要子类进行重写！')\r\n  }\r\n\r\n  //  概要节点\r\n  renderGeneralization() {}\r\n\r\n  // 通过uid缓存节点\r\n  cacheNode(uid, node) {\r\n    // 记录本次渲染时的节点\r\n    this.renderer.nodeCache[uid] = node\r\n    // 缓存所有渲染过的节点\r\n    this.lru.add(uid, node)\r\n  }\r\n\r\n  // 检查当前来源是否需要重新计算节点大小\r\n  checkIsNeedResizeSources() {\r\n    return [\r\n      CONSTANTS.CHANGE_THEME,\r\n      CONSTANTS.TRANSFORM_TO_NORMAL_NODE\r\n    ].includes(this.renderer.renderSource)\r\n  }\r\n\r\n  // 层级类型改变\r\n  checkIsLayerTypeChange(oldIndex, newIndex) {\r\n    if (oldIndex >= 2 && newIndex >= 2) return false\r\n    if (oldIndex >= 2 && newIndex < 2) return true\r\n    if (oldIndex < 2 && newIndex >= 2) return true\r\n  }\r\n\r\n  // 检查是否是结构布局改变重新渲染展开收起按钮占位元素\r\n  checkIsLayoutChangeRerenderExpandBtnPlaceholderRect(node) {\r\n    if (this.renderer.renderSource === CONSTANTS.CHANGE_LAYOUT) {\r\n      node.needRerenderExpandBtnPlaceholderRect = true\r\n    }\r\n  }\r\n\r\n  // 获取节点编号信息\r\n  getNumberInfo({ parent, ancestors, layerIndex, index }) {\r\n    // 编号\r\n    const hasNumberPlugin = !!this.mindMap.numbers\r\n    const parentNumberStr =\r\n      hasNumberPlugin && parent && parent._node.number\r\n        ? parent._node.number\r\n        : ''\r\n    const newNumberStr = hasNumberPlugin\r\n      ? this.mindMap.numbers.getNodeNumberStr({\r\n          ancestors,\r\n          layerIndex,\r\n          num: index + 1,\r\n          parentNumberStr\r\n        })\r\n      : ''\r\n    return {\r\n      hasNumberPlugin,\r\n      newNumberStr\r\n    }\r\n  }\r\n\r\n  //  创建节点实例\r\n  createNode(data, parent, isRoot, layerIndex, index, ancestors) {\r\n    // 编号\r\n    const { hasNumberPlugin, newNumberStr } = this.getNumberInfo({\r\n      parent,\r\n      ancestors,\r\n      layerIndex,\r\n      index\r\n    })\r\n    // 创建节点\r\n    const uid = data.data.uid\r\n    let newNode = null\r\n    // 数据上保存了节点引用，那么直接复用节点\r\n    if (data && data._node && !this.renderer.reRender) {\r\n      newNode = data._node\r\n      const isLayerTypeChange = this.checkIsLayerTypeChange(\r\n        newNode.layerIndex,\r\n        layerIndex\r\n      )\r\n      newNode.reset()\r\n      newNode.layerIndex = layerIndex\r\n      if (isRoot) {\r\n        newNode.isRoot = true\r\n      } else {\r\n        newNode.parent = parent._node\r\n      }\r\n      this.cacheNode(data._node.uid, newNode)\r\n      this.checkIsLayoutChangeRerenderExpandBtnPlaceholderRect(newNode)\r\n      // 判断编号是否改变\r\n      let isNumberChange = false\r\n      if (hasNumberPlugin) {\r\n        isNumberChange = this.mindMap.numbers.updateNumber(\r\n          newNode,\r\n          newNumberStr\r\n        )\r\n      }\r\n      // 主题或主题配置改变了、节点层级改变了，需要重新渲染节点文本等情况需要重新计算节点大小和布局\r\n      if (\r\n        this.checkIsNeedResizeSources() ||\r\n        isLayerTypeChange ||\r\n        newNode.getData('resetRichText') ||\r\n        isNumberChange\r\n      ) {\r\n        newNode.getSize()\r\n        newNode.needLayout = true\r\n      }\r\n      this.checkGetGeneralizationChange(newNode)\r\n    } else if (\r\n      (this.lru.has(uid) || this.renderer.lastNodeCache[uid]) &&\r\n      !this.renderer.reRender\r\n    ) {\r\n      // 节点数据上没有节点实例\r\n      // 但是通过uid在节点缓存池中找到了缓存的节点\r\n      // 或者在上一次渲染缓存对象中找到了节点\r\n      // 也可以直接复用\r\n      newNode = this.lru.get(uid) || this.renderer.lastNodeCache[uid]\r\n      // 保存该节点上一次的数据\r\n      const lastData = JSON.stringify(newNode.getData())\r\n      const isLayerTypeChange = this.checkIsLayerTypeChange(\r\n        newNode.layerIndex,\r\n        layerIndex\r\n      )\r\n      newNode.reset()\r\n      newNode.nodeData = newNode.handleData(data || {})\r\n      newNode.layerIndex = layerIndex\r\n      if (isRoot) {\r\n        newNode.isRoot = true\r\n      } else {\r\n        newNode.parent = parent._node\r\n      }\r\n      this.cacheNode(uid, newNode)\r\n      this.checkIsLayoutChangeRerenderExpandBtnPlaceholderRect(newNode)\r\n      data._node = newNode\r\n      // 主题或主题配置改变了需要重新计算节点大小和布局\r\n      const isResizeSource = this.checkIsNeedResizeSources()\r\n      // 主题或主题配置改变了、节点层级改变了，需要重新渲染节点文本，节点数据改变了等情况需要重新计算节点大小和布局\r\n      const isNodeDataChange = lastData !== JSON.stringify(data.data)\r\n      // 判断编号是否改变\r\n      let isNumberChange = false\r\n      if (hasNumberPlugin) {\r\n        isNumberChange = this.mindMap.numbers.updateNumber(\r\n          newNode,\r\n          newNumberStr\r\n        )\r\n      }\r\n      if (\r\n        isResizeSource ||\r\n        isNodeDataChange ||\r\n        isLayerTypeChange ||\r\n        newNode.getData('resetRichText') ||\r\n        isNumberChange\r\n      ) {\r\n        newNode.getSize()\r\n        newNode.needLayout = true\r\n      }\r\n      this.checkGetGeneralizationChange(newNode)\r\n    } else {\r\n      // 创建新节点\r\n      const newUid = uid || createUid()\r\n      newNode = new Node({\r\n        data,\r\n        uid: newUid,\r\n        renderer: this.renderer,\r\n        mindMap: this.mindMap,\r\n        draw: this.draw,\r\n        layerIndex,\r\n        isRoot,\r\n        parent: !isRoot ? parent._node : null,\r\n        number: newNumberStr\r\n      })\r\n      // uid保存到数据上，为了节点复用\r\n      data.data.uid = newUid\r\n      this.cacheNode(newUid, newNode)\r\n      // 数据关联实际节点\r\n      data._node = newNode\r\n    }\r\n    // 如果该节点数据是已激活状态，那么添加到激活节点列表里\r\n    if (data.data.isActive) {\r\n      this.renderer.addNodeToActiveList(newNode)\r\n    }\r\n    // 如果当前节点在激活节点列表里，那么添加上激活的状态\r\n    if (this.mindMap.renderer.findActiveNodeIndex(newNode) !== -1) {\r\n      newNode.setData({\r\n        isActive: true\r\n      })\r\n    }\r\n    // 根节点\r\n    if (isRoot) {\r\n      this.root = newNode\r\n    } else {\r\n      // 互相收集\r\n      parent._node.addChildren(newNode)\r\n    }\r\n    return newNode\r\n  }\r\n\r\n  // 检查概要节点是否需要更新\r\n  checkGetGeneralizationChange(node) {\r\n    const generalizationList = node.getData('generalization')\r\n    if (\r\n      generalizationList &&\r\n      node._generalizationList &&\r\n      node._generalizationList.length > 0\r\n    ) {\r\n      node._generalizationList.forEach((item, index) => {\r\n        const gNode = item.generalizationNode\r\n        const oldData = gNode.getData()\r\n        const newData = generalizationList[index]\r\n        if (newData && JSON.stringify(oldData) !== JSON.stringify(newData)) {\r\n          gNode.nodeData.data = newData\r\n          gNode.getSize()\r\n          gNode.needLayout = true\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // 格式化节点位置\r\n  formatPosition(value, size, nodeSize) {\r\n    if (typeof value === 'number') {\r\n      return value\r\n    } else if (initRootNodePositionMap[value] !== undefined) {\r\n      return size * initRootNodePositionMap[value]\r\n    } else if (/^\\d\\d*%$/.test(value)) {\r\n      return (Number.parseFloat(value) / 100) * size\r\n    } else {\r\n      return (size - nodeSize) / 2\r\n    }\r\n  }\r\n\r\n  // 规范initRootNodePosition配置\r\n  formatInitRootNodePosition(pos) {\r\n    const { CENTER } = CONSTANTS.INIT_ROOT_NODE_POSITION\r\n    if (!pos || !Array.isArray(pos) || pos.length < 2) {\r\n      pos = [CENTER, CENTER]\r\n    }\r\n    return pos\r\n  }\r\n\r\n  //  定位节点到画布中间\r\n  setNodeCenter(node, position) {\r\n    let { initRootNodePosition } = this.mindMap.opt\r\n    initRootNodePosition = this.formatInitRootNodePosition(\r\n      position || initRootNodePosition\r\n    )\r\n    node.left = this.formatPosition(\r\n      initRootNodePosition[0],\r\n      this.mindMap.width,\r\n      node.width\r\n    )\r\n    node.top = this.formatPosition(\r\n      initRootNodePosition[1],\r\n      this.mindMap.height,\r\n      node.height\r\n    )\r\n  }\r\n\r\n  // 当initRootNodePosition配置不为默认的['center','center']时，计算当前配置和默认配置情况下，根节点位置的差值\r\n  getRootCenterOffset(width, height) {\r\n    // 因为根节点的大小不会影响这个差值，所以计算一次就足够了\r\n    if (this.rootNodeCenterOffset) return this.rootNodeCenterOffset\r\n    let { initRootNodePosition } = this.mindMap.opt\r\n    const { CENTER } = CONSTANTS.INIT_ROOT_NODE_POSITION\r\n    initRootNodePosition = this.formatInitRootNodePosition(initRootNodePosition)\r\n    if (\r\n      initRootNodePosition[0] === CENTER &&\r\n      initRootNodePosition[1] === CENTER\r\n    ) {\r\n      // 如果initRootNodePosition是默认的，那么不需要计算\r\n      this.rootNodeCenterOffset = {\r\n        x: 0,\r\n        y: 0\r\n      }\r\n    } else {\r\n      // 否则需要计算当前配置和默认配置的差值\r\n      const tmpNode = {\r\n        width: width,\r\n        height: height\r\n      }\r\n      const tmpNode2 = {\r\n        width: width,\r\n        height: height\r\n      }\r\n      this.setNodeCenter(tmpNode, [CENTER, CENTER])\r\n      this.setNodeCenter(tmpNode2)\r\n      this.rootNodeCenterOffset = {\r\n        x: tmpNode2.left - tmpNode.left,\r\n        y: tmpNode2.top - tmpNode.top\r\n      }\r\n    }\r\n    return this.rootNodeCenterOffset\r\n  }\r\n\r\n  //  更新子节点属性\r\n  updateChildren(children, prop, offset) {\r\n    children.forEach(item => {\r\n      item[prop] += offset\r\n      if (item.children && item.children.length && !item.hasCustomPosition()) {\r\n        // 适配自定义位置\r\n        this.updateChildren(item.children, prop, offset)\r\n      }\r\n    })\r\n  }\r\n\r\n  //  更新子节点多个属性\r\n  updateChildrenPro(children, props) {\r\n    children.forEach(item => {\r\n      Object.keys(props).forEach(prop => {\r\n        item[prop] += props[prop]\r\n      })\r\n      if (item.children && item.children.length && !item.hasCustomPosition()) {\r\n        // 适配自定义位置\r\n        this.updateChildrenPro(item.children, props)\r\n      }\r\n    })\r\n  }\r\n\r\n  //  递归计算节点的宽度\r\n  getNodeAreaWidth(node, withGeneralization = false) {\r\n    let widthArr = []\r\n    let totalGeneralizationNodeWidth = 0\r\n    let loop = (node, width) => {\r\n      if (withGeneralization && node.checkHasGeneralization()) {\r\n        totalGeneralizationNodeWidth += node._generalizationNodeWidth\r\n      }\r\n      if (node.children.length) {\r\n        width += node.width / 2\r\n        node.children.forEach(item => {\r\n          loop(item, width)\r\n        })\r\n      } else {\r\n        width += node.width\r\n        widthArr.push(width)\r\n      }\r\n    }\r\n    loop(node, 0)\r\n    return Math.max(...widthArr) + totalGeneralizationNodeWidth\r\n  }\r\n\r\n  //  二次贝塞尔曲线\r\n  quadraticCurvePath(x1, y1, x2, y2) {\r\n    let cx = x1 + (x2 - x1) * 0.2\r\n    let cy = y1 + (y2 - y1) * 0.8\r\n    return `M ${x1},${y1} Q ${cx},${cy} ${x2},${y2}`\r\n  }\r\n\r\n  //  三次贝塞尔曲线\r\n  cubicBezierPath(x1, y1, x2, y2) {\r\n    let cx1 = x1 + (x2 - x1) / 2\r\n    let cy1 = y1\r\n    let cx2 = cx1\r\n    let cy2 = y2\r\n    return `M ${x1},${y1} C ${cx1},${cy1} ${cx2},${cy2} ${x2},${y2}`\r\n  }\r\n\r\n  // 根据a,b两个点的位置，计算去除圆角大小后的新的b点\r\n  computeNewPoint(a, b, radius = 0) {\r\n    // x坐标相同\r\n    if (a[0] === b[0]) {\r\n      // b在a下方\r\n      if (b[1] > a[1]) {\r\n        return [b[0], b[1] - radius]\r\n      } else {\r\n        // b在a上方\r\n        return [b[0], b[1] + radius]\r\n      }\r\n    } else if (a[1] === b[1]) {\r\n      // y坐标相同\r\n      // b在a右边\r\n      if (b[0] > a[0]) {\r\n        return [b[0] - radius, b[1]]\r\n      } else {\r\n        return [b[0] + radius, b[1]]\r\n      }\r\n    }\r\n  }\r\n\r\n  // 创建一段折线路径\r\n  // 最后一个拐角支持圆角\r\n  createFoldLine(list) {\r\n    const { lineRadius } = this.mindMap.themeConfig\r\n    const len = list.length\r\n    let path = ''\r\n    let radiusPath = ''\r\n    if (len >= 3 && lineRadius > 0) {\r\n      const start = list[len - 3]\r\n      const center = list[len - 2]\r\n      const end = list[len - 1]\r\n      // 如果三点在一条直线，那么不用处理\r\n      const isOneLine =\r\n        (start[0] === center[0] && center[0] === end[0]) ||\r\n        (start[1] === center[1] && center[1] === end[1])\r\n      if (!isOneLine) {\r\n        const cStart = this.computeNewPoint(start, center, lineRadius)\r\n        const cEnd = this.computeNewPoint(end, center, lineRadius)\r\n        radiusPath = `Q ${center[0]},${center[1]} ${cEnd[0]},${cEnd[1]}`\r\n        list.splice(len - 2, 1, cStart, radiusPath)\r\n      }\r\n    }\r\n    list.forEach((item, index) => {\r\n      if (typeof item === 'string') {\r\n        path += item\r\n      } else {\r\n        const [x, y] = item\r\n        if (index === 0) {\r\n          path += `M ${x},${y}`\r\n        } else {\r\n          path += `L ${x},${y}`\r\n        }\r\n      }\r\n    })\r\n    return path\r\n  }\r\n\r\n  //   获取节点的marginX\r\n  getMarginX(layerIndex) {\r\n    const { themeConfig, opt } = this.mindMap\r\n    const { second, node } = themeConfig\r\n    const hoverRectPadding = opt.hoverRectPadding * 2\r\n    return layerIndex === 1\r\n      ? second.marginX + hoverRectPadding\r\n      : node.marginX + hoverRectPadding\r\n  }\r\n\r\n  //  获取节点的marginY\r\n  getMarginY(layerIndex) {\r\n    const { themeConfig, opt } = this.mindMap\r\n    const { second, node } = themeConfig\r\n    const hoverRectPadding = opt.hoverRectPadding * 2\r\n    return layerIndex === 1\r\n      ? second.marginY + hoverRectPadding\r\n      : node.marginY + hoverRectPadding\r\n  }\r\n\r\n  //  获取节点包括概要在内的宽度\r\n  getNodeWidthWithGeneralization(node) {\r\n    return Math.max(\r\n      node.width,\r\n      node.checkHasGeneralization() ? node._generalizationNodeWidth : 0\r\n    )\r\n  }\r\n\r\n  //  获取节点包括概要在内的高度\r\n  getNodeHeightWithGeneralization(node) {\r\n    return Math.max(\r\n      node.height,\r\n      node.checkHasGeneralization() ? node._generalizationNodeHeight : 0\r\n    )\r\n  }\r\n\r\n  //  获取节点的边界值\r\n  /**\r\n   * dir：生长方向，h（水平）、v（垂直）\r\n   * isLeft：是否向左生长\r\n   */\r\n  getNodeBoundaries(node, dir) {\r\n    let { generalizationLineMargin, generalizationNodeMargin } =\r\n      this.mindMap.themeConfig\r\n    let walk = root => {\r\n      let _left = Infinity\r\n      let _right = -Infinity\r\n      let _top = Infinity\r\n      let _bottom = -Infinity\r\n      if (root.children && root.children.length > 0) {\r\n        root.children.forEach(child => {\r\n          let { left, right, top, bottom } = walk(child)\r\n          // 概要内容的宽度\r\n          let generalizationWidth =\r\n            child.checkHasGeneralization() && child.getData('expand')\r\n              ? child._generalizationNodeWidth + generalizationNodeMargin\r\n              : 0\r\n          // 概要内容的高度\r\n          let generalizationHeight =\r\n            child.checkHasGeneralization() && child.getData('expand')\r\n              ? child._generalizationNodeHeight + generalizationNodeMargin\r\n              : 0\r\n          if (left - (dir === 'h' ? generalizationWidth : 0) < _left) {\r\n            _left = left - (dir === 'h' ? generalizationWidth : 0)\r\n          }\r\n          if (right + (dir === 'h' ? generalizationWidth : 0) > _right) {\r\n            _right = right + (dir === 'h' ? generalizationWidth : 0)\r\n          }\r\n          if (top < _top) {\r\n            _top = top\r\n          }\r\n          if (bottom + (dir === 'v' ? generalizationHeight : 0) > _bottom) {\r\n            _bottom = bottom + (dir === 'v' ? generalizationHeight : 0)\r\n          }\r\n        })\r\n      }\r\n      let cur = {\r\n        left: root.left,\r\n        right: root.left + root.width,\r\n        top: root.top,\r\n        bottom: root.top + root.height\r\n      }\r\n      return {\r\n        left: cur.left < _left ? cur.left : _left,\r\n        right: cur.right > _right ? cur.right : _right,\r\n        top: cur.top < _top ? cur.top : _top,\r\n        bottom: cur.bottom > _bottom ? cur.bottom : _bottom\r\n      }\r\n    }\r\n    let { left, right, top, bottom } = walk(node)\r\n    return {\r\n      left,\r\n      right,\r\n      top,\r\n      bottom,\r\n      generalizationLineMargin,\r\n      generalizationNodeMargin\r\n    }\r\n  }\r\n\r\n  // 获取指定索引区间的子节点的边界范围\r\n  getChildrenBoundaries(node, dir, startIndex = 0, endIndex) {\r\n    let { generalizationLineMargin, generalizationNodeMargin } =\r\n      this.mindMap.themeConfig\r\n    const children = node.children.slice(startIndex, endIndex + 1)\r\n    let left = Infinity\r\n    let right = -Infinity\r\n    let top = Infinity\r\n    let bottom = -Infinity\r\n    children.forEach(item => {\r\n      const cur = this.getNodeBoundaries(item, dir)\r\n      left = cur.left < left ? cur.left : left\r\n      right = cur.right > right ? cur.right : right\r\n      top = cur.top < top ? cur.top : top\r\n      bottom = cur.bottom > bottom ? cur.bottom : bottom\r\n    })\r\n    return {\r\n      left,\r\n      right,\r\n      top,\r\n      bottom,\r\n      generalizationLineMargin,\r\n      generalizationNodeMargin\r\n    }\r\n  }\r\n\r\n  // 获取节点概要的渲染边界\r\n  getNodeGeneralizationRenderBoundaries(item, dir) {\r\n    let res = null\r\n    // 区间\r\n    if (item.range) {\r\n      res = this.getChildrenBoundaries(\r\n        item.node,\r\n        dir,\r\n        item.range[0],\r\n        item.range[1]\r\n      )\r\n    } else {\r\n      // 整体概要\r\n      res = this.getNodeBoundaries(item.node, dir)\r\n    }\r\n    return res\r\n  }\r\n\r\n  // 获取节点实际存在几个子节点\r\n  getNodeActChildrenLength(node) {\r\n    return node.nodeData.children && node.nodeData.children.length\r\n  }\r\n\r\n  // 设置连线样式\r\n  setLineStyle(style, line, path, childNode) {\r\n    line.plot(this.transformPath(path))\r\n    style && style(line, childNode, true)\r\n  }\r\n\r\n  // 转换路径，可以转换成特殊风格的线条样式\r\n  transformPath(path) {\r\n    const { customTransformNodeLinePath } = this.mindMap.opt\r\n    if (customTransformNodeLinePath) {\r\n      return customTransformNodeLinePath(path)\r\n    } else {\r\n      return path\r\n    }\r\n  }\r\n}\r\n\r\nexport default Base\r\n", "import Base from './Base'\r\nimport { walk, asyncRun, getNodeIndexInNodeList } from '../utils'\r\nimport { CONSTANTS } from '../constants/constant'\r\n\r\n//  逻辑结构图\r\nclass LogicalStructure extends Base {\r\n  //  构造函数\r\n  constructor(opt = {}, layout) {\r\n    super(opt)\r\n    this.isUseLeft = layout === CONSTANTS.LAYOUT.LOGICAL_STRUCTURE_LEFT\r\n  }\r\n\r\n  //  布局\r\n  doLayout(callback) {\r\n    let task = [\r\n      () => {\r\n        this.computedBaseValue()\r\n      },\r\n      () => {\r\n        this.computedTopValue()\r\n      },\r\n      () => {\r\n        this.adjustTopValue()\r\n      },\r\n      () => {\r\n        callback(this.root)\r\n      }\r\n    ]\r\n    asyncRun(task)\r\n  }\r\n\r\n  //  遍历数据计算节点的left、width、height\r\n  computedBaseValue() {\r\n    let sortIndex = 0\r\n    walk(\r\n      this.renderer.renderTree,\r\n      null,\r\n      (cur, parent, isRoot, layerIndex, index, ancestors) => {\r\n        let newNode = this.createNode(cur, parent, isRoot, layerIndex, index, ancestors)\r\n        newNode.sortIndex = sortIndex\r\n        sortIndex++\r\n        // 根节点定位在画布中心位置\r\n        if (isRoot) {\r\n          this.setNodeCenter(newNode)\r\n        } else {\r\n          // 非根节点\r\n          // 定位到父节点右侧\r\n          if (this.isUseLeft) {\r\n            newNode.left =\r\n              parent._node.left - newNode.width - this.getMarginX(layerIndex)\r\n          } else {\r\n            newNode.left =\r\n              parent._node.left +\r\n              parent._node.width +\r\n              this.getMarginX(layerIndex)\r\n          }\r\n        }\r\n        if (!cur.data.expand) {\r\n          return true\r\n        }\r\n      },\r\n      (cur, parent, isRoot, layerIndex) => {\r\n        // 返回时计算节点的areaHeight，也就是子节点所占的高度之和，包括外边距\r\n        let len = cur.data.expand === false ? 0 : cur._node.children.length\r\n        cur._node.childrenAreaHeight = len\r\n          ? cur._node.children.reduce((h, item) => {\r\n              return h + item.height\r\n            }, 0) +\r\n            (len + 1) * this.getMarginY(layerIndex + 1)\r\n          : 0\r\n        // 如果存在概要，则和概要的高度取最大值\r\n        let generalizationNodeHeight = cur._node.checkHasGeneralization()\r\n          ? cur._node._generalizationNodeHeight +\r\n            this.getMarginY(layerIndex + 1)\r\n          : 0\r\n        cur._node.childrenAreaHeight2 = Math.max(\r\n          cur._node.childrenAreaHeight,\r\n          generalizationNodeHeight\r\n        )\r\n      },\r\n      true,\r\n      0\r\n    )\r\n  }\r\n\r\n  //  遍历节点树计算节点的top\r\n  computedTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (node.getData('expand') && node.children && node.children.length) {\r\n          let marginY = this.getMarginY(layerIndex + 1)\r\n          // 第一个子节点的top值 = 该节点中心的top值 - 子节点的高度之和的一半\r\n          let top = node.top + node.height / 2 - node.childrenAreaHeight / 2\r\n          let totalTop = top + marginY\r\n          node.children.forEach(cur => {\r\n            cur.top = totalTop\r\n            totalTop += cur.height + marginY\r\n          })\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  调整节点top\r\n  adjustTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (!node.getData('expand')) {\r\n          return\r\n        }\r\n        // 判断子节点所占的高度之和是否大于该节点自身，大于则需要调整位置\r\n        let difference =\r\n          node.childrenAreaHeight2 -\r\n          this.getMarginY(layerIndex + 1) * 2 -\r\n          node.height\r\n        if (difference > 0) {\r\n          this.updateBrothers(node, difference / 2)\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  更新兄弟节点的top\r\n  updateBrothers(node, addHeight) {\r\n    if (node.parent) {\r\n      let childrenList = node.parent.children\r\n      let index = getNodeIndexInNodeList(node, childrenList)\r\n      childrenList.forEach((item, _index) => {\r\n        if (item.uid === node.uid || item.hasCustomPosition()) {\r\n          // 适配自定义位置\r\n          return\r\n        }\r\n        let _offset = 0\r\n        // 上面的节点往上移\r\n        if (_index < index) {\r\n          _offset = -addHeight\r\n        } else if (_index > index) {\r\n          // 下面的节点往下移\r\n          _offset = addHeight\r\n        }\r\n        item.top += _offset\r\n        // 同步更新子节点的位置\r\n        if (item.children && item.children.length) {\r\n          this.updateChildren(item.children, 'top', _offset)\r\n        }\r\n      })\r\n      // 更新父节点的位置\r\n      this.updateBrothers(node.parent, addHeight)\r\n    }\r\n  }\r\n\r\n  //  绘制连线，连接该节点到其子节点\r\n  renderLine(node, lines, style, lineStyle) {\r\n    if (lineStyle === 'curve') {\r\n      this.renderLineCurve(node, lines, style)\r\n    } else if (lineStyle === 'direct') {\r\n      this.renderLineDirect(node, lines, style)\r\n    } else {\r\n      this.renderLineStraight(node, lines, style)\r\n    }\r\n  }\r\n\r\n  //  直线风格连线\r\n  renderLineStraight(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    let marginX = this.getMarginX(node.layerIndex + 1)\r\n    let s1 = (marginX - expandBtnSize) * 0.6\r\n    if (this.isUseLeft) {\r\n      s1 *= -1\r\n    }\r\n    let nodeUseLineStyle = this.mindMap.themeConfig.nodeUseLineStyle\r\n    node.children.forEach((item, index) => {\r\n      let x1\r\n      if (this.isUseLeft) {\r\n        x1 = node.layerIndex === 0 ? left : left - expandBtnSize\r\n      } else {\r\n        x1 = node.layerIndex === 0 ? left + width : left + width + expandBtnSize\r\n      }\r\n      let y1 = top + height / 2\r\n      let x2 = this.isUseLeft ? item.left + item.width : item.left\r\n      let y2 = item.top + item.height / 2\r\n      // 节点使用横线风格，需要额外渲染横线\r\n      let nodeUseLineStyleOffset = nodeUseLineStyle\r\n        ? item.width * (this.isUseLeft ? -1 : 1)\r\n        : 0\r\n      y1 = nodeUseLineStyle && !node.isRoot ? y1 + height / 2 : y1\r\n      y2 = nodeUseLineStyle ? y2 + item.height / 2 : y2\r\n      let path = this.createFoldLine([\r\n        [x1, y1],\r\n        [x1 + s1, y1],\r\n        [x1 + s1, y2],\r\n        [x2 + nodeUseLineStyleOffset, y2]\r\n      ])\r\n      this.setLineStyle(style, lines[index], path, item)\r\n    })\r\n  }\r\n\r\n  //  直连风格\r\n  renderLineDirect(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    const { nodeUseLineStyle } = this.mindMap.themeConfig\r\n    node.children.forEach((item, index) => {\r\n      if (node.layerIndex === 0) {\r\n        expandBtnSize = 0\r\n      }\r\n      let x1 = this.isUseLeft\r\n        ? left - expandBtnSize\r\n        : left + width + expandBtnSize\r\n      let y1 = top + height / 2\r\n      let x2 = this.isUseLeft ? item.left + item.width : item.left\r\n      let y2 = item.top + item.height / 2\r\n      y1 = nodeUseLineStyle && !node.isRoot ? y1 + height / 2 : y1\r\n      y2 = nodeUseLineStyle ? y2 + item.height / 2 : y2\r\n      // 节点使用横线风格，需要额外渲染横线\r\n      let nodeUseLineStylePath = nodeUseLineStyle\r\n        ? ` L ${this.isUseLeft ? item.left : item.left + item.width},${y2}`\r\n        : ''\r\n      let path = `M ${x1},${y1} L ${x2},${y2}` + nodeUseLineStylePath\r\n      this.setLineStyle(style, lines[index], path, item)\r\n    })\r\n  }\r\n\r\n  //  曲线风格连线\r\n  renderLineCurve(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    const {\r\n      nodeUseLineStyle,\r\n      rootLineStartPositionKeepSameInCurve,\r\n      rootLineKeepSameInCurve\r\n    } = this.mindMap.themeConfig\r\n    node.children.forEach((item, index) => {\r\n      if (node.layerIndex === 0) {\r\n        expandBtnSize = 0\r\n      }\r\n      let x1\r\n      if (this.isUseLeft) {\r\n        x1 =\r\n          node.layerIndex === 0 && !rootLineStartPositionKeepSameInCurve\r\n            ? left + width / 2\r\n            : left - expandBtnSize\r\n      } else {\r\n        x1 =\r\n          node.layerIndex === 0 && !rootLineStartPositionKeepSameInCurve\r\n            ? left + width / 2\r\n            : left + width + expandBtnSize\r\n      }\r\n      let y1 = top + height / 2\r\n      let x2 = this.isUseLeft ? item.left + item.width : item.left\r\n      let y2 = item.top + item.height / 2\r\n      let path = ''\r\n      y1 = nodeUseLineStyle && !node.isRoot ? y1 + height / 2 : y1\r\n      y2 = nodeUseLineStyle ? y2 + item.height / 2 : y2\r\n      // 节点使用横线风格，需要额外渲染横线\r\n      let nodeUseLineStylePath\r\n      if (this.isUseLeft) {\r\n        nodeUseLineStylePath = nodeUseLineStyle ? ` L ${item.left},${y2}` : ''\r\n      } else {\r\n        nodeUseLineStylePath = nodeUseLineStyle\r\n          ? ` L ${item.left + item.width},${y2}`\r\n          : ''\r\n      }\r\n      if (node.isRoot && !rootLineKeepSameInCurve) {\r\n        path = this.quadraticCurvePath(x1, y1, x2, y2) + nodeUseLineStylePath\r\n      } else {\r\n        path = this.cubicBezierPath(x1, y1, x2, y2) + nodeUseLineStylePath\r\n      }\r\n      this.setLineStyle(style, lines[index], path, item)\r\n    })\r\n  }\r\n\r\n  //  渲染按钮\r\n  renderExpandBtn(node, btn) {\r\n    let { width, height, expandBtnSize, layerIndex } = node\r\n    if (layerIndex === 0) {\r\n      expandBtnSize = 0\r\n    }\r\n    let { translateX, translateY } = btn.transform()\r\n    // 节点使用横线风格，需要调整展开收起按钮位置\r\n    let nodeUseLineStyleOffset = this.mindMap.themeConfig.nodeUseLineStyle\r\n      ? height / 2\r\n      : 0\r\n    // 位置没有变化则返回\r\n    let _x = this.isUseLeft ? 0 - expandBtnSize : width\r\n    let _y = height / 2 + nodeUseLineStyleOffset\r\n    if (_x === translateX && _y === translateY) {\r\n      return\r\n    }\r\n    btn.translate(_x - translateX, _y - translateY)\r\n  }\r\n\r\n  //  创建概要节点\r\n  renderGeneralization(list) {\r\n    list.forEach(item => {\r\n      let {\r\n        left,\r\n        top,\r\n        bottom,\r\n        right,\r\n        generalizationLineMargin,\r\n        generalizationNodeMargin\r\n      } = this.getNodeGeneralizationRenderBoundaries(item, 'h')\r\n      let x = this.isUseLeft\r\n        ? left - generalizationLineMargin\r\n        : right + generalizationLineMargin\r\n      let x1 = x\r\n      let y1 = top\r\n      let x2 = x\r\n      let y2 = bottom\r\n      let cx = x1 + (this.isUseLeft ? -20 : 20)\r\n      let cy = y1 + (y2 - y1) / 2\r\n      let path = `M ${x1},${y1} Q ${cx},${cy} ${x2},${y2}`\r\n      item.generalizationLine.plot(path)\r\n      item.generalizationNode.left =\r\n        x +\r\n        (this.isUseLeft\r\n          ? -generalizationNodeMargin\r\n          : generalizationNodeMargin) -\r\n        (this.isUseLeft ? item.generalizationNode.width : 0)\r\n      item.generalizationNode.top =\r\n        top + (bottom - top - item.generalizationNode.height) / 2\r\n    })\r\n  }\r\n\r\n  // 渲染展开收起按钮的隐藏占位元素\r\n  renderExpandBtnRect(rect, expandBtnSize, width, height) {\r\n    if (this.isUseLeft) {\r\n      rect.size(expandBtnSize, height).x(-expandBtnSize).y(0)\r\n    } else {\r\n      rect.size(expandBtnSize, height).x(width).y(0)\r\n    }\r\n  }\r\n}\r\n\r\nexport default LogicalStructure\r\n", "import Base from './Base'\r\nimport { walk, asyncRun, getNodeIndexInNodeList } from '../utils'\r\nimport { CONSTANTS } from '../constants/constant'\r\n\r\n//  思维导图\r\nclass MindMap extends Base {\r\n  //  构造函数\r\n  // 在逻辑结构图的基础上增加一个变量来记录生长方向，向左还是向右，同时在计算left的时候根据方向来计算、调整top时只考虑同方向的节点即可\r\n  constructor(opt = {}) {\r\n    super(opt)\r\n  }\r\n\r\n  //  布局\r\n  doLayout(callback) {\r\n    let task = [\r\n      () => {\r\n        this.computedBaseValue()\r\n      },\r\n      () => {\r\n        this.computedTopValue()\r\n      },\r\n      () => {\r\n        this.adjustTopValue()\r\n      },\r\n      () => {\r\n        callback(this.root)\r\n      }\r\n    ]\r\n    asyncRun(task)\r\n  }\r\n\r\n  //  遍历数据计算节点的left、width、height\r\n  computedBaseValue() {\r\n    walk(\r\n      this.renderer.renderTree,\r\n      null,\r\n      (cur, parent, isRoot, layerIndex, index, ancestors) => {\r\n        let newNode = this.createNode(cur, parent, isRoot, layerIndex, index, ancestors)\r\n        // 根节点定位在画布中心位置\r\n        if (isRoot) {\r\n          this.setNodeCenter(newNode)\r\n        } else {\r\n          // 非根节点\r\n          // 三级及以下节点以上级为准\r\n          if (parent._node.dir) {\r\n            newNode.dir = parent._node.dir\r\n          } else {\r\n            // 节点生长方向\r\n            newNode.dir =\r\n              index % 2 === 0\r\n                ? CONSTANTS.LAYOUT_GROW_DIR.RIGHT\r\n                : CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n          }\r\n          // 根据生长方向定位到父节点的左侧或右侧\r\n          newNode.left =\r\n            newNode.dir === CONSTANTS.LAYOUT_GROW_DIR.RIGHT\r\n              ? parent._node.left +\r\n                parent._node.width +\r\n                this.getMarginX(layerIndex)\r\n              : parent._node.left - this.getMarginX(layerIndex) - newNode.width\r\n        }\r\n        if (!cur.data.expand) {\r\n          return true\r\n        }\r\n      },\r\n      (cur, parent, isRoot, layerIndex) => {\r\n        // 返回时计算节点的leftChildrenAreaHeight和rightChildrenAreaHeight，也就是左侧和右侧子节点所占的高度之和，包括外边距\r\n        if (!cur.data.expand) {\r\n          cur._node.leftChildrenAreaHeight = 0\r\n          cur._node.rightChildrenAreaHeight = 0\r\n          return\r\n        }\r\n        // 理论上只有根节点是存在两个方向的子节点的，其他节点的子节点一定全都是同方向，但是为了逻辑统一，就不按特殊处理的方式来写了\r\n        let leftLen = 0\r\n        let rightLen = 0\r\n        let leftChildrenAreaHeight = 0\r\n        let rightChildrenAreaHeight = 0\r\n        cur._node.children.forEach(item => {\r\n          if (item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT) {\r\n            leftLen++\r\n            leftChildrenAreaHeight += item.height\r\n          } else {\r\n            rightLen++\r\n            rightChildrenAreaHeight += item.height\r\n          }\r\n        })\r\n        cur._node.leftChildrenAreaHeight =\r\n          leftChildrenAreaHeight +\r\n          (leftLen + 1) * this.getMarginY(layerIndex + 1)\r\n        cur._node.rightChildrenAreaHeight =\r\n          rightChildrenAreaHeight +\r\n          (rightLen + 1) * this.getMarginY(layerIndex + 1)\r\n\r\n        // 如果存在概要，则和概要的高度取最大值\r\n        let generalizationNodeHeight = cur._node.checkHasGeneralization()\r\n          ? cur._node._generalizationNodeHeight +\r\n            this.getMarginY(layerIndex + 1)\r\n          : 0\r\n        cur._node.leftChildrenAreaHeight2 = Math.max(\r\n          cur._node.leftChildrenAreaHeight,\r\n          generalizationNodeHeight\r\n        )\r\n        cur._node.rightChildrenAreaHeight2 = Math.max(\r\n          cur._node.rightChildrenAreaHeight,\r\n          generalizationNodeHeight\r\n        )\r\n      },\r\n      true,\r\n      0\r\n    )\r\n  }\r\n\r\n  //  遍历节点树计算节点的top\r\n  computedTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (node.getData('expand') && node.children && node.children.length) {\r\n          let marginY = this.getMarginY(layerIndex + 1)\r\n          let baseTop = node.top + node.height / 2 + marginY\r\n          // 第一个子节点的top值 = 该节点中心的top值 - 子节点的高度之和的一半\r\n          let leftTotalTop = baseTop - node.leftChildrenAreaHeight / 2\r\n          let rightTotalTop = baseTop - node.rightChildrenAreaHeight / 2\r\n          node.children.forEach(cur => {\r\n            if (cur.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT) {\r\n              cur.top = leftTotalTop\r\n              leftTotalTop += cur.height + marginY\r\n            } else {\r\n              cur.top = rightTotalTop\r\n              rightTotalTop += cur.height + marginY\r\n            }\r\n          })\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  调整节点top\r\n  adjustTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (!node.getData('expand')) {\r\n          return\r\n        }\r\n        // 判断子节点所占的高度之和是否大于该节点自身，大于则需要调整位置\r\n        let base = this.getMarginY(layerIndex + 1) * 2 + node.height\r\n        let leftDifference = node.leftChildrenAreaHeight2 - base\r\n        let rightDifference = node.rightChildrenAreaHeight2 - base\r\n        if (leftDifference > 0 || rightDifference > 0) {\r\n          this.updateBrothers(node, leftDifference / 2, rightDifference / 2)\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  更新兄弟节点的top\r\n  updateBrothers(node, leftAddHeight, rightAddHeight) {\r\n    if (node.parent) {\r\n      // 过滤出和自己同方向的节点\r\n      let childrenList = node.parent.children.filter(item => {\r\n        return item.dir === node.dir\r\n      })\r\n      let index = getNodeIndexInNodeList(node, childrenList)\r\n      childrenList.forEach((item, _index) => {\r\n        if (item.hasCustomPosition()) {\r\n          // 适配自定义位置\r\n          return\r\n        }\r\n        let _offset = 0\r\n        let addHeight =\r\n          item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n            ? leftAddHeight\r\n            : rightAddHeight\r\n        // 上面的节点往上移\r\n        if (_index < index) {\r\n          _offset = -addHeight\r\n        } else if (_index > index) {\r\n          // 下面的节点往下移\r\n          _offset = addHeight\r\n        }\r\n        item.top += _offset\r\n        // 同步更新子节点的位置\r\n        if (item.children && item.children.length) {\r\n          this.updateChildren(item.children, 'top', _offset)\r\n        }\r\n      })\r\n      // 更新父节点的位置\r\n      this.updateBrothers(node.parent, leftAddHeight, rightAddHeight)\r\n    }\r\n  }\r\n\r\n  //  绘制连线，连接该节点到其子节点\r\n  renderLine(node, lines, style, lineStyle) {\r\n    if (lineStyle === 'curve') {\r\n      this.renderLineCurve(node, lines, style)\r\n    } else if (lineStyle === 'direct') {\r\n      this.renderLineDirect(node, lines, style)\r\n    } else {\r\n      this.renderLineStraight(node, lines, style)\r\n    }\r\n  }\r\n\r\n  //  直线风格连线\r\n  renderLineStraight(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    let marginX = this.getMarginX(node.layerIndex + 1)\r\n    let s1 = (marginX - expandBtnSize) * 0.6\r\n    let nodeUseLineStyle = this.mindMap.themeConfig.nodeUseLineStyle\r\n    node.children.forEach((item, index) => {\r\n      let x1 = 0\r\n      let _s = 0\r\n      // 节点使用横线风格，需要额外渲染横线\r\n      let nodeUseLineStyleOffset = nodeUseLineStyle ? item.width : 0\r\n      if (item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT) {\r\n        _s = -s1\r\n        x1 = node.layerIndex === 0 ? left : left - expandBtnSize\r\n        nodeUseLineStyleOffset = -nodeUseLineStyleOffset\r\n      } else {\r\n        _s = s1\r\n        x1 = node.layerIndex === 0 ? left + width : left + width + expandBtnSize\r\n      }\r\n      let y1 = top + height / 2\r\n      let x2 =\r\n        item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n          ? item.left + item.width\r\n          : item.left\r\n      let y2 = item.top + item.height / 2\r\n      y1 = nodeUseLineStyle && !node.isRoot ? y1 + height / 2 : y1\r\n      y2 = nodeUseLineStyle ? y2 + item.height / 2 : y2\r\n      let path = this.createFoldLine([\r\n        [x1, y1],\r\n        [x1 + _s, y1],\r\n        [x1 + _s, y2],\r\n        [x2 + nodeUseLineStyleOffset, y2]\r\n      ])\r\n      this.setLineStyle(style, lines[index], path, item)\r\n    })\r\n  }\r\n\r\n  //  直连风格\r\n  renderLineDirect(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    const { nodeUseLineStyle } = this.mindMap.themeConfig\r\n    node.children.forEach((item, index) => {\r\n      if (node.layerIndex === 0) {\r\n        expandBtnSize = 0\r\n      }\r\n      let x1 =\r\n        item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n          ? left - expandBtnSize\r\n          : left + width + expandBtnSize\r\n      let y1 = top + height / 2\r\n      let x2 =\r\n        item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n          ? item.left + item.width\r\n          : item.left\r\n      let y2 = item.top + item.height / 2\r\n      y1 = nodeUseLineStyle && !node.isRoot ? y1 + height / 2 : y1\r\n      y2 = nodeUseLineStyle ? y2 + item.height / 2 : y2\r\n      // 节点使用横线风格，需要额外渲染横线\r\n      let nodeUseLineStylePath = ''\r\n      if (nodeUseLineStyle) {\r\n        if (item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT) {\r\n          nodeUseLineStylePath = ` L ${item.left},${y2}`\r\n        } else {\r\n          nodeUseLineStylePath = ` L ${item.left + item.width},${y2}`\r\n        }\r\n      }\r\n      let path = `M ${x1},${y1} L ${x2},${y2}` + nodeUseLineStylePath\r\n      this.setLineStyle(style, lines[index], path, item)\r\n    })\r\n  }\r\n\r\n  //  曲线风格连线\r\n  renderLineCurve(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    const {\r\n      nodeUseLineStyle,\r\n      rootLineKeepSameInCurve,\r\n      rootLineStartPositionKeepSameInCurve\r\n    } = this.mindMap.themeConfig\r\n    node.children.forEach((item, index) => {\r\n      if (node.layerIndex === 0) {\r\n        expandBtnSize = 0\r\n      }\r\n      let x1 =\r\n        node.layerIndex === 0 && !rootLineStartPositionKeepSameInCurve\r\n          ? left + width / 2\r\n          : item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n          ? left - expandBtnSize\r\n          : left + width + expandBtnSize\r\n      let y1 = top + height / 2\r\n      let x2 =\r\n        item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n          ? item.left + item.width\r\n          : item.left\r\n      let y2 = item.top + item.height / 2\r\n      let path = ''\r\n      y1 = nodeUseLineStyle && !node.isRoot ? y1 + height / 2 : y1\r\n      y2 = nodeUseLineStyle ? y2 + item.height / 2 : y2\r\n      // 节点使用横线风格，需要额外渲染横线\r\n      let nodeUseLineStylePath = ''\r\n      if (nodeUseLineStyle) {\r\n        if (item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT) {\r\n          nodeUseLineStylePath = ` L ${item.left},${y2}`\r\n        } else {\r\n          nodeUseLineStylePath = ` L ${item.left + item.width},${y2}`\r\n        }\r\n      }\r\n      if (node.isRoot && !rootLineKeepSameInCurve) {\r\n        path = this.quadraticCurvePath(x1, y1, x2, y2) + nodeUseLineStylePath\r\n      } else {\r\n        path = this.cubicBezierPath(x1, y1, x2, y2) + nodeUseLineStylePath\r\n      }\r\n      this.setLineStyle(style, lines[index], path, item)\r\n    })\r\n  }\r\n\r\n  //  渲染按钮\r\n  renderExpandBtn(node, btn) {\r\n    let { width, height, expandBtnSize } = node\r\n    let { translateX, translateY } = btn.transform()\r\n    // 节点使用横线风格，需要调整展开收起按钮位置\r\n    let nodeUseLineStyleOffset = this.mindMap.themeConfig.nodeUseLineStyle\r\n      ? height / 2\r\n      : 0\r\n    // 位置没有变化则返回\r\n    let _x =\r\n      node.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT ? 0 - expandBtnSize : width\r\n    let _y = height / 2 + nodeUseLineStyleOffset\r\n    if (_x === translateX && _y === translateY) {\r\n      return\r\n    }\r\n    let x = _x - translateX\r\n    let y = _y - translateY\r\n    btn.translate(x, y)\r\n  }\r\n\r\n  //  创建概要节点\r\n  renderGeneralization(list) {\r\n    list.forEach(item => {\r\n      let isLeft = item.node.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n      let {\r\n        top,\r\n        bottom,\r\n        left,\r\n        right,\r\n        generalizationLineMargin,\r\n        generalizationNodeMargin\r\n      } = this.getNodeGeneralizationRenderBoundaries(item, 'h')\r\n      let x = isLeft\r\n        ? left - generalizationLineMargin\r\n        : right + generalizationLineMargin\r\n      let x1 = x\r\n      let y1 = top\r\n      let x2 = x\r\n      let y2 = bottom\r\n      let cx = x1 + (isLeft ? -20 : 20)\r\n      let cy = y1 + (y2 - y1) / 2\r\n      let path = `M ${x1},${y1} Q ${cx},${cy} ${x2},${y2}`\r\n      item.generalizationLine.plot(path)\r\n      item.generalizationNode.left =\r\n        x +\r\n        (isLeft ? -generalizationNodeMargin : generalizationNodeMargin) -\r\n        (isLeft ? item.generalizationNode.width : 0)\r\n      item.generalizationNode.top =\r\n        top + (bottom - top - item.generalizationNode.height) / 2\r\n    })\r\n  }\r\n\r\n  // 渲染展开收起按钮的隐藏占位元素\r\n  renderExpandBtnRect(rect, expandBtnSize, width, height, node) {\r\n    if (node.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT) {\r\n      rect.size(expandBtnSize, height).x(-expandBtnSize).y(0)\r\n    } else {\r\n      rect.size(expandBtnSize, height).x(width).y(0)\r\n    }\r\n  }\r\n}\r\n\r\nexport default MindMap\r\n", "import Base from './Base'\r\nimport { walk, asyncRun, getNodeIndexInNodeList } from '../utils'\r\n\r\n//  目录组织图\r\nclass CatalogOrganization extends Base {\r\n  //  构造函数\r\n  constructor(opt = {}) {\r\n    super(opt)\r\n  }\r\n\r\n  //  布局\r\n  doLayout(callback) {\r\n    let task = [\r\n      () => {\r\n        this.computedBaseValue()\r\n      },\r\n      () => {\r\n        this.computedLeftTopValue()\r\n      },\r\n      () => {\r\n        this.adjustLeftTopValue()\r\n      },\r\n      () => {\r\n        callback(this.root)\r\n      }\r\n    ]\r\n    asyncRun(task)\r\n  }\r\n\r\n  //  遍历数据计算节点的left、width、height\r\n  computedBaseValue() {\r\n    walk(\r\n      this.renderer.renderTree,\r\n      null,\r\n      (cur, parent, isRoot, layerIndex, index, ancestors) => {\r\n        let newNode = this.createNode(cur, parent, isRoot, layerIndex, index, ancestors)\r\n        // 根节点定位在画布中心位置\r\n        if (isRoot) {\r\n          this.setNodeCenter(newNode)\r\n        } else {\r\n          // 非根节点\r\n          if (parent._node.isRoot) {\r\n            newNode.top =\r\n              parent._node.top +\r\n              parent._node.height +\r\n              this.getMarginX(layerIndex)\r\n          }\r\n        }\r\n        if (!cur.data.expand) {\r\n          return true\r\n        }\r\n      },\r\n      (cur, parent, isRoot, layerIndex) => {\r\n        if (isRoot) {\r\n          let len = cur.data.expand === false ? 0 : cur._node.children.length\r\n          cur._node.childrenAreaWidth = len\r\n            ? cur._node.children.reduce((h, item) => {\r\n                return h + item.width\r\n              }, 0) +\r\n              (len + 1) * this.getMarginX(layerIndex + 1)\r\n            : 0\r\n        }\r\n      },\r\n      true,\r\n      0\r\n    )\r\n  }\r\n\r\n  //  遍历节点树计算节点的left、top\r\n  computedLeftTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (node.getData('expand') && node.children && node.children.length) {\r\n          let marginX = this.getMarginX(layerIndex + 1)\r\n          let marginY = this.getMarginY(layerIndex + 1)\r\n          if (isRoot) {\r\n            let left = node.left + node.width / 2 - node.childrenAreaWidth / 2\r\n            let totalLeft = left + marginX\r\n            node.children.forEach(cur => {\r\n              cur.left = totalLeft\r\n              totalLeft += cur.width + marginX\r\n            })\r\n          } else {\r\n            let totalTop =\r\n              node.top +\r\n              this.getNodeHeightWithGeneralization(node) +\r\n              marginY +\r\n              (this.getNodeActChildrenLength(node) > 0 ? node.expandBtnSize : 0)\r\n            node.children.forEach(cur => {\r\n              cur.left = node.left + node.width * 0.5\r\n              cur.top = totalTop\r\n              totalTop +=\r\n                this.getNodeHeightWithGeneralization(cur) +\r\n                marginY +\r\n                (this.getNodeActChildrenLength(cur) > 0 ? cur.expandBtnSize : 0)\r\n            })\r\n          }\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  调整节点left、top\r\n  adjustLeftTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (!node.getData('expand')) {\r\n          return\r\n        }\r\n        // 调整left\r\n        if (parent && parent.isRoot) {\r\n          let areaWidth = this.getNodeAreaWidth(node, true)\r\n          let difference = areaWidth - node.width\r\n          if (difference > 0) {\r\n            this.updateBrothersLeft(node, difference)\r\n          }\r\n        }\r\n        // 调整top\r\n        let len = node.children.length\r\n        if (parent && !parent.isRoot && len > 0) {\r\n          let marginY = this.getMarginY(layerIndex + 1)\r\n          let totalHeight =\r\n            node.children.reduce((h, item) => {\r\n              return (\r\n                h +\r\n                this.getNodeHeightWithGeneralization(item) +\r\n                (this.getNodeActChildrenLength(item) > 0\r\n                  ? item.expandBtnSize\r\n                  : 0)\r\n              )\r\n            }, 0) +\r\n            len * marginY\r\n          this.updateBrothersTop(node, totalHeight)\r\n        }\r\n      },\r\n      (node, parent, isRoot) => {\r\n        if (isRoot) {\r\n          let { right, left } = this.getNodeBoundaries(node, 'h')\r\n          let childrenWidth = right - left\r\n          let offset = node.left - left - (childrenWidth - node.width) / 2\r\n          this.updateChildren(node.children, 'left', offset)\r\n        }\r\n      },\r\n      true\r\n    )\r\n  }\r\n\r\n  //  调整兄弟节点的left\r\n  updateBrothersLeft(node, addWidth) {\r\n    if (node.parent) {\r\n      let childrenList = node.parent.children\r\n      let index = getNodeIndexInNodeList(node, childrenList)\r\n      childrenList.forEach((item, _index) => {\r\n        if (item.hasCustomPosition() || _index <= index) {\r\n          // 适配自定义位置\r\n          return\r\n        }\r\n        item.left += addWidth\r\n        // 同步更新子节点的位置\r\n        if (item.children && item.children.length) {\r\n          this.updateChildren(item.children, 'left', addWidth)\r\n        }\r\n      })\r\n      // 更新父节点的位置\r\n      this.updateBrothersLeft(node.parent, addWidth)\r\n    }\r\n  }\r\n\r\n  //  调整兄弟节点的top\r\n  updateBrothersTop(node, addHeight) {\r\n    if (node.parent && !node.parent.isRoot) {\r\n      let childrenList = node.parent.children\r\n      let index = getNodeIndexInNodeList(node, childrenList)\r\n      childrenList.forEach((item, _index) => {\r\n        if (item.hasCustomPosition()) {\r\n          // 适配自定义位置\r\n          return\r\n        }\r\n        let _offset = 0\r\n        // 下面的节点往下移\r\n        if (_index > index) {\r\n          _offset = addHeight\r\n        }\r\n        item.top += _offset\r\n        // 同步更新子节点的位置\r\n        if (item.children && item.children.length) {\r\n          this.updateChildren(item.children, 'top', _offset)\r\n        }\r\n      })\r\n      // 更新父节点的位置\r\n      this.updateBrothersTop(node.parent, addHeight)\r\n    }\r\n  }\r\n\r\n  //  绘制连线，连接该节点到其子节点\r\n  renderLine(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    let len = node.children.length\r\n    let marginX = this.getMarginX(node.layerIndex + 1)\r\n    if (node.isRoot) {\r\n      // 根节点\r\n      let x1 = left + width / 2\r\n      let y1 = top + height\r\n      let s1 = marginX * 0.7\r\n      let minx = Infinity\r\n      let maxx = -Infinity\r\n      node.children.forEach((item, index) => {\r\n        let x2 = item.left + item.width / 2\r\n        let y2 = item.top\r\n        if (x2 < minx) {\r\n          minx = x2\r\n        }\r\n        if (x2 > maxx) {\r\n          maxx = x2\r\n        }\r\n        // 节点使用横线风格，需要额外渲染横线\r\n        let nodeUseLineStylePath = this.mindMap.themeConfig.nodeUseLineStyle\r\n          ? ` L ${item.left},${y2} L ${item.left + item.width},${y2}`\r\n          : ''\r\n        let path =\r\n          `M ${x2},${y1 + s1} L ${x2},${y1 + s1 > y2 ? y2 + item.height : y2}` +\r\n          nodeUseLineStylePath\r\n        // 竖线\r\n        this.setLineStyle(style, lines[index], path, item)\r\n      })\r\n      minx = Math.min(minx, x1)\r\n      maxx = Math.max(maxx, x1)\r\n      // 父节点的竖线\r\n      let line1 = this.lineDraw.path()\r\n      node.style.line(line1)\r\n      line1.plot(this.transformPath(`M ${x1},${y1} L ${x1},${y1 + s1}`))\r\n      node._lines.push(line1)\r\n      style && style(line1, node)\r\n      // 水平线\r\n      if (len > 0) {\r\n        let lin2 = this.lineDraw.path()\r\n        node.style.line(lin2)\r\n        lin2.plot(this.transformPath(`M ${minx},${y1 + s1} L ${maxx},${y1 + s1}`))\r\n        node._lines.push(lin2)\r\n        style && style(lin2, node)\r\n      }\r\n    } else {\r\n      // 非根节点\r\n      let y1 = top + height\r\n      let maxy = -Infinity\r\n      let x2 = node.left + node.width * 0.3\r\n      node.children.forEach((item, index) => {\r\n        // 为了适配自定义位置，下面做了各种位置的兼容\r\n        let y2 = item.top + item.height / 2\r\n        if (y2 > maxy) {\r\n          maxy = y2\r\n        }\r\n        // 水平线\r\n        let path = ''\r\n        let _left = item.left\r\n        let _isLeft = item.left + item.width < x2\r\n        let _isXCenter = false\r\n        if (_isLeft) {\r\n          // 水平位置在父节点左边\r\n          _left = item.left + item.width\r\n        } else if (item.left < x2 && item.left + item.width > x2) {\r\n          // 水平位置在父节点之间\r\n          _isXCenter = true\r\n          y2 = item.top\r\n          maxy = y2\r\n        }\r\n        if (y2 > top && y2 < y1) {\r\n          // 自定义位置的情况：垂直位置节点在父节点之间\r\n          path = `M ${\r\n            _isLeft ? node.left : node.left + node.width\r\n          },${y2} L ${_left},${y2}`\r\n        } else if (y2 < y1) {\r\n          // 自定义位置的情况：垂直位置节点在父节点上面\r\n          if (_isXCenter) {\r\n            y2 = item.top + item.height\r\n            _left = x2\r\n          }\r\n          path = `M ${x2},${top} L ${x2},${y2} L ${_left},${y2}`\r\n        } else {\r\n          if (_isXCenter) {\r\n            _left = x2\r\n          }\r\n          path = `M ${x2},${y2} L ${_left},${y2}`\r\n        }\r\n        // 节点使用横线风格，需要额外渲染横线\r\n        let nodeUseLineStylePath = this.mindMap.themeConfig.nodeUseLineStyle\r\n          ? ` L ${_left},${y2 - item.height / 2} L ${_left},${\r\n              y2 + item.height / 2\r\n            }`\r\n          : ''\r\n        path += nodeUseLineStylePath\r\n        this.setLineStyle(style, lines[index], path, item)\r\n      })\r\n      // 竖线\r\n      if (len > 0) {\r\n        let lin2 = this.lineDraw.path()\r\n        expandBtnSize = len > 0 ? expandBtnSize : 0\r\n        node.style.line(lin2)\r\n        if (maxy < y1 + expandBtnSize) {\r\n          lin2.hide()\r\n        } else {\r\n          lin2.plot(\r\n            this.transformPath(`M ${x2},${y1 + expandBtnSize} L ${x2},${maxy}`)\r\n          )\r\n          lin2.show()\r\n        }\r\n        node._lines.push(lin2)\r\n        style && style(lin2, node)\r\n      }\r\n    }\r\n  }\r\n\r\n  //  渲染按钮\r\n  renderExpandBtn(node, btn) {\r\n    let { width, height, expandBtnSize, isRoot } = node\r\n    if (!isRoot) {\r\n      let { translateX, translateY } = btn.transform()\r\n      btn.translate(\r\n        width * 0.3 - expandBtnSize / 2 - translateX,\r\n        height + expandBtnSize / 2 - translateY\r\n      )\r\n    }\r\n  }\r\n\r\n  //  创建概要节点\r\n  renderGeneralization(list) {\r\n    list.forEach(item => {\r\n      let {\r\n        top,\r\n        bottom,\r\n        right,\r\n        generalizationLineMargin,\r\n        generalizationNodeMargin\r\n      } = this.getNodeGeneralizationRenderBoundaries(item, 'h')\r\n      let x1 = right + generalizationLineMargin\r\n      let y1 = top\r\n      let x2 = right + generalizationLineMargin\r\n      let y2 = bottom\r\n      let cx = x1 + 20\r\n      let cy = y1 + (y2 - y1) / 2\r\n      let path = `M ${x1},${y1} Q ${cx},${cy} ${x2},${y2}`\r\n      item.generalizationLine.plot(this.transformPath(path))\r\n      item.generalizationNode.left = right + generalizationNodeMargin\r\n      item.generalizationNode.top =\r\n        top + (bottom - top - item.generalizationNode.height) / 2\r\n    })\r\n  }\r\n\r\n  // 渲染展开收起按钮的隐藏占位元素\r\n  renderExpandBtnRect(rect, expandBtnSize, width, height, node) {\r\n    rect.size(width, expandBtnSize).x(0).y(height)\r\n  }\r\n}\r\n\r\nexport default CatalogOrganization\r\n", "import Base from './Base'\r\nimport { walk, asyncRun, getNodeIndexInNodeList } from '../utils'\r\n\r\n//  组织结构图\r\n// 和逻辑结构图基本一样，只是方向变成向下生长，所以先计算节点的top，后计算节点的left、最后调整节点的left即可\r\nclass OrganizationStructure extends Base {\r\n  //  构造函数\r\n  constructor(opt = {}) {\r\n    super(opt)\r\n  }\r\n\r\n  //  布局\r\n  doLayout(callback) {\r\n    let task = [\r\n      () => {\r\n        this.computedBaseValue()\r\n      },\r\n      () => {\r\n        this.computedLeftValue()\r\n      },\r\n      () => {\r\n        this.adjustLeftValue()\r\n      },\r\n      () => {\r\n        callback(this.root)\r\n      }\r\n    ]\r\n    asyncRun(task)\r\n  }\r\n\r\n  //  遍历数据计算节点的left、width、height\r\n  computedBaseValue() {\r\n    walk(\r\n      this.renderer.renderTree,\r\n      null,\r\n      (cur, parent, isRoot, layerIndex, index, ancestors) => {\r\n        let newNode = this.createNode(cur, parent, isRoot, layerIndex, index, ancestors)\r\n        // 根节点定位在画布中心位置\r\n        if (isRoot) {\r\n          this.setNodeCenter(newNode)\r\n        } else {\r\n          // 非根节点\r\n          // 定位到父节点下方\r\n          newNode.top =\r\n            parent._node.top + parent._node.height + this.getMarginX(layerIndex)\r\n        }\r\n        if (!cur.data.expand) {\r\n          return true\r\n        }\r\n      },\r\n      (cur, parent, isRoot, layerIndex) => {\r\n        // 返回时计算节点的areaWidth，也就是子节点所占的宽度之和，包括外边距\r\n        let len = cur.data.expand === false ? 0 : cur._node.children.length\r\n        cur._node.childrenAreaWidth = len\r\n          ? cur._node.children.reduce((h, item) => {\r\n              return h + item.width\r\n            }, 0) +\r\n            (len + 1) * this.getMarginY(layerIndex + 1)\r\n          : 0\r\n\r\n        // 如果存在概要，则和概要的高度取最大值\r\n        let generalizationNodeWidth = cur._node.checkHasGeneralization()\r\n          ? cur._node._generalizationNodeWidth + this.getMarginY(layerIndex + 1)\r\n          : 0\r\n        cur._node.childrenAreaWidth2 = Math.max(\r\n          cur._node.childrenAreaWidth,\r\n          generalizationNodeWidth\r\n        )\r\n      },\r\n      true,\r\n      0\r\n    )\r\n  }\r\n\r\n  //  遍历节点树计算节点的left\r\n  computedLeftValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (node.getData('expand') && node.children && node.children.length) {\r\n          let marginX = this.getMarginY(layerIndex + 1)\r\n          // 第一个子节点的left值 = 该节点中心的left值 - 子节点的宽度之和的一半\r\n          let left = node.left + node.width / 2 - node.childrenAreaWidth / 2\r\n          let totalLeft = left + marginX\r\n          node.children.forEach(cur => {\r\n            cur.left = totalLeft\r\n            totalLeft += cur.width + marginX\r\n          })\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  调整节点left\r\n  adjustLeftValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (!node.getData('expand')) {\r\n          return\r\n        }\r\n        // 判断子节点所占的宽度之和是否大于该节点自身，大于则需要调整位置\r\n        let difference =\r\n          node.childrenAreaWidth2 -\r\n          this.getMarginY(layerIndex + 1) * 2 -\r\n          node.width\r\n        if (difference > 0) {\r\n          this.updateBrothers(node, difference / 2)\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  更新兄弟节点的left\r\n  updateBrothers(node, addWidth) {\r\n    if (node.parent) {\r\n      let childrenList = node.parent.children\r\n      let index = getNodeIndexInNodeList(node, childrenList)\r\n      childrenList.forEach((item, _index) => {\r\n        if (item.hasCustomPosition()) {\r\n          // 适配自定义位置\r\n          return\r\n        }\r\n        let _offset = 0\r\n        // 上面的节点往上移\r\n        if (_index < index) {\r\n          _offset = -addWidth\r\n        } else if (_index > index) {\r\n          // 下面的节点往下移\r\n          _offset = addWidth\r\n        }\r\n        item.left += _offset\r\n        // 同步更新子节点的位置\r\n        if (item.children && item.children.length) {\r\n          this.updateChildren(item.children, 'left', _offset)\r\n        }\r\n      })\r\n      // 更新父节点的位置\r\n      this.updateBrothers(node.parent, addWidth)\r\n    }\r\n  }\r\n\r\n  //  绘制连线，连接该节点到其子节点\r\n  renderLine(node, lines, style, lineStyle) {\r\n    if (lineStyle === 'direct') {\r\n      this.renderLineDirect(node, lines, style)\r\n    } else {\r\n      this.renderLineStraight(node, lines, style)\r\n    }\r\n  }\r\n\r\n  //  直连风格\r\n  renderLineDirect(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height } = node\r\n    const { nodeUseLineStyle } = this.mindMap.themeConfig\r\n    let x1 = left + width / 2\r\n    let y1 = top + height\r\n    node.children.forEach((item, index) => {\r\n      let x2 = item.left + item.width / 2\r\n      let y2 = item.top\r\n      // 节点使用横线风格，需要额外渲染横线\r\n      let nodeUseLineStylePath = nodeUseLineStyle\r\n        ? ` L ${item.left},${y2} L ${item.left + item.width},${y2}`\r\n        : ''\r\n      let path = `M ${x1},${y1} L ${x2},${y2}` + nodeUseLineStylePath\r\n      this.setLineStyle(style, lines[index], path, item)\r\n    })\r\n  }\r\n\r\n  //  直线风格连线\r\n  renderLineStraight(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize, isRoot } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    let x1 = left + width / 2\r\n    let y1 = top + height\r\n    let marginX = this.getMarginX(node.layerIndex + 1)\r\n    let s1 = marginX * 0.7\r\n    let minx = Infinity\r\n    let maxx = -Infinity\r\n    let len = node.children.length\r\n    node.children.forEach((item, index) => {\r\n      let x2 = item.left + item.width / 2\r\n      let y2 = y1 + s1 > item.top ? item.top + item.height : item.top\r\n      if (x2 < minx) {\r\n        minx = x2\r\n      }\r\n      if (x2 > maxx) {\r\n        maxx = x2\r\n      }\r\n      // 节点使用横线风格，需要额外渲染横线\r\n      let nodeUseLineStylePath = this.mindMap.themeConfig.nodeUseLineStyle\r\n        ? ` L ${item.left},${y2} L ${item.left + item.width},${y2}`\r\n        : ''\r\n      let path = `M ${x2},${y1 + s1} L ${x2},${y2}` + nodeUseLineStylePath\r\n      this.setLineStyle(style, lines[index], path, item)\r\n    })\r\n    minx = Math.min(x1, minx)\r\n    maxx = Math.max(x1, maxx)\r\n    // 父节点的竖线\r\n    let line1 = this.lineDraw.path()\r\n    node.style.line(line1)\r\n    expandBtnSize = len > 0 && !isRoot ? expandBtnSize : 0\r\n    line1.plot(\r\n      this.transformPath(`M ${x1},${y1 + expandBtnSize} L ${x1},${y1 + s1}`)\r\n    )\r\n    node._lines.push(line1)\r\n    style && style(line1, node)\r\n    // 水平线\r\n    if (len > 0) {\r\n      let lin2 = this.lineDraw.path()\r\n      node.style.line(lin2)\r\n      lin2.plot(this.transformPath(`M ${minx},${y1 + s1} L ${maxx},${y1 + s1}`))\r\n      node._lines.push(lin2)\r\n      style && style(lin2, node)\r\n    }\r\n  }\r\n\r\n  //  渲染按钮\r\n  renderExpandBtn(node, btn) {\r\n    let { width, height, expandBtnSize } = node\r\n    let { translateX, translateY } = btn.transform()\r\n    btn.translate(\r\n      width / 2 - expandBtnSize / 2 - translateX,\r\n      height + expandBtnSize / 2 - translateY\r\n    )\r\n  }\r\n\r\n  //  创建概要节点\r\n  renderGeneralization(list) {\r\n    list.forEach(item => {\r\n      let {\r\n        bottom,\r\n        left,\r\n        right,\r\n        generalizationLineMargin,\r\n        generalizationNodeMargin\r\n      } = this.getNodeGeneralizationRenderBoundaries(item, 'v')\r\n      let x1 = left\r\n      let y1 = bottom + generalizationLineMargin\r\n      let x2 = right\r\n      let y2 = bottom + generalizationLineMargin\r\n      let cx = x1 + (x2 - x1) / 2\r\n      let cy = y1 + 20\r\n      let path = `M ${x1},${y1} Q ${cx},${cy} ${x2},${y2}`\r\n      item.generalizationLine.plot(this.transformPath(path))\r\n      item.generalizationNode.top = bottom + generalizationNodeMargin\r\n      item.generalizationNode.left =\r\n        left + (right - left - item.generalizationNode.width) / 2\r\n    })\r\n  }\r\n\r\n  // 渲染展开收起按钮的隐藏占位元素\r\n  renderExpandBtnRect(rect, expandBtnSize, width, height, node) {\r\n    rect.size(width, expandBtnSize).x(0).y(height)\r\n  }\r\n}\r\n\r\nexport default OrganizationStructure\r\n", "import Base from './Base'\r\nimport { walk, asyncRun, getNodeIndexInNodeList } from '../utils'\r\nimport { CONSTANTS } from '../constants/constant'\r\n\r\n//  时间轴\r\nclass Timeline extends Base {\r\n  //  构造函数\r\n  constructor(opt = {}, layout) {\r\n    super(opt)\r\n    this.layout = layout\r\n  }\r\n\r\n  //  布局\r\n  doLayout(callback) {\r\n    let task = [\r\n      () => {\r\n        this.computedBaseValue()\r\n      },\r\n      () => {\r\n        this.computedLeftTopValue()\r\n      },\r\n      () => {\r\n        this.adjustLeftTopValue()\r\n      },\r\n      () => {\r\n        callback(this.root)\r\n      }\r\n    ]\r\n    asyncRun(task)\r\n  }\r\n\r\n  //  遍历数据创建节点、计算根节点的位置，计算根节点的子节点的top值\r\n  computedBaseValue() {\r\n    walk(\r\n      this.renderer.renderTree,\r\n      null,\r\n      (cur, parent, isRoot, layerIndex, index, ancestors) => {\r\n        let newNode = this.createNode(cur, parent, isRoot, layerIndex, index, ancestors)\r\n        // 根节点定位在画布中心位置\r\n        if (isRoot) {\r\n          this.setNodeCenter(newNode)\r\n        } else {\r\n          // 非根节点\r\n          // 时间轴2类型需要交替显示\r\n          if (this.layout === CONSTANTS.LAYOUT.TIMELINE2) {\r\n            // 三级及以下节点以上级为准\r\n            if (parent._node.dir) {\r\n              newNode.dir = parent._node.dir\r\n            } else {\r\n              // 节点生长方向\r\n              newNode.dir =\r\n                index % 2 === 0\r\n                  ? CONSTANTS.LAYOUT_GROW_DIR.BOTTOM\r\n                  : CONSTANTS.LAYOUT_GROW_DIR.TOP\r\n            }\r\n          } else {\r\n            newNode.dir = ''\r\n          }\r\n          if (parent._node.isRoot) {\r\n            newNode.top =\r\n              parent._node.top +\r\n              (cur._node.height > parent._node.height\r\n                ? -(cur._node.height - parent._node.height) / 2\r\n                : (parent._node.height - cur._node.height) / 2)\r\n          }\r\n        }\r\n        if (!cur.data.expand) {\r\n          return true\r\n        }\r\n      },\r\n      null,\r\n      true,\r\n      0\r\n    )\r\n  }\r\n\r\n  //  遍历节点树计算节点的left、top\r\n  computedLeftTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex, index) => {\r\n        if (node.getData('expand') && node.children && node.children.length) {\r\n          let marginX = this.getMarginX(layerIndex + 1)\r\n          let marginY = this.getMarginY(layerIndex + 1)\r\n          if (isRoot) {\r\n            let left = node.left + node.width\r\n            let totalLeft = left + marginX\r\n            node.children.forEach(cur => {\r\n              cur.left = totalLeft\r\n              totalLeft += cur.width + marginX\r\n            })\r\n          } else {\r\n            let totalTop =\r\n              node.top +\r\n              node.height +\r\n              marginY +\r\n              (this.getNodeActChildrenLength(node) > 0 ? node.expandBtnSize : 0)\r\n            node.children.forEach(cur => {\r\n              cur.left = node.left + node.width * 0.5\r\n              cur.top = totalTop\r\n              totalTop +=\r\n                cur.height +\r\n                marginY +\r\n                (this.getNodeActChildrenLength(cur) > 0 ? cur.expandBtnSize : 0)\r\n            })\r\n          }\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  调整节点left、top\r\n  adjustLeftTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (!node.getData('expand')) {\r\n          return\r\n        }\r\n        // 调整left\r\n        if (node.isRoot) {\r\n          this.updateBrothersLeft(node)\r\n        }\r\n        // 调整top\r\n        let len = node.children.length\r\n        if (parent && !parent.isRoot && len > 0) {\r\n          let marginY = this.getMarginY(layerIndex + 1)\r\n          let totalHeight =\r\n            node.children.reduce((h, item) => {\r\n              return (\r\n                h +\r\n                item.height +\r\n                (this.getNodeActChildrenLength(item) > 0\r\n                  ? item.expandBtnSize\r\n                  : 0)\r\n              )\r\n            }, 0) +\r\n            len * marginY\r\n          this.updateBrothersTop(node, totalHeight)\r\n        }\r\n      },\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (\r\n          parent &&\r\n          parent.isRoot &&\r\n          node.dir === CONSTANTS.LAYOUT_GROW_DIR.TOP\r\n        ) {\r\n          // 遍历二级节点的子节点\r\n          node.children.forEach(item => {\r\n            let totalHeight = this.getNodeAreaHeight(item)\r\n            let _top = item.top\r\n            item.top =\r\n              node.top - (item.top - node.top) - totalHeight + node.height\r\n            this.updateChildren(item.children, 'top', item.top - _top)\r\n          })\r\n        }\r\n      },\r\n      true\r\n    )\r\n  }\r\n\r\n  //  递归计算节点的宽度\r\n  getNodeAreaHeight(node) {\r\n    let totalHeight = 0\r\n    let loop = node => {\r\n      totalHeight +=\r\n        node.height +\r\n        (this.getNodeActChildrenLength(node) > 0 ? node.expandBtnSize : 0) +\r\n        this.getMarginY(node.layerIndex)\r\n      if (node.children.length) {\r\n        node.children.forEach(item => {\r\n          loop(item)\r\n        })\r\n      }\r\n    }\r\n    loop(node)\r\n    return totalHeight\r\n  }\r\n\r\n  //  调整兄弟节点的left\r\n  updateBrothersLeft(node) {\r\n    let childrenList = node.children\r\n    let totalAddWidth = 0\r\n    childrenList.forEach(item => {\r\n      item.left += totalAddWidth\r\n      if (item.children && item.children.length) {\r\n        this.updateChildren(item.children, 'left', totalAddWidth)\r\n      }\r\n      // let areaWidth = this.getNodeAreaWidth(item)\r\n      let { left, right } = this.getNodeBoundaries(item, 'h')\r\n      let areaWidth = right - left\r\n      let difference = areaWidth - item.width\r\n      if (difference > 0) {\r\n        totalAddWidth += difference\r\n      }\r\n    })\r\n  }\r\n\r\n  //  调整兄弟节点的top\r\n  updateBrothersTop(node, addHeight) {\r\n    if (node.parent && !node.parent.isRoot) {\r\n      let childrenList = node.parent.children\r\n      let index = getNodeIndexInNodeList(node, childrenList)\r\n      childrenList.forEach((item, _index) => {\r\n        if (item.hasCustomPosition()) {\r\n          // 适配自定义位置\r\n          return\r\n        }\r\n        let _offset = 0\r\n        // 下面的节点往下移\r\n        if (_index > index) {\r\n          _offset = addHeight\r\n        }\r\n        item.top += _offset\r\n        // 同步更新子节点的位置\r\n        if (item.children && item.children.length) {\r\n          this.updateChildren(item.children, 'top', _offset)\r\n        }\r\n      })\r\n      // 更新父节点的位置\r\n      this.updateBrothersTop(node.parent, addHeight)\r\n    }\r\n  }\r\n\r\n  //  绘制连线，连接该节点到其子节点\r\n  renderLine(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    let len = node.children.length\r\n    if (node.isRoot) {\r\n      // 当前节点是根节点\r\n      let prevBother = node\r\n      // 根节点的子节点是和根节点同一水平线排列\r\n      node.children.forEach((item, index) => {\r\n        let x1 = prevBother.left + prevBother.width\r\n        let x2 = item.left\r\n        let y = node.top + node.height / 2\r\n        let path = `M ${x1},${y} L ${x2},${y}`\r\n        this.setLineStyle(style, lines[index], path, item)\r\n        prevBother = item\r\n      })\r\n    } else {\r\n      // 当前节点为非根节点\r\n      let maxy = -Infinity\r\n      let miny = Infinity\r\n      let x = node.left + node.width * 0.3\r\n      node.children.forEach((item, index) => {\r\n        let y = item.top + item.height / 2\r\n        if (y > maxy) {\r\n          maxy = y\r\n        }\r\n        if (y < miny) {\r\n          miny = y\r\n        }\r\n        // 水平线\r\n        let path = `M ${x},${y} L ${item.left},${y}`\r\n        this.setLineStyle(style, lines[index], path, item)\r\n      })\r\n      // 竖线\r\n      if (len > 0) {\r\n        let line = this.lineDraw.path()\r\n        expandBtnSize = len > 0 ? expandBtnSize : 0\r\n        if (\r\n          node.parent &&\r\n          node.parent.isRoot &&\r\n          node.dir === CONSTANTS.LAYOUT_GROW_DIR.TOP\r\n        ) {\r\n          line.plot(this.transformPath(`M ${x},${top} L ${x},${miny}`))\r\n        } else {\r\n          line.plot(\r\n            this.transformPath(\r\n              `M ${x},${top + height + expandBtnSize} L ${x},${maxy}`\r\n            )\r\n          )\r\n        }\r\n        node.style.line(line)\r\n        node._lines.push(line)\r\n        style && style(line, node)\r\n      }\r\n    }\r\n  }\r\n\r\n  //  渲染按钮\r\n  renderExpandBtn(node, btn) {\r\n    let { width, height, expandBtnSize, isRoot } = node\r\n    if (!isRoot) {\r\n      let { translateX, translateY } = btn.transform()\r\n      if (\r\n        node.parent &&\r\n        node.parent.isRoot &&\r\n        node.dir === CONSTANTS.LAYOUT_GROW_DIR.TOP\r\n      ) {\r\n        btn.translate(\r\n          width * 0.3 - expandBtnSize / 2 - translateX,\r\n          -expandBtnSize / 2 - translateY\r\n        )\r\n      } else {\r\n        btn.translate(\r\n          width * 0.3 - expandBtnSize / 2 - translateX,\r\n          height + expandBtnSize / 2 - translateY\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  //  创建概要节点\r\n  renderGeneralization(list) {\r\n    list.forEach(item => {\r\n      let {\r\n        top,\r\n        bottom,\r\n        right,\r\n        generalizationLineMargin,\r\n        generalizationNodeMargin\r\n      } = this.getNodeGeneralizationRenderBoundaries(item, 'h')\r\n      let x1 = right + generalizationLineMargin\r\n      let y1 = top\r\n      let x2 = right + generalizationLineMargin\r\n      let y2 = bottom\r\n      let cx = x1 + 20\r\n      let cy = y1 + (y2 - y1) / 2\r\n      let path = `M ${x1},${y1} Q ${cx},${cy} ${x2},${y2}`\r\n      item.generalizationLine.plot(this.transformPath(path))\r\n      item.generalizationNode.left = right + generalizationNodeMargin\r\n      item.generalizationNode.top =\r\n        top + (bottom - top - item.generalizationNode.height) / 2\r\n    })\r\n  }\r\n\r\n  // 渲染展开收起按钮的隐藏占位元素\r\n  renderExpandBtnRect(rect, expandBtnSize, width, height, node) {\r\n    if (this.layout === CONSTANTS.LAYOUT.TIMELINE) {\r\n      rect.size(width, expandBtnSize).x(0).y(height)\r\n    } else {\r\n      let dir = ''\r\n      if (node.dir === CONSTANTS.LAYOUT_GROW_DIR.TOP) {\r\n        dir =\r\n          node.layerIndex === 1\r\n            ? CONSTANTS.LAYOUT_GROW_DIR.TOP\r\n            : CONSTANTS.LAYOUT_GROW_DIR.BOTTOM\r\n      } else {\r\n        dir = CONSTANTS.LAYOUT_GROW_DIR.BOTTOM\r\n      }\r\n      if (dir === CONSTANTS.LAYOUT_GROW_DIR.TOP) {\r\n        rect.size(width, expandBtnSize).x(0).y(-expandBtnSize)\r\n      } else {\r\n        rect.size(width, expandBtnSize).x(0).y(height)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Timeline\r\n", "import Base from './Base'\r\nimport { walk, asyncRun, getNodeIndexInNodeList } from '../utils'\r\nimport { CONSTANTS } from '../constants/constant'\r\n\r\n//  竖向时间轴\r\nclass VerticalTimeline extends Base {\r\n  //  构造函数\r\n  constructor(opt = {}, layout) {\r\n    super(opt)\r\n    this.layout = layout\r\n  }\r\n\r\n  //  布局\r\n  doLayout(callback) {\r\n    let task = [\r\n      () => {\r\n        this.computedBaseValue()\r\n      },\r\n      () => {\r\n        this.computedTopValue()\r\n      },\r\n      () => {\r\n        this.adjustLeftTopValue()\r\n      },\r\n      () => {\r\n        callback(this.root)\r\n      }\r\n    ]\r\n    asyncRun(task)\r\n  }\r\n\r\n  //  遍历数据创建节点、计算根节点的位置，计算根节点的子节点的top值\r\n  computedBaseValue() {\r\n    walk(\r\n      this.renderer.renderTree,\r\n      null,\r\n      (cur, parent, isRoot, layerIndex, index, ancestors) => {\r\n        let newNode = this.createNode(cur, parent, isRoot, layerIndex, index, ancestors)\r\n        // 根节点定位在画布中心位置\r\n        if (isRoot) {\r\n          this.setNodeCenter(newNode)\r\n        } else {\r\n          // 非根节点\r\n          // 节点生长方向\r\n          // 三级及以下节点以上级为准\r\n          if (parent._node.dir) {\r\n            newNode.dir = parent._node.dir\r\n          } else {\r\n            newNode.dir =\r\n              index % 2 === 0\r\n                ? CONSTANTS.LAYOUT_GROW_DIR.RIGHT\r\n                : CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n          }\r\n          // 定位二级节点的left\r\n          if (parent._node.isRoot) {\r\n            newNode.left =\r\n              parent._node.left +\r\n              (cur._node.width > parent._node.width\r\n                ? -(cur._node.width - parent._node.width) / 2\r\n                : (parent._node.width - cur._node.width) / 2)\r\n          } else {\r\n            newNode.left =\r\n              newNode.dir === CONSTANTS.LAYOUT_GROW_DIR.RIGHT\r\n                ? parent._node.left +\r\n                  parent._node.width +\r\n                  this.getMarginX(layerIndex)\r\n                : parent._node.left -\r\n                  this.getMarginX(layerIndex) -\r\n                  newNode.width\r\n          }\r\n        }\r\n        if (!cur.data.expand) {\r\n          return true\r\n        }\r\n      },\r\n      (cur, parent, isRoot, layerIndex) => {\r\n        // 返回时计算节点的areaHeight，也就是子节点所占的高度之和，包括外边距\r\n        if (isRoot) {\r\n          return\r\n        }\r\n        let len = cur.data.expand === false ? 0 : cur._node.children.length\r\n        cur._node.childrenAreaHeight = len\r\n          ? cur._node.children.reduce((h, item) => {\r\n              return h + item.height\r\n            }, 0) +\r\n            (len + 1) * this.getMarginY(layerIndex + 1)\r\n          : 0\r\n      },\r\n      true,\r\n      0\r\n    )\r\n  }\r\n\r\n  //  遍历节点树计算节点的top\r\n  computedTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex, index) => {\r\n        if (node.getData('expand') && node.children && node.children.length) {\r\n          let marginY = this.getMarginY(layerIndex + 1)\r\n          // 定位二级节点的top\r\n          if (isRoot) {\r\n            let top = node.top + node.height\r\n            let totalTop = top + marginY\r\n            node.children.forEach(cur => {\r\n              cur.top = totalTop\r\n              totalTop += cur.height + marginY\r\n            })\r\n          } else {\r\n            // 定位三级及以下节点的top\r\n            let marginY = this.getMarginY(layerIndex + 1)\r\n            let baseTop = node.top + node.height / 2 + marginY\r\n            // 第一个子节点的top值 = 该节点中心的top值 - 子节点的高度之和的一半\r\n            let totalTop = baseTop - node.childrenAreaHeight / 2\r\n            node.children.forEach(cur => {\r\n              cur.top = totalTop\r\n              totalTop += cur.height + marginY\r\n            })\r\n          }\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  调整节点left、top\r\n  adjustLeftTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (!node.getData('expand')) {\r\n          return\r\n        }\r\n        if (isRoot) return\r\n        // 判断子节点所占的高度之和是否大于该节点自身，大于则需要调整位置\r\n        let base = this.getMarginY(layerIndex + 1) * 2 + node.height\r\n        let difference = node.childrenAreaHeight - base\r\n        if (difference > 0) {\r\n          this.updateBrothers(node, difference / 2)\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  更新兄弟节点的top\r\n  updateBrothers(node, addHeight) {\r\n    if (node.parent) {\r\n      let childrenList = node.parent.children\r\n      let index = getNodeIndexInNodeList(node, childrenList)\r\n      childrenList.forEach((item, _index) => {\r\n        // 自定义节点位置\r\n        if (item.hasCustomPosition()) return\r\n        // 三级或三级以下节点自身位置不需要动\r\n        if (!node.parent.isRoot && item.uid === node.uid) return\r\n        let _offset = 0\r\n        // 二级节点上面的兄弟节点不需要移动，自身需要往下移动\r\n        if (node.parent.isRoot) {\r\n          // 上面的节点不用移\r\n          if (_index < index) {\r\n            _offset = 0\r\n          } else if (_index > index) {\r\n            // 下面的节点往下移\r\n            _offset = addHeight * 2\r\n          } else {\r\n            // 自身也要移动\r\n            _offset = addHeight\r\n          }\r\n        } else {\r\n          // 三级或三级以下节点两侧的兄弟节点向两侧移动\r\n          // 上面的节点往上移\r\n          if (_index < index) {\r\n            _offset = -addHeight\r\n          } else if (_index > index) {\r\n            // 下面的节点往下移\r\n            _offset = addHeight\r\n          }\r\n        }\r\n        item.top += _offset\r\n        // 同步更新子节点的位置\r\n        if (item.children && item.children.length) {\r\n          this.updateChildren(item.children, 'top', _offset)\r\n        }\r\n      })\r\n      // 更新父节点的位置\r\n      this.updateBrothers(node.parent, addHeight)\r\n    }\r\n  }\r\n\r\n  //  调整兄弟节点的top\r\n  updateBrothersTop(node, addHeight) {\r\n    if (node.parent && !node.parent.isRoot) {\r\n      let childrenList = node.parent.children\r\n      let index = getNodeIndexInNodeList(node, childrenList)\r\n      childrenList.forEach((item, _index) => {\r\n        if (item.hasCustomPosition()) {\r\n          // 适配自定义位置\r\n          return\r\n        }\r\n        let _offset = 0\r\n        // 下面的节点往下移\r\n        if (_index > index) {\r\n          _offset = addHeight\r\n        }\r\n        item.top += _offset\r\n        // 同步更新子节点的位置\r\n        if (item.children && item.children.length) {\r\n          this.updateChildren(item.children, 'top', _offset)\r\n        }\r\n      })\r\n      // 更新父节点的位置\r\n      this.updateBrothersTop(node.parent, addHeight)\r\n    }\r\n  }\r\n\r\n  //  绘制连线，连接该节点到其子节点\r\n  renderLine(node, lines, style, lineStyle) {\r\n    if (lineStyle === 'curve') {\r\n      this.renderLineCurve(node, lines, style)\r\n    } else if (lineStyle === 'direct') {\r\n      this.renderLineDirect(node, lines, style)\r\n    } else {\r\n      this.renderLineStraight(node, lines, style)\r\n    }\r\n  }\r\n\r\n  // 直线连接\r\n  renderLineStraight(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    if (node.isRoot) {\r\n      // 当前节点是根节点\r\n      let prevBother = node\r\n      // 根节点的子节点是和根节点同一水平线排列\r\n      node.children.forEach((item, index) => {\r\n        let y1 = prevBother.top + prevBother.height\r\n        let y2 = item.top\r\n        let x = node.left + node.width / 2\r\n        let path = `M ${x},${y1} L ${x},${y2}`\r\n        this.setLineStyle(style, lines[index], path, item)\r\n        prevBother = item\r\n      })\r\n    } else {\r\n      // 当前节点为非根节点\r\n      if (node.dir === CONSTANTS.LAYOUT_GROW_DIR.RIGHT) {\r\n        let nodeRight = node.left + node.width\r\n        let nodeYCenter = node.top + node.height / 2\r\n        let marginX = this.getMarginX(node.layerIndex + 1)\r\n        let offset = (marginX - expandBtnSize) * 0.6\r\n        node.children.forEach((item, index) => {\r\n          let itemLeft = item.left\r\n          let itemYCenter = item.top + item.height / 2\r\n          let path = this.createFoldLine([\r\n            [nodeRight, nodeYCenter],\r\n            [nodeRight + offset, nodeYCenter],\r\n            [nodeRight + offset, itemYCenter],\r\n            [itemLeft, itemYCenter]\r\n          ])\r\n          this.setLineStyle(style, lines[index], path, item)\r\n        })\r\n      } else {\r\n        let nodeLeft = node.left\r\n        let nodeYCenter = node.top + node.height / 2\r\n        let marginX = this.getMarginX(node.layerIndex + 1)\r\n        let offset = (marginX - expandBtnSize) * 0.6\r\n        node.children.forEach((item, index) => {\r\n          let itemRight = item.left + item.width\r\n          let itemYCenter = item.top + item.height / 2\r\n          let path = this.createFoldLine([\r\n            [nodeLeft, nodeYCenter],\r\n            [nodeLeft - offset, nodeYCenter],\r\n            [nodeLeft - offset, itemYCenter],\r\n            [itemRight, itemYCenter]\r\n          ])\r\n          this.setLineStyle(style, lines[index], path, item)\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  // 直连\r\n  renderLineDirect(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    node.children.forEach((item, index) => {\r\n      if (node.isRoot) {\r\n        let prevBother = node\r\n        // 根节点的子节点是和根节点同一水平线排列\r\n        node.children.forEach((item, index) => {\r\n          let y1 = prevBother.top + prevBother.height\r\n          let y2 = item.top\r\n          let x = node.left + node.width / 2\r\n          let path = `M ${x},${y1} L ${x},${y2}`\r\n          this.setLineStyle(style, lines[index], path, item)\r\n          prevBother = item\r\n        })\r\n      } else {\r\n        let x1 =\r\n          item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n            ? left - expandBtnSize\r\n            : left + width + expandBtnSize\r\n        let y1 = top + height / 2\r\n        let x2 =\r\n          item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n            ? item.left + item.width\r\n            : item.left\r\n        let y2 = item.top + item.height / 2\r\n        let path = `M ${x1},${y1} L ${x2},${y2}`\r\n        this.setLineStyle(style, lines[index], path, item)\r\n      }\r\n    })\r\n  }\r\n\r\n  //  曲线风格连线\r\n  renderLineCurve(node, lines, style) {\r\n    if (node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { left, top, width, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    node.children.forEach((item, index) => {\r\n      if (node.isRoot) {\r\n        let prevBother = node\r\n        // 根节点的子节点是和根节点同一水平线排列\r\n        node.children.forEach((item, index) => {\r\n          let y1 = prevBother.top + prevBother.height\r\n          let y2 = item.top\r\n          let x = node.left + node.width / 2\r\n          let path = `M ${x},${y1} L ${x},${y2}`\r\n          this.setLineStyle(style, lines[index], path, item)\r\n          prevBother = item\r\n        })\r\n      } else {\r\n        let x1 =\r\n          item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n            ? left - expandBtnSize\r\n            : left + width + expandBtnSize\r\n        let y1 = top + height / 2\r\n        let x2 =\r\n          item.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n            ? item.left + item.width\r\n            : item.left\r\n        let y2 = item.top + item.height / 2\r\n        let path = this.cubicBezierPath(x1, y1, x2, y2)\r\n        this.setLineStyle(style, lines[index], path, item)\r\n      }\r\n    })\r\n  }\r\n\r\n  //  渲染按钮\r\n  renderExpandBtn(node, btn) {\r\n    let { width, height, expandBtnSize, isRoot } = node\r\n    if (!isRoot) {\r\n      let { translateX, translateY } = btn.transform()\r\n      if (node.dir === CONSTANTS.LAYOUT_GROW_DIR.RIGHT) {\r\n        btn.translate(width - translateX, height / 2 - translateY)\r\n      } else {\r\n        btn.translate(-expandBtnSize - translateX, height / 2 - translateY)\r\n      }\r\n    }\r\n  }\r\n\r\n  //  创建概要节点\r\n  renderGeneralization(list) {\r\n    list.forEach(item => {\r\n      let isLeft = item.node.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT\r\n      let {\r\n        top,\r\n        bottom,\r\n        left,\r\n        right,\r\n        generalizationLineMargin,\r\n        generalizationNodeMargin\r\n      } = this.getNodeGeneralizationRenderBoundaries(item, 'h')\r\n      let x = isLeft\r\n        ? left - generalizationLineMargin\r\n        : right + generalizationLineMargin\r\n      let x1 = x\r\n      let y1 = top\r\n      let x2 = x\r\n      let y2 = bottom\r\n      let cx = x1 + (isLeft ? -20 : 20)\r\n      let cy = y1 + (y2 - y1) / 2\r\n      let path = `M ${x1},${y1} Q ${cx},${cy} ${x2},${y2}`\r\n      item.generalizationLine.plot(this.transformPath(path))\r\n      item.generalizationNode.left =\r\n        x +\r\n        (isLeft ? -generalizationNodeMargin : generalizationNodeMargin) -\r\n        (isLeft ? item.generalizationNode.width : 0)\r\n      item.generalizationNode.top =\r\n        top + (bottom - top - item.generalizationNode.height) / 2\r\n    })\r\n  }\r\n\r\n  // 渲染展开收起按钮的隐藏占位元素\r\n  renderExpandBtnRect(rect, expandBtnSize, width, height, node) {\r\n    if (node.dir === CONSTANTS.LAYOUT_GROW_DIR.LEFT) {\r\n      rect.size(expandBtnSize, height).x(-expandBtnSize).y(0)\r\n    } else {\r\n      rect.size(expandBtnSize, height).x(width).y(0)\r\n    }\r\n  }\r\n}\r\n\r\nexport default VerticalTimeline\r\n", "import { degToRad } from '../utils/'\r\n\r\nexport default {\r\n  top: {\r\n    renderExpandBtn({\r\n      node,\r\n      btn,\r\n      expandBtnSize,\r\n      translateX,\r\n      translateY,\r\n      width,\r\n      height\r\n    }) {\r\n      if (node.parent && node.parent.isRoot) {\r\n        btn.translate(\r\n          width * 0.3 - expandBtnSize / 2 - translateX,\r\n          -expandBtnSize / 2 - translateY\r\n        )\r\n      } else {\r\n        btn.translate(\r\n          width * 0.3 - expandBtnSize / 2 - translateX,\r\n          height + expandBtnSize / 2 - translateY\r\n        )\r\n      }\r\n    },\r\n    renderLine({\r\n      node,\r\n      line,\r\n      top,\r\n      x,\r\n      lineLength,\r\n      height,\r\n      expandBtnSize,\r\n      maxy,\r\n      ctx\r\n    }) {\r\n      if (node.parent && node.parent.isRoot) {\r\n        line.plot(\r\n          ctx.transformPath(\r\n            `M ${x},${top} L ${x + lineLength},${\r\n              top - Math.tan(degToRad(ctx.mindMap.opt.fishboneDeg)) * lineLength\r\n            }`\r\n          )\r\n        )\r\n      } else {\r\n        line.plot(\r\n          ctx.transformPath(\r\n            `M ${x},${top + height + expandBtnSize} L ${x},${maxy}`\r\n          )\r\n        )\r\n      }\r\n    },\r\n    computedLeftTopValue({ layerIndex, node, ctx }) {\r\n      if (layerIndex >= 1 && node.children) {\r\n        // 遍历三级及以下节点的子节点\r\n        let marginY = ctx.getMarginY(layerIndex + 1)\r\n        let startLeft = node.left + node.width * ctx.childIndent\r\n        let totalTop =\r\n          node.top +\r\n          node.height +\r\n          (ctx.getNodeActChildrenLength(node) > 0 ? node.expandBtnSize : 0) +\r\n          marginY\r\n        node.children.forEach(item => {\r\n          item.left = startLeft\r\n          item.top += totalTop\r\n          totalTop +=\r\n            item.height +\r\n            (ctx.getNodeActChildrenLength(item) > 0 ? item.expandBtnSize : 0) +\r\n            marginY\r\n        })\r\n      }\r\n    },\r\n    adjustLeftTopValueBefore({ node, parent, ctx, layerIndex }) {\r\n      // 调整top\r\n      let len = node.children.length\r\n      let marginY = ctx.getMarginY(layerIndex + 1)\r\n      // 调整三级及以下节点的top\r\n      if (parent && !parent.isRoot && len > 0) {\r\n        let totalHeight = node.children.reduce((h, item) => {\r\n          return (\r\n            h +\r\n            item.height +\r\n            (ctx.getNodeActChildrenLength(item) > 0 ? item.expandBtnSize : 0) +\r\n            marginY\r\n          )\r\n        }, 0)\r\n        ctx.updateBrothersTop(node, totalHeight)\r\n      }\r\n    },\r\n    adjustLeftTopValueAfter({ parent, node, ctx }) {\r\n      // 将二级节点的子节点移到上方\r\n      if (parent && parent.isRoot) {\r\n        // 遍历二级节点的子节点\r\n        let marginY = ctx.getMarginY(node.layerIndex + 1)\r\n        let totalHeight = node.expandBtnSize + marginY\r\n        node.children.forEach(item => {\r\n          // 调整top\r\n          let nodeTotalHeight = ctx.getNodeAreaHeight(item)\r\n          let _top = item.top\r\n          let _left = item.left\r\n          item.top =\r\n            node.top - (item.top - node.top) - nodeTotalHeight + node.height\r\n          // 调整left\r\n          item.left =\r\n            node.left +\r\n            node.width * ctx.indent +\r\n            (nodeTotalHeight + totalHeight) /\r\n              Math.tan(degToRad(ctx.mindMap.opt.fishboneDeg))\r\n          totalHeight += nodeTotalHeight\r\n          // 同步更新后代节点\r\n          ctx.updateChildrenPro(item.children, {\r\n            top: item.top - _top,\r\n            left: item.left - _left\r\n          })\r\n        })\r\n      }\r\n    }\r\n  },\r\n  bottom: {\r\n    renderExpandBtn({\r\n      node,\r\n      btn,\r\n      expandBtnSize,\r\n      translateX,\r\n      translateY,\r\n      width,\r\n      height\r\n    }) {\r\n      if (node.parent && node.parent.isRoot) {\r\n        btn.translate(\r\n          width * 0.3 - expandBtnSize / 2 - translateX,\r\n          height + expandBtnSize / 2 - translateY\r\n        )\r\n      } else {\r\n        btn.translate(\r\n          width * 0.3 - expandBtnSize / 2 - translateX,\r\n          -expandBtnSize / 2 - translateY\r\n        )\r\n      }\r\n    },\r\n    renderLine({ node, line, top, x, lineLength, height, miny, ctx }) {\r\n      if (node.parent && node.parent.isRoot) {\r\n        line.plot(\r\n          ctx.transformPath(\r\n            `M ${x},${top + height} L ${x + lineLength},${\r\n              top +\r\n              height +\r\n              Math.tan(degToRad(ctx.mindMap.opt.fishboneDeg)) * lineLength\r\n            }`\r\n          )\r\n        )\r\n      } else {\r\n        line.plot(ctx.transformPath(`M ${x},${top} L ${x},${miny}`))\r\n      }\r\n    },\r\n    computedLeftTopValue({ layerIndex, node, ctx }) {\r\n      let marginY = ctx.getMarginY(layerIndex + 1)\r\n      if (layerIndex === 1 && node.children) {\r\n        // 遍历二级节点的子节点\r\n        let startLeft = node.left + node.width * ctx.childIndent\r\n        let totalTop =\r\n          node.top +\r\n          node.height +\r\n          (ctx.getNodeActChildrenLength(node) > 0 ? node.expandBtnSize : 0) +\r\n          marginY\r\n\r\n        node.children.forEach(item => {\r\n          item.left = startLeft\r\n          item.top =\r\n            totalTop +\r\n            (ctx.getNodeActChildrenLength(item) > 0 ? item.expandBtnSize : 0)\r\n          totalTop +=\r\n            item.height +\r\n            (ctx.getNodeActChildrenLength(item) > 0 ? item.expandBtnSize : 0) +\r\n            marginY\r\n        })\r\n      }\r\n      if (layerIndex > 1 && node.children) {\r\n        // 遍历三级及以下节点的子节点\r\n        let startLeft = node.left + node.width * ctx.childIndent\r\n        let totalTop =\r\n          node.top -\r\n          (ctx.getNodeActChildrenLength(node) > 0 ? node.expandBtnSize : 0) -\r\n          marginY\r\n        node.children.forEach(item => {\r\n          item.left = startLeft\r\n          item.top = totalTop - item.height\r\n          totalTop -=\r\n            item.height +\r\n            (ctx.getNodeActChildrenLength(item) > 0 ? item.expandBtnSize : 0) +\r\n            marginY\r\n        })\r\n      }\r\n    },\r\n    adjustLeftTopValueBefore({ node, ctx, layerIndex }) {\r\n      // 调整top\r\n      let marginY = ctx.getMarginY(layerIndex + 1)\r\n      let len = node.children.length\r\n      if (layerIndex > 2 && len > 0) {\r\n        let totalHeight = node.children.reduce((h, item) => {\r\n          return (\r\n            h +\r\n            item.height +\r\n            (ctx.getNodeActChildrenLength(item) > 0 ? item.expandBtnSize : 0) +\r\n            marginY\r\n          )\r\n        }, 0)\r\n        ctx.updateBrothersTop(node, -totalHeight)\r\n      }\r\n    },\r\n    adjustLeftTopValueAfter({ parent, node, ctx }) {\r\n      // 将二级节点的子节点移到上方\r\n      if (parent && parent.isRoot) {\r\n        // 遍历二级节点的子节点\r\n        let marginY = ctx.getMarginY(node.layerIndex + 1)\r\n        let totalHeight = 0\r\n        let totalHeight2 = node.expandBtnSize\r\n        node.children.forEach(item => {\r\n          // 调整top\r\n          let hasChildren = ctx.getNodeActChildrenLength(item) > 0\r\n          let nodeTotalHeight = ctx.getNodeAreaHeight(item)\r\n          let offset = hasChildren\r\n            ? nodeTotalHeight -\r\n              item.height -\r\n              (hasChildren ? item.expandBtnSize : 0)\r\n            : 0\r\n          offset -= hasChildren ? marginY : 0\r\n          let _top = totalHeight + offset\r\n          let _left = item.left\r\n          item.top += _top\r\n          // 调整left\r\n          item.left =\r\n            node.left +\r\n            node.width * ctx.indent +\r\n            (nodeTotalHeight + totalHeight2) /\r\n              Math.tan(degToRad(ctx.mindMap.opt.fishboneDeg))\r\n          totalHeight += offset\r\n          totalHeight2 += nodeTotalHeight\r\n          // 同步更新后代节点\r\n          ctx.updateChildrenPro(item.children, {\r\n            top: _top,\r\n            left: item.left - _left\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n", "import Base from './Base'\r\nimport { walk, asyncRun, degToRad, getNodeIndexInNodeList } from '../utils'\r\nimport { CONSTANTS } from '../constants/constant'\r\nimport utils from './fishboneUtils'\r\n\r\n//  鱼骨图\r\nclass Fishbone extends Base {\r\n  //  构造函数\r\n  constructor(opt = {}) {\r\n    super(opt)\r\n    this.indent = 0.3\r\n    this.childIndent = 0.5\r\n  }\r\n\r\n  //  布局\r\n  doLayout(callback) {\r\n    let task = [\r\n      () => {\r\n        this.computedBaseValue()\r\n      },\r\n      () => {\r\n        this.computedLeftTopValue()\r\n      },\r\n      () => {\r\n        this.adjustLeftTopValue()\r\n      },\r\n      () => {\r\n        callback(this.root)\r\n      }\r\n    ]\r\n    asyncRun(task)\r\n  }\r\n\r\n  //  遍历数据创建节点、计算根节点的位置，计算根节点的子节点的top值\r\n  computedBaseValue() {\r\n    walk(\r\n      this.renderer.renderTree,\r\n      null,\r\n      (node, parent, isRoot, layerIndex, index, ancestors) => {\r\n        // 创建节点\r\n        let newNode = this.createNode(node, parent, isRoot, layerIndex, index, ancestors)\r\n        // 根节点定位在画布中心位置\r\n        if (isRoot) {\r\n          this.setNodeCenter(newNode)\r\n        } else {\r\n          // 非根节点\r\n          // 三级及以下节点以上级方向为准\r\n          if (parent._node.dir) {\r\n            newNode.dir = parent._node.dir\r\n          } else {\r\n            // 节点生长方向\r\n            newNode.dir =\r\n              index % 2 === 0\r\n                ? CONSTANTS.LAYOUT_GROW_DIR.TOP\r\n                : CONSTANTS.LAYOUT_GROW_DIR.BOTTOM\r\n          }\r\n          // 计算二级节点的top值\r\n          if (parent._node.isRoot) {\r\n            let marginY = this.getMarginY(layerIndex)\r\n            if (this.checkIsTop(newNode)) {\r\n              newNode.top = parent._node.top - newNode.height - marginY\r\n            } else {\r\n              newNode.top = parent._node.top + parent._node.height + marginY\r\n            }\r\n          }\r\n        }\r\n        if (!node.data.expand) {\r\n          return true\r\n        }\r\n      },\r\n      null,\r\n      true,\r\n      0\r\n    )\r\n  }\r\n\r\n  //  遍历节点树计算节点的left、top\r\n  computedLeftTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (node.isRoot) {\r\n          let marginX = this.getMarginX(layerIndex + 1)\r\n          let topTotalLeft = node.left + node.width + node.height + marginX\r\n          let bottomTotalLeft = node.left + node.width + node.height + marginX\r\n          node.children.forEach(item => {\r\n            if (this.checkIsTop(item)) {\r\n              item.left = topTotalLeft\r\n              topTotalLeft += item.width + marginX\r\n            } else {\r\n              item.left = bottomTotalLeft + 20\r\n              bottomTotalLeft += item.width + marginX\r\n            }\r\n          })\r\n        }\r\n        let params = { layerIndex, node, ctx: this }\r\n        if (this.checkIsTop(node)) {\r\n          utils.top.computedLeftTopValue(params)\r\n        } else {\r\n          utils.bottom.computedLeftTopValue(params)\r\n        }\r\n      },\r\n      null,\r\n      true\r\n    )\r\n  }\r\n\r\n  //  调整节点left、top\r\n  adjustLeftTopValue() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        if (!node.getData('expand')) {\r\n          return\r\n        }\r\n        let params = { node, parent, layerIndex, ctx: this }\r\n        if (this.checkIsTop(node)) {\r\n          utils.top.adjustLeftTopValueBefore(params)\r\n        } else {\r\n          utils.bottom.adjustLeftTopValueBefore(params)\r\n        }\r\n      },\r\n      (node, parent) => {\r\n        let params = { parent, node, ctx: this }\r\n        if (this.checkIsTop(node)) {\r\n          utils.top.adjustLeftTopValueAfter(params)\r\n        } else {\r\n          utils.bottom.adjustLeftTopValueAfter(params)\r\n        }\r\n        // 调整二级节点的子节点的left值\r\n        if (node.isRoot) {\r\n          let topTotalLeft = 0\r\n          let bottomTotalLeft = 0\r\n          node.children.forEach(item => {\r\n            if (this.checkIsTop(item)) {\r\n              item.left += topTotalLeft\r\n              this.updateChildren(item.children, 'left', topTotalLeft)\r\n              let { left, right } = this.getNodeBoundaries(item, 'h')\r\n              topTotalLeft += right - left\r\n            } else {\r\n              item.left += bottomTotalLeft\r\n              this.updateChildren(item.children, 'left', bottomTotalLeft)\r\n              let { left, right } = this.getNodeBoundaries(item, 'h')\r\n              bottomTotalLeft += right - left\r\n            }\r\n          })\r\n        }\r\n      },\r\n      true\r\n    )\r\n  }\r\n\r\n  //  递归计算节点的宽度\r\n  getNodeAreaHeight(node) {\r\n    let totalHeight = 0\r\n    let loop = node => {\r\n      let marginY = this.getMarginY(node.layerIndex)\r\n      totalHeight +=\r\n        node.height +\r\n        (this.getNodeActChildrenLength(node) > 0 ? node.expandBtnSize : 0) +\r\n        marginY\r\n      if (node.children.length) {\r\n        node.children.forEach(item => {\r\n          loop(item)\r\n        })\r\n      }\r\n    }\r\n    loop(node)\r\n    return totalHeight\r\n  }\r\n\r\n  //  调整兄弟节点的left\r\n  updateBrothersLeft(node) {\r\n    let childrenList = node.children\r\n    let totalAddWidth = 0\r\n    childrenList.forEach(item => {\r\n      item.left += totalAddWidth\r\n      if (item.children && item.children.length) {\r\n        this.updateChildren(item.children, 'left', totalAddWidth)\r\n      }\r\n      let { left, right } = this.getNodeBoundaries(item, 'h')\r\n      let areaWidth = right - left\r\n      let difference = areaWidth - item.width\r\n      if (difference > 0) {\r\n        totalAddWidth += difference\r\n      }\r\n    })\r\n  }\r\n\r\n  //  调整兄弟节点的top\r\n  updateBrothersTop(node, addHeight) {\r\n    if (node.parent && !node.parent.isRoot) {\r\n      let childrenList = node.parent.children\r\n      let index = getNodeIndexInNodeList(node, childrenList)\r\n      childrenList.forEach((item, _index) => {\r\n        if (item.hasCustomPosition()) {\r\n          // 适配自定义位置\r\n          return\r\n        }\r\n        let _offset = 0\r\n        // 下面的节点往下移\r\n        if (_index > index) {\r\n          _offset = addHeight\r\n        }\r\n        item.top += _offset\r\n        // 同步更新子节点的位置\r\n        if (item.children && item.children.length) {\r\n          this.updateChildren(item.children, 'top', _offset)\r\n        }\r\n      })\r\n      // 更新父节点的位置\r\n      if (this.checkIsTop(node)) {\r\n        this.updateBrothersTop(node.parent, addHeight)\r\n      } else {\r\n        this.updateBrothersTop(\r\n          node.parent,\r\n          node.layerIndex === 3 ? 0 : addHeight\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  // 检查节点是否是上方节点\r\n  checkIsTop(node) {\r\n    return node.dir === CONSTANTS.LAYOUT_GROW_DIR.TOP\r\n  }\r\n\r\n  //  绘制连线，连接该节点到其子节点\r\n  renderLine(node, lines, style) {\r\n    if (node.layerIndex !== 1 && node.children.length <= 0) {\r\n      return []\r\n    }\r\n    let { top, height, expandBtnSize } = node\r\n    const { alwaysShowExpandBtn, notShowExpandBtn } = this.mindMap.opt\r\n    if (!alwaysShowExpandBtn || notShowExpandBtn) {\r\n      expandBtnSize = 0\r\n    }\r\n    let len = node.children.length\r\n    if (node.isRoot) {\r\n      // 当前节点是根节点\r\n      // 根节点的子节点是和根节点同一水平线排列\r\n      let maxx = -Infinity\r\n      node.children.forEach(item => {\r\n        if (item.left > maxx) {\r\n          maxx = item.left\r\n        }\r\n        // 水平线段到二级节点的连线\r\n        let marginY = this.getMarginY(item.layerIndex)\r\n        let nodeLineX = item.left\r\n        let offset = node.height / 2 + marginY\r\n        let offsetX = offset / Math.tan(degToRad(this.mindMap.opt.fishboneDeg))\r\n        let line = this.lineDraw.path()\r\n        if (this.checkIsTop(item)) {\r\n          line.plot(\r\n            this.transformPath(\r\n              `M ${nodeLineX - offsetX},${item.top + item.height + offset} L ${\r\n                item.left\r\n              },${item.top + item.height}`\r\n            )\r\n          )\r\n        } else {\r\n          line.plot(\r\n            this.transformPath(\r\n              `M ${nodeLineX - offsetX},${item.top - offset} L ${nodeLineX},${\r\n                item.top\r\n              }`\r\n            )\r\n          )\r\n        }\r\n        node.style.line(line)\r\n        node._lines.push(line)\r\n        style && style(line, node)\r\n      })\r\n      // 从根节点出发的水平线\r\n      let nodeHalfTop = node.top + node.height / 2\r\n      let offset = node.height / 2 + this.getMarginY(node.layerIndex + 1)\r\n      let line = this.lineDraw.path()\r\n      line.plot(\r\n        this.transformPath(\r\n          `M ${node.left + node.width},${nodeHalfTop} L ${\r\n            maxx - offset / Math.tan(degToRad(this.mindMap.opt.fishboneDeg))\r\n          },${nodeHalfTop}`\r\n        )\r\n      )\r\n      node.style.line(line)\r\n      node._lines.push(line)\r\n      style && style(line, node)\r\n    } else {\r\n      // 当前节点为非根节点\r\n      let maxy = -Infinity\r\n      let miny = Infinity\r\n      let maxx = -Infinity\r\n      let x = node.left + node.width * this.indent\r\n      node.children.forEach((item, index) => {\r\n        if (item.left > maxx) {\r\n          maxx = item.left\r\n        }\r\n        let y = item.top + item.height / 2\r\n        if (y > maxy) {\r\n          maxy = y\r\n        }\r\n        if (y < miny) {\r\n          miny = y\r\n        }\r\n        // 水平线\r\n        if (node.layerIndex > 1) {\r\n          let path = `M ${x},${y} L ${item.left},${y}`\r\n          this.setLineStyle(style, lines[index], path, item)\r\n        }\r\n      })\r\n      // 斜线\r\n      if (len >= 0) {\r\n        let line = this.lineDraw.path()\r\n        expandBtnSize = len > 0 ? expandBtnSize : 0\r\n        let lineLength = maxx - node.left - node.width * this.indent\r\n        lineLength = Math.max(lineLength, 0)\r\n        let params = {\r\n          node,\r\n          line,\r\n          top,\r\n          x,\r\n          lineLength,\r\n          height,\r\n          expandBtnSize,\r\n          maxy,\r\n          miny,\r\n          ctx: this\r\n        }\r\n        if (this.checkIsTop(node)) {\r\n          utils.top.renderLine(params)\r\n        } else {\r\n          utils.bottom.renderLine(params)\r\n        }\r\n        node.style.line(line)\r\n        node._lines.push(line)\r\n        style && style(line, node)\r\n      }\r\n    }\r\n  }\r\n\r\n  //  渲染按钮\r\n  renderExpandBtn(node, btn) {\r\n    let { width, height, expandBtnSize, isRoot } = node\r\n    if (!isRoot) {\r\n      let { translateX, translateY } = btn.transform()\r\n      let params = {\r\n        node,\r\n        btn,\r\n        expandBtnSize,\r\n        translateX,\r\n        translateY,\r\n        width,\r\n        height\r\n      }\r\n      if (this.checkIsTop(node)) {\r\n        utils.top.renderExpandBtn(params)\r\n      } else {\r\n        utils.bottom.renderExpandBtn(params)\r\n      }\r\n    }\r\n  }\r\n\r\n  //  创建概要节点\r\n  renderGeneralization(list) {\r\n    list.forEach(item => {\r\n      let {\r\n        top,\r\n        bottom,\r\n        right,\r\n        generalizationLineMargin,\r\n        generalizationNodeMargin\r\n      } = this.getNodeGeneralizationRenderBoundaries(item, 'h')\r\n      let x1 = right + generalizationLineMargin\r\n      let y1 = top\r\n      let x2 = right + generalizationLineMargin\r\n      let y2 = bottom\r\n      let cx = x1 + 20\r\n      let cy = y1 + (y2 - y1) / 2\r\n      let path = `M ${x1},${y1} Q ${cx},${cy} ${x2},${y2}`\r\n      item.generalizationLine.plot(this.transformPath(path))\r\n      item.generalizationNode.left = right + generalizationNodeMargin\r\n      item.generalizationNode.top =\r\n        top + (bottom - top - item.generalizationNode.height) / 2\r\n    })\r\n  }\r\n\r\n  // 渲染展开收起按钮的隐藏占位元素\r\n  renderExpandBtnRect(rect, expandBtnSize, width, height, node) {\r\n    let dir = ''\r\n    if (node.dir === CONSTANTS.LAYOUT_GROW_DIR.TOP) {\r\n      dir =\r\n        node.layerIndex === 1\r\n          ? CONSTANTS.LAYOUT_GROW_DIR.TOP\r\n          : CONSTANTS.LAYOUT_GROW_DIR.BOTTOM\r\n    } else {\r\n      dir =\r\n        node.layerIndex === 1\r\n          ? CONSTANTS.LAYOUT_GROW_DIR.BOTTOM\r\n          : CONSTANTS.LAYOUT_GROW_DIR.TOP\r\n    }\r\n    if (dir === CONSTANTS.LAYOUT_GROW_DIR.TOP) {\r\n      rect.size(width, expandBtnSize).x(0).y(-expandBtnSize)\r\n    } else {\r\n      rect.size(width, expandBtnSize).x(0).y(height)\r\n    }\r\n  }\r\n}\r\n\r\nexport default Fishbone\r\n", "import {\r\n  getStrWithBrFromHtml,\r\n  checkNodeOuter,\r\n  focusInput,\r\n  selectAllInput,\r\n  htmlEscape,\r\n  handleInputPasteText,\r\n  checkSmmFormatData,\r\n  getTextFromHtml\r\n} from '../../utils'\r\nimport { ERROR_TYPES, CONSTANTS } from '../../constants/constant'\r\n\r\n//  节点文字编辑类\r\nexport default class TextEdit {\r\n  //  构造函数\r\n  constructor(renderer) {\r\n    this.renderer = renderer\r\n    this.mindMap = renderer.mindMap\r\n    // 当前编辑的节点\r\n    this.currentNode = null\r\n    // 文本编辑框\r\n    this.textEditNode = null\r\n    // 文本编辑框是否显示\r\n    this.showTextEdit = false\r\n    // 如果编辑过程中缩放画布了，那么缓存当前编辑的内容\r\n    this.cacheEditingText = ''\r\n    this.hasBodyMousedown = false\r\n    this.bindEvent()\r\n  }\r\n\r\n  //  事件\r\n  bindEvent() {\r\n    this.show = this.show.bind(this)\r\n    this.onScale = this.onScale.bind(this)\r\n    this.onKeydown = this.onKeydown.bind(this)\r\n    // 节点双击事件\r\n    this.mindMap.on('node_dblclick', (node, e, isInserting) => {\r\n      this.show({ node, e, isInserting })\r\n    })\r\n    // 点击事件\r\n    this.mindMap.on('draw_click', () => {\r\n      // 隐藏文本编辑框\r\n      this.hideEditTextBox()\r\n    })\r\n    this.mindMap.on('body_mousedown', () => {\r\n      this.hasBodyMousedown = true\r\n    })\r\n    this.mindMap.on('body_click', () => {\r\n      if (!this.hasBodyMousedown) return\r\n      this.hasBodyMousedown = false\r\n      // 隐藏文本编辑框\r\n      if (this.mindMap.opt.isEndNodeTextEditOnClickOuter) {\r\n        this.hideEditTextBox()\r\n      }\r\n    })\r\n    this.mindMap.on('svg_mousedown', () => {\r\n      // 隐藏文本编辑框\r\n      this.hideEditTextBox()\r\n    })\r\n    // 展开收缩按钮点击事件\r\n    this.mindMap.on('expand_btn_click', () => {\r\n      this.hideEditTextBox()\r\n    })\r\n    // 节点激活前事件\r\n    this.mindMap.on('before_node_active', () => {\r\n      this.hideEditTextBox()\r\n    })\r\n    // 鼠标滚动事件\r\n    this.mindMap.on('mousewheel', () => {\r\n      if (\r\n        this.mindMap.opt.mousewheelAction === CONSTANTS.MOUSE_WHEEL_ACTION.MOVE\r\n      ) {\r\n        this.hideEditTextBox()\r\n      }\r\n    })\r\n    // 注册编辑快捷键\r\n    this.mindMap.keyCommand.addShortcut('F2', () => {\r\n      if (this.renderer.activeNodeList.length <= 0) {\r\n        return\r\n      }\r\n      this.show({\r\n        node: this.renderer.activeNodeList[0]\r\n      })\r\n    })\r\n    this.mindMap.on('scale', this.onScale)\r\n    // // 监听按键事件，判断是否自动进入文本编辑模式\r\n    if (this.mindMap.opt.enableAutoEnterTextEditWhenKeydown) {\r\n      window.addEventListener('keydown', this.onKeydown)\r\n    }\r\n    this.mindMap.on('beforeDestroy', () => {\r\n      this.unBindEvent()\r\n    })\r\n  }\r\n\r\n  // 解绑事件\r\n  unBindEvent() {\r\n    window.removeEventListener('keydown', this.onKeydown)\r\n  }\r\n\r\n  // 按键事件\r\n  onKeydown(e) {\r\n    const activeNodeList = this.mindMap.renderer.activeNodeList\r\n    if (activeNodeList.length <= 0 || activeNodeList.length > 1) return\r\n    const node = activeNodeList[0]\r\n    // 当正在输入中文或英文或数字时，如果没有按下组合键，那么自动进入文本编辑模式\r\n    if (node && this.checkIsAutoEnterTextEditKey(e)) {\r\n      this.show({\r\n        node,\r\n        e,\r\n        isInserting: false,\r\n        isFromKeyDown: true\r\n      })\r\n    }\r\n  }\r\n\r\n  // 判断是否是自动进入文本编模式的按钮\r\n  checkIsAutoEnterTextEditKey(e) {\r\n    const keyCode = e.keyCode\r\n    return (\r\n      (keyCode === 229 ||\r\n        (keyCode >= 65 && keyCode <= 90) ||\r\n        (keyCode >= 48 && keyCode <= 57)) &&\r\n      !this.mindMap.keyCommand.hasCombinationKey(e)\r\n    )\r\n  }\r\n\r\n  //  注册临时快捷键\r\n  registerTmpShortcut() {\r\n    // 注册回车快捷键\r\n    this.mindMap.keyCommand.addShortcut('Enter', () => {\r\n      this.hideEditTextBox()\r\n    })\r\n    this.mindMap.keyCommand.addShortcut('Tab', () => {\r\n      this.hideEditTextBox()\r\n    })\r\n  }\r\n\r\n  // 获取当前文本编辑框是否处于显示状态，也就是是否处在文本编辑状态\r\n  isShowTextEdit() {\r\n    if (this.mindMap.richText) {\r\n      return this.mindMap.richText.showTextEdit\r\n    }\r\n    return this.showTextEdit\r\n  }\r\n\r\n  //  显示文本编辑框\r\n  // isInserting：是否是刚创建的节点\r\n  // isFromKeyDown：是否是在按键事件进入的编辑\r\n  async show({\r\n    node,\r\n    isInserting = false,\r\n    isFromKeyDown = false,\r\n    isFromScale = false\r\n  }) {\r\n    // 使用了自定义节点内容那么不响应编辑事件\r\n    if (node.isUseCustomNodeContent()) {\r\n      return\r\n    }\r\n    const { beforeTextEdit } = this.mindMap.opt\r\n    if (typeof beforeTextEdit === 'function') {\r\n      let isShow = false\r\n      try {\r\n        isShow = await beforeTextEdit(node, isInserting)\r\n      } catch (error) {\r\n        isShow = false\r\n        this.mindMap.opt.errorHandler(ERROR_TYPES.BEFORE_TEXT_EDIT_ERROR, error)\r\n      }\r\n      if (!isShow) return\r\n    }\r\n    this.currentNode = node\r\n    const { offsetLeft, offsetTop } = checkNodeOuter(this.mindMap, node)\r\n    this.mindMap.view.translateXY(offsetLeft, offsetTop)\r\n    const rect = node._textData.node.node.getBoundingClientRect()\r\n    const params = {\r\n      node,\r\n      rect,\r\n      isInserting,\r\n      isFromKeyDown,\r\n      isFromScale\r\n    }\r\n    if (this.mindMap.richText) {\r\n      this.mindMap.richText.showEditText(params)\r\n      return\r\n    }\r\n    this.showEditTextBox(params)\r\n  }\r\n\r\n  // 处理画布缩放\r\n  onScale() {\r\n    const node = this.getCurrentEditNode()\r\n    if (!node) return\r\n    if (this.mindMap.richText) {\r\n      this.mindMap.richText.cacheEditingText =\r\n        this.mindMap.richText.getEditText()\r\n      this.mindMap.richText.showTextEdit = false\r\n    } else {\r\n      this.cacheEditingText = this.getEditText()\r\n      this.showTextEdit = false\r\n    }\r\n    this.show({\r\n      node,\r\n      isFromScale: true\r\n    })\r\n  }\r\n\r\n  //  显示文本编辑框\r\n  showEditTextBox({ node, rect, isInserting, isFromKeyDown, isFromScale }) {\r\n    if (this.showTextEdit) return\r\n    const { nodeTextEditZIndex, textAutoWrapWidth, selectTextOnEnterEditText } =\r\n      this.mindMap.opt\r\n    if (!isFromScale) {\r\n      this.mindMap.emit('before_show_text_edit')\r\n    }\r\n    this.registerTmpShortcut()\r\n    if (!this.textEditNode) {\r\n      this.textEditNode = document.createElement('div')\r\n      this.textEditNode.style.cssText = `position:fixed;box-sizing: border-box;background-color:#fff;box-shadow: 0 0 20px rgba(0,0,0,.5);padding: 3px 5px;margin-left: -5px;margin-top: -3px;outline: none; word-break: break-all;`\r\n      this.textEditNode.setAttribute('contenteditable', true)\r\n      this.textEditNode.addEventListener('keyup', e => {\r\n        e.stopPropagation()\r\n      })\r\n      this.textEditNode.addEventListener('click', e => {\r\n        e.stopPropagation()\r\n      })\r\n      this.textEditNode.addEventListener('mousedown', e => {\r\n        e.stopPropagation()\r\n      })\r\n      this.textEditNode.addEventListener('keydown', e => {\r\n        if (this.checkIsAutoEnterTextEditKey(e)) {\r\n          e.stopPropagation()\r\n        }\r\n      })\r\n      this.textEditNode.addEventListener('paste', e => {\r\n        const text = e.clipboardData.getData('text')\r\n        const { isSmm, data } = checkSmmFormatData(text)\r\n        if (isSmm && data[0] && data[0].data) {\r\n          // 只取第一个节点的纯文本\r\n          handleInputPasteText(e, getTextFromHtml(data[0].data.text))\r\n        } else {\r\n          handleInputPasteText(e)\r\n        }\r\n      })\r\n      const targetNode =\r\n        this.mindMap.opt.customInnerElsAppendTo || document.body\r\n      targetNode.appendChild(this.textEditNode)\r\n    }\r\n    let scale = this.mindMap.view.scale\r\n    let lineHeight = node.style.merge('lineHeight')\r\n    let fontSize = node.style.merge('fontSize')\r\n    let textLines = (this.cacheEditingText || node.getData('text'))\r\n      .split(/\\n/gim)\r\n      .map(item => {\r\n        return htmlEscape(item)\r\n      })\r\n    let isMultiLine = node._textData.node.attr('data-ismultiLine') === 'true'\r\n    node.style.domText(this.textEditNode, scale, isMultiLine)\r\n    this.textEditNode.style.zIndex = nodeTextEditZIndex\r\n    this.textEditNode.innerHTML = textLines.join('<br>')\r\n    this.textEditNode.style.minWidth = rect.width + 10 + 'px'\r\n    this.textEditNode.style.minHeight = rect.height + 6 + 'px'\r\n    this.textEditNode.style.left = rect.left + 'px'\r\n    this.textEditNode.style.top = rect.top + 'px'\r\n    this.textEditNode.style.display = 'block'\r\n    this.textEditNode.style.maxWidth = textAutoWrapWidth * scale + 'px'\r\n    if (isMultiLine && lineHeight !== 1) {\r\n      this.textEditNode.style.transform = `translateY(${\r\n        -((lineHeight * fontSize - fontSize) / 2) * scale\r\n      }px)`\r\n    }\r\n    this.showTextEdit = true\r\n    // 选中文本\r\n    // if (!this.cacheEditingText) {\r\n    //   selectAllInput(this.textEditNode)\r\n    // }\r\n    if (isInserting || (selectTextOnEnterEditText && !isFromKeyDown)) {\r\n      selectAllInput(this.textEditNode)\r\n    } else {\r\n      focusInput(this.textEditNode)\r\n    }\r\n    this.cacheEditingText = ''\r\n  }\r\n\r\n  // 删除文本编辑元素\r\n  removeTextEditEl() {\r\n    if (this.mindMap.richText) {\r\n      this.mindMap.richText.removeTextEditEl()\r\n      return\r\n    }\r\n    if (!this.textEditNode) return\r\n    const targetNode = this.mindMap.opt.customInnerElsAppendTo || document.body\r\n    targetNode.removeChild(this.textEditNode)\r\n  }\r\n\r\n  // 获取当前正在编辑的内容\r\n  getEditText() {\r\n    return getStrWithBrFromHtml(this.textEditNode.innerHTML)\r\n  }\r\n\r\n  //  隐藏文本编辑框\r\n  hideEditTextBox() {\r\n    if (this.mindMap.richText) {\r\n      return this.mindMap.richText.hideEditText()\r\n    }\r\n    if (!this.showTextEdit) {\r\n      return\r\n    }\r\n    this.renderer.activeNodeList.forEach(node => {\r\n      let str = this.getEditText()\r\n      this.mindMap.execCommand('SET_NODE_TEXT', node, str)\r\n      if (node.isGeneralization) {\r\n        // 概要节点\r\n        node.generalizationBelongNode.updateGeneralization()\r\n      }\r\n      this.mindMap.render()\r\n    })\r\n    this.mindMap.emit(\r\n      'hide_text_edit',\r\n      this.textEditNode,\r\n      this.renderer.activeNodeList,\r\n      this.currentNode\r\n    )\r\n    this.currentNode = null\r\n    this.textEditNode.style.display = 'none'\r\n    this.textEditNode.innerHTML = ''\r\n    this.textEditNode.style.fontFamily = 'inherit'\r\n    this.textEditNode.style.fontSize = 'inherit'\r\n    this.textEditNode.style.fontWeight = 'normal'\r\n    this.textEditNode.style.transform = 'translateY(0)'\r\n    this.showTextEdit = false\r\n  }\r\n\r\n  // 获取当前正在编辑中的节点实例\r\n  getCurrentEditNode() {\r\n    if (this.mindMap.richText) {\r\n      return this.mindMap.richText.node\r\n    }\r\n    return this.currentNode\r\n  }\r\n}\r\n", "//  默认主题\r\n\r\nexport default {\r\n  // 节点内边距\r\n  paddingX: 15,\r\n  paddingY: 5,\r\n  // 图片显示的最大宽度\r\n  imgMaxWidth: 100,\r\n  // 图片显示的最大高度\r\n  imgMaxHeight: 100,\r\n  // icon的大小\r\n  iconSize: 20,\r\n  // 连线的粗细\r\n  lineWidth: 1,\r\n  // 连线的颜色\r\n  lineColor: '#549688',\r\n  // 连线样式\r\n  lineDasharray: 'none',\r\n  // 连线风格\r\n  lineStyle: 'straight', // 曲线（curve）【仅支持logicalStructure、mindMap、verticalTimeline三种结构】、直线（straight）、直连（direct）【仅支持logicalStructure、mindMap、organizationStructure、verticalTimeline四种结构】\r\n  // 曲线连接时，根节点和其他节点的连接线样式保持统一，默认根节点为 ( 型，其他节点为 { 型，设为true后，都为 { 型。仅支持logicalStructure、mindMap两种结构\r\n  rootLineKeepSameInCurve: true,\r\n  // 曲线连接时，根节点和其他节点的连线起始位置保持统一，默认根节点的连线起始位置在节点中心，其他节点在节点右侧（或左侧），如果该配置设为true，那么根节点的连线起始位置也会在节点右侧（或左侧）\r\n  rootLineStartPositionKeepSameInCurve: false,\r\n  // 直线连接(straight)时，连线的圆角大小，设置为0代表没有圆角，仅支持logicalStructure、mindMap、verticalTimeline三种结构\r\n  lineRadius: 5,\r\n  // 连线是否显示标记，目前只支持箭头\r\n  showLineMarker: false,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 1,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#549688',\r\n  // 概要曲线距节点的距离\r\n  generalizationLineMargin: 0,\r\n  // 概要节点距节点的距离\r\n  generalizationNodeMargin: 20,\r\n  // 关联线默认状态的粗细\r\n  associativeLineWidth: 2,\r\n  // 关联线默认状态的颜色\r\n  associativeLineColor: 'rgb(51, 51, 51)',\r\n  // 关联线激活状态的粗细\r\n  associativeLineActiveWidth: 8,\r\n  // 关联线激活状态的颜色\r\n  associativeLineActiveColor: 'rgba(2, 167, 240, 1)',\r\n  // 关联线样式\r\n  associativeLineDasharray: [6, 4],\r\n  // 关联线文字颜色\r\n  associativeLineTextColor: 'rgb(51, 51, 51)',\r\n  // 关联线文字大小\r\n  associativeLineTextFontSize: 14,\r\n  // 关联线文字行高\r\n  associativeLineTextLineHeight: 1.2,\r\n  // 关联线文字字体\r\n  associativeLineTextFontFamily: '微软雅黑, Microsoft YaHei',\r\n  // 背景颜色\r\n  backgroundColor: '#fafafa',\r\n  // 背景图片\r\n  backgroundImage: 'none',\r\n  // 背景重复\r\n  backgroundRepeat: 'no-repeat',\r\n  // 设置背景图像的起始位置\r\n  backgroundPosition: 'center center',\r\n  // 设置背景图片大小\r\n  backgroundSize: 'cover',\r\n  // 节点使用只有底边横线的样式，仅支持logicalStructure、mindMap、catalogOrganization、organizationStructure四种结构\r\n  nodeUseLineStyle: false,\r\n  // 根节点样式\r\n  root: {\r\n    shape: 'rectangle',\r\n    fillColor: '#549688',\r\n    fontFamily: '微软雅黑, Microsoft YaHei',\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    fontStyle: 'normal',\r\n    lineHeight: 1.5,\r\n    borderColor: 'transparent',\r\n    borderWidth: 0,\r\n    borderDasharray: 'none',\r\n    borderRadius: 5,\r\n    textDecoration: 'none',\r\n    gradientStyle: false,\r\n    startColor: '#549688',\r\n    endColor: '#fff',\r\n    // 连线标记的位置，start（头部）、end（尾部），该配置在showLineMarker配置为true时生效\r\n    lineMarkerDir: 'end'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    shape: 'rectangle',\r\n    marginX: 100,\r\n    marginY: 40,\r\n    fillColor: '#fff',\r\n    fontFamily: '微软雅黑, Microsoft YaHei',\r\n    color: '#565656',\r\n    fontSize: 16,\r\n    fontWeight: 'noraml',\r\n    fontStyle: 'normal',\r\n    lineHeight: 1.5,\r\n    borderColor: '#549688',\r\n    borderWidth: 1,\r\n    borderDasharray: 'none',\r\n    borderRadius: 5,\r\n    textDecoration: 'none',\r\n    gradientStyle: false,\r\n    startColor: '#549688',\r\n    endColor: '#fff',\r\n    lineMarkerDir: 'end'\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    shape: 'rectangle',\r\n    marginX: 50,\r\n    marginY: 0,\r\n    fillColor: 'transparent',\r\n    fontFamily: '微软雅黑, Microsoft YaHei',\r\n    color: '#6a6d6c',\r\n    fontSize: 14,\r\n    fontWeight: 'noraml',\r\n    fontStyle: 'normal',\r\n    lineHeight: 1.5,\r\n    borderColor: 'transparent',\r\n    borderWidth: 0,\r\n    borderRadius: 5,\r\n    borderDasharray: 'none',\r\n    textDecoration: 'none',\r\n    gradientStyle: false,\r\n    startColor: '#549688',\r\n    endColor: '#fff',\r\n    lineMarkerDir: 'end'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    shape: 'rectangle',\r\n    marginX: 100,\r\n    marginY: 40,\r\n    fillColor: '#fff',\r\n    fontFamily: '微软雅黑, Microsoft YaHei',\r\n    color: '#565656',\r\n    fontSize: 16,\r\n    fontWeight: 'noraml',\r\n    fontStyle: 'normal',\r\n    lineHeight: 1.5,\r\n    borderColor: '#549688',\r\n    borderWidth: 1,\r\n    borderDasharray: 'none',\r\n    borderRadius: 5,\r\n    textDecoration: 'none',\r\n    gradientStyle: false,\r\n    startColor: '#549688',\r\n    endColor: '#fff'\r\n  }\r\n}\r\n\r\n// 支持激活样式的属性\r\n// 简单来说，会改变节点大小的都不支持在激活时设置，为了性能考虑，节点切换激活态时不会重新计算节点大小\r\nexport const supportActiveStyle = [\r\n  'fillColor',\r\n  'borderColor',\r\n  'borderWidth',\r\n  'borderDasharray',\r\n  'borderRadius'\r\n]\r\n\r\n// 检测主题配置是否是节点大小无关的\r\nconst nodeSizeIndependenceList = [\r\n  'lineWidth',\r\n  'lineColor',\r\n  'lineDasharray',\r\n  'lineStyle',\r\n  'generalizationLineWidth',\r\n  'generalizationLineColor',\r\n  'associativeLineWidth',\r\n  'associativeLineColor',\r\n  'associativeLineActiveWidth',\r\n  'associativeLineActiveColor',\r\n  'associativeLineTextColor',\r\n  'associativeLineTextFontSize',\r\n  'associativeLineTextLineHeight',\r\n  'associativeLineTextFontFamily',\r\n  'backgroundColor',\r\n  'backgroundImage',\r\n  'backgroundRepeat',\r\n  'backgroundPosition',\r\n  'backgroundSize',\r\n  'rootLineKeepSameInCurve',\r\n  'rootLineStartPositionKeepSameInCurve',\r\n  'showLineMarker',\r\n  'gradientStyle',\r\n  'lineRadius',\r\n  'startColor',\r\n  'endColor'\r\n]\r\nexport const checkIsNodeSizeIndependenceConfig = config => {\r\n  let keys = Object.keys(config)\r\n  for (let i = 0; i < keys.length; i++) {\r\n    if (\r\n      !nodeSizeIndependenceList.find(item => {\r\n        return item === keys[i]\r\n      })\r\n    ) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nexport const lineStyleProps = [\r\n  'lineColor',\r\n  'lineDasharray',\r\n  'lineWidth',\r\n  'lineMarkerDir'\r\n]\r\n", "import merge from 'deepmerge'\r\nimport LogicalStructure from '../../layouts/LogicalStructure'\r\nimport MindMap from '../../layouts/MindMap'\r\nimport CatalogOrganization from '../../layouts/CatalogOrganization'\r\nimport OrganizationStructure from '../../layouts/OrganizationStructure'\r\nimport Timeline from '../../layouts/Timeline'\r\nimport VerticalTimeline from '../../layouts/VerticalTimeline'\r\nimport Fishbone from '../../layouts/Fishbone'\r\nimport TextEdit from './TextEdit'\r\nimport {\r\n  copyNodeTree,\r\n  simpleDeepClone,\r\n  walk,\r\n  bfsWalk,\r\n  loadImage,\r\n  isUndef,\r\n  getTopAncestorsFomNodeList,\r\n  addDataToAppointNodes,\r\n  createUidForAppointNodes,\r\n  formatDataToArray,\r\n  removeFromParentNodeData,\r\n  createUid,\r\n  getNodeDataIndex,\r\n  getNodeIndexInNodeList,\r\n  setDataToClipboard,\r\n  getDataFromClipboard,\r\n  htmlEscape,\r\n  parseAddGeneralizationNodeList,\r\n  checkNodeListIsEqual,\r\n  createSmmFormatData,\r\n  checkSmmFormatData,\r\n  checkIsNodeStyleDataKey,\r\n  removeRichTextStyes,\r\n  formatGetNodeGeneralization,\r\n  sortNodeList,\r\n  throttle\r\n} from '../../utils'\r\nimport { shapeList } from './node/Shape'\r\nimport { lineStyleProps } from '../../themes/default'\r\nimport { CONSTANTS, ERROR_TYPES } from '../../constants/constant'\r\nimport { Polygon } from '@svgdotjs/svg.js'\r\n\r\n// 布局列表\r\nconst layouts = {\r\n  // 逻辑结构图\r\n  [CONSTANTS.LAYOUT.LOGICAL_STRUCTURE]: LogicalStructure,\r\n  // 向左逻辑结构图\r\n  [CONSTANTS.LAYOUT.LOGICAL_STRUCTURE_LEFT]: LogicalStructure,\r\n  // 思维导图\r\n  [CONSTANTS.LAYOUT.MIND_MAP]: MindMap,\r\n  // 目录组织图\r\n  [CONSTANTS.LAYOUT.CATALOG_ORGANIZATION]: CatalogOrganization,\r\n  // 组织结构图\r\n  [CONSTANTS.LAYOUT.ORGANIZATION_STRUCTURE]: OrganizationStructure,\r\n  // 时间轴\r\n  [CONSTANTS.LAYOUT.TIMELINE]: Timeline,\r\n  // 时间轴2\r\n  [CONSTANTS.LAYOUT.TIMELINE2]: Timeline,\r\n  // 竖向时间轴\r\n  [CONSTANTS.LAYOUT.VERTICAL_TIMELINE]: VerticalTimeline,\r\n  // 鱼骨图\r\n  [CONSTANTS.LAYOUT.FISHBONE]: Fishbone\r\n}\r\n\r\n//  渲染\r\nclass Render {\r\n  //  构造函数\r\n  constructor(opt = {}) {\r\n    this.opt = opt\r\n    this.mindMap = opt.mindMap\r\n    this.themeConfig = this.mindMap.themeConfig\r\n    // 渲染树，操作过程中修改的都是这里的数据\r\n    this.renderTree = this.mindMap.opt.data\r\n      ? merge({}, this.mindMap.opt.data)\r\n      : null\r\n    // 是否重新渲染\r\n    this.reRender = false\r\n    // 是否正在渲染中\r\n    this.isRendering = false\r\n    // 是否存在等待渲染\r\n    this.hasWaitRendering = false\r\n    this.waitRenderingParams = []\r\n    // 用于缓存节点\r\n    this.nodeCache = {}\r\n    this.lastNodeCache = {}\r\n    // 触发render的来源\r\n    this.renderSource = ''\r\n    // 当前激活的节点列表\r\n    this.activeNodeList = []\r\n    // 根节点\r\n    this.root = null\r\n    // 文本编辑框，需要再bindEvent之前实例化，否则单击事件只能触发隐藏文本编辑框，而无法保存文本修改\r\n    this.textEdit = new TextEdit(this)\r\n    // 当前复制的数据\r\n    this.lastBeingCopyData = null\r\n    this.beingCopyData = null\r\n    this.beingPasteText = ''\r\n    this.beingPasteImgSize = 0\r\n    this.currentBeingPasteType = ''\r\n    // 节点高亮框\r\n    this.highlightBoxNode = null\r\n    // 上一次节点激活数据\r\n    this.lastActiveNode = null\r\n    this.lastActiveNodeList = []\r\n    // 布局\r\n    this.setLayout()\r\n    // 绑定事件\r\n    this.bindEvent()\r\n    // 注册命令\r\n    this.registerCommands()\r\n    // 注册快捷键\r\n    this.registerShortcutKeys()\r\n  }\r\n\r\n  //  设置布局结构\r\n  setLayout() {\r\n    this.layout = new (\r\n      layouts[this.mindMap.opt.layout]\r\n        ? layouts[this.mindMap.opt.layout]\r\n        : layouts[CONSTANTS.LAYOUT.LOGICAL_STRUCTURE]\r\n    )(this, this.mindMap.opt.layout)\r\n  }\r\n\r\n  // 重新设置思维导图数据\r\n  setData(data) {\r\n    if (this.mindMap.richText) {\r\n      this.renderTree = data ? this.mindMap.richText.handleSetData(data) : null\r\n    } else {\r\n      this.renderTree = data\r\n    }\r\n  }\r\n\r\n  //   绑定事件\r\n  bindEvent() {\r\n    // 画布点击事件清除当前激活节点列表\r\n    this.mindMap.on('draw_click', e => {\r\n      this.clearActiveNodeListOnDrawClick(e, 'click')\r\n    })\r\n    // 画布右键事件事件清除当前激活节点列表\r\n    this.mindMap.on('contextmenu', e => {\r\n      this.clearActiveNodeListOnDrawClick(e, 'contextmenu')\r\n    })\r\n    // 鼠标双击回到根节点\r\n    this.mindMap.svg.on('dblclick', () => {\r\n      if (!this.mindMap.opt.enableDblclickBackToRootNode) return\r\n      this.setRootNodeCenter()\r\n    })\r\n    // 性能模式\r\n    this.performanceMode()\r\n  }\r\n\r\n  // 性能模式，懒加载节点\r\n  performanceMode() {\r\n    const { openPerformance, performanceConfig } = this.mindMap.opt\r\n    const onViewDataChange = throttle(() => {\r\n      if (this.root) {\r\n        this.mindMap.emit('node_tree_render_start')\r\n        this.root.render(\r\n          () => {\r\n            this.mindMap.emit('node_tree_render_end')\r\n          },\r\n          false,\r\n          true\r\n        )\r\n      }\r\n    }, performanceConfig.time)\r\n    let lastOpen = false\r\n    this.mindMap.on('before_update_config', opt => {\r\n      lastOpen = opt.openPerformance\r\n    })\r\n    this.mindMap.on('after_update_config', opt => {\r\n      if (opt.openPerformance && !lastOpen) {\r\n        // 动态开启性能模式\r\n        this.mindMap.on('view_data_change', onViewDataChange)\r\n        this.forceLoadNode()\r\n      }\r\n      if (!opt.openPerformance && lastOpen) {\r\n        // 动态关闭性能模式\r\n        this.mindMap.off('view_data_change', onViewDataChange)\r\n        this.forceLoadNode()\r\n      }\r\n    })\r\n    if (!openPerformance) return\r\n    this.mindMap.on('view_data_change', onViewDataChange)\r\n  }\r\n\r\n  // 强制渲染节点，不考虑是否在画布可视区域内\r\n  forceLoadNode(node) {\r\n    node = node || this.root\r\n    if (node) {\r\n      this.mindMap.emit('node_tree_render_start')\r\n      node.render(() => {\r\n        this.mindMap.emit('node_tree_render_end')\r\n      }, true)\r\n    }\r\n  }\r\n\r\n  //  注册命令\r\n  registerCommands() {\r\n    // 全选\r\n    this.selectAll = this.selectAll.bind(this)\r\n    this.mindMap.command.add('SELECT_ALL', this.selectAll)\r\n    // 回退\r\n    this.back = this.back.bind(this)\r\n    this.mindMap.command.add('BACK', this.back)\r\n    // 前进\r\n    this.forward = this.forward.bind(this)\r\n    this.mindMap.command.add('FORWARD', this.forward)\r\n    // 插入同级节点\r\n    this.insertNode = this.insertNode.bind(this)\r\n    this.mindMap.command.add('INSERT_NODE', this.insertNode)\r\n    // 插入多个同级节点\r\n    this.insertMultiNode = this.insertMultiNode.bind(this)\r\n    this.mindMap.command.add('INSERT_MULTI_NODE', this.insertMultiNode)\r\n    // 插入子节点\r\n    this.insertChildNode = this.insertChildNode.bind(this)\r\n    this.mindMap.command.add('INSERT_CHILD_NODE', this.insertChildNode)\r\n    // 插入多个子节点\r\n    this.insertMultiChildNode = this.insertMultiChildNode.bind(this)\r\n    this.mindMap.command.add(\r\n      'INSERT_MULTI_CHILD_NODE',\r\n      this.insertMultiChildNode\r\n    )\r\n    // 插入父节点\r\n    this.insertParentNode = this.insertParentNode.bind(this)\r\n    this.mindMap.command.add('INSERT_PARENT_NODE', this.insertParentNode)\r\n    // 上移节点\r\n    this.upNode = this.upNode.bind(this)\r\n    this.mindMap.command.add('UP_NODE', this.upNode)\r\n    // 下移节点\r\n    this.downNode = this.downNode.bind(this)\r\n    this.mindMap.command.add('DOWN_NODE', this.downNode)\r\n    //  将一个节点上移一个层级\r\n    this.moveUpOneLevel = this.moveUpOneLevel.bind(this)\r\n    this.mindMap.command.add('MOVE_UP_ONE_LEVEL', this.moveUpOneLevel)\r\n    // 移动节点\r\n    this.insertAfter = this.insertAfter.bind(this)\r\n    this.mindMap.command.add('INSERT_AFTER', this.insertAfter)\r\n    this.insertBefore = this.insertBefore.bind(this)\r\n    this.mindMap.command.add('INSERT_BEFORE', this.insertBefore)\r\n    this.moveNodeTo = this.moveNodeTo.bind(this)\r\n    this.mindMap.command.add('MOVE_NODE_TO', this.moveNodeTo)\r\n    // 删除节点\r\n    this.removeNode = this.removeNode.bind(this)\r\n    this.mindMap.command.add('REMOVE_NODE', this.removeNode)\r\n    // 仅删除当前节点\r\n    this.removeCurrentNode = this.removeCurrentNode.bind(this)\r\n    this.mindMap.command.add('REMOVE_CURRENT_NODE', this.removeCurrentNode)\r\n    // 粘贴节点\r\n    this.pasteNode = this.pasteNode.bind(this)\r\n    this.mindMap.command.add('PASTE_NODE', this.pasteNode)\r\n    // 剪切节点\r\n    this.cutNode = this.cutNode.bind(this)\r\n    this.mindMap.command.add('CUT_NODE', this.cutNode)\r\n    // 修改节点单个样式\r\n    this.setNodeStyle = this.setNodeStyle.bind(this)\r\n    this.mindMap.command.add('SET_NODE_STYLE', this.setNodeStyle)\r\n    // 修改节点多个样式\r\n    this.setNodeStyles = this.setNodeStyles.bind(this)\r\n    this.mindMap.command.add('SET_NODE_STYLES', this.setNodeStyles)\r\n    // 切换节点是否激活\r\n    this.setNodeActive = this.setNodeActive.bind(this)\r\n    this.mindMap.command.add('SET_NODE_ACTIVE', this.setNodeActive)\r\n    // 清除所有激活节点\r\n    this.clearActiveNode = this.clearActiveNode.bind(this)\r\n    this.mindMap.command.add('CLEAR_ACTIVE_NODE', this.clearActiveNode)\r\n    // 切换节点是否展开\r\n    this.setNodeExpand = this.setNodeExpand.bind(this)\r\n    this.mindMap.command.add('SET_NODE_EXPAND', this.setNodeExpand)\r\n    // 展开所有节点\r\n    this.expandAllNode = this.expandAllNode.bind(this)\r\n    this.mindMap.command.add('EXPAND_ALL', this.expandAllNode)\r\n    // 收起所有节点\r\n    this.unexpandAllNode = this.unexpandAllNode.bind(this)\r\n    this.mindMap.command.add('UNEXPAND_ALL', this.unexpandAllNode)\r\n    // 展开到指定层级\r\n    this.expandToLevel = this.expandToLevel.bind(this)\r\n    this.mindMap.command.add('UNEXPAND_TO_LEVEL', this.expandToLevel)\r\n    // 设置节点数据\r\n    this.setNodeData = this.setNodeData.bind(this)\r\n    this.mindMap.command.add('SET_NODE_DATA', this.setNodeData)\r\n    // 设置节点文本\r\n    this.setNodeText = this.setNodeText.bind(this)\r\n    this.mindMap.command.add('SET_NODE_TEXT', this.setNodeText)\r\n    // 设置节点图片\r\n    this.setNodeImage = this.setNodeImage.bind(this)\r\n    this.mindMap.command.add('SET_NODE_IMAGE', this.setNodeImage)\r\n    // 设置节点图标\r\n    this.setNodeIcon = this.setNodeIcon.bind(this)\r\n    this.mindMap.command.add('SET_NODE_ICON', this.setNodeIcon)\r\n    // 设置节点超链接\r\n    this.setNodeHyperlink = this.setNodeHyperlink.bind(this)\r\n    this.mindMap.command.add('SET_NODE_HYPERLINK', this.setNodeHyperlink)\r\n    // 设置节点备注\r\n    this.setNodeNote = this.setNodeNote.bind(this)\r\n    this.mindMap.command.add('SET_NODE_NOTE', this.setNodeNote)\r\n    // 设置节点附件\r\n    this.setNodeAttachment = this.setNodeAttachment.bind(this)\r\n    this.mindMap.command.add('SET_NODE_ATTACHMENT', this.setNodeAttachment)\r\n    // 设置节点标签\r\n    this.setNodeTag = this.setNodeTag.bind(this)\r\n    this.mindMap.command.add('SET_NODE_TAG', this.setNodeTag)\r\n    // 设置节点公式\r\n    this.insertFormula = this.insertFormula.bind(this)\r\n    this.mindMap.command.add('INSERT_FORMULA', this.insertFormula)\r\n    // 添加节点概要\r\n    this.addGeneralization = this.addGeneralization.bind(this)\r\n    this.mindMap.command.add('ADD_GENERALIZATION', this.addGeneralization)\r\n    // 删除节点概要\r\n    this.removeGeneralization = this.removeGeneralization.bind(this)\r\n    this.mindMap.command.add('REMOVE_GENERALIZATION', this.removeGeneralization)\r\n    // 设置节点自定义位置\r\n    this.setNodeCustomPosition = this.setNodeCustomPosition.bind(this)\r\n    this.mindMap.command.add(\r\n      'SET_NODE_CUSTOM_POSITION',\r\n      this.setNodeCustomPosition\r\n    )\r\n    // 一键整理布局\r\n    this.resetLayout = this.resetLayout.bind(this)\r\n    this.mindMap.command.add('RESET_LAYOUT', this.resetLayout)\r\n    // 设置节点形状\r\n    this.setNodeShape = this.setNodeShape.bind(this)\r\n    this.mindMap.command.add('SET_NODE_SHAPE', this.setNodeShape)\r\n    // 定位节点\r\n    this.goTargetNode = this.goTargetNode.bind(this)\r\n    this.mindMap.command.add('GO_TARGET_NODE', this.goTargetNode)\r\n    // 一键去除节点自定义样式\r\n    this.removeCustomStyles = this.removeCustomStyles.bind(this)\r\n    this.mindMap.command.add('REMOVE_CUSTOM_STYLES', this.removeCustomStyles)\r\n    // 一键去除所有节点自定义样式\r\n    this.removeAllNodeCustomStyles = this.removeAllNodeCustomStyles.bind(this)\r\n    this.mindMap.command.add(\r\n      'REMOVE_ALL_NODE_CUSTOM_STYLES',\r\n      this.removeAllNodeCustomStyles\r\n    )\r\n  }\r\n\r\n  //  注册快捷键\r\n  registerShortcutKeys() {\r\n    // 插入下级节点\r\n    this.mindMap.keyCommand.addShortcut('Tab', () => {\r\n      this.mindMap.execCommand('INSERT_CHILD_NODE')\r\n    })\r\n    // 插入下级节点\r\n    this.mindMap.keyCommand.addShortcut('Insert', () => {\r\n      this.mindMap.execCommand('INSERT_CHILD_NODE')\r\n    })\r\n    // 插入同级节点\r\n    this.mindMap.keyCommand.addShortcut('Enter', () => {\r\n      this.mindMap.execCommand('INSERT_NODE')\r\n    })\r\n    // 插入父节点\r\n    this.mindMap.keyCommand.addShortcut('Shift+Tab', () => {\r\n      this.mindMap.execCommand('INSERT_PARENT_NODE')\r\n    })\r\n    // 插入概要\r\n    this.mindMap.keyCommand.addShortcut('Control+g', () => {\r\n      this.mindMap.execCommand('ADD_GENERALIZATION')\r\n    })\r\n    // 展开/收起节点\r\n    this.toggleActiveExpand = this.toggleActiveExpand.bind(this)\r\n    this.mindMap.keyCommand.addShortcut('/', this.toggleActiveExpand)\r\n    // 删除节点\r\n    this.mindMap.keyCommand.addShortcut('Del|Backspace', () => {\r\n      this.mindMap.execCommand('REMOVE_NODE')\r\n    })\r\n    // 仅删除当前节点\r\n    this.mindMap.keyCommand.addShortcut('Shift+Backspace', () => {\r\n      this.mindMap.execCommand('REMOVE_CURRENT_NODE')\r\n    })\r\n    // 节点编辑时某些快捷键会存在冲突，需要暂时去除\r\n    this.mindMap.on('before_show_text_edit', () => {\r\n      this.startTextEdit()\r\n    })\r\n    this.mindMap.on('hide_text_edit', () => {\r\n      this.endTextEdit()\r\n    })\r\n    // 全选\r\n    this.mindMap.keyCommand.addShortcut('Control+a', () => {\r\n      this.mindMap.execCommand('SELECT_ALL')\r\n    })\r\n    // 一键整理布局\r\n    this.mindMap.keyCommand.addShortcut('Control+l', () => {\r\n      this.mindMap.execCommand('RESET_LAYOUT')\r\n    })\r\n    // 上移节点\r\n    this.mindMap.keyCommand.addShortcut('Control+Up', () => {\r\n      this.mindMap.execCommand('UP_NODE')\r\n    })\r\n    // 下移节点\r\n    this.mindMap.keyCommand.addShortcut('Control+Down', () => {\r\n      this.mindMap.execCommand('DOWN_NODE')\r\n    })\r\n    // 复制节点、\r\n    this.mindMap.keyCommand.addShortcut('Control+c', () => {\r\n      this.copy()\r\n    })\r\n    // 剪切节点\r\n    this.mindMap.keyCommand.addShortcut('Control+x', () => {\r\n      this.cut()\r\n    })\r\n    // 粘贴节点\r\n    this.mindMap.keyCommand.addShortcut('Control+v', () => {\r\n      this.paste()\r\n    })\r\n    // 根节点居中显示\r\n    this.mindMap.keyCommand.addShortcut('Control+Enter', () => {\r\n      this.setRootNodeCenter()\r\n    })\r\n  }\r\n\r\n  // 派发节点激活事件\r\n  emitNodeActiveEvent(node = null, activeNodeList = [...this.activeNodeList]) {\r\n    let isChange = false\r\n    isChange = this.lastActiveNode !== node\r\n    if (!isChange) {\r\n      isChange = !checkNodeListIsEqual(this.lastActiveNodeList, activeNodeList)\r\n    }\r\n    if (!isChange) return\r\n    this.lastActiveNode = node\r\n    this.lastActiveNodeList = [...activeNodeList]\r\n    this.mindMap.batchExecution.push('emitNodeActiveEvent', () => {\r\n      this.mindMap.emit('node_active', node, activeNodeList)\r\n    })\r\n  }\r\n\r\n  // 鼠标点击画布时清空当前激活节点列表\r\n  clearActiveNodeListOnDrawClick(e, eventType) {\r\n    if (this.activeNodeList.length <= 0) return\r\n    // 清除激活状态\r\n    let isTrueClick = true\r\n    // 是否是左键多选节点，右键拖动画布\r\n    const { useLeftKeySelectionRightKeyDrag } = this.mindMap.opt\r\n    // 如果鼠标按下和松开的距离较大，则不认为是点击事件\r\n    if (\r\n      eventType === 'contextmenu'\r\n        ? !useLeftKeySelectionRightKeyDrag\r\n        : useLeftKeySelectionRightKeyDrag\r\n    ) {\r\n      const mousedownPos = this.mindMap.event.mousedownPos\r\n      isTrueClick =\r\n        Math.abs(e.clientX - mousedownPos.x) <= 5 &&\r\n        Math.abs(e.clientY - mousedownPos.y) <= 5\r\n    }\r\n    if (isTrueClick) {\r\n      this.mindMap.execCommand('CLEAR_ACTIVE_NODE')\r\n    }\r\n  }\r\n\r\n  //  开启文字编辑，会禁用回车键和删除键相关快捷键防止冲突\r\n  startTextEdit() {\r\n    this.mindMap.keyCommand.save()\r\n  }\r\n\r\n  //  结束文字编辑，会恢复回车键和删除键相关快捷键\r\n  endTextEdit() {\r\n    this.mindMap.keyCommand.restore()\r\n  }\r\n\r\n  // 清空节点缓存池\r\n  clearCache() {\r\n    this.layout.lru.clear()\r\n    this.nodeCache = {}\r\n    this.lastNodeCache = {}\r\n  }\r\n\r\n  //   渲染\r\n  render(callback = () => {}, source) {\r\n    // 切换主题时，被收起的节点需要添加样式复位的标注\r\n    if (source === CONSTANTS.CHANGE_THEME) {\r\n      this.resetUnExpandNodeStyle()\r\n    }\r\n    // 如果当前还没有渲染完毕，不再触发渲染\r\n    if (this.isRendering) {\r\n      // 等待当前渲染完毕后再进行一次渲染\r\n      this.hasWaitRendering = true\r\n      this.waitRenderingParams = [callback, source]\r\n      return\r\n    }\r\n    this.isRendering = true\r\n    // 触发当前重新渲染的来源\r\n    this.renderSource = source\r\n    // 节点缓存\r\n    this.lastNodeCache = this.nodeCache\r\n    this.nodeCache = {}\r\n    // 重新渲染需要清除激活状态\r\n    if (this.reRender) {\r\n      this.clearActiveNodeList()\r\n    }\r\n    // 如果没有节点数据\r\n    if (!this.renderTree) {\r\n      this.isRendering = false\r\n      this.mindMap.emit('node_tree_render_end')\r\n      return\r\n    }\r\n    this.mindMap.emit('node_tree_render_start')\r\n    // 计算布局\r\n    this.root = null\r\n    this.layout.doLayout(root => {\r\n      // 删除本次渲染时不再需要的节点\r\n      Object.keys(this.lastNodeCache).forEach(uid => {\r\n        if (!this.nodeCache[uid]) {\r\n          // 从激活节点列表里删除\r\n          this.removeNodeFromActiveList(this.lastNodeCache[uid])\r\n          this.emitNodeActiveEvent()\r\n          // 调用节点的销毁方法\r\n          this.lastNodeCache[uid].destroy()\r\n        }\r\n      })\r\n      // 更新根节点\r\n      this.root = root\r\n      // 渲染节点\r\n      this.root.render(() => {\r\n        this.isRendering = false\r\n        callback && callback()\r\n        if (this.hasWaitRendering) {\r\n          const params = this.waitRenderingParams\r\n          this.hasWaitRendering = false\r\n          this.waitRenderingParams = []\r\n          this.render(...params)\r\n        } else {\r\n          this.renderSource = ''\r\n          if (this.reRender) {\r\n            this.reRender = false\r\n          }\r\n          // 触发一次保存，因为修改了渲染树的数据\r\n          if (\r\n            this.mindMap.richText &&\r\n            [CONSTANTS.CHANGE_THEME, CONSTANTS.SET_DATA].includes(source)\r\n          ) {\r\n            this.mindMap.command.addHistory()\r\n          }\r\n        }\r\n        this.mindMap.emit('node_tree_render_end')\r\n      })\r\n    })\r\n    this.emitNodeActiveEvent()\r\n  }\r\n\r\n  // 给当前被收起来的节点数据添加文本复位标志\r\n  resetUnExpandNodeStyle() {\r\n    if (!this.renderTree) return\r\n    walk(this.renderTree, null, node => {\r\n      if (!node.data.expand) {\r\n        walk(node, null, node2 => {\r\n          node2.data.resetRichText = true\r\n        })\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  //  清除当前所有激活节点，并会触发事件\r\n  clearActiveNode() {\r\n    if (this.activeNodeList.length <= 0) {\r\n      return\r\n    }\r\n    this.clearActiveNodeList()\r\n    this.emitNodeActiveEvent(null, [])\r\n  }\r\n\r\n  //  清除当前激活的节点列表\r\n  clearActiveNodeList() {\r\n    this.activeNodeList.forEach(item => {\r\n      this.mindMap.execCommand('SET_NODE_ACTIVE', item, false)\r\n    })\r\n    this.activeNodeList = []\r\n  }\r\n\r\n  // 添加节点到激活列表里\r\n  addNodeToActiveList(node, notEmitBeforeNodeActiveEvent = false) {\r\n    if (\r\n      this.mindMap.opt.onlyOneEnableActiveNodeOnCooperate &&\r\n      node.userList.length > 0\r\n    )\r\n      return\r\n    const index = this.findActiveNodeIndex(node)\r\n    if (index === -1) {\r\n      if (!notEmitBeforeNodeActiveEvent) {\r\n        this.mindMap.emit('before_node_active', node, this.activeNodeList)\r\n      }\r\n      this.mindMap.execCommand('SET_NODE_ACTIVE', node, true)\r\n      this.activeNodeList.push(node)\r\n    }\r\n  }\r\n\r\n  // 在激活列表里移除某个节点\r\n  removeNodeFromActiveList(node) {\r\n    let index = this.findActiveNodeIndex(node)\r\n    if (index === -1) {\r\n      return\r\n    }\r\n    this.mindMap.execCommand('SET_NODE_ACTIVE', node, false)\r\n    this.activeNodeList.splice(index, 1)\r\n  }\r\n\r\n  // 手动激活多个节点，激活单个节点请直接调用节点实例的active()方法\r\n  activeMultiNode(nodeList = []) {\r\n    nodeList.forEach(node => {\r\n      // 手动派发节点激活前事件\r\n      this.mindMap.emit('before_node_active', node, this.activeNodeList)\r\n      // 激活节点，并将该节点添加到激活节点列表里\r\n      this.addNodeToActiveList(node, true)\r\n      // 手动派发节点激活事件\r\n      this.emitNodeActiveEvent(node)\r\n    })\r\n  }\r\n\r\n  // 手动取消激活多个节点\r\n  cancelActiveMultiNode(nodeList = []) {\r\n    nodeList.forEach(node => {\r\n      this.removeNodeFromActiveList(node)\r\n      this.emitNodeActiveEvent(null)\r\n    })\r\n  }\r\n\r\n  //  检索某个节点在激活列表里的索引\r\n  findActiveNodeIndex(node) {\r\n    return getNodeIndexInNodeList(node, this.activeNodeList)\r\n  }\r\n\r\n  //  全选\r\n  selectAll() {\r\n    if (this.mindMap.opt.readonly) return\r\n    walk(\r\n      this.root,\r\n      null,\r\n      node => {\r\n        if (!node.getData('isActive')) {\r\n          this.addNodeToActiveList(node)\r\n        }\r\n        // 概要节点\r\n        if (node._generalizationList && node._generalizationList.length > 0) {\r\n          node._generalizationList.forEach(item => {\r\n            const gNode = item.generalizationNode\r\n            if (!gNode.getData('isActive')) {\r\n              this.addNodeToActiveList(gNode)\r\n            }\r\n          })\r\n        }\r\n      },\r\n      null,\r\n      true,\r\n      0,\r\n      0\r\n    )\r\n    this.emitNodeActiveEvent()\r\n  }\r\n\r\n  //  回退\r\n  back(step) {\r\n    this.backForward('back', step)\r\n  }\r\n\r\n  //  前进\r\n  forward(step) {\r\n    this.backForward('forward', step)\r\n  }\r\n\r\n  // 前进回退\r\n  backForward(type, step) {\r\n    this.mindMap.execCommand('CLEAR_ACTIVE_NODE')\r\n    const data = this.mindMap.command[type](step)\r\n    if (data) {\r\n      this.renderTree = data\r\n      this.mindMap.render()\r\n    }\r\n  }\r\n\r\n  // 获取创建新节点的行为\r\n  getNewNodeBehavior(openEdit = false, handleMultiNodes = false) {\r\n    const { createNewNodeBehavior } = this.mindMap.opt\r\n    let focusNewNode = false // 是否激活新节点\r\n    let inserting = false // 新节点是否进入编辑模式\r\n    switch (createNewNodeBehavior) {\r\n      // 默认会激活新创建的节点，并且进入编辑模式。如果同时创建了多个新节点，那么只会激活而不会进入编辑模式\r\n      case CONSTANTS.CREATE_NEW_NODE_BEHAVIOR.DEFAULT:\r\n        focusNewNode = handleMultiNodes || !openEdit\r\n        inserting = handleMultiNodes ? false : openEdit // 如果同时对多个节点插入子节点，那么无需进入编辑模式\r\n        break\r\n      // 不激活新创建的节点\r\n      case CONSTANTS.CREATE_NEW_NODE_BEHAVIOR.NOT_ACTIVE:\r\n        focusNewNode = false\r\n        inserting = false\r\n        break\r\n      // 只激活新创建的节点，不进入编辑模式\r\n      case CONSTANTS.CREATE_NEW_NODE_BEHAVIOR.ACTIVE_ONLY:\r\n        focusNewNode = true\r\n        inserting = false\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    return {\r\n      focusNewNode,\r\n      inserting\r\n    }\r\n  }\r\n\r\n  //  插入同级节点\r\n  insertNode(\r\n    openEdit = true,\r\n    appointNodes = [],\r\n    appointData = null,\r\n    appointChildren = []\r\n  ) {\r\n    appointNodes = formatDataToArray(appointNodes)\r\n    if (this.activeNodeList.length <= 0 && appointNodes.length <= 0) {\r\n      return\r\n    }\r\n    this.textEdit.hideEditTextBox()\r\n    const {\r\n      defaultInsertSecondLevelNodeText,\r\n      defaultInsertBelowSecondLevelNodeText\r\n    } = this.mindMap.opt\r\n    const list = appointNodes.length > 0 ? appointNodes : this.activeNodeList\r\n    const handleMultiNodes = list.length > 1\r\n    const isRichText = !!this.mindMap.richText\r\n    const { focusNewNode, inserting } = this.getNewNodeBehavior(\r\n      openEdit,\r\n      handleMultiNodes\r\n    )\r\n    const params = {\r\n      expand: true,\r\n      richText: isRichText,\r\n      resetRichText: isRichText,\r\n      isActive: focusNewNode // 如果同时对多个节点插入子节点，那么需要把新增的节点设为激活状态。如果不进入编辑状态，那么也需要手动设为激活状态\r\n    }\r\n    // 动态指定的子节点数据也需要添加相关属性\r\n    appointChildren = addDataToAppointNodes(appointChildren, {\r\n      ...params\r\n    })\r\n    list.forEach(node => {\r\n      if (node.isGeneralization || node.isRoot) {\r\n        return\r\n      }\r\n      const parent = node.parent\r\n      const isOneLayer = node.layerIndex === 1\r\n      // 新插入节点的默认文本\r\n      const text = isOneLayer\r\n        ? defaultInsertSecondLevelNodeText\r\n        : defaultInsertBelowSecondLevelNodeText\r\n      // 计算插入位置\r\n      const index = getNodeDataIndex(node)\r\n      const newNodeData = {\r\n        inserting,\r\n        data: {\r\n          text: text,\r\n          ...params,\r\n          uid: createUid(),\r\n          ...(appointData || {})\r\n        },\r\n        children: [...createUidForAppointNodes(appointChildren)]\r\n      }\r\n      parent.nodeData.children.splice(index + 1, 0, newNodeData)\r\n    })\r\n    // 如果同时对多个节点插入子节点，需要清除原来激活的节点\r\n    if (focusNewNode) {\r\n      this.clearActiveNodeList()\r\n    }\r\n    this.mindMap.render()\r\n  }\r\n\r\n  // 插入多个同级节点\r\n  insertMultiNode(appointNodes, nodeList) {\r\n    if (!nodeList || nodeList.length <= 0) return\r\n    appointNodes = formatDataToArray(appointNodes)\r\n    if (this.activeNodeList.length <= 0 && appointNodes.length <= 0) {\r\n      return\r\n    }\r\n    this.textEdit.hideEditTextBox()\r\n    const list = appointNodes.length > 0 ? appointNodes : this.activeNodeList\r\n    const isRichText = !!this.mindMap.richText\r\n    const { focusNewNode } = this.getNewNodeBehavior(false, true)\r\n    const params = {\r\n      expand: true,\r\n      richText: isRichText,\r\n      resetRichText: isRichText,\r\n      isActive: focusNewNode\r\n    }\r\n    nodeList = addDataToAppointNodes(nodeList, params)\r\n    list.forEach(node => {\r\n      if (node.isGeneralization || node.isRoot) {\r\n        return\r\n      }\r\n      const parent = node.parent\r\n      // 计算插入位置\r\n      const index = getNodeDataIndex(node)\r\n      const newNodeList = createUidForAppointNodes(simpleDeepClone(nodeList))\r\n      parent.nodeData.children.splice(index + 1, 0, ...newNodeList)\r\n    })\r\n    if (focusNewNode) {\r\n      this.clearActiveNodeList()\r\n    }\r\n    this.mindMap.render()\r\n  }\r\n\r\n  //  插入子节点\r\n  insertChildNode(\r\n    openEdit = true,\r\n    appointNodes = [],\r\n    appointData = null,\r\n    appointChildren = []\r\n  ) {\r\n    appointNodes = formatDataToArray(appointNodes)\r\n    if (this.activeNodeList.length <= 0 && appointNodes.length <= 0) {\r\n      return\r\n    }\r\n    this.textEdit.hideEditTextBox()\r\n    const {\r\n      defaultInsertSecondLevelNodeText,\r\n      defaultInsertBelowSecondLevelNodeText\r\n    } = this.mindMap.opt\r\n    const list = appointNodes.length > 0 ? appointNodes : this.activeNodeList\r\n    const handleMultiNodes = list.length > 1\r\n    const isRichText = !!this.mindMap.richText\r\n    const { focusNewNode, inserting } = this.getNewNodeBehavior(\r\n      openEdit,\r\n      handleMultiNodes\r\n    )\r\n    const params = {\r\n      expand: true,\r\n      richText: isRichText,\r\n      resetRichText: isRichText,\r\n      isActive: focusNewNode\r\n    }\r\n    // 动态指定的子节点数据也需要添加相关属性\r\n    appointChildren = addDataToAppointNodes(appointChildren, {\r\n      ...params\r\n    })\r\n    list.forEach(node => {\r\n      if (node.isGeneralization) {\r\n        return\r\n      }\r\n      if (!node.nodeData.children) {\r\n        node.nodeData.children = []\r\n      }\r\n      const text = node.isRoot\r\n        ? defaultInsertSecondLevelNodeText\r\n        : defaultInsertBelowSecondLevelNodeText\r\n      const newNode = {\r\n        inserting,\r\n        data: {\r\n          text: text,\r\n          uid: createUid(),\r\n          ...params,\r\n          ...(appointData || {})\r\n        },\r\n        children: [...createUidForAppointNodes(appointChildren)]\r\n      }\r\n      node.nodeData.children.push(newNode)\r\n      // 插入子节点时自动展开子节点\r\n      node.setData({\r\n        expand: true\r\n      })\r\n    })\r\n    // 如果同时对多个节点插入子节点，需要清除原来激活的节点\r\n    if (focusNewNode) {\r\n      this.clearActiveNodeList()\r\n    }\r\n    this.mindMap.render()\r\n  }\r\n\r\n  // 插入多个子节点\r\n  insertMultiChildNode(appointNodes, childList) {\r\n    if (!childList || childList.length <= 0) return\r\n    appointNodes = formatDataToArray(appointNodes)\r\n    if (this.activeNodeList.length <= 0 && appointNodes.length <= 0) {\r\n      return\r\n    }\r\n    this.textEdit.hideEditTextBox()\r\n    const list = appointNodes.length > 0 ? appointNodes : this.activeNodeList\r\n    const isRichText = !!this.mindMap.richText\r\n    const { focusNewNode } = this.getNewNodeBehavior(false, true)\r\n    const params = {\r\n      expand: true,\r\n      richText: isRichText,\r\n      resetRichText: isRichText,\r\n      isActive: focusNewNode\r\n    }\r\n    childList = addDataToAppointNodes(childList, params)\r\n    list.forEach(node => {\r\n      if (node.isGeneralization) {\r\n        return\r\n      }\r\n      if (!node.nodeData.children) {\r\n        node.nodeData.children = []\r\n      }\r\n      childList = createUidForAppointNodes(childList)\r\n      node.nodeData.children.push(...childList)\r\n      // 插入子节点时自动展开子节点\r\n      node.setData({\r\n        expand: true\r\n      })\r\n    })\r\n    if (focusNewNode) {\r\n      this.clearActiveNodeList()\r\n    }\r\n    this.mindMap.render()\r\n  }\r\n\r\n  // 插入父节点\r\n  insertParentNode(openEdit = true, appointNodes, appointData) {\r\n    appointNodes = formatDataToArray(appointNodes)\r\n    if (this.activeNodeList.length <= 0 && appointNodes.length <= 0) {\r\n      return\r\n    }\r\n    this.textEdit.hideEditTextBox()\r\n    const {\r\n      defaultInsertSecondLevelNodeText,\r\n      defaultInsertBelowSecondLevelNodeText\r\n    } = this.mindMap.opt\r\n    const list = appointNodes.length > 0 ? appointNodes : this.activeNodeList\r\n    const handleMultiNodes = list.length > 1\r\n    const isRichText = !!this.mindMap.richText\r\n    const { focusNewNode, inserting } = this.getNewNodeBehavior(\r\n      openEdit,\r\n      handleMultiNodes\r\n    )\r\n    const params = {\r\n      expand: true,\r\n      richText: isRichText,\r\n      resetRichText: isRichText,\r\n      isActive: focusNewNode\r\n    }\r\n    list.forEach(node => {\r\n      if (node.isGeneralization || node.isRoot) {\r\n        return\r\n      }\r\n      const text =\r\n        node.layerIndex === 1\r\n          ? defaultInsertSecondLevelNodeText\r\n          : defaultInsertBelowSecondLevelNodeText\r\n      const newNode = {\r\n        inserting,\r\n        data: {\r\n          text: text,\r\n          uid: createUid(),\r\n          ...params,\r\n          ...(appointData || {})\r\n        },\r\n        children: [node.nodeData]\r\n      }\r\n      node.setData({\r\n        resetRichText: true\r\n      })\r\n      const parent = node.parent\r\n      // 获取当前节点所在位置\r\n      const index = getNodeDataIndex(node)\r\n      parent.nodeData.children.splice(index, 1, newNode)\r\n    })\r\n    // 如果同时对多个节点插入子节点，需要清除原来激活的节点\r\n    if (focusNewNode) {\r\n      this.clearActiveNodeList()\r\n    }\r\n    this.mindMap.render()\r\n  }\r\n\r\n  //  上移节点，多个节点只会操作第一个节点\r\n  upNode() {\r\n    if (this.activeNodeList.length <= 0) {\r\n      return\r\n    }\r\n    let node = this.activeNodeList[0]\r\n    if (node.isRoot) {\r\n      return\r\n    }\r\n    let parent = node.parent\r\n    let childList = parent.children\r\n    let index = getNodeIndexInNodeList(node, childList)\r\n    if (index === -1 || index === 0) {\r\n      return\r\n    }\r\n    let insertIndex = index - 1\r\n    // 节点实例\r\n    childList.splice(index, 1)\r\n    childList.splice(insertIndex, 0, node)\r\n    // 节点数据\r\n    parent.nodeData.children.splice(index, 1)\r\n    parent.nodeData.children.splice(insertIndex, 0, node.nodeData)\r\n    this.mindMap.render()\r\n  }\r\n\r\n  //  下移节点，多个节点只会操作第一个节点\r\n  downNode() {\r\n    if (this.activeNodeList.length <= 0) {\r\n      return\r\n    }\r\n    let node = this.activeNodeList[0]\r\n    if (node.isRoot) {\r\n      return\r\n    }\r\n    let parent = node.parent\r\n    let childList = parent.children\r\n    let index = getNodeIndexInNodeList(node, childList)\r\n    if (index === -1 || index === childList.length - 1) {\r\n      return\r\n    }\r\n    let insertIndex = index + 1\r\n    // 节点实例\r\n    childList.splice(index, 1)\r\n    childList.splice(insertIndex, 0, node)\r\n    // 节点数据\r\n    parent.nodeData.children.splice(index, 1)\r\n    parent.nodeData.children.splice(insertIndex, 0, node.nodeData)\r\n    this.mindMap.render()\r\n  }\r\n\r\n  // 将节点上移一个层级，多个节点只会操作第一个节点\r\n  moveUpOneLevel(node) {\r\n    node = node || this.activeNodeList[0]\r\n    if (!node || node.isRoot || node.layerIndex <= 1) {\r\n      return\r\n    }\r\n    const parent = node.parent\r\n    const grandpa = parent.parent\r\n    const index = getNodeIndexInNodeList(node, parent.children)\r\n    const parentIndex = getNodeIndexInNodeList(parent, grandpa.children)\r\n    // 节点数据\r\n    this.checkNodeLayerChange(node, parent)\r\n    parent.nodeData.children.splice(index, 1)\r\n    grandpa.nodeData.children.splice(parentIndex + 1, 0, node.nodeData)\r\n    this.mindMap.render()\r\n  }\r\n\r\n  // 移除节点数据的自定义样式的内部方法\r\n  _handleRemoveCustomStyles(nodeData) {\r\n    let hasCustomStyles = false\r\n    Object.keys(nodeData).forEach(key => {\r\n      if (checkIsNodeStyleDataKey(key)) {\r\n        hasCustomStyles = true\r\n        delete nodeData[key]\r\n      }\r\n    })\r\n    // 如果是富文本，那么还要处理富文本内容\r\n    if (hasCustomStyles && this.mindMap.richText) {\r\n      nodeData.resetRichText = true\r\n      nodeData.text = removeRichTextStyes(nodeData.text)\r\n    }\r\n    return hasCustomStyles\r\n  }\r\n\r\n  // 一键去除自定义样式\r\n  removeCustomStyles(node) {\r\n    node = node || this.activeNodeList[0]\r\n    if (!node) {\r\n      return\r\n    }\r\n    const hasCustomStyles = this._handleRemoveCustomStyles(node.getData())\r\n    if (hasCustomStyles) {\r\n      this.reRenderNodeCheckChange(node)\r\n    }\r\n  }\r\n\r\n  // 一键去除所有节点自定义样式\r\n  removeAllNodeCustomStyles(appointNodes) {\r\n    appointNodes = formatDataToArray(appointNodes)\r\n    let hasCustomStyles = false\r\n    // 指定了节点列表，那么遍历该节点列表\r\n    if (appointNodes.length > 0) {\r\n      appointNodes.forEach(node => {\r\n        const _hasCustomStyles = this._handleRemoveCustomStyles(node.getData())\r\n        if (_hasCustomStyles) hasCustomStyles = true\r\n      })\r\n    } else {\r\n      // 否则遍历整棵树\r\n      if (!this.renderTree) return\r\n      walk(this.renderTree, null, node => {\r\n        const _hasCustomStyles = this._handleRemoveCustomStyles(node.data)\r\n        if (_hasCustomStyles) hasCustomStyles = true\r\n        // 不要忘记概要节点\r\n        const generalizationList = formatGetNodeGeneralization(node.data)\r\n        if (generalizationList.length > 0) {\r\n          generalizationList.forEach(generalizationData => {\r\n            const _hasCustomStyles =\r\n              this._handleRemoveCustomStyles(generalizationData)\r\n            if (_hasCustomStyles) hasCustomStyles = true\r\n          })\r\n        }\r\n      })\r\n    }\r\n    if (hasCustomStyles) {\r\n      this.mindMap.reRender()\r\n    }\r\n  }\r\n\r\n  // 复制节点\r\n  copy() {\r\n    this.beingCopyData = this.copyNode()\r\n    if (!this.beingCopyData) return\r\n    if (!this.mindMap.opt.disabledClipboard) {\r\n      setDataToClipboard(createSmmFormatData(this.beingCopyData))\r\n    }\r\n  }\r\n\r\n  // 剪切节点\r\n  cut() {\r\n    this.mindMap.execCommand('CUT_NODE', copyData => {\r\n      this.beingCopyData = copyData\r\n      if (!this.mindMap.opt.disabledClipboard) {\r\n        setDataToClipboard(createSmmFormatData(copyData))\r\n      }\r\n    })\r\n  }\r\n\r\n  // 粘贴\r\n  async paste() {\r\n    const {\r\n      errorHandler,\r\n      handleIsSplitByWrapOnPasteCreateNewNode,\r\n      handleNodePasteImg,\r\n      disabledClipboard\r\n    } = this.mindMap.opt\r\n    // 读取剪贴板的文字和图片\r\n    let text = ''\r\n    let img = null\r\n    if (!disabledClipboard) {\r\n      try {\r\n        const res = await getDataFromClipboard()\r\n        text = res.text || ''\r\n        img = res.img || null\r\n      } catch (error) {\r\n        errorHandler(ERROR_TYPES.READ_CLIPBOARD_ERROR, error)\r\n      }\r\n    }\r\n    // 检查剪切板数据是否有变化\r\n    // 通过图片大小来判断图片是否发生变化，可能是不准确的，但是目前没有其他好方法\r\n    const imgSize = img ? img.size : 0\r\n    if (this.beingPasteText !== text || this.beingPasteImgSize !== imgSize) {\r\n      this.currentBeingPasteType = CONSTANTS.PASTE_TYPE.CLIP_BOARD\r\n      this.beingPasteText = text\r\n      this.beingPasteImgSize = imgSize\r\n    }\r\n    // 检查要粘贴的节点数据是否有变化，节点优先级高于剪切板\r\n    if (this.lastBeingCopyData !== this.beingCopyData) {\r\n      this.lastBeingCopyData = this.beingCopyData\r\n      this.currentBeingPasteType = CONSTANTS.PASTE_TYPE.CANVAS\r\n    }\r\n    // 粘贴剪切板的数据\r\n    if (this.currentBeingPasteType === CONSTANTS.PASTE_TYPE.CLIP_BOARD) {\r\n      // 存在文本，则创建子节点\r\n      if (text) {\r\n        // 判断粘贴的是否是simple-mind-map的数据\r\n        let smmData = null\r\n        let useDefault = true\r\n        // 用户自定义处理\r\n        if (this.mindMap.opt.customHandleClipboardText) {\r\n          try {\r\n            const res = await this.mindMap.opt.customHandleClipboardText(text)\r\n            if (!isUndef(res)) {\r\n              useDefault = false\r\n              const checkRes = checkSmmFormatData(res)\r\n              if (checkRes.isSmm) {\r\n                smmData = checkRes.data\r\n              } else {\r\n                text = checkRes.data\r\n              }\r\n            }\r\n          } catch (error) {\r\n            errorHandler(ERROR_TYPES.CUSTOM_HANDLE_CLIPBOARD_TEXT_ERROR, error)\r\n          }\r\n        }\r\n        // 默认处理\r\n        if (useDefault) {\r\n          const checkRes = checkSmmFormatData(text)\r\n          if (checkRes.isSmm) {\r\n            smmData = checkRes.data\r\n          } else {\r\n            text = checkRes.data\r\n          }\r\n        }\r\n        if (smmData) {\r\n          this.mindMap.execCommand(\r\n            'INSERT_MULTI_CHILD_NODE',\r\n            [],\r\n            Array.isArray(smmData) ? smmData : [smmData]\r\n          )\r\n        } else {\r\n          text = htmlEscape(text)\r\n          const textArr = text\r\n            .split(new RegExp('\\r?\\n|(?<!\\n)\\r', 'g'))\r\n            .filter(item => {\r\n              return !!item\r\n            })\r\n          // 判断是否需要根据换行自动分割节点\r\n          if (textArr.length > 1 && handleIsSplitByWrapOnPasteCreateNewNode) {\r\n            handleIsSplitByWrapOnPasteCreateNewNode()\r\n              .then(() => {\r\n                this.mindMap.execCommand(\r\n                  'INSERT_MULTI_CHILD_NODE',\r\n                  [],\r\n                  textArr.map(item => {\r\n                    return {\r\n                      data: {\r\n                        text: item\r\n                      },\r\n                      children: []\r\n                    }\r\n                  })\r\n                )\r\n              })\r\n              .catch(() => {\r\n                this.mindMap.execCommand('INSERT_CHILD_NODE', false, [], {\r\n                  text\r\n                })\r\n              })\r\n          } else {\r\n            this.mindMap.execCommand('INSERT_CHILD_NODE', false, [], {\r\n              text\r\n            })\r\n          }\r\n        }\r\n      }\r\n      // 存在图片，则添加到当前激活节点\r\n      if (img) {\r\n        try {\r\n          let imgData = null\r\n          // 自定义图片处理函数\r\n          if (handleNodePasteImg && typeof handleNodePasteImg === 'function') {\r\n            imgData = await handleNodePasteImg(img)\r\n          } else {\r\n            imgData = await loadImage(img)\r\n          }\r\n          if (this.activeNodeList.length > 0) {\r\n            this.activeNodeList.forEach(node => {\r\n              this.mindMap.execCommand('SET_NODE_IMAGE', node, {\r\n                url: imgData.url,\r\n                title: '',\r\n                width: imgData.size.width,\r\n                height: imgData.size.height\r\n              })\r\n            })\r\n          }\r\n        } catch (error) {\r\n          errorHandler(ERROR_TYPES.LOAD_CLIPBOARD_IMAGE_ERROR, error)\r\n        }\r\n      }\r\n    } else {\r\n      // 粘贴节点数据\r\n      if (this.beingCopyData) {\r\n        this.mindMap.execCommand('PASTE_NODE', this.beingCopyData)\r\n      }\r\n    }\r\n  }\r\n\r\n  //  将节点移动到另一个节点的前面\r\n  insertBefore(node, exist) {\r\n    this.insertTo(node, exist, 'before')\r\n  }\r\n\r\n  //  将节点移动到另一个节点的后面\r\n  insertAfter(node, exist) {\r\n    this.insertTo(node, exist, 'after')\r\n  }\r\n\r\n  // 将节点移动到另一个节点的前面或后面\r\n  insertTo(node, exist, dir = 'before') {\r\n    let nodeList = formatDataToArray(node)\r\n    nodeList = nodeList.filter(item => {\r\n      return !item.isRoot\r\n    })\r\n    if (dir === 'after') {\r\n      nodeList.reverse()\r\n    }\r\n    nodeList.forEach(item => {\r\n      this.checkNodeLayerChange(item, exist)\r\n      // 移动节点\r\n      let nodeParent = item.parent\r\n      let nodeBorthers = nodeParent.children\r\n      let nodeIndex = getNodeIndexInNodeList(item, nodeBorthers)\r\n      if (nodeIndex === -1) {\r\n        return\r\n      }\r\n      nodeBorthers.splice(nodeIndex, 1)\r\n      nodeParent.nodeData.children.splice(nodeIndex, 1)\r\n\r\n      // 目标节点\r\n      let existParent = exist.parent\r\n      let existBorthers = existParent.children\r\n      let existIndex = getNodeIndexInNodeList(exist, existBorthers)\r\n      if (existIndex === -1) {\r\n        return\r\n      }\r\n      if (dir === 'after') {\r\n        existIndex++\r\n      }\r\n      existBorthers.splice(existIndex, 0, item)\r\n      existParent.nodeData.children.splice(existIndex, 0, item.nodeData)\r\n    })\r\n    this.mindMap.render()\r\n  }\r\n\r\n  // 如果是富文本模式，那么某些层级变化需要更新样式\r\n  checkNodeLayerChange(node, toNode, toNodeIsParent = false) {\r\n    if (this.mindMap.richText) {\r\n      // 如果设置了自定义样式那么不需要更新\r\n      if (this.mindMap.richText.checkNodeHasCustomRichTextStyle(node)) {\r\n        return\r\n      }\r\n      const toIndex = toNodeIsParent ? toNode.layerIndex + 1 : toNode.layerIndex\r\n      let nodeLayerChanged =\r\n        (node.layerIndex === 1 && toIndex !== 1) ||\r\n        (node.layerIndex !== 1 && toIndex === 1)\r\n      if (nodeLayerChanged) {\r\n        node.setData({\r\n          resetRichText: true\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  //  移除节点\r\n  removeNode(appointNodes = []) {\r\n    appointNodes = formatDataToArray(appointNodes)\r\n    if (this.activeNodeList.length <= 0 && appointNodes.length <= 0) {\r\n      return\r\n    }\r\n    // 删除节点后需要激活的节点\r\n    let needActiveNode = null\r\n    let isAppointNodes = appointNodes.length > 0\r\n    let list = isAppointNodes ? appointNodes : this.activeNodeList\r\n    let root = list.find(node => {\r\n      return node.isRoot\r\n    })\r\n    if (root) {\r\n      this.clearActiveNodeList()\r\n      root.children = []\r\n      root.nodeData.children = []\r\n    } else {\r\n      // 如果只选中了一个节点，删除后激活其兄弟节点或者父节点\r\n      needActiveNode = this.getNextActiveNode(list)\r\n      for (let i = 0; i < list.length; i++) {\r\n        const node = list[i]\r\n        const currentEditNode = this.textEdit.getCurrentEditNode()\r\n        if (\r\n          currentEditNode &&\r\n          currentEditNode.getData('uid') === node.getData('uid')\r\n        ) {\r\n          // 如果当前节点正在编辑中，那么先完成编辑\r\n          this.textEdit.hideEditTextBox()\r\n        }\r\n        if (isAppointNodes) list.splice(i, 1)\r\n        if (node.isGeneralization) {\r\n          this.deleteNodeGeneralization(node)\r\n          this.removeNodeFromActiveList(node)\r\n          i--\r\n        } else {\r\n          this.removeNodeFromActiveList(node)\r\n          removeFromParentNodeData(node)\r\n          i--\r\n        }\r\n      }\r\n    }\r\n    this.activeNodeList = []\r\n    // 激活被删除节点的兄弟节点或父节点\r\n    if (needActiveNode) {\r\n      this.addNodeToActiveList(needActiveNode)\r\n    }\r\n    this.emitNodeActiveEvent()\r\n    this.mindMap.render()\r\n  }\r\n\r\n  // 删除概要节点，即从所属节点里删除该概要\r\n  deleteNodeGeneralization(node) {\r\n    const targetNode = node.generalizationBelongNode\r\n    const index = targetNode.getGeneralizationNodeIndex(node)\r\n    let generalization = targetNode.getData('generalization')\r\n    if (Array.isArray(generalization)) {\r\n      generalization.splice(index, 1)\r\n    } else {\r\n      generalization = null\r\n    }\r\n    // 删除概要节点\r\n    this.mindMap.execCommand('SET_NODE_DATA', targetNode, {\r\n      generalization\r\n    })\r\n    this.closeHighlightNode()\r\n  }\r\n\r\n  // 仅删除当前节点\r\n  removeCurrentNode(appointNodes = []) {\r\n    appointNodes = formatDataToArray(appointNodes)\r\n    if (this.activeNodeList.length <= 0 && appointNodes.length <= 0) {\r\n      return\r\n    }\r\n    let isAppointNodes = appointNodes.length > 0\r\n    let list = isAppointNodes ? appointNodes : this.activeNodeList\r\n    list = list.filter(node => {\r\n      return !node.isRoot\r\n    })\r\n    // 删除节点后需要激活的节点，如果只选中了一个节点，删除后激活其兄弟节点或者父节点\r\n    let needActiveNode = this.getNextActiveNode(list)\r\n    for (let i = 0; i < list.length; i++) {\r\n      let node = list[i]\r\n      if (node.isGeneralization) {\r\n        // 删除概要节点\r\n        this.deleteNodeGeneralization(node)\r\n      } else {\r\n        const parent = node.parent\r\n        const index = getNodeDataIndex(node)\r\n        parent.nodeData.children.splice(\r\n          index,\r\n          1,\r\n          ...(node.nodeData.children || [])\r\n        )\r\n      }\r\n    }\r\n    this.activeNodeList = []\r\n    // 激活被删除节点的兄弟节点或父节点\r\n    if (needActiveNode) {\r\n      this.addNodeToActiveList(needActiveNode)\r\n    }\r\n    this.emitNodeActiveEvent()\r\n    this.mindMap.render()\r\n  }\r\n\r\n  // 计算下一个可激活的节点\r\n  getNextActiveNode(deleteList) {\r\n    // 删除多个节点不自动激活相邻节点\r\n    if (deleteList.length !== 1) return null\r\n    // 被删除的节点不在当前激活的节点列表里，不激活相邻节点\r\n    if (this.findActiveNodeIndex(deleteList[0]) === -1) return null\r\n    let needActiveNode = null\r\n    if (\r\n      this.activeNodeList.length === 1 &&\r\n      !this.activeNodeList[0].isGeneralization &&\r\n      this.mindMap.opt.deleteNodeActive\r\n    ) {\r\n      const node = this.activeNodeList[0]\r\n      const broList = node.parent.children\r\n      const nodeIndex = getNodeIndexInNodeList(node, broList)\r\n      // 如果后面有兄弟节点\r\n      if (nodeIndex < broList.length - 1) {\r\n        needActiveNode = broList[nodeIndex + 1]\r\n      } else {\r\n        // 如果前面有兄弟节点\r\n        if (nodeIndex > 0) {\r\n          needActiveNode = broList[nodeIndex - 1]\r\n        } else {\r\n          // 没有兄弟节点\r\n          needActiveNode = node.parent\r\n        }\r\n      }\r\n    }\r\n    return needActiveNode\r\n  }\r\n\r\n  //  复制节点\r\n  copyNode() {\r\n    if (this.activeNodeList.length <= 0) {\r\n      return null\r\n    }\r\n    let nodeList = getTopAncestorsFomNodeList(this.activeNodeList)\r\n    nodeList = sortNodeList(nodeList)\r\n    return nodeList.map(node => {\r\n      return copyNodeTree({}, node, true)\r\n    })\r\n  }\r\n\r\n  //  剪切节点\r\n  cutNode(callback) {\r\n    if (this.activeNodeList.length <= 0) {\r\n      return\r\n    }\r\n    // 找出激活节点中的顶层节点列表，并过滤掉根节点\r\n    let nodeList = getTopAncestorsFomNodeList(this.activeNodeList).filter(\r\n      node => {\r\n        return !node.isRoot\r\n      }\r\n    )\r\n    nodeList = sortNodeList(nodeList)\r\n    // 复制数据\r\n    const copyData = nodeList.map(node => {\r\n      return copyNodeTree({}, node, true)\r\n    })\r\n    // 从父节点的数据中移除\r\n    nodeList.forEach(node => {\r\n      removeFromParentNodeData(node)\r\n    })\r\n    // 清空激活节点列表\r\n    this.clearActiveNodeList()\r\n    this.mindMap.render()\r\n    if (callback && typeof callback === 'function') {\r\n      callback(copyData)\r\n    }\r\n  }\r\n\r\n  //  移动节点作为另一个节点的子节点\r\n  moveNodeTo(node, toNode) {\r\n    let nodeList = formatDataToArray(node)\r\n    nodeList = nodeList.filter(item => {\r\n      return !item.isRoot\r\n    })\r\n    nodeList.forEach(item => {\r\n      this.checkNodeLayerChange(item, toNode, true)\r\n      this.removeNodeFromActiveList(item)\r\n      removeFromParentNodeData(item)\r\n      toNode.setData({\r\n        expand: true\r\n      })\r\n      toNode.nodeData.children.push(item.nodeData)\r\n    })\r\n    this.emitNodeActiveEvent()\r\n    this.mindMap.render()\r\n  }\r\n\r\n  //   粘贴节点到节点\r\n  pasteNode(data) {\r\n    data = formatDataToArray(data)\r\n    if (this.activeNodeList.length <= 0 || data.length <= 0) {\r\n      return\r\n    }\r\n    this.activeNodeList.forEach(node => {\r\n      node.setData({\r\n        expand: true\r\n      })\r\n      node.nodeData.children.push(\r\n        ...data.map(item => {\r\n          const newData = simpleDeepClone(item)\r\n          createUidForAppointNodes([newData], true, node => {\r\n            // 可能跨层级复制，那么富文本样式需要更新\r\n            if (this.mindMap.richText) {\r\n              // 如果设置了自定义样式那么不需要更新\r\n              if (\r\n                this.mindMap.richText.checkNodeHasCustomRichTextStyle(node.data)\r\n              ) {\r\n                return\r\n              }\r\n              node.data.resetRichText = true\r\n            }\r\n          })\r\n          return newData\r\n        })\r\n      )\r\n    })\r\n    this.mindMap.render()\r\n  }\r\n\r\n  //  设置节点样式\r\n  setNodeStyle(node, prop, value) {\r\n    let data = {\r\n      [prop]: value\r\n    }\r\n    // 如果开启了富文本，则需要应用到富文本上\r\n    if (this.mindMap.richText) {\r\n      this.mindMap.richText.setNotActiveNodeStyle(node, {\r\n        [prop]: value\r\n      })\r\n    }\r\n    this.setNodeDataRender(node, data)\r\n    // 更新了连线的样式\r\n    if (lineStyleProps.includes(prop)) {\r\n      ;(node.parent || node).renderLine(true)\r\n    }\r\n  }\r\n\r\n  //  设置节点多个样式\r\n  setNodeStyles(node, style) {\r\n    let data = { ...style }\r\n    // 如果开启了富文本，则需要应用到富文本上\r\n    if (this.mindMap.richText) {\r\n      this.mindMap.richText.setNotActiveNodeStyle(node, style)\r\n    }\r\n    this.setNodeDataRender(node, data)\r\n    // 更新了连线的样式\r\n    let props = Object.keys(style)\r\n    let hasLineStyleProps = false\r\n    props.forEach(key => {\r\n      if (lineStyleProps.includes(key)) {\r\n        hasLineStyleProps = true\r\n      }\r\n    })\r\n    if (hasLineStyleProps) {\r\n      ;(node.parent || node).renderLine(true)\r\n    }\r\n  }\r\n\r\n  //  设置节点是否激活\r\n  setNodeActive(node, active) {\r\n    this.mindMap.execCommand('SET_NODE_DATA', node, {\r\n      isActive: active\r\n    })\r\n    node.updateNodeByActive(active)\r\n  }\r\n\r\n  //  设置节点是否展开\r\n  setNodeExpand(node, expand) {\r\n    this.mindMap.execCommand('SET_NODE_DATA', node, {\r\n      expand\r\n    })\r\n    this.mindMap.render()\r\n  }\r\n\r\n  //  展开所有\r\n  expandAllNode() {\r\n    if (!this.renderTree) return\r\n    walk(\r\n      this.renderTree,\r\n      null,\r\n      node => {\r\n        if (!node.data.expand) {\r\n          node.data.expand = true\r\n        }\r\n      },\r\n      null,\r\n      true,\r\n      0,\r\n      0\r\n    )\r\n    this.mindMap.render()\r\n  }\r\n\r\n  //  收起所有\r\n  unexpandAllNode(isSetRootNodeCenter = true) {\r\n    if (!this.renderTree) return\r\n    walk(\r\n      this.renderTree,\r\n      null,\r\n      (node, parent, isRoot) => {\r\n        if (!isRoot && node.children && node.children.length > 0) {\r\n          node.data.expand = false\r\n        }\r\n      },\r\n      null,\r\n      true,\r\n      0,\r\n      0\r\n    )\r\n    this.mindMap.render(() => {\r\n      if (isSetRootNodeCenter) {\r\n        this.setRootNodeCenter()\r\n      }\r\n    })\r\n  }\r\n\r\n  //  展开到指定层级\r\n  expandToLevel(level) {\r\n    if (!this.renderTree) return\r\n    walk(\r\n      this.renderTree,\r\n      null,\r\n      (node, parent, isRoot, layerIndex) => {\r\n        const expand = layerIndex < level\r\n        if (expand) {\r\n          node.data.expand = true\r\n        } else if (!isRoot && node.children && node.children.length > 0) {\r\n          node.data.expand = false\r\n        }\r\n      },\r\n      null,\r\n      true,\r\n      0,\r\n      0\r\n    )\r\n    this.mindMap.render()\r\n  }\r\n\r\n  //  切换激活节点的展开状态\r\n  toggleActiveExpand() {\r\n    this.activeNodeList.forEach(node => {\r\n      if (node.nodeData.children.length <= 0 || node.isRoot) {\r\n        return\r\n      }\r\n      this.toggleNodeExpand(node)\r\n    })\r\n  }\r\n\r\n  //  切换节点展开状态\r\n  toggleNodeExpand(node) {\r\n    this.mindMap.execCommand('SET_NODE_EXPAND', node, !node.getData('expand'))\r\n  }\r\n\r\n  //  设置节点文本\r\n  setNodeText(node, text, richText, resetRichText) {\r\n    richText = richText === undefined ? node.getData('richText') : richText\r\n    this.setNodeDataRender(node, {\r\n      text,\r\n      richText,\r\n      resetRichText\r\n    })\r\n  }\r\n\r\n  //  设置节点图片\r\n  setNodeImage(node, data) {\r\n    const {\r\n      url,\r\n      title,\r\n      width,\r\n      height,\r\n      custom = false\r\n    } = data || { url: '', title: '', width: 0, height: 0, custom: false }\r\n    this.setNodeDataRender(node, {\r\n      image: url,\r\n      imageTitle: title || '',\r\n      imageSize: {\r\n        width,\r\n        height,\r\n        custom\r\n      }\r\n    })\r\n  }\r\n\r\n  //  设置节点图标\r\n  setNodeIcon(node, icons) {\r\n    this.setNodeDataRender(node, {\r\n      icon: icons\r\n    })\r\n  }\r\n\r\n  //  设置节点超链接\r\n  setNodeHyperlink(node, link, title = '') {\r\n    this.setNodeDataRender(node, {\r\n      hyperlink: link,\r\n      hyperlinkTitle: title\r\n    })\r\n  }\r\n\r\n  //  设置节点备注\r\n  setNodeNote(node, note) {\r\n    this.setNodeDataRender(node, {\r\n      note\r\n    })\r\n  }\r\n\r\n  //  设置节点附件\r\n  setNodeAttachment(node, url, name = '') {\r\n    this.setNodeDataRender(node, {\r\n      attachmentUrl: url,\r\n      attachmentName: name\r\n    })\r\n  }\r\n\r\n  //  设置节点标签\r\n  setNodeTag(node, tag) {\r\n    this.setNodeDataRender(node, {\r\n      tag\r\n    })\r\n  }\r\n\r\n  // 设置节点公式\r\n  insertFormula(formula, appointNodes = []) {\r\n    // 只在富文本模式下可用，并且需要注册Formula插件\r\n    if (!this.mindMap.richText || !this.mindMap.formula) return\r\n    appointNodes = formatDataToArray(appointNodes)\r\n    const list = appointNodes.length > 0 ? appointNodes : this.activeNodeList\r\n    list.forEach(node => {\r\n      this.mindMap.formula.insertFormulaToNode(node, formula)\r\n    })\r\n  }\r\n\r\n  //  添加节点概要\r\n  addGeneralization(data, openEdit = true) {\r\n    if (this.activeNodeList.length <= 0) {\r\n      return\r\n    }\r\n    const nodeList = this.activeNodeList.filter(node => {\r\n      return (\r\n        !node.isRoot &&\r\n        !node.isGeneralization &&\r\n        !node.checkHasSelfGeneralization()\r\n      )\r\n    })\r\n    const list = parseAddGeneralizationNodeList(nodeList)\r\n    if (list.length <= 0) return\r\n    const isRichText = !!this.mindMap.richText\r\n    const { focusNewNode, inserting } = this.getNewNodeBehavior(\r\n      openEdit,\r\n      list.length > 1\r\n    )\r\n    let needRender = false\r\n    list.forEach(item => {\r\n      const newData = {\r\n        inserting,\r\n        ...(data || {\r\n          text: this.mindMap.opt.defaultGeneralizationText\r\n        }),\r\n        range: item.range || null,\r\n        uid: createUid(),\r\n        richText: isRichText,\r\n        resetRichText: isRichText,\r\n        isActive: focusNewNode\r\n      }\r\n      let generalization = item.node.getData('generalization')\r\n      generalization = generalization\r\n        ? Array.isArray(generalization)\r\n          ? generalization\r\n          : [generalization]\r\n        : []\r\n      // 如果是范围概要，那么检查该范围是否存在\r\n      if (item.range) {\r\n        const isExist = !!generalization.find(item2 => {\r\n          return (\r\n            item2.range &&\r\n            item2.range[0] === item.range[0] &&\r\n            item2.range[1] === item.range[1]\r\n          )\r\n        })\r\n        if (isExist) {\r\n          return\r\n        }\r\n        // 不存在则添加\r\n        generalization.push(newData)\r\n      } else {\r\n        // 不是范围概要直接添加，因为前面已经判断过是否存在\r\n        generalization.push(newData)\r\n      }\r\n      needRender = true\r\n      this.mindMap.execCommand('SET_NODE_DATA', item.node, {\r\n        generalization\r\n      })\r\n      // 插入子节点时自动展开子节点\r\n      item.node.setData({\r\n        expand: true\r\n      })\r\n    })\r\n    if (!needRender) return\r\n    // 需要清除原来激活的节点\r\n    if (focusNewNode) {\r\n      this.clearActiveNodeList()\r\n    }\r\n    this.mindMap.render(() => {\r\n      // 修复祖先节点存在概要时位置未更新的问题\r\n      // 修复同时给存在上下级关系的节点添加概要时重叠的问题\r\n      this.mindMap.render()\r\n    })\r\n  }\r\n\r\n  //  删除节点概要\r\n  removeGeneralization() {\r\n    if (this.activeNodeList.length <= 0) {\r\n      return\r\n    }\r\n    this.activeNodeList.forEach(node => {\r\n      if (!node.checkHasGeneralization()) {\r\n        return\r\n      }\r\n      this.mindMap.execCommand('SET_NODE_DATA', node, {\r\n        generalization: null\r\n      })\r\n    })\r\n    this.mindMap.render()\r\n    this.closeHighlightNode()\r\n  }\r\n\r\n  //  设置节点自定义位置\r\n  setNodeCustomPosition(node, left = undefined, top = undefined) {\r\n    let nodeList = [node] || this.activeNodeList\r\n    nodeList.forEach(item => {\r\n      this.mindMap.execCommand('SET_NODE_DATA', item, {\r\n        customLeft: left,\r\n        customTop: top\r\n      })\r\n    })\r\n  }\r\n\r\n  //  一键整理布局，即去除自定义位置\r\n  resetLayout() {\r\n    walk(\r\n      this.root,\r\n      null,\r\n      node => {\r\n        node.customLeft = undefined\r\n        node.customTop = undefined\r\n        this.mindMap.execCommand('SET_NODE_DATA', node, {\r\n          customLeft: undefined,\r\n          customTop: undefined\r\n        })\r\n        this.mindMap.render()\r\n      },\r\n      null,\r\n      true,\r\n      0,\r\n      0\r\n    )\r\n  }\r\n\r\n  //  设置节点形状\r\n  setNodeShape(node, shape) {\r\n    if (!shape || !shapeList.includes(shape)) {\r\n      return\r\n    }\r\n    let nodeList = [node] || this.activeNodeList\r\n    nodeList.forEach(item => {\r\n      this.setNodeStyle(item, 'shape', shape)\r\n    })\r\n  }\r\n\r\n  // 定位到指定节点\r\n  goTargetNode(node, callback = () => {}) {\r\n    let uid = typeof node === 'string' ? node : node.getData('uid')\r\n    if (!uid) return\r\n    this.expandToNodeUid(uid, () => {\r\n      let targetNode = this.findNodeByUid(uid)\r\n      if (targetNode) {\r\n        targetNode.active()\r\n        this.moveNodeToCenter(targetNode)\r\n        callback(targetNode)\r\n      }\r\n    })\r\n  }\r\n\r\n  //  更新节点数据\r\n  setNodeData(node, data) {\r\n    Object.keys(data).forEach(key => {\r\n      node.nodeData.data[key] = data[key]\r\n    })\r\n  }\r\n\r\n  //  设置节点数据，并判断是否渲染\r\n  setNodeDataRender(node, data, notRender = false) {\r\n    this.mindMap.execCommand('SET_NODE_DATA', node, data)\r\n    this.reRenderNodeCheckChange(node, notRender)\r\n  }\r\n\r\n  // 重新节点某个节点，判断节点大小是否发生了改变，是的话触发重绘\r\n  reRenderNodeCheckChange(node, notRender) {\r\n    let changed = node.reRender()\r\n    if (changed) {\r\n      if (!notRender) this.mindMap.render()\r\n    } else {\r\n      this.mindMap.emit('node_tree_render_end')\r\n    }\r\n  }\r\n\r\n  // 移动节点到画布中心\r\n  // resetScale参数指定是否要将画布缩放值复位为100%，当你没有显式传递时，默认值为undefined，因为实例化选项的resetScaleOnMoveNodeToCenter配置也会决定是否复位缩放，所以当你没有显式传递时使用resetScaleOnMoveNodeToCenter配置，否则使用resetScale配置\r\n  moveNodeToCenter(node, resetScale) {\r\n    let { resetScaleOnMoveNodeToCenter } = this.mindMap.opt\r\n    if (resetScale !== undefined) {\r\n      resetScaleOnMoveNodeToCenter = resetScale\r\n    }\r\n    let { transform, state } = this.mindMap.view.getTransformData()\r\n    let { left, top, width, height } = node\r\n    if (!resetScaleOnMoveNodeToCenter) {\r\n      left *= transform.scaleX\r\n      top *= transform.scaleY\r\n      width *= transform.scaleX\r\n      height *= transform.scaleY\r\n    }\r\n    let halfWidth = this.mindMap.width / 2\r\n    let halfHeight = this.mindMap.height / 2\r\n    let nodeCenterX = left + width / 2\r\n    let nodeCenterY = top + height / 2\r\n    let targetX = halfWidth - state.x\r\n    let targetY = halfHeight - state.y\r\n    let offsetX = targetX - nodeCenterX\r\n    let offsetY = targetY - nodeCenterY\r\n    this.mindMap.view.translateX(offsetX)\r\n    this.mindMap.view.translateY(offsetY)\r\n    if (resetScaleOnMoveNodeToCenter) {\r\n      this.mindMap.view.setScale(1)\r\n    }\r\n  }\r\n\r\n  // 回到中心主题，即设置根节点到画布中心\r\n  setRootNodeCenter() {\r\n    this.moveNodeToCenter(this.root)\r\n  }\r\n\r\n  // 展开到指定uid的节点\r\n  expandToNodeUid(uid, callback = () => {}) {\r\n    if (!this.renderTree) {\r\n      callback()\r\n      return\r\n    }\r\n    let parentsList = []\r\n    let isGeneralization = false\r\n    const cache = {}\r\n    bfsWalk(this.renderTree, (node, parent) => {\r\n      if (node.data.uid === uid) {\r\n        parentsList = parent ? [...cache[parent.data.uid], parent] : []\r\n        return 'stop'\r\n      }\r\n      const generalizationList = formatGetNodeGeneralization(node.data)\r\n      generalizationList.forEach(item => {\r\n        if (item.uid === uid) {\r\n          parentsList = parent ? [...cache[parent.data.uid], parent, node] : []\r\n          isGeneralization = true\r\n        }\r\n      })\r\n      if (isGeneralization) {\r\n        return 'stop'\r\n      }\r\n      cache[node.data.uid] = parent ? [...cache[parent.data.uid], parent] : []\r\n    })\r\n    let needRender = false\r\n    parentsList.forEach(node => {\r\n      if (!node.data.expand) {\r\n        needRender = true\r\n        node.data.expand = true\r\n      }\r\n    })\r\n    // 如果是展开到概要节点，那么父节点下的所有节点都需要开\r\n    if (isGeneralization) {\r\n      const lastNode = parentsList[parentsList.length - 1]\r\n      if (lastNode) {\r\n        walk(lastNode, null, node => {\r\n          if (!node.data.expand) {\r\n            needRender = true\r\n            node.data.expand = true\r\n          }\r\n        })\r\n      }\r\n    }\r\n    if (needRender) {\r\n      this.mindMap.render(callback)\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n\r\n  // 根据uid找到对应的节点实例\r\n  findNodeByUid(uid) {\r\n    let res = null\r\n    walk(this.root, null, node => {\r\n      if (node.getData('uid') === uid) {\r\n        res = node\r\n        return true\r\n      }\r\n      // 概要节点\r\n      let isGeneralization = false\r\n      ;(node._generalizationList || []).forEach(item => {\r\n        if (item.generalizationNode.getData('uid') === uid) {\r\n          res = item.generalizationNode\r\n          isGeneralization = true\r\n        }\r\n      })\r\n      if (isGeneralization) {\r\n        return true\r\n      }\r\n    })\r\n    return res\r\n  }\r\n\r\n  // 高亮节点或子节点\r\n  highlightNode(node, range) {\r\n    // 如果当前正在渲染，那么不进行高亮，因为节点位置可能不正确\r\n    if (this.isRendering) return\r\n    const { highlightNodeBoxStyle = {} } = this.mindMap.opt\r\n    if (!this.highlightBoxNode) {\r\n      this.highlightBoxNode = new Polygon()\r\n        .stroke({\r\n          color: highlightNodeBoxStyle.stroke || 'transparent'\r\n        })\r\n        .fill({\r\n          color: highlightNodeBoxStyle.fill || 'transparent'\r\n        })\r\n    }\r\n    let minx = Infinity,\r\n      miny = Infinity,\r\n      maxx = -Infinity,\r\n      maxy = -Infinity\r\n    if (range) {\r\n      const children = node.children.slice(range[0], range[1] + 1)\r\n      children.forEach(child => {\r\n        if (child.left < minx) {\r\n          minx = child.left\r\n        }\r\n        if (child.top < miny) {\r\n          miny = child.top\r\n        }\r\n        const right = child.left + child.width\r\n        const bottom = child.top + child.height\r\n        if (right > maxx) {\r\n          maxx = right\r\n        }\r\n        if (bottom > maxy) {\r\n          maxy = bottom\r\n        }\r\n      })\r\n    } else {\r\n      minx = node.left\r\n      miny = node.top\r\n      maxx = node.left + node.width\r\n      maxy = node.top + node.height\r\n    }\r\n    this.highlightBoxNode.plot([\r\n      [minx, miny],\r\n      [maxx, miny],\r\n      [maxx, maxy],\r\n      [minx, maxy]\r\n    ])\r\n    this.mindMap.otherDraw.add(this.highlightBoxNode)\r\n  }\r\n\r\n  // 关闭高亮\r\n  closeHighlightNode() {\r\n    if (!this.highlightBoxNode) return\r\n    this.highlightBoxNode.remove()\r\n  }\r\n}\r\n\r\nexport default Render\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  清新绿\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: '#333',\r\n  // 背景颜色\r\n  backgroundColor: '#d1f6ec',\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 1,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#333',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: '#1fb27d'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: '#fff',\r\n    color: '#565656',\r\n    borderColor: 'transparent',\r\n    borderWidth: 0\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: '#333',\r\n    color: '#333'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  天空蓝\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(115, 161, 191)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(251, 251, 251)',\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 1,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#333',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(115, 161, 191)'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(238, 243, 246)',\r\n    color: '#333',\r\n    borderColor: 'rgb(115, 161, 191)',\r\n    borderWidth: 1,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#333'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: '#333',\r\n    color: '#333'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  脑残粉\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(191, 115, 148)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(251, 251, 251)',\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 1,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#333',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(191, 115, 148)'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(246, 238, 242)',\r\n    color: '#333',\r\n    borderColor: 'rgb(191, 115, 148)',\r\n    borderWidth: 1,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#333'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: '#333',\r\n    color: '#333'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  浪漫紫\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(123, 115, 191)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(251, 251, 251)',\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 1,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#333',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(123, 115, 191)'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(239, 238, 246)',\r\n    color: '#333',\r\n    borderColor: 'rgb(123, 115, 191)',\r\n    borderWidth: 1,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#333'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: '#333',\r\n    color: '#333'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  清新红\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(191, 115, 115)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(251, 251, 251)',\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 1,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#333',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(191, 115, 115)'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(246, 238, 238)',\r\n    color: '#333',\r\n    borderColor: 'rgb(191, 115, 115)',\r\n    borderWidth: 1,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#333'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: '#333',\r\n    color: '#333'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  泥土黄\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(191, 147, 115)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(251, 251, 251)',\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 1,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#333',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(191, 147, 115)'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(246, 242, 238)',\r\n    color: '#333',\r\n    borderColor: 'rgb(191, 147, 115)',\r\n    borderWidth: 1,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#333'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: '#333',\r\n    color: '#333'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  脑图经典\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: '#fff',\r\n  // 连线的粗细\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#fff',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(58, 65, 68)',\r\n  // 背景图片\r\n  backgroundImage:\r\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAIAAAACDbGyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowQzg5QTQ0NDhENzgxMUUzOENGREE4QTg0RDgzRTZDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowQzg5QTQ0NThENzgxMUUzOENGREE4QTg0RDgzRTZDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwOEQ1NDRGOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwOEQ1NDUwOEQ3NzExRTM4Q0ZEQThBODREODNFNkM3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+e9P33AAAACVJREFUeNpisXJ0YUACTAyoAMr/+eM7EGGRZ4FQ7BycEAZAgAEAHbEGtkoQm/wAAAAASUVORK5CYII=',\r\n  // 背景重复\r\n  backgroundRepeat: 'repeat',\r\n  backgroundSize: 'auto',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(233, 223, 152)',\r\n    color: '#333',\r\n    fontSize: 24,\r\n    borderRadius: 21\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(164, 197, 192)',\r\n    borderColor: 'transparent',\r\n    color: '#333',\r\n    fontSize: 16,\r\n    borderRadius: 10\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#fff',\r\n    fontWeight: 'bold'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: 'transparent',\r\n    color: '#333'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  经典2\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(51, 51, 51)',\r\n  // 连线的粗细\r\n  lineWidth: 2,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(51, 51, 51)',\r\n  // 背景颜色\r\n  backgroundColor: '#fff',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(18, 187, 55)',\r\n    color: '#fff',\r\n    fontSize: 24,\r\n    borderRadius: 10\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(241, 242, 241)',\r\n    borderColor: 'transparent',\r\n    color: '#1a1a1a',\r\n    fontSize: 18,\r\n    borderRadius: 10\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: '#1a1a1a'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: 'rgb(51, 51, 51)',\r\n    borderWidth: 2,\r\n    color: '#1a1a1a'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  经典3\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(94, 202, 110)',\r\n  // 连线的粗细\r\n  lineWidth: 2,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#1a1a1a',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(241, 241, 241)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(255, 245, 214)',\r\n    color: '#1a1a1a',\r\n    fontSize: 24,\r\n    borderRadius: 10,\r\n    borderColor: 'rgb(249, 199, 84)',\r\n    borderWidth: 1\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(255, 245, 214)',\r\n    borderColor: 'rgb(249, 199, 84)',\r\n    borderWidth: 1,\r\n    color: '#1a1a1a',\r\n    fontSize: 18,\r\n    borderRadius: 10\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: '#1a1a1a'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: '#1a1a1a',\r\n    color: '#1a1a1a',\r\n    borderWidth: 2\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  经典4\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(30, 53, 86)',\r\n  // 连线的粗细\r\n  lineWidth: 2,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 2,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(56, 123, 233)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(241, 241, 241)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(30, 53, 86)',\r\n    color: '#fff',\r\n    fontSize: 24,\r\n    borderRadius: 10,\r\n    borderColor: 'rgb(189, 197, 201)',\r\n    borderWidth: 2\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(169, 218, 218)',\r\n    borderColor: 'rgb(30, 53, 86)',\r\n    borderWidth: 2,\r\n    color: '#fff',\r\n    fontSize: 18,\r\n    borderRadius: 10\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: 'rgb(30, 53, 86)',\r\n    borderColor: 'rgb(30, 53, 86)',\r\n    borderWidth: 1,\r\n    marginY: 20\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: 'rgb(56, 123, 233)',\r\n    borderColor: 'rgb(56, 123, 233)',\r\n    color: '#fff',\r\n    borderWidth: 0\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  暗色\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(17, 68, 23)',\r\n  // 连线的粗细\r\n  lineWidth: 2,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 2,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#fff',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(15, 16, 17)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(28, 178, 43)',\r\n    color: '#fff',\r\n    fontSize: 24,\r\n    borderRadius: 10\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(55, 56, 58)',\r\n    color: 'rgb(147,148,149)',\r\n    fontSize: 18,\r\n    borderRadius: 10,\r\n    borderWidth: 0\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: 'rgb(147, 148, 149)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: 'transparent',\r\n    color: '#333'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  经典绿\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(123, 199, 120)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(236, 245, 231)',\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 2,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(123, 199, 120)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(253, 244, 217)',\r\n    color: '#222'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(253, 244, 217)',\r\n    color: '#222',\r\n    borderColor: 'rgb(242, 200, 104)',\r\n    borderWidth: 1,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#333'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: 'rgb(123, 199, 120)',\r\n    borderColor: 'transparent',\r\n    borderWidth: 2,\r\n    color: '#fff'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  经典蓝\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(51, 51, 51)',\r\n  // 连线的粗细\r\n  lineWidth: 2,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 2,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(51, 51, 51)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(239, 248, 250)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(255, 255, 255)',\r\n    color: '#222'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(255, 255, 255)',\r\n    color: '#222',\r\n    borderColor: 'rgb(255, 255, 255)',\r\n    borderWidth: 1,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#333'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: 'rgb(51, 51, 51)',\r\n    color: '#333'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  小黄人\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(51, 51, 51)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#222',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(248, 215, 49)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(55, 165, 255)',\r\n    borderColor: 'rgb(51, 51, 51)',\r\n    borderWidth: 3\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(255, 160, 36)',\r\n    color: '#222',\r\n    borderColor: 'rgb(51, 51, 51)',\r\n    borderWidth: 3,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#222'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    borderColor: '#222',\r\n    borderWidth: 3,\r\n    color: '#222'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  粉红葡萄\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(166, 101, 106)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#fff',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(255, 208, 211)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(139, 109, 225)',\r\n    borderColor: '',\r\n    borderWidth: 0\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(243, 104, 138)',\r\n    color: '#fff',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#222'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: 'transparent',\r\n    color: '#222'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  薄荷\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(104, 204, 202)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(90, 206, 241)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(239, 255, 255)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(0, 192, 184)',\r\n    borderColor: '',\r\n    borderWidth: 0\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: '#fff',\r\n    color: '#222',\r\n    borderColor: 'rgb(184, 235, 233)',\r\n    borderWidth: 2,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#222'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: 'rgb(90, 206, 241)',\r\n    borderColor: 'transparent',\r\n    color: '#fff'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  金色vip\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(51, 56, 62)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(127, 93, 64)',\r\n  // 背景颜色\r\n  backgroundColor: '#fff',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(51, 56, 62)',\r\n    color: 'rgb(247, 208, 160)',\r\n    borderColor: '',\r\n    borderWidth: 0\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(239, 209, 176)',\r\n    color: 'rgb(81, 58, 42)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#222'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: 'rgb(127, 93, 64)',\r\n    borderColor: 'transparent',\r\n    color: 'rgb(255, 214, 175)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  活力橙\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(254, 146, 0)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(255, 222, 69)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(255, 246, 243)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(255, 112, 52)',\r\n    color: '#fff',\r\n    borderColor: '',\r\n    borderWidth: 0\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: '#fff',\r\n    color: 'rgb(51, 51, 51)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#222'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: 'rgb(255, 222, 69)',\r\n    borderColor: 'transparent',\r\n    color: 'rgb(51, 51, 51)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  绿叶\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(40, 193, 84)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(251, 158, 0)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(238, 255, 243)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(25, 193, 73)',\r\n    color: '#fff',\r\n    borderColor: '',\r\n    borderWidth: 0\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: '#fff',\r\n    color: 'rgb(69, 149, 96)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: '#222'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: 'rgb(251, 158, 0)',\r\n    borderWidth: 2,\r\n    color: 'rgb(51, 51, 51)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  暗色2\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(75, 81, 78)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(255, 119, 34)',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(27, 31, 34)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(36, 179, 96)',\r\n    color: '#fff',\r\n    borderColor: '',\r\n    borderWidth: 0\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(254, 199, 13)',\r\n    color: 'rgb(0, 0, 0)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: 'rgb(204, 204, 204)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: 'transparent',\r\n    borderColor: 'rgb(255, 119, 34)',\r\n    borderWidth: 2,\r\n    color: 'rgb(204, 204, 204)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n//  天清绿\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: '#fff',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#fff',\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(80, 156, 170)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: '#fff',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    color: 'rgb(65, 89, 158)'\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(251, 227, 188)',\r\n    color: 'rgb(65, 89, 158)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 14\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 12,\r\n    color: 'rgb(65, 89, 158)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fillColor: '#fff',\r\n    borderColor: 'transparent',\r\n    color: 'rgb(65, 89, 158)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 简约黑\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(34, 34, 34)',\r\n  lineWidth: 4,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 4,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(34, 34, 34)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: '#fff',\r\n    color: 'rgb(34, 34, 34)',\r\n    borderColor: 'rgb(34, 34, 34)',\r\n    borderWidth: 3,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(241, 246, 248)',\r\n    color: 'rgb(34, 34, 34)',\r\n    borderColor: 'rgb(34, 34, 34)',\r\n    borderWidth: 3,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: 'rgb(34, 34, 34)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: 'transparent',\r\n    borderColor: 'rgb(34, 34, 34)',\r\n    borderWidth: 2,\r\n    color: 'rgb(34, 34, 34)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 课程绿\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(113, 195, 169)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(113, 195, 169)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(16, 160, 121)',\r\n    color: '#fff',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(240, 252, 249)',\r\n    color: 'rgb(50, 113, 96)',\r\n    borderColor: 'rgb(113, 195, 169)',\r\n    borderWidth: 2,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: 'rgb(10, 59, 43)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: 'rgb(246, 238, 211)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    color: 'rgb(173, 91, 12)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 咖啡\r\nexport default merge(defaultTheme, {\r\n  // 连线的颜色\r\n  lineColor: 'rgb(173, 123, 91)',\r\n  lineWidth: 4,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 4,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(173, 123, 91)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(202, 117, 79)',\r\n    color: '#fff',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(245, 231, 216)',\r\n    color: 'rgb(125, 86, 42)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: 'rgb(96, 71, 47)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: 'rgb(255, 249, 239)',\r\n    borderColor: 'rgb(173, 123, 91)',\r\n    borderWidth: 2,\r\n    color: 'rgb(122, 83, 44)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 红色精神\r\nexport default merge(defaultTheme, {\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(255, 238, 228)',\r\n  // 连线的颜色\r\n  lineColor: 'rgb(230, 138, 131)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(222, 101, 85)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(207, 44, 44)',\r\n    color: 'rgb(255, 233, 157)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(255, 255, 255)',\r\n    color: 'rgb(211, 58, 21)',\r\n    borderColor: 'rgb(222, 101, 85)',\r\n    borderWidth: 2,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: 'rgb(144, 71, 43)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: 'rgb(255, 247, 211)',\r\n    borderColor: 'rgb(255, 202, 162)',\r\n    borderWidth: 2,\r\n    color: 'rgb(187, 101, 69)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 黑色幽默\r\nexport default merge(defaultTheme, {\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(27, 31, 34)',\r\n  // 连线的颜色\r\n  lineColor: 'rgb(75, 81, 78)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(255, 119, 34)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(36, 179, 96)',\r\n    color: '#fff',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(254, 199, 13)',\r\n    color: 'rgb(0, 0, 0)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: 'rgb(204, 204, 204)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: 'rgb(27, 31, 34)',\r\n    borderColor: 'rgb(255, 119, 34)',\r\n    borderWidth: 2,\r\n    color: 'rgb(204, 204, 204)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 深夜办公室\r\nexport default merge(defaultTheme, {\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(32, 37, 49)',\r\n  // 连线的颜色\r\n  lineColor: 'rgb(137, 167, 196)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(255, 119, 34)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(23, 153, 243)',\r\n    color: 'rgb(255, 255, 255)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(70, 78, 94)',\r\n    color: 'rgb(209, 210, 210)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: 'rgb(204, 204, 204)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: 'rgb(255, 119, 34)',\r\n    borderColor: '',\r\n    borderWidth: 2,\r\n    color: '#fff'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 黑金\r\nexport default merge(defaultTheme, {\r\n  // 背景颜色\r\n  backgroundColor: 'rgb(18, 20, 20)',\r\n  // 连线的颜色\r\n  lineColor: 'rgb(205, 186, 156)',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: 'rgb(245, 224, 191)',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: 'rgb(255, 208, 124)',\r\n    color: 'rgb(111, 61, 6)',\r\n    borderColor: '',\r\n    borderWidth: 0,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: 'rgb(66, 57, 46)',\r\n    color: 'rgb(225, 201, 158)',\r\n    borderColor: 'rgb(245, 224, 191)',\r\n    borderWidth: 2,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: 'rgb(231, 203, 155)'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: 'rgb(56, 45, 34)',\r\n    borderColor: 'rgb(104, 84, 61)',\r\n    borderWidth: 2,\r\n    color: 'rgb(242, 216, 176)'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 牛油果\r\nexport default merge(defaultTheme, {\r\n  // 背景颜色\r\n  backgroundColor: '#e6f1de',\r\n  // 连线的颜色\r\n  lineColor: '#f5ffad',\r\n  lineWidth: 4,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#749336',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: '#94c143',\r\n    color: '#fff',\r\n    borderColor: '#94c143',\r\n    borderWidth: 0,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: '#cee498',\r\n    color: '#749336',\r\n    borderColor: '#aec668',\r\n    borderWidth: 2,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: '#749336'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: '#cee498',\r\n    borderColor: '#aec668',\r\n    borderWidth: 2,\r\n    color: '#749336'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 秋天\r\nexport default merge(defaultTheme, {\r\n  // 背景颜色\r\n  backgroundColor: '#fff2df',\r\n  // 连线的颜色\r\n  lineColor: '#b0bc47',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#b0bc47',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: '#e68112',\r\n    color: '#fff',\r\n    borderColor: '#e68112',\r\n    borderWidth: 0,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: '#ffd683',\r\n    color: '#8c5416',\r\n    borderColor: '#b0bc47',\r\n    borderWidth: 2,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: '#8c5416'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: '#ffd683',\r\n    borderColor: '#b0bc47',\r\n    borderWidth: 2,\r\n    color: '#8c5416'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport merge from 'deepmerge'\r\n\r\n// 橙汁\r\nexport default merge(defaultTheme, {\r\n  // 背景颜色\r\n  backgroundColor: '#070616',\r\n  // 连线的颜色\r\n  lineColor: '#fff',\r\n  lineWidth: 3,\r\n  // 概要连线的粗细\r\n  generalizationLineWidth: 3,\r\n  // 概要连线的颜色\r\n  generalizationLineColor: '#fff',\r\n  // 根节点样式\r\n  root: {\r\n    fillColor: '#ff6811',\r\n    color: '#110501',\r\n    borderColor: '#ff6811',\r\n    borderWidth: 0,\r\n    fontSize: 24\r\n  },\r\n  // 二级节点样式\r\n  second: {\r\n    fillColor: '#070616',\r\n    color: '#a9a4a9',\r\n    borderColor: '#ff6811',\r\n    borderWidth: 2,\r\n    fontSize: 18\r\n  },\r\n  // 三级及以下节点样式\r\n  node: {\r\n    fontSize: 14,\r\n    color: '#a9a4a9'\r\n  },\r\n  // 概要节点样式\r\n  generalization: {\r\n    fontSize: 14,\r\n    fillColor: '',\r\n    borderColor: '#ff6811',\r\n    borderWidth: 2,\r\n    color: '#a9a4a9'\r\n  }\r\n})\r\n", "import defaultTheme from './default'\r\nimport freshGreen from './freshGreen'\r\nimport blueSky from './blueSky'\r\nimport brainImpairedPink from './brainImpairedPink'\r\nimport romanticPurple from './romanticPurple'\r\nimport freshRed from './freshRed'\r\nimport earthYellow from './earthYellow'\r\nimport classic from './classic'\r\nimport classic2 from './classic2'\r\nimport classic3 from './classic3'\r\nimport classic4 from './classic4'\r\nimport dark from './dark'\r\nimport classicGreen from './classicGreen'\r\nimport classicBlue from './classicBlue'\r\nimport minions from './minions'\r\nimport pinkGrape from './pinkGrape'\r\nimport mint from './mint'\r\nimport gold from './gold'\r\nimport vitalityOrange from './vitalityOrange'\r\nimport greenLeaf from './greenLeaf'\r\nimport dark2 from './dark2'\r\nimport skyGreen from './skyGreen'\r\nimport simpleBlack from './simpleBlack'\r\nimport courseGreen from './courseGreen'\r\nimport coffee from './coffee'\r\nimport redSpirit from './redSpirit'\r\nimport blackHumour from './blackHumour'\r\nimport lateNightOffice from './lateNightOffice'\r\nimport blackGold from './blackGold'\r\nimport avocado from './avocado'\r\nimport autumn from './autumn'\r\nimport orangeJuice from './orangeJuice'\r\n\r\nexport default {\r\n  default: defaultTheme,\r\n  freshGreen,\r\n  blueSky,\r\n  brainImpairedPink,\r\n  romanticPurple,\r\n  freshRed,\r\n  earthYellow,\r\n  classic,\r\n  classic2,\r\n  classic3,\r\n  classic4,\r\n  dark,\r\n  classicGreen,\r\n  classicBlue,\r\n  minions,\r\n  pinkGrape,\r\n  mint,\r\n  gold,\r\n  vitalityOrange,\r\n  greenLeaf,\r\n  dark2,\r\n  skyGreen,\r\n  simpleBlack,\r\n  courseGreen,\r\n  coffee,\r\n  redSpirit,\r\n  blackHumour,\r\n  lateNightOffice,\r\n  blackGold,\r\n  avocado,\r\n  autumn,\r\n  orangeJuice\r\n}\r\n", "const map = {\r\n  Backspace: 8,\r\n  Tab: 9,\r\n  Enter: 13,\r\n\r\n  Shift: 16,\r\n  Control: 17,\r\n  Alt: 18,\r\n  CapsLock: 20,\r\n\r\n  Esc: 27,\r\n\r\n  Spacebar: 32,\r\n\r\n  PageUp: 33,\r\n  PageDown: 34,\r\n  End: 35,\r\n  Home: 36,\r\n\r\n  Insert: 45,\r\n\r\n  Left: 37,\r\n  Up: 38,\r\n  Right: 39,\r\n  Down: 40,\r\n\r\n  Del: 46,\r\n\r\n  NumLock: 144,\r\n\r\n  Cmd: 91,\r\n  CmdFF: 224,\r\n  F1: 112,\r\n  F2: 113,\r\n  F3: 114,\r\n  F4: 115,\r\n  F5: 116,\r\n  F6: 117,\r\n  F7: 118,\r\n  F8: 119,\r\n  F9: 120,\r\n  F10: 121,\r\n  F11: 122,\r\n  F12: 123,\r\n\r\n  '`': 192,\r\n  '=': 187,\r\n  '-': 189,\r\n\r\n  '/': 191,\r\n  '.': 190\r\n}\r\n\r\n// 数字\r\nfor (let i = 0; i <= 9; i++) {\r\n  map[i] = i + 48\r\n}\r\n\r\n// 字母\r\n'abcdefghijklmnopqrstuvwxyz'.split('').forEach((n, index) => {\r\n  map[n] = index + 65\r\n})\r\n\r\nexport const keyMap = map\r\n\r\nexport const isKey = (e, key) => {\r\n  let code = typeof e === 'object' ? e.keyCode : e\r\n  return map[key] === code\r\n}\r\n", "import { keyMap } from './keyMap'\r\n\r\n//  快捷按键、命令处理类\r\nexport default class KeyCommand {\r\n  //  构造函数\r\n  constructor(opt) {\r\n    this.opt = opt\r\n    this.mindMap = opt.mindMap\r\n    this.shortcutMap = {\r\n      //Enter: [fn]\r\n    }\r\n    this.shortcutMapCache = {}\r\n    this.isPause = false\r\n    this.isInSvg = false\r\n    this.bindEvent()\r\n  }\r\n\r\n  //  暂停快捷键响应\r\n  pause() {\r\n    this.isPause = true\r\n  }\r\n\r\n  //  恢复快捷键响应\r\n  recovery() {\r\n    this.isPause = false\r\n  }\r\n\r\n  //  保存当前注册的快捷键数据，然后清空快捷键数据\r\n  save() {\r\n    this.shortcutMapCache = this.shortcutMap\r\n    this.shortcutMap = {}\r\n  }\r\n\r\n  //  恢复保存的快捷键数据，然后清空缓存数据\r\n  restore() {\r\n    this.shortcutMap = this.shortcutMapCache\r\n    this.shortcutMapCache = {}\r\n  }\r\n\r\n  //  绑定事件\r\n  bindEvent() {\r\n    this.onKeydown = this.onKeydown.bind(this)\r\n    // 只有当鼠标在画布内才响应快捷键\r\n    this.mindMap.on('svg_mouseenter', () => {\r\n      this.isInSvg = true\r\n    })\r\n    this.mindMap.on('svg_mouseleave', () => {\r\n      if (this.mindMap.renderer.textEdit.isShowTextEdit()) return\r\n      if (\r\n        this.mindMap.associativeLine &&\r\n        this.mindMap.associativeLine.showTextEdit\r\n      ) {\r\n        return\r\n      }\r\n      this.isInSvg = false\r\n    })\r\n    window.addEventListener('keydown', this.onKeydown)\r\n    this.mindMap.on('beforeDestroy', () => {\r\n      this.unBindEvent()\r\n    })\r\n  }\r\n\r\n  // 解绑事件\r\n  unBindEvent() {\r\n    window.removeEventListener('keydown', this.onKeydown)\r\n  }\r\n\r\n  // 按键事件\r\n  onKeydown(e) {\r\n    const { enableShortcutOnlyWhenMouseInSvg, beforeShortcutRun } = this.mindMap.opt\r\n    if (\r\n      this.isPause ||\r\n      (enableShortcutOnlyWhenMouseInSvg && !this.isInSvg)\r\n    ) {\r\n      return\r\n    }\r\n    Object.keys(this.shortcutMap).forEach(key => {\r\n      if (this.checkKey(e, key)) {\r\n        // 粘贴事件不组织，因为要监听paste事件\r\n        if (!this.checkKey(e, 'Control+v')) {\r\n          e.stopPropagation()\r\n          e.preventDefault()\r\n        }\r\n        if (typeof beforeShortcutRun === 'function') {\r\n          const isStop = beforeShortcutRun(key, [...this.mindMap.renderer.activeNodeList])\r\n          if (isStop) return\r\n        }\r\n        this.shortcutMap[key].forEach(fn => {\r\n          fn()\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  //  检查键值是否符合\r\n  checkKey(e, key) {\r\n    let o = this.getOriginEventCodeArr(e)\r\n    let k = this.getKeyCodeArr(key)\r\n    if (o.length !== k.length) {\r\n      return false\r\n    }\r\n    for (let i = 0; i < o.length; i++) {\r\n      let index = k.findIndex(item => {\r\n        return item === o[i]\r\n      })\r\n      if (index === -1) {\r\n        return false\r\n      } else {\r\n        k.splice(index, 1)\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  //  获取事件对象里的键值数组\r\n  getOriginEventCodeArr(e) {\r\n    let arr = []\r\n    if (e.ctrlKey || e.metaKey) {\r\n      arr.push(keyMap['Control'])\r\n    }\r\n    if (e.altKey) {\r\n      arr.push(keyMap['Alt'])\r\n    }\r\n    if (e.shiftKey) {\r\n      arr.push(keyMap['Shift'])\r\n    }\r\n    if (!arr.includes(e.keyCode)) {\r\n      arr.push(e.keyCode)\r\n    }\r\n    return arr\r\n  }\r\n\r\n  // 判断是否按下了组合键\r\n  hasCombinationKey(e) {\r\n    return e.ctrlKey || e.metaKey || e.altKey || e.shiftKey\r\n  }\r\n\r\n  //  获取快捷键对应的键值数组\r\n  getKeyCodeArr(key) {\r\n    let keyArr = key.split(/\\s*\\+\\s*/)\r\n    let arr = []\r\n    keyArr.forEach(item => {\r\n      arr.push(keyMap[item])\r\n    })\r\n    return arr\r\n  }\r\n\r\n  //  添加快捷键命令\r\n  /**\r\n   * Enter\r\n   * Tab | Insert\r\n   * Shift + a\r\n   */\r\n  addShortcut(key, fn) {\r\n    key.split(/\\s*\\|\\s*/).forEach(item => {\r\n      if (this.shortcutMap[item]) {\r\n        this.shortcutMap[item].push(fn)\r\n      } else {\r\n        this.shortcutMap[item] = [fn]\r\n      }\r\n    })\r\n  }\r\n\r\n  //  移除快捷键命令\r\n  removeShortcut(key, fn) {\r\n    key.split(/\\s*\\|\\s*/).forEach(item => {\r\n      if (this.shortcutMap[item]) {\r\n        if (fn) {\r\n          let index = this.shortcutMap[item].findIndex(f => {\r\n            return f === fn\r\n          })\r\n          if (index !== -1) {\r\n            this.shortcutMap[item].splice(index, 1)\r\n          }\r\n        } else {\r\n          this.shortcutMap[item] = []\r\n          delete this.shortcutMap[item]\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  //  获取指定快捷键的处理函数\r\n  getShortcutFn(key) {\r\n    let res = []\r\n    key.split(/\\s*\\|\\s*/).forEach(item => {\r\n      res = this.shortcutMap[item] || []\r\n    })\r\n    return res\r\n  }\r\n}\r\n", "import {\r\n  copyRenderTree,\r\n  simpleDeepClone,\r\n  throttle,\r\n  isSameObject,\r\n  transformTreeDataToObject\r\n} from '../../utils'\r\nimport { ERROR_TYPES } from '../../constants/constant'\r\n\r\n//  命令类\r\nclass Command {\r\n  //  构造函数\r\n  constructor(opt = {}) {\r\n    this.opt = opt\r\n    this.mindMap = opt.mindMap\r\n    this.commands = {}\r\n    this.history = []\r\n    this.activeHistoryIndex = 0\r\n    // 注册快捷键\r\n    this.registerShortcutKeys()\r\n    this.addHistory = throttle(\r\n      this.addHistory,\r\n      this.mindMap.opt.addHistoryTime,\r\n      this\r\n    )\r\n    // 是否暂停收集历史数据\r\n    this.isPause = false\r\n  }\r\n\r\n  // 暂停收集历史数据\r\n  pause() {\r\n    this.isPause = true\r\n  }\r\n\r\n  // 恢复收集历史数据\r\n  recovery() {\r\n    this.isPause = false\r\n  }\r\n\r\n  //  清空历史数据\r\n  clearHistory() {\r\n    this.history = []\r\n    this.activeHistoryIndex = 0\r\n    this.mindMap.emit('back_forward', 0, 0)\r\n  }\r\n\r\n  //  注册快捷键\r\n  registerShortcutKeys() {\r\n    this.mindMap.keyCommand.addShortcut('Control+z', () => {\r\n      this.mindMap.execCommand('BACK')\r\n    })\r\n    this.mindMap.keyCommand.addShortcut('Control+y', () => {\r\n      this.mindMap.execCommand('FORWARD')\r\n    })\r\n  }\r\n\r\n  //  执行命令\r\n  exec(name, ...args) {\r\n    if (this.commands[name]) {\r\n      this.commands[name].forEach(fn => {\r\n        fn(...args)\r\n      })\r\n      if (\r\n        ['BACK', 'FORWARD', 'SET_NODE_ACTIVE', 'CLEAR_ACTIVE_NODE'].includes(\r\n          name\r\n        )\r\n      ) {\r\n        return\r\n      }\r\n      this.addHistory()\r\n    }\r\n  }\r\n\r\n  //  添加命令\r\n  add(name, fn) {\r\n    if (this.commands[name]) {\r\n      this.commands[name].push(fn)\r\n    } else {\r\n      this.commands[name] = [fn]\r\n    }\r\n  }\r\n\r\n  //  移除命令\r\n  remove(name, fn) {\r\n    if (!this.commands[name]) {\r\n      return\r\n    }\r\n    if (!fn) {\r\n      this.commands[name] = []\r\n      delete this.commands[name]\r\n    } else {\r\n      let index = this.commands[name].find(item => {\r\n        return item === fn\r\n      })\r\n      if (index !== -1) {\r\n        this.commands[name].splice(index, 1)\r\n      }\r\n    }\r\n  }\r\n\r\n  //  添加回退数据\r\n  addHistory() {\r\n    if (this.mindMap.opt.readonly || this.isPause) {\r\n      return\r\n    }\r\n    const lastData =\r\n      this.history.length > 0 ? this.history[this.activeHistoryIndex] : null\r\n    const data = this.getCopyData()\r\n    // 此次数据和上次一样则不重复添加\r\n    if (lastData === data) return\r\n    if (lastData && JSON.stringify(lastData) === JSON.stringify(data)) {\r\n      return\r\n    }\r\n    this.emitDataUpdatesEvent(lastData, data)\r\n    // 删除当前历史指针后面的数据\r\n    this.history = this.history.slice(0, this.activeHistoryIndex + 1)\r\n    this.history.push(simpleDeepClone(data))\r\n    // 历史记录数超过最大数量\r\n    if (this.history.length > this.mindMap.opt.maxHistoryCount) {\r\n      this.history.shift()\r\n    }\r\n    this.activeHistoryIndex = this.history.length - 1\r\n    this.mindMap.emit('data_change', data)\r\n    this.mindMap.emit(\r\n      'back_forward',\r\n      this.activeHistoryIndex,\r\n      this.history.length\r\n    )\r\n  }\r\n\r\n  //  回退\r\n  back(step = 1) {\r\n    if (this.mindMap.opt.readonly) {\r\n      return\r\n    }\r\n    if (this.activeHistoryIndex - step >= 0) {\r\n      const lastData = this.history[this.activeHistoryIndex]\r\n      this.activeHistoryIndex -= step\r\n      this.mindMap.emit(\r\n        'back_forward',\r\n        this.activeHistoryIndex,\r\n        this.history.length\r\n      )\r\n      const data = simpleDeepClone(this.history[this.activeHistoryIndex])\r\n      this.emitDataUpdatesEvent(lastData, data)\r\n      this.mindMap.emit('data_change', data)\r\n      return data\r\n    }\r\n  }\r\n\r\n  //  前进\r\n  forward(step = 1) {\r\n    if (this.mindMap.opt.readonly) {\r\n      return\r\n    }\r\n    let len = this.history.length\r\n    if (this.activeHistoryIndex + step <= len - 1) {\r\n      const lastData = this.history[this.activeHistoryIndex]\r\n      this.activeHistoryIndex += step\r\n      this.mindMap.emit(\r\n        'back_forward',\r\n        this.activeHistoryIndex,\r\n        this.history.length\r\n      )\r\n      const data = simpleDeepClone(this.history[this.activeHistoryIndex])\r\n      this.emitDataUpdatesEvent(lastData, data)\r\n      this.mindMap.emit('data_change', data)\r\n      return data\r\n    }\r\n  }\r\n\r\n  //  获取渲染树数据副本\r\n  getCopyData() {\r\n    if (!this.mindMap.renderer.renderTree) return null\r\n    return copyRenderTree({}, this.mindMap.renderer.renderTree, true)\r\n  }\r\n\r\n  // 移除节点数据中的uid\r\n  removeDataUid(data) {\r\n    data = simpleDeepClone(data)\r\n    let walk = root => {\r\n      delete root.data.uid\r\n      if (root.children && root.children.length > 0) {\r\n        root.children.forEach(item => {\r\n          walk(item)\r\n        })\r\n      }\r\n    }\r\n    walk(data)\r\n    return data\r\n  }\r\n\r\n  // 派发思维导图更新明细事件\r\n  emitDataUpdatesEvent(lastData, data) {\r\n    try {\r\n      // 如果data_change_detail没有监听者，那么不进行计算，节省性能\r\n      const eventName = 'data_change_detail'\r\n      const count = this.mindMap.event.listenerCount(eventName)\r\n      if (count > 0 && lastData && data) {\r\n        const lastDataObj = simpleDeepClone(transformTreeDataToObject(lastData))\r\n        const dataObj = simpleDeepClone(transformTreeDataToObject(data))\r\n        const res = []\r\n        const walkReplace = (root, obj) => {\r\n          if (root.children && root.children.length > 0) {\r\n            root.children.forEach((childUid, index) => {\r\n              root.children[index] =\r\n                typeof childUid === 'string'\r\n                  ? obj[childUid]\r\n                  : obj[childUid.data.uid]\r\n              walkReplace(root.children[index], obj)\r\n            })\r\n          }\r\n          return root\r\n        }\r\n        // 找出新增的或修改的\r\n        Object.keys(dataObj).forEach(uid => {\r\n          // 新增的或已经存在的，如果数据发生了改变\r\n          if (!lastDataObj[uid]) {\r\n            res.push({\r\n              action: 'create',\r\n              data: walkReplace(dataObj[uid], dataObj)\r\n            })\r\n          } else if (!isSameObject(lastDataObj[uid], dataObj[uid])) {\r\n            res.push({\r\n              action: 'update',\r\n              oldData: walkReplace(lastDataObj[uid], lastDataObj),\r\n              data: walkReplace(dataObj[uid], dataObj)\r\n            })\r\n          }\r\n        })\r\n        // 找出删除的\r\n        Object.keys(lastDataObj).forEach(uid => {\r\n          if (!dataObj[uid]) {\r\n            res.push({\r\n              action: 'delete',\r\n              data: walkReplace(lastDataObj[uid], lastDataObj)\r\n            })\r\n          }\r\n        })\r\n        this.mindMap.emit(eventName, res)\r\n      }\r\n    } catch (error) {\r\n      this.mindMap.opt.errorHandler(\r\n        ERROR_TYPES.DATA_CHANGE_DETAIL_EVENT_ERROR,\r\n        error\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default Command\r\n", "import { nextTick } from '.'\r\n\r\n//  批量执行\r\nclass BatchExecution {\r\n  //  构造函数\r\n  constructor() {\r\n    this.has = {}\r\n    this.queue = []\r\n    this.nextTick = nextTick(this.flush, this)\r\n  }\r\n\r\n  //  添加任务\r\n  push(name, fn) {\r\n    if (this.has[name]) {\r\n      this.replaceTask(name, fn)\r\n      return\r\n    }\r\n    this.has[name] = true\r\n    this.queue.push({\r\n      name,\r\n      fn\r\n    })\r\n    this.nextTick()\r\n  }\r\n\r\n  // 替换任务\r\n  replaceTask(name, fn) {\r\n    const index = this.queue.findIndex(item => {\r\n      return item.name === name\r\n    })\r\n    if (index !== -1) {\r\n      this.queue[index] = {\r\n        name,\r\n        fn\r\n      }\r\n    }\r\n  }\r\n\r\n  //   执行队列\r\n  flush() {\r\n    let fns = this.queue.slice(0)\r\n    this.queue = []\r\n    fns.forEach(({ name, fn }) => {\r\n      this.has[name] = false\r\n      fn()\r\n    })\r\n  }\r\n}\r\n\r\nexport default BatchExecution\r\n", "import { CONSTANTS } from './constant'\r\n\r\n// 默认选项配置\r\nexport const defaultOpt = {\r\n  // 【基本】\r\n  // 容器元素，必传，必须为DOM元素\r\n  el: null,\r\n  // 思维导图回显数据\r\n  data: null,\r\n  // 是否只读\r\n  readonly: false,\r\n  // 布局\r\n  layout: CONSTANTS.LAYOUT.LOGICAL_STRUCTURE,\r\n  // 如果结构为鱼骨图，那么可以通过该选项控制倾斜角度\r\n  fishboneDeg: 45,\r\n  // 主题\r\n  theme: 'default', // 内置主题：default（默认主题）\r\n  // 主题配置，会和所选择的主题进行合并\r\n  themeConfig: {},\r\n  // 放大缩小的增量比例\r\n  scaleRatio: 0.2,\r\n  // 鼠标缩放是否以鼠标当前位置为中心点，否则以画布中心点\r\n  mouseScaleCenterUseMousePosition: true,\r\n  // 最多显示几个标签\r\n  maxTag: 5,\r\n  // 标签显示的位置，相对于节点文本，bottom（下方）、right（右侧）\r\n  tagPosition: CONSTANTS.TAG_POSITION.RIGHT,\r\n  // 展开收缩按钮尺寸\r\n  expandBtnSize: 20,\r\n  // 节点里图片和文字的间距\r\n  imgTextMargin: 5,\r\n  // 节点里各种文字信息的间距，如图标和文字的间距\r\n  textContentMargin: 2,\r\n  // 自定义节点备注内容显示\r\n  customNoteContentShow: null,\r\n  /*\r\n          {\r\n              show(){},\r\n              hide(){}\r\n          }\r\n      */\r\n  // 达到该宽度文本自动换行\r\n  textAutoWrapWidth: 500,\r\n  // 自定义鼠标滚轮事件处理\r\n  // 可以传一个函数，回调参数为事件对象\r\n  customHandleMousewheel: null,\r\n  // 鼠标滚动的行为，如果customHandleMousewheel传了自定义函数，这个属性不生效\r\n  mousewheelAction: CONSTANTS.MOUSE_WHEEL_ACTION.MOVE, // zoom（放大缩小）、move（上下移动）\r\n  // 当mousewheelAction设为move时，可以通过该属性控制鼠标滚动一下视图移动的步长，单位px\r\n  mousewheelMoveStep: 100,\r\n  // 当mousewheelAction设为zoom时，或者按住Ctrl键时，默认向前滚动是缩小，向后滚动是放大，如果该属性设为true，那么会反过来\r\n  mousewheelZoomActionReverse: true,\r\n  // 默认插入的二级节点的文字\r\n  defaultInsertSecondLevelNodeText: '二级节点',\r\n  // 默认插入的二级以下节点的文字\r\n  defaultInsertBelowSecondLevelNodeText: '分支主题',\r\n  // 展开收起按钮的颜色\r\n  expandBtnStyle: {\r\n    color: '#808080',\r\n    fill: '#fff',\r\n    fontSize: 13,\r\n    strokeColor: '#333333'\r\n  },\r\n  // 自定义展开收起按钮的图标\r\n  expandBtnIcon: {\r\n    open: '', // svg字符串\r\n    close: ''\r\n  },\r\n  // 处理收起节点数量\r\n  expandBtnNumHandler: num => {\r\n    return num\r\n  },\r\n  // 是否显示带数量的收起按钮\r\n  isShowExpandNum: true,\r\n  // 是否只有当鼠标在画布内才响应快捷键事件\r\n  enableShortcutOnlyWhenMouseInSvg: true,\r\n  // 初始根节点的位置\r\n  initRootNodePosition: null,\r\n  // 节点文本编辑框的z-index\r\n  nodeTextEditZIndex: 3000,\r\n  // 节点备注浮层的z-index\r\n  nodeNoteTooltipZIndex: 3000,\r\n  // 是否在点击了画布外的区域时结束节点文本的编辑状态\r\n  isEndNodeTextEditOnClickOuter: true,\r\n  // 最大历史记录数\r\n  maxHistoryCount: 500,\r\n  // 是否一直显示节点的展开收起按钮，默认为鼠标移上去和激活时才显示\r\n  alwaysShowExpandBtn: false,\r\n  // 不显示展开收起按钮，优先级比alwaysShowExpandBtn配置高\r\n  notShowExpandBtn: false,\r\n  // 扩展节点可插入的图标\r\n  iconList: [\r\n    // {\r\n    //   name: '',// 分组名称\r\n    //   type: '',// 分组的值\r\n    //   list: [// 分组下的图标列表\r\n    //     {\r\n    //       name: '',// 图标名称\r\n    //       icon:''// 图标，可以传svg或图片\r\n    //     }\r\n    //   ]\r\n    // }\r\n  ],\r\n  // 节点最大缓存数量\r\n  maxNodeCacheCount: 1000,\r\n  // 思维导图适应画布大小时的内边距\r\n  fitPadding: 50,\r\n  // 是否开启按住ctrl键多选节点功能\r\n  enableCtrlKeyNodeSelection: true,\r\n  // 设置为左键多选节点，右键拖动画布\r\n  useLeftKeySelectionRightKeyDrag: false,\r\n  // 节点即将进入编辑前的回调方法，如果该方法返回true以外的值，那么将取消编辑，函数可以返回一个值，或一个Promise，回调参数为节点实例\r\n  beforeTextEdit: null,\r\n  // 是否开启自定义节点内容\r\n  isUseCustomNodeContent: false,\r\n  // 自定义返回节点内容的方法\r\n  customCreateNodeContent: null,\r\n  // 指定内部一些元素（节点文本编辑元素、节点备注显示元素、关联线文本编辑元素、节点图片调整按钮元素）添加到的位置，默认添加到document.body下\r\n  customInnerElsAppendTo: null,\r\n  // 是否在存在一个激活节点时，当按下中文、英文、数字按键时自动进入文本编辑模式\r\n  // 开启该特性后，需要给你的输入框绑定keydown事件，并禁止冒泡\r\n  enableAutoEnterTextEditWhenKeydown: false,\r\n  // 自定义对剪贴板文本的处理。当按ctrl+v粘贴时会读取用户剪贴板中的文本和图片，默认只会判断文本是否是普通文本和simple-mind-map格式的节点数据，如果你想处理其他思维导图的数据，比如processon、zhixi等，那么可以传递一个函数，接受当前剪贴板中的文本为参数，返回处理后的数据，可以返回两种类型：\r\n  /*\r\n    1.返回一个纯文本，那么会直接以该文本创建一个子节点\r\n\r\n    2.返回一个节点对象，格式如下：\r\n      {\r\n        // 代表是simple-mind-map格式的数据\r\n        simpleMindMap: true,\r\n        // 节点数据，同simple-mind-map节点数据格式\r\n        data: {\r\n          data: {\r\n            text: ''\r\n          },\r\n          children: []\r\n        }\r\n      }\r\n  */\r\n  // 如果你的处理逻辑存在异步逻辑，也可以返回一个promise\r\n  customHandleClipboardText: null,\r\n  // 禁止鼠标滚轮缩放，你仍旧可以使用api进行缩放\r\n  disableMouseWheelZoom: false,\r\n  // 错误处理函数\r\n  errorHandler: (code, error) => {\r\n    console.error(code, error)\r\n  },\r\n  // 是否在鼠标双击时回到根节点，也就是让根节点居中显示\r\n  enableDblclickBackToRootNode: false,\r\n  // 节点鼠标hover和激活时显示的矩形边框的颜色\r\n  hoverRectColor: 'rgb(94, 200, 248)',\r\n  // 节点鼠标hover和激活时显示的矩形边框距节点内容的距离\r\n  hoverRectPadding: 2,\r\n  // 双击节点进入节点文本编辑时是否默认选中文本，默认只在创建新节点时会选中\r\n  selectTextOnEnterEditText: false,\r\n  // 删除节点后激活相邻节点\r\n  deleteNodeActive: true,\r\n  // 是否首次加载fit view\r\n  fit: false,\r\n  // 自定义标签的颜色\r\n  // {pass: 'green, unpass: 'red'}\r\n  tagsColorMap: {},\r\n  // 节点协作样式配置\r\n  cooperateStyle: {\r\n    avatarSize: 22, // 头像大小\r\n    fontSize: 12 // 如果是文字头像，那么文字的大小\r\n  },\r\n  // 协同编辑时，同一个节点不能同时被多人选中\r\n  onlyOneEnableActiveNodeOnCooperate: false,\r\n  // 插入概要的默认文本\r\n  defaultGeneralizationText: '概要',\r\n  // 粘贴文本的方式创建新节点时，控制是否按换行自动分割节点，即如果存在换行，那么会根据换行创建多个节点，否则只会创建一个节点\r\n  // 可以传递一个函数，返回promise，resolve代表根据换行分割，reject代表忽略换行\r\n  handleIsSplitByWrapOnPasteCreateNewNode: null,\r\n  // 多少时间内只允许添加一次历史记录，避免添加没有必要的中间状态，单位：ms\r\n  addHistoryTime: 100,\r\n  // 是否禁止拖动画布\r\n  isDisableDrag: false,\r\n  // 鼠标移入概要高亮所属节点时的高亮框样式\r\n  highlightNodeBoxStyle: {\r\n    stroke: 'rgb(94, 200, 248)',\r\n    fill: 'transparent'\r\n  },\r\n  // 创建新节点时的行为\r\n  /*\r\n    DEFAULT  ：默认会激活新创建的节点，并且进入编辑模式。如果同时创建了多个新节点，那么只会激活而不会进入编辑模式\r\n    NOT_ACTIVE  : 不激活新创建的节点\r\n    ACTIVE_ONLY  : 只激活新创建的节点，不进入编辑模式\r\n  */\r\n  createNewNodeBehavior: CONSTANTS.CREATE_NEW_NODE_BEHAVIOR.DEFAULT,\r\n  // 当节点图片加载失败时显示的默认图片\r\n  defaultNodeImage: '',\r\n  // 是否将思维导图限制在画布内\r\n  // 比如向右拖动时，思维导图图形的最左侧到达画布中心时将无法继续向右拖动，其他同理\r\n  isLimitMindMapInCanvas: false,\r\n  // 在节点上粘贴剪贴板中的图片的处理方法，默认是转换为data:url数据插入到节点中，你可以通过该方法来将图片数据上传到服务器，实现保存图片的url\r\n  // 可以传递一个异步方法，接收Blob类型的图片数据，需要返回如下结构：\r\n  /*\r\n    {\r\n      url,    // 图片url\r\n      size: {\r\n        width,  // 图片的宽度\r\n        height  //图片的高度\r\n      }\r\n    }\r\n  */\r\n  handleNodePasteImg: null,\r\n  // 自定义创建节点形状的方法，可以传一个函数，均接收一个参数\r\n  // 矩形、圆角矩形、椭圆、圆等形状会调用该方法\r\n  // 接收svg path字符串，返回svg节点\r\n  customCreateNodePath: null,\r\n  // 菱形、平行四边形、八角矩形、外三角矩形、内三角矩形等形状会调用该方法\r\n  // 接收points数组点位，返回svg节点\r\n  customCreateNodePolygon: null,\r\n  // 自定义转换节点连线路径的方法\r\n  // 接收svg path字符串，返回转换后的svg path字符串\r\n  customTransformNodeLinePath: null,\r\n  // 快捷键操作即将执行前的生命周期函数，返回true可以阻止操作执行\r\n  // 函数接收两个参数：key（快捷键）、activeNodeList（当前激活的节点列表）\r\n  beforeShortcutRun: null,\r\n  // 移动节点到画布中心、回到根节点等操作时是否将缩放层级复位为100%\r\n  // 该选项实际影响的是render.moveNodeToCenter方法，moveNodeToCenter方法本身也存在第二个参数resetScale来设置是否复位，如果resetScale参数没有传递，那么使用resetScaleOnMoveNodeToCenter配置，否则使用resetScale配置\r\n  resetScaleOnMoveNodeToCenter: false,\r\n  // 添加附加的节点前置内容，前置内容指和文本同一行的区域中的前置内容，不包括节点图片部分\r\n  createNodePrefixContent: null,\r\n  // 添加附加的节点后置内容，后置内容指和文本同一行的区域中的后置内容，不包括节点图片部分\r\n  createNodePostfixContent: null,\r\n  // 禁止粘贴用户剪贴板中的数据，禁止将复制的数据写入用户的剪贴板中\r\n  disabledClipboard: false,\r\n  // 自定义超链接的跳转\r\n  // 如果不传，默认会以新窗口的方式打开超链接，可以传递一个函数，函数接收两个参数：link（超链接的url）、node（所属节点实例），只要传递了函数，就会阻止默认的跳转\r\n  customHyperlinkJump: null,\r\n  // 是否开启性能模式，默认情况下所有节点都会直接渲染，无论是否处于画布可视区域，这样当节点数量比较多时（1000+）会比较卡，如果你的数据量比较大，那么可以通过该配置开启性能模式，即只渲染画布可视区域内的节点，超出的节点不渲染，这样会大幅提高渲染速度，当然同时也会带来一些其他问题，比如：1.当拖动或是缩放画布时会实时计算并渲染未节点的节点，所以会带来一定卡顿；2.导出图片、svg、pdf时需要先渲染全部节点，所以会比较慢；3.其他目前未发现的问题\r\n  openPerformance: false,\r\n  // 性能优化模式配置\r\n  performanceConfig: {\r\n    time: 250, // 当视图改变后多久刷新一次节点，单位：ms，\r\n    padding: 100, // 超出画布四周指定范围内依旧渲染节点\r\n    removeNodeWhenOutCanvas: true // 节点移除画布可视区域后从画布删除\r\n  },\r\n\r\n  // 【Select插件】\r\n  // 多选节点时鼠标移动到边缘时的画布移动偏移量\r\n  selectTranslateStep: 3,\r\n  // 多选节点时鼠标移动距边缘多少距离时开始偏移\r\n  selectTranslateLimit: 20,\r\n\r\n  // 【Drag插件】\r\n  // 是否开启节点自由拖拽\r\n  enableFreeDrag: false,\r\n  // 拖拽节点时鼠标移动到画布边缘是否开启画布自动移动\r\n  autoMoveWhenMouseInEdgeOnDrag: true,\r\n  // 拖拽多个节点时随鼠标移动的示意矩形的样式配置\r\n  dragMultiNodeRectConfig: {\r\n    width: 40,\r\n    height: 20,\r\n    fill: 'rgb(94, 200, 248)' // 填充颜色\r\n  },\r\n  // 节点拖拽时新位置的示意矩形的填充颜色\r\n  dragPlaceholderRectFill: 'rgb(94, 200, 248)',\r\n  // 节点拖拽时新位置的示意连线的样式配置\r\n  dragPlaceholderLineConfig: {\r\n    color: 'rgb(94, 200, 248)',\r\n    width: 2\r\n  },\r\n  // 节点拖拽时的透明度配置\r\n  dragOpacityConfig: {\r\n    cloneNodeOpacity: 0.5, // 跟随鼠标移动的克隆节点或矩形的透明度\r\n    beingDragNodeOpacity: 0.3 // 被拖拽节点的透明度\r\n  },\r\n  // 拖拽单个节点时会克隆被拖拽节点，如果想修改该克隆节点，那么可以通过该选项提供一个处理函数，函数接收克隆节点对象\r\n  // 需要注意的是节点对象指的是@svgdotjs/svg.js库的元素对象，所以你需要阅读该库的文档来操作该对象\r\n  handleDragCloneNode: null,\r\n  // 即将拖拽完成前调用该函数，函数接收一个对象作为参数：{overlapNodeUid,prevNodeUid,nextNodeUid}，代表拖拽信息，如果要阻止本次拖拽，那么可以返回true，此时node_dragend事件不会再触发。函数可以是异步函数，返回Promise实例\r\n  beforeDragEnd: null,\r\n  // 即将开始调整节点前调用该函数，函数接收当前即将被拖拽的节点实例列表作为参数，如果要阻止本次拖拽，那么可以返回true\r\n  beforeDragStart: null,\r\n\r\n  // 【Watermark插件】\r\n  // 水印配置\r\n  watermarkConfig: {\r\n    onlyExport: false, // 是否仅在导出时添加水印\r\n    text: '',\r\n    lineSpacing: 100,\r\n    textSpacing: 100,\r\n    angle: 30,\r\n    textStyle: {\r\n      color: '#999',\r\n      opacity: 0.5,\r\n      fontSize: 14\r\n    },\r\n    belowNode: false\r\n  },\r\n\r\n  // 【Export插件】\r\n  // 导出png、svg、pdf时的图形内边距，注意是单侧内边距\r\n  exportPaddingX: 10,\r\n  exportPaddingY: 10,\r\n  // 设置导出图片和svg时，针对富文本节点内容，也就是嵌入到svg中的html节点的默认样式覆盖\r\n  // 如果不覆盖，会发生偏移问题\r\n  resetCss: `\r\n    * {\r\n      margin: 0;\r\n      padding: 0;\r\n      box-sizing: border-box;\r\n    }\r\n  `,\r\n  // 导出图片时canvas的缩放倍数，该配置会和window.devicePixelRatio值取最大值\r\n  minExportImgCanvasScale: 2,\r\n  // 导出png、svg、pdf时在头部和尾部添加自定义内容\r\n  // 可传递一个函数，这个函数可以返回null代表不添加内容，也可以返回如下数据：\r\n  /*\r\n    {\r\n      el,// 要追加的自定义DOM节点，样式可内联\r\n      cssText,// 可选，如果样式不想内联，可以传递该值，一个css字符串\r\n      height: 50// 返回的DOM节点的高度，必须传递\r\n    }\r\n  */\r\n  addContentToHeader: null,\r\n  addContentToFooter: null,\r\n  // 导出png、svg、pdf时会获取画布上的svg数据进行克隆，然后通过该克隆的元素进行导出，如果你想对该克隆元素做一些处理，比如新增、替换、修改其中的一些元素，那么可以通过该参数传递一个处理函数，接收svg元素对象，处理后，需要返回原svg元素对象。\r\n  // 需要注意的是svg对象指的是@svgdotjs/svg.js库的元素对象，所以你需要阅读该库的文档来操作该对象\r\n  handleBeingExportSvg: null,\r\n\r\n  // 【AssociativeLine插件】\r\n  // 关联线默认文字\r\n  defaultAssociativeLineText: '关联',\r\n  // 关联线是否始终显示在节点上层\r\n  // false：即创建关联线和激活关联线时处于最顶层，其他情况下处于节点下方\r\n  associativeLineIsAlwaysAboveNode: true,\r\n  // 默认情况下，新创建的关联线两个端点的位置是根据两个节点中心点的相对位置来计算的，如果你想固定位置，可以通过这个属性来配置\r\n  // from和to都不传，则都自动计算，如果只传一个，另一个则会自动计算\r\n  associativeLineInitPointsPosition: {\r\n    // from和to可选值：left、top、bottom、right\r\n    from: '', // 关联线起始节点上端点的位置\r\n    to: '' // 关联线目标节点上端点的位置\r\n  },\r\n  // 是否允许调整关联线两个端点的位置\r\n  enableAdjustAssociativeLinePoints: true,\r\n\r\n  // 【TouchEvent插件】\r\n  // 禁止双指缩放，你仍旧可以使用api进行缩放\r\n  // 需要注册TouchEvent插件后生效\r\n  disableTouchZoom: false,\r\n  // 允许最大和最小的缩放值，百分数\r\n  // 传-1代表不限制\r\n  minTouchZoomScale: 20,\r\n  maxTouchZoomScale: -1,\r\n\r\n  // 【Scrollbar插件】\r\n  // 当注册了滚动条插件（Scrollbar）时，是否将思维导图限制在画布内，isLimitMindMapInCanvas不再起作用\r\n  isLimitMindMapInCanvasWhenHasScrollbar: true,\r\n\r\n  // 【Search插件】\r\n  // 是否仅搜索当前渲染的节点，被收起的节点不会被搜索到\r\n  isOnlySearchCurrentRenderNodes: false,\r\n\r\n  // 【Cooperate插件】\r\n  // 协同编辑时，节点操作即将更新到其他客户端前的生命周期函数\r\n  // 函数接收一个对象作为参数：\r\n  /*\r\n    {\r\n      type: createOrUpdate（创建节点或更新节点）、delete（删除节点）\r\n      data: 1.当type=createOrUpdate时，代表被创建或被更新的节点数据，即将同步到其他客户端，所以你可以修改该数据；2.当type=delete时，代表被删除的节点数据\r\n    }\r\n  */\r\n  beforeCooperateUpdate: null,\r\n\r\n  // 【RainbowLines插件】\r\n  // 彩虹线条配置，需要先注册RainbowLines插件\r\n  rainbowLinesConfig: {\r\n    open: false, // 是否开启彩虹线条\r\n    colorsList: [] // 自定义彩虹线条的颜色列表，如果不设置，会使用默认颜色列表\r\n    /*\r\n    [\r\n      'rgb(255, 213, 73)',\r\n      'rgb(255, 136, 126)',\r\n      'rgb(107, 225, 141)',\r\n      'rgb(151, 171, 255)',\r\n      'rgb(129, 220, 242)',\r\n      'rgb(255, 163, 125)',\r\n      'rgb(152, 132, 234)'\r\n    ]\r\n    */\r\n  },\r\n\r\n  // 【Demonstrate插件】\r\n  // 演示插件配置\r\n  demonstrateConfig: null,\r\n\r\n  // 【Formula插件】\r\n  // 是否开启在富文本编辑框中直接编辑数学公式\r\n  enableEditFormulaInRichTextEdit: true,\r\n  // katex库的字体文件的请求路径。仅当katex的output配置为html时才会请求字体文件。可以通过mindMap.formula.getKatexConfig()方法来获取当前的配置\r\n  // 字体文件可以从node_modules中找到：katex/dist/fonts/。可以上传到你的服务器或cdn\r\n  // 最终的字体请求路径为`${katexFontPath}fonts/KaTeX_AMS-Regular.woff2`，可以自行拼接进行测试是否可以访问\r\n  katexFontPath: 'https://unpkg.com/katex@0.16.11/dist/',\r\n  // 自定义katex库的输出模式。默认当Chrome内核100以下会使用html方式，否则使用mathml方式，如果你有自己的规则，那么可以传递一个函数，函数返回值为：mathml或html\r\n  getKatexOutputType: null,\r\n\r\n  // 【RichText插件】\r\n  // 转换富文本内容，当进入富文本编辑时，可以通过该参数传递一个函数，函数接收文本内容，需要返回你处理后的文本内容\r\n  transformRichTextOnEnterEdit: null,\r\n  // 可以传递一个函数，即将结束富文本编辑前会执行该函数，函数接收richText实例，所以你可以在此时机更新quill文档数据\r\n  beforeHideRichTextEdit: null,\r\n  // 设置富文本节点编辑框和节点大小一致，形成伪原地编辑的效果\r\n  // 需要注意的是，只有当节点内只有文本、且形状是矩形才会有比较好的效果\r\n  richTextEditFakeInPlace: false,\r\n\r\n  // 【OuterFrame】插件\r\n  outerFramePaddingX: 10,\r\n  outerFramePaddingY: 10\r\n}\r\n", "import View from './src/core/view/View'\r\nimport Event from './src/core/event/Event'\r\nimport Render from './src/core/render/Render'\r\nimport merge from 'deepmerge'\r\nimport theme from './src/themes'\r\nimport Style from './src/core/render/node/Style'\r\nimport KeyCommand from './src/core/command/KeyCommand'\r\nimport Command from './src/core/command/Command'\r\nimport BatchExecution from './src/utils/BatchExecution'\r\nimport {\r\n  layoutValueList,\r\n  CONSTANTS,\r\n  ERROR_TYPES,\r\n  cssContent\r\n} from './src/constants/constant'\r\nimport { SVG } from '@svgdotjs/svg.js'\r\nimport {\r\n  simpleDeepClone,\r\n  getObjectChangedProps,\r\n  isUndef,\r\n  handleGetSvgDataExtraContent,\r\n  getNodeTreeBoundingRect\r\n} from './src/utils'\r\nimport defaultTheme, {\r\n  checkIsNodeSizeIndependenceConfig\r\n} from './src/themes/default'\r\nimport { defaultOpt } from './src/constants/defaultOptions'\r\n\r\n//  思维导图\r\nclass MindMap {\r\n  //  构造函数\r\n  /**\r\n   *\r\n   * @param {defaultOpt} opt\r\n   */\r\n  constructor(opt = {}) {\r\n    // 合并选项\r\n    this.opt = this.handleOpt(merge(defaultOpt, opt))\r\n    // 预处理节点数据\r\n    this.opt.data = this.handleData(this.opt.data)\r\n\r\n    // 容器元素\r\n    this.el = this.opt.el\r\n    if (!this.el) throw new Error('缺少容器元素el')\r\n\r\n    // 获取容器尺寸位置信息\r\n    this.getElRectInfo()\r\n\r\n    // 画布初始大小\r\n    this.initWidth = this.width\r\n    this.initHeight = this.height\r\n\r\n    // 添加css\r\n    this.cssEl = null\r\n    this.addCss()\r\n\r\n    // 画布\r\n    this.initContainer()\r\n\r\n    // 初始化主题\r\n    this.initTheme()\r\n\r\n    // 初始化缓存数据\r\n    this.initCache()\r\n\r\n    // 事件类\r\n    this.event = new Event({\r\n      mindMap: this\r\n    })\r\n\r\n    // 按键类\r\n    this.keyCommand = new KeyCommand({\r\n      mindMap: this\r\n    })\r\n\r\n    // 命令类\r\n    this.command = new Command({\r\n      mindMap: this\r\n    })\r\n\r\n    // 渲染类\r\n    this.renderer = new Render({\r\n      mindMap: this\r\n    })\r\n\r\n    // 视图操作类\r\n    this.view = new View({\r\n      mindMap: this\r\n    })\r\n\r\n    // 批量执行类\r\n    this.batchExecution = new BatchExecution()\r\n\r\n    // 注册插件\r\n    MindMap.pluginList.forEach(plugin => {\r\n      this.initPlugin(plugin)\r\n    })\r\n\r\n    // 初始渲染\r\n    this.render(this.opt.fit ? () => this.view.fit() : () => {})\r\n    setTimeout(() => {\r\n      if (this.opt.data) this.command.addHistory()\r\n    }, 0)\r\n  }\r\n\r\n  //  配置参数处理\r\n  handleOpt(opt) {\r\n    // 检查布局配置\r\n    if (!layoutValueList.includes(opt.layout)) {\r\n      opt.layout = CONSTANTS.LAYOUT.LOGICAL_STRUCTURE\r\n    }\r\n    // 检查主题配置\r\n    opt.theme = opt.theme && theme[opt.theme] ? opt.theme : 'default'\r\n    return opt\r\n  }\r\n\r\n  // 预处理节点数据\r\n  handleData(data) {\r\n    if (isUndef(data) || Object.keys(data).length <= 0) return null\r\n    data = simpleDeepClone(data || {})\r\n    // 根节点不能收起\r\n    if (data.data && !data.data.expand) {\r\n      data.data.expand = true\r\n    }\r\n    return data\r\n  }\r\n\r\n  // 创建容器元素\r\n  initContainer() {\r\n    const { associativeLineIsAlwaysAboveNode } = this.opt\r\n    // 给容器元素添加一个类名\r\n    this.el.classList.add('smm-mind-map-container')\r\n    // 节点关联线容器\r\n    const createAssociativeLineDraw = () => {\r\n      this.associativeLineDraw = this.draw.group()\r\n      this.associativeLineDraw.addClass('smm-associative-line-container')\r\n    }\r\n    // 画布\r\n    this.svg = SVG().addTo(this.el).size(this.width, this.height)\r\n\r\n    // 容器\r\n    this.draw = this.svg.group()\r\n    this.draw.addClass('smm-container')\r\n    // 节点连线容器\r\n    this.lineDraw = this.draw.group()\r\n    this.lineDraw.addClass('smm-line-container')\r\n    // 默认处于节点下方\r\n    if (!associativeLineIsAlwaysAboveNode) {\r\n      createAssociativeLineDraw()\r\n    }\r\n    // 节点容器\r\n    this.nodeDraw = this.draw.group()\r\n    this.nodeDraw.addClass('smm-node-container')\r\n    // 关联线始终处于节点上方\r\n    if (associativeLineIsAlwaysAboveNode) {\r\n      createAssociativeLineDraw()\r\n    }\r\n    // 其他内容的容器\r\n    this.otherDraw = this.draw.group()\r\n    this.otherDraw.addClass('smm-other-container')\r\n  }\r\n\r\n  // 清空各容器\r\n  clearDraw() {\r\n    this.lineDraw.clear()\r\n    this.associativeLineDraw.clear()\r\n    this.nodeDraw.clear()\r\n    this.otherDraw.clear()\r\n  }\r\n\r\n  // 添加必要的css样式到页面\r\n  addCss() {\r\n    this.cssEl = document.createElement('style')\r\n    this.cssEl.type = 'text/css'\r\n    this.cssEl.innerHTML = cssContent\r\n    document.head.appendChild(this.cssEl)\r\n  }\r\n\r\n  // 移除css\r\n  removeCss() {\r\n    document.head.removeChild(this.cssEl)\r\n  }\r\n\r\n  //  渲染，部分渲染\r\n  render(callback, source = '') {\r\n    this.batchExecution.push('render', () => {\r\n      this.initTheme()\r\n      this.renderer.render(callback, source)\r\n    })\r\n  }\r\n\r\n  //  重新渲染\r\n  reRender(callback, source = '') {\r\n    this.renderer.reRender = true // 标记为重新渲染\r\n    this.renderer.clearCache() // 清空节点缓存池\r\n    this.clearDraw() // 清空画布\r\n    this.render(callback, source)\r\n  }\r\n\r\n  // 获取或更新容器尺寸位置信息\r\n  getElRectInfo() {\r\n    this.elRect = this.el.getBoundingClientRect()\r\n    this.width = this.elRect.width\r\n    this.height = this.elRect.height\r\n    if (this.width <= 0 || this.height <= 0)\r\n      throw new Error('容器元素el的宽高不能为0')\r\n  }\r\n\r\n  //  容器尺寸变化，调整尺寸\r\n  resize() {\r\n    const oldWidth = this.width\r\n    const oldHeight = this.height\r\n    this.getElRectInfo()\r\n    this.svg.size(this.width, this.height)\r\n    if (oldWidth !== this.width || oldHeight !== this.height) {\r\n      // 如果画布宽高改变了需要触发一次渲染\r\n      this.render()\r\n    }\r\n    this.emit('resize')\r\n  }\r\n\r\n  //  监听事件\r\n  on(event, fn) {\r\n    this.event.on(event, fn)\r\n  }\r\n\r\n  //  触发事件\r\n  emit(event, ...args) {\r\n    this.event.emit(event, ...args)\r\n  }\r\n\r\n  //  解绑事件\r\n  off(event, fn) {\r\n    this.event.off(event, fn)\r\n  }\r\n\r\n  // 初始化缓存数据\r\n  initCache() {\r\n    this.commonCaches = {\r\n      measureCustomNodeContentSizeEl: null,\r\n      measureRichtextNodeTextSizeEl: null\r\n    }\r\n  }\r\n\r\n  //  设置主题\r\n  initTheme() {\r\n    // 合并主题配置\r\n    this.themeConfig = merge(theme[this.opt.theme], this.opt.themeConfig)\r\n    // 设置背景样式\r\n    Style.setBackgroundStyle(this.el, this.themeConfig)\r\n  }\r\n\r\n  //  设置主题\r\n  setTheme(theme, notRender = false) {\r\n    this.execCommand('CLEAR_ACTIVE_NODE')\r\n    this.opt.theme = theme\r\n    if (!notRender) {\r\n      this.render(null, CONSTANTS.CHANGE_THEME)\r\n    }\r\n    this.emit('view_theme_change', theme)\r\n  }\r\n\r\n  //  获取当前主题\r\n  getTheme() {\r\n    return this.opt.theme\r\n  }\r\n\r\n  //  设置主题配置\r\n  setThemeConfig(config, notRender = false) {\r\n    // 计算改变了的配置\r\n    const changedConfig = getObjectChangedProps(this.themeConfig, config)\r\n    this.opt.themeConfig = config\r\n    if (!notRender) {\r\n      // 检查改变的是否是节点大小无关的主题属性\r\n      let res = checkIsNodeSizeIndependenceConfig(changedConfig)\r\n      this.render(null, res ? '' : CONSTANTS.CHANGE_THEME)\r\n    }\r\n  }\r\n\r\n  //  获取自定义主题配置\r\n  getCustomThemeConfig() {\r\n    return this.opt.themeConfig\r\n  }\r\n\r\n  //  获取某个主题配置值\r\n  getThemeConfig(prop) {\r\n    return prop === undefined ? this.themeConfig : this.themeConfig[prop]\r\n  }\r\n\r\n  // 获取配置\r\n  getConfig(prop) {\r\n    return prop === undefined ? this.opt : this.opt[prop]\r\n  }\r\n\r\n  // 更新配置\r\n  updateConfig(opt = {}) {\r\n    this.emit('before_update_config', this.opt)\r\n    this.opt = this.handleOpt(merge.all([defaultOpt, this.opt, opt]))\r\n    this.emit('after_update_config', this.opt)\r\n  }\r\n\r\n  //  获取当前布局结构\r\n  getLayout() {\r\n    return this.opt.layout\r\n  }\r\n\r\n  //  设置布局结构\r\n  setLayout(layout, notRender = false) {\r\n    // 检查布局配置\r\n    if (!layoutValueList.includes(layout)) {\r\n      layout = CONSTANTS.LAYOUT.LOGICAL_STRUCTURE\r\n    }\r\n    this.opt.layout = layout\r\n    this.view.reset()\r\n    this.renderer.setLayout()\r\n    if (!notRender) {\r\n      this.render(null, CONSTANTS.CHANGE_LAYOUT)\r\n    }\r\n    this.emit('layout_change', layout)\r\n  }\r\n\r\n  //  执行命令\r\n  execCommand(...args) {\r\n    this.command.exec(...args)\r\n  }\r\n\r\n  // 更新画布数据，如果新的数据是在当前画布节点数据基础上增删改查后形成的，那么可以使用该方法来更新画布数据\r\n  updateData(data) {\r\n    this.renderer.setData(data)\r\n    this.render()\r\n    this.command.addHistory()\r\n  }\r\n\r\n  //  动态设置思维导图数据，纯节点数据\r\n  setData(data) {\r\n    data = this.handleData(data)\r\n    this.opt.data = data\r\n    this.execCommand('CLEAR_ACTIVE_NODE')\r\n    this.command.clearHistory()\r\n    this.command.addHistory()\r\n    this.renderer.setData(data)\r\n    this.reRender(() => {}, CONSTANTS.SET_DATA)\r\n    this.emit('set_data', data)\r\n  }\r\n\r\n  //  动态设置思维导图数据，包括节点数据、布局、主题、视图\r\n  setFullData(data) {\r\n    if (data.root) {\r\n      this.setData(data.root)\r\n    }\r\n    if (data.layout) {\r\n      this.setLayout(data.layout)\r\n    }\r\n    if (data.theme) {\r\n      if (data.theme.template) {\r\n        this.setTheme(data.theme.template)\r\n      }\r\n      if (data.theme.config) {\r\n        this.setThemeConfig(data.theme.config)\r\n      }\r\n    }\r\n    if (data.view) {\r\n      this.view.setTransformData(data.view)\r\n    }\r\n  }\r\n\r\n  //  获取思维导图数据，节点树、主题、布局等\r\n  getData(withConfig) {\r\n    let nodeData = this.command.getCopyData()\r\n    let data = {}\r\n    if (withConfig) {\r\n      data = {\r\n        layout: this.getLayout(),\r\n        root: nodeData,\r\n        theme: {\r\n          template: this.getTheme(),\r\n          config: this.getCustomThemeConfig()\r\n        },\r\n        view: this.view.getTransformData()\r\n      }\r\n    } else {\r\n      data = nodeData\r\n    }\r\n    return simpleDeepClone(data)\r\n  }\r\n\r\n  //  导出\r\n  async export(...args) {\r\n    try {\r\n      if (!this.doExport) {\r\n        throw new Error('请注册Export插件！')\r\n      }\r\n      let result = await this.doExport.export(...args)\r\n      return result\r\n    } catch (error) {\r\n      this.opt.errorHandler(ERROR_TYPES.EXPORT_ERROR, error)\r\n    }\r\n  }\r\n\r\n  //  转换位置\r\n  toPos(x, y) {\r\n    return {\r\n      x: x - this.elRect.left,\r\n      y: y - this.elRect.top\r\n    }\r\n  }\r\n\r\n  //  设置只读模式、编辑模式\r\n  setMode(mode) {\r\n    if (![CONSTANTS.MODE.READONLY, CONSTANTS.MODE.EDIT].includes(mode)) {\r\n      return\r\n    }\r\n    const isReadonly = mode === CONSTANTS.MODE.READONLY\r\n    if (isReadonly === this.opt.readonly) return\r\n    this.opt.readonly = isReadonly\r\n    if (this.opt.readonly) {\r\n      // 取消当前激活的元素\r\n      this.execCommand('CLEAR_ACTIVE_NODE')\r\n    }\r\n    this.emit('mode_change', mode)\r\n  }\r\n\r\n  // 获取svg数据\r\n  getSvgData({\r\n    paddingX = 0,\r\n    paddingY = 0,\r\n    ignoreWatermark = false,\r\n    addContentToHeader,\r\n    addContentToFooter,\r\n    node\r\n  } = {}) {\r\n    const { watermarkConfig, openPerformance } = this.opt\r\n    // 如果开启了性能模式，那么需要先渲染所有节点\r\n    if (openPerformance) {\r\n      this.renderer.forceLoadNode(node)\r\n    }\r\n    const { cssTextList, header, headerHeight, footer, footerHeight } =\r\n      handleGetSvgDataExtraContent({\r\n        addContentToHeader,\r\n        addContentToFooter\r\n      })\r\n    const svg = this.svg\r\n    const draw = this.draw\r\n    // 保存原始信息\r\n    const origWidth = svg.width()\r\n    const origHeight = svg.height()\r\n    const origTransform = draw.transform()\r\n    const elRect = this.elRect\r\n    // 去除放大缩小的变换效果\r\n    draw.scale(1 / origTransform.scaleX, 1 / origTransform.scaleY)\r\n    // 获取变换后的位置尺寸信息，其实是getBoundingClientRect方法的包装方法\r\n    const rect = draw.rbox()\r\n    // 需要裁减的区域\r\n    let clipData = null\r\n    if (node) {\r\n      clipData = getNodeTreeBoundingRect(\r\n        node,\r\n        rect.x,\r\n        rect.y,\r\n        paddingX,\r\n        paddingY\r\n      )\r\n    }\r\n    // 内边距\r\n    const fixHeight = 0\r\n    rect.width += paddingX * 2\r\n    rect.height += paddingY * 2 + fixHeight + headerHeight + footerHeight\r\n    draw.translate(paddingX, paddingY)\r\n    // 将svg设置为实际内容的宽高\r\n    svg.size(rect.width, rect.height)\r\n    // 把实际内容变换\r\n    draw.translate(-rect.x + elRect.left, -rect.y + elRect.top)\r\n    // 克隆一份数据\r\n    let clone = svg.clone()\r\n    // 是否存在水印\r\n    const hasWatermark = this.watermark && this.watermark.hasWatermark()\r\n    if (!ignoreWatermark && hasWatermark) {\r\n      this.watermark.isInExport = true\r\n      // 是否是仅导出时需要水印\r\n      const { onlyExport } = watermarkConfig\r\n      // 是否需要重新绘制水印\r\n      const needReDrawWatermark =\r\n        rect.width > origWidth || rect.height > origHeight\r\n      // 如果实际图形宽高超出了屏幕宽高，且存在水印的话需要重新绘制水印，否则会出现超出部分没有水印的问题\r\n      if (needReDrawWatermark) {\r\n        this.width = rect.width\r\n        this.height = rect.height\r\n        this.watermark.onResize()\r\n        clone = svg.clone()\r\n        this.width = origWidth\r\n        this.height = origHeight\r\n        this.watermark.onResize()\r\n      } else if (onlyExport) {\r\n        // 如果是仅导出时需要水印，那么需要进行绘制\r\n        this.watermark.onResize()\r\n        clone = svg.clone()\r\n      }\r\n      // 如果是仅导出时需要水印，需要清除\r\n      if (onlyExport) {\r\n        this.watermark.clear()\r\n      }\r\n      this.watermark.isInExport = false\r\n    }\r\n    // 添加必要的样式\r\n    ;[cssContent, ...cssTextList].forEach(s => {\r\n      clone.add(SVG(`<style>${s}</style>`))\r\n    })\r\n    // 附加内容\r\n    if (header && headerHeight > 0) {\r\n      clone.findOne('.smm-container').translate(0, headerHeight)\r\n      header.width(rect.width)\r\n      header.y(paddingY)\r\n      clone.add(header, 0)\r\n    }\r\n    if (footer && footerHeight > 0) {\r\n      footer.width(rect.width)\r\n      footer.y(rect.height - paddingY - footerHeight)\r\n      clone.add(footer)\r\n    }\r\n    // 修正defs里定义的元素的id，因为clone时defs里的元素的id会继续递增，导致和内容中引用的id对不上\r\n    const defs = svg.find('defs')\r\n    const defs2 = clone.find('defs')\r\n    defs.forEach((def, defIndex) => {\r\n      const def2 = defs2[defIndex]\r\n      if (!def2) return\r\n      const children = def.children()\r\n      const children2 = def2.children()\r\n      for (let i = 0; i < children.length; i++) {\r\n        const child = children[i]\r\n        const child2 = children2[i]\r\n        if (child && child2) {\r\n          child2.attr('id', child.attr('id'))\r\n        }\r\n      }\r\n    })\r\n    // 恢复原先的大小和变换信息\r\n    svg.size(origWidth, origHeight)\r\n    draw.transform(origTransform)\r\n    return {\r\n      svg: clone, // 思维导图图形的整体svg元素，包括：svg（画布容器）、g（实际的思维导图组）\r\n      svgHTML: clone.svg(), // svg字符串\r\n      clipData,\r\n      rect: {\r\n        ...rect, // 思维导图图形未缩放时的位置尺寸等信息\r\n        ratio: rect.width / rect.height // 思维导图图形的宽高比\r\n      },\r\n      origWidth, // 画布宽度\r\n      origHeight, // 画布高度\r\n      scaleX: origTransform.scaleX, // 思维导图图形的水平缩放值\r\n      scaleY: origTransform.scaleY // 思维导图图形的垂直缩放值\r\n    }\r\n  }\r\n\r\n  // 添加插件\r\n  addPlugin(plugin, opt) {\r\n    let index = MindMap.hasPlugin(plugin)\r\n    if (index === -1) {\r\n      MindMap.usePlugin(plugin, opt)\r\n      this.initPlugin(plugin)\r\n    }\r\n  }\r\n\r\n  // 移除插件\r\n  removePlugin(plugin) {\r\n    let index = MindMap.hasPlugin(plugin)\r\n    if (index !== -1) {\r\n      MindMap.pluginList.splice(index, 1)\r\n      if (this[plugin.instanceName]) {\r\n        if (this[plugin.instanceName].beforePluginRemove) {\r\n          this[plugin.instanceName].beforePluginRemove()\r\n        }\r\n        delete this[plugin.instanceName]\r\n      }\r\n    }\r\n  }\r\n\r\n  // 实例化插件\r\n  initPlugin(plugin) {\r\n    this[plugin.instanceName] = new plugin({\r\n      mindMap: this,\r\n      pluginOpt: plugin.pluginOpt\r\n    })\r\n  }\r\n\r\n  // 销毁\r\n  destroy() {\r\n    this.emit('beforeDestroy')\r\n    // 清除节点编辑框\r\n    this.renderer.textEdit.hideEditTextBox()\r\n    this.renderer.textEdit.removeTextEditEl()\r\n    // 移除插件\r\n    ;[...MindMap.pluginList].forEach(plugin => {\r\n      if (\r\n        this[plugin.instanceName] &&\r\n        this[plugin.instanceName].beforePluginDestroy\r\n      ) {\r\n        this[plugin.instanceName].beforePluginDestroy()\r\n      }\r\n      this[plugin.instanceName] = null\r\n    })\r\n    // 解绑事件\r\n    this.event.unbind()\r\n    // 移除画布节点\r\n    this.svg.remove()\r\n    // 去除给容器元素设置的背景样式\r\n    Style.removeBackgroundStyle(this.el)\r\n    // 移除给容器元素添加的类名\r\n    this.el.classList.remove('smm-mind-map-container')\r\n    this.el.innerHTML = ''\r\n    this.el = null\r\n    this.removeCss()\r\n  }\r\n}\r\n\r\n// 插件列表\r\nMindMap.pluginList = []\r\nMindMap.usePlugin = (plugin, opt = {}) => {\r\n  if (MindMap.hasPlugin(plugin) !== -1) return MindMap\r\n  plugin.pluginOpt = opt\r\n  MindMap.pluginList.push(plugin)\r\n  return MindMap\r\n}\r\nMindMap.hasPlugin = plugin => {\r\n  return MindMap.pluginList.findIndex(item => {\r\n    return item === plugin\r\n  })\r\n}\r\n\r\n// 定义新主题\r\nMindMap.defineTheme = (name, config = {}) => {\r\n  if (theme[name]) {\r\n    return new Error('该主题名称已存在')\r\n  }\r\n  theme[name] = merge(defaultTheme, config)\r\n}\r\n\r\nexport default MindMap\r\n"],
  "mappings": "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",
  "names": ["EventEmitter", "isMergeableObject", "close", "open", "note", "Image", "hyperlink", "Image", "isUseCustomNodeContent", "node", "walk", "left", "right", "top", "bottom", "node", "marginY", "item", "index", "node", "offset", "line", "_hasCustomStyles", "node", "note", "walk", "MindMap"]
}
